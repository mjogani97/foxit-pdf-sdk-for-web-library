!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("PDFViewCtrl")):"function"==typeof define&&define.amd?define(["PDFViewCtrl"],t):"object"==typeof exports?exports.HContinuousViewMode=t(require("PDFViewCtrl")):e.HContinuousViewMode=t(e.PDFViewCtrl)}(self,(function(e){return function(){"use strict";var t={778:function(t){t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var i={};return function(){function e(t,n){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e(t,n)}function t(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,e(t,n)}r.d(i,{default:function(){return c}});var n=r(778);let o=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(n.viewMode.UsualViewModeShortcutHandler);const{ViewerEvents:s,vendors:a}=n,{jQuery:d}=a,{debounce:l}=n.commons;let c=function(e){function n(t){var n;return(n=e.call(this,t)||this).diffHCache=null,n.pdfViewer=t.pdfViewer,n._rotateCallback=n._rotateCallback.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n.scrollCurrentPageIntoView_debounced=l((()=>{n.scrollCurrentPageIntoView()}),20),n}t(n,e),n.getName=function(){return"h-continuous-view-mode"};var r=n.prototype;return r.getJQItems=function(){return d(e.prototype.getItems.call(this))},r.into=function(t,n){e.prototype.into.call(this,t,n),this.pdfViewer.element.classList.add("fv__h-continuous-view-mode-layout");const r=this.constructor.getName(),i=["<style>","."+r+"{","white-space:nowrap;","height:100%;","display: flex;","align-items: center","}","."+r+":before{",'content:"";',"display:inline-block;","height:100%;","vertical-align: middle;","}","."+r+" .fv__pdf-view-mode-item{","margin-left:10px;","display:inline-block;","vertical-align: middle;","align-self: stretch;","display: flex;","align-items: center;","}","."+r+" .fv__pdf-view-mode-item .fv__pdf-page-not-rendered{","width: 50vw;","}","."+r+" .fv__pdf-page-layout.fv__rendering{","min-width:128px;","}","."+r+" .fv__pdf-view-mode-item:first-child{","margin-left:10px;","}","</style>"].join("");this.$style=d(i),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(this.constructor.getName()),this.docRender.$ui.parents(".fv__ui-pdfviewer").css({"overflow-y":"unset","overflow-x":"scroll"}),this.pdfViewer.eventEmitter.on(s.pageRotationChange,this.rotateCallback=(e,t,n)=>{let r=this.pdfViewer.getPDFPageRender(e.getIndex());this._rotateCallback(r,t)}),this.pdfViewer.eventEmitter.on(s.pagesRotated,this.rotatePagesCallback=(e,t,n)=>{e.forEach(((e,t)=>{this.rotateCallback(e,newRotation,oldRotations[t])}))});let o=this.docRender.viewerRender.scrollWrap;this._unwatchScrollEvent=o.addScrollEventListener((()=>{clearTimeout(this.scrollEventTimer);const e=this.getCurrentPageIndex();this.scrollEventTimer=setTimeout((()=>{let t=this.docRender.pagesRender;t&&t.renderVisiblePages().then((()=>{const t=this.getCurrentPageIndex();t!==e&&this.docRender.setCurrentPageIndex(t)}),(function(){}))}),30)})),this.onPageNumberChange=()=>{this.scrollCurrentPageIntoView_debounced()},this.unobservePageNumberChangeEvent=this.pdfViewer.addEventListener(s.pageNumberChange,this.onPageNumberChange)},r.renderViewMode=function(e,t,n,r,i){},r.jumpToPage=function(e,{x:t=0,y:n=0}){let r=this.getJQItems();e>=r.length?e=r.length-1:e<0&&(e=0);let i=r[e],o=i.offsetLeft+t,s=i.firstElementChild.offsetTop+n;this.docRender.viewerRender.scrollWrap.scrollTo(o,s),this.docRender.viewerRender.scrollWrap.disabled||this.scrollCurrentPageIntoView_debounced()},r._rotateCallback=function(e,t){let n=e.getShowWidth(),r=e.getShowHeight();this.getJQItems().eq(e.index);if(t%2!=0){let e=n;n=r,r=e}this.docRender.pagesRender.$ui.height()},r.getCurrentPageIndex=function(){let e,t=this.getJQItems(),n=this.docRender.viewerRender.scrollWrap.getScrollHost();e=n===window?{x:0,y:0,right:window.innerWidth,height:window.innerHeight}:n.getBoundingClientRect();let r=0,i=0,o=0;for(let n=0;n<t.length;n++){let s=t[n].getBoundingClientRect(),a=u(e,s);if(a&&0==o&&(o=1),a>r&&(r=a,i=n),!a&&1==o){o=2;break}}return i},r.getFitHeight=function(e){let t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()},r.getFitWidth=function(e){return this.docRender.viewerRender.scrollWrap.getScrollHost().clientWidth},r.getNextPageIndex=function(){const e=this.docRender.doc.getPageCount();let t=this.getCurrentPageIndex();return t<e-1&&t++,t},r.getPrevPageIndex=function(){let e=this.getCurrentPageIndex();return e>0&&e--,e},r.out=function(){this.pdfViewer.element.classList.remove("fv__h-continuous-view-mode-layout"),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.$ui.parents(".fv__ui-pdfviewer").css({"overflow-x":"","overflow-y":""}),this.pdfViewer.eventEmitter.off(s.pageRotationChange,this.rotateCallback),this.pdfViewer.eventEmitter.off(s.pagesRotated,this.rotatePagesCallback),this.docRender.pagesRender.$ui.css({paddingTop:"",paddingBottom:""}),this.unobservePageNumberChangeEvent(),this.$style&&this.$style.remove();const e=this.getJQItems();for(let t=0;t<e.length;t++)e.eq(t).css({paddingTop:"",paddingBottom:"",marginTop:"",marginBottom:"",paddingLeft:"",paddingRight:"",marginLeft:"",marginRight:""})},r.generateShortcutEventHandler=function(){return new o(this)},r.scrollCurrentPageIntoView=function(){if(!this.docRender)return;const e=this.docRender.getCurrentPageIndex(),t=this.docRender.getPDFPageRender(e);t&&!t.pageAreaIsVisible&&t.$ui.get(0).scrollIntoViewIfNeeded(!0)},n}(n.IViewMode);const u=(e,t,n=!1)=>{let r=Math.max(e.left,t.left),i=Math[n?"min":"max"](e.top,t.top),o=Math[n?"max":"min"](e.bottom,t.bottom),s=Math.min(e.right,t.right);if(r<=s)if(n){if(i>=o)return(s-r)*(i-o)}else if(i<=o)return(s-r)*(o-i);return 0}}(),i=i.default}()}));