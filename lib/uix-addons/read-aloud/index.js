!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.ReadAloudAddon=e(require("UIExtension")):t.ReadAloudAddon=e(t.UIExtension)}(self,(function(t){return function(){var e={490:function(t){t.exports=null},4616:function(e){"use strict";e.exports=t},509:function(t,e,n){"use strict";var r=n(9985),o=n(3691),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a function")}},2655:function(t,e,n){"use strict";var r=n(9429),o=n(3691),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a constructor")}},3550:function(t,e,n){"use strict";var r=n(9985),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},767:function(t,e,n){"use strict";var r=n(3622),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new o("Incorrect invocation")}},5027:function(t,e,n){"use strict";var r=n(8999),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not an object")}},4328:function(t,e,n){"use strict";var r=n(5290),o=n(7578),i=n(6310),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},6004:function(t,e,n){"use strict";var r=n(8844);t.exports=r([].slice)},6431:function(t,e,n){"use strict";var r=n(4201)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!o)return!1}catch(t){return!1}var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},6648:function(t,e,n){"use strict";var r=n(8844),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},926:function(t,e,n){"use strict";var r=n(3043),o=n(9985),i=n(6648),a=n(4201)("toStringTag"),s=Object,u="Arguments"===i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:u?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},8758:function(t,e,n){"use strict";var r=n(6812),o=n(9152),i=n(2474),a=n(2560);t.exports=function(t,e,n){for(var s=o(e),u=a.f,c=i.f,l=0;l<s.length;l++){var d=s[l];r(t,d)||n&&r(n,d)||u(t,d,c(e,d))}}},5773:function(t,e,n){"use strict";var r=n(7697),o=n(2560),i=n(5684);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2148:function(t,e,n){"use strict";var r=n(8702),o=n(2560);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},1880:function(t,e,n){"use strict";var r=n(9985),o=n(2560),i=n(8702),a=n(5014);t.exports=function(t,e,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:e;if(r(n)&&i(n,c,s),s.global)u?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},5014:function(t,e,n){"use strict";var r=n(9037),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},7697:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(t){"use strict";var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},6420:function(t,e,n){"use strict";var r=n(9037),o=n(8999),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},2532:function(t,e,n){"use strict";var r=n(8563),o=n(806);t.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},8563:function(t){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3221:function(t,e,n){"use strict";var r=n(71);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4764:function(t,e,n){"use strict";var r=n(71);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},806:function(t,e,n){"use strict";var r=n(9037),o=n(6648);t.exports="process"===o(r.process)},7486:function(t,e,n){"use strict";var r=n(71);t.exports=/web0s(?!.*chrome)/i.test(r)},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,n){"use strict";var r,o,i=n(9037),a=n(71),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,n){"use strict";var r=n(9037),o=n(2474).f,i=n(5773),a=n(1880),s=n(5014),u=n(8758),c=n(5266);t.exports=function(t,e){var n,l,d,p,f,h=t.target,v=t.global,m=t.stat;if(n=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in e){if(p=e[l],d=t.dontCallGetSet?(f=o(n,l))&&f.value:n[l],!c(v?l:h+(m?".":"#")+l,t.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(t.sham||d&&d.sham)&&i(p,"sham",!0),a(n,l,p,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},1735:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},4071:function(t,e,n){"use strict";var r=n(6576),o=n(509),i=n(7215),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},7215:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},1236:function(t,e,n){"use strict";var r=n(7697),o=n(6812),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},2743:function(t,e,n){"use strict";var r=n(8844),o=n(509);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6576:function(t,e,n){"use strict";var r=n(6648),o=n(8844);t.exports=function(t){if("Function"===r(t))return o(t)}},8844:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);t.exports=r?a:function(t){return function(){return i.apply(t,arguments)}}},6058:function(t,e,n){"use strict";var r=n(9037),o=n(9985);t.exports=function(t,e){return arguments.length<2?(n=r[t],o(n)?n:void 0):r[t]&&r[t][e];var n}},1664:function(t,e,n){"use strict";var r=n(926),o=n(4849),i=n(981),a=n(9478),s=n(4201)("iterator");t.exports=function(t){if(!i(t))return o(t,s)||o(t,"@@iterator")||a[r(t)]}},5185:function(t,e,n){"use strict";var r=n(2615),o=n(509),i=n(5027),a=n(3691),s=n(1664),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(o(n))return i(r(n,t));throw new u(a(t)+" is not iterable")}},4849:function(t,e,n){"use strict";var r=n(509),o=n(981);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},9037:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(t,e,n){"use strict";var r=n(8844),o=n(690),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},7248:function(t){"use strict";t.exports={}},920:function(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2688:function(t,e,n){"use strict";var r=n(6058);t.exports=r("document","documentElement")},8506:function(t,e,n){"use strict";var r=n(7697),o=n(3689),i=n(6420);t.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(6648),a=Object,s=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?s(t,""):a(t)}:a},3457:function(t,e,n){"use strict";var r=n(9985),o=n(8999),i=n(9385);t.exports=function(t,e,n){var a,s;return i&&r(a=e.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(t,s),t}},6738:function(t,e,n){"use strict";var r=n(8844),o=n(9985),i=n(4091),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},618:function(t,e,n){"use strict";var r,o,i,a=n(9834),s=n(9037),u=n(8999),c=n(5773),l=n(6812),d=n(4091),p=n(2713),f=n(7248),h="Object already initialized",v=s.TypeError,m=s.WeakMap;if(a||d.state){var y=d.state||(d.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw new v(h);return e.facade=t,y.set(t,e),e},o=function(t){return y.get(t)||{}},i=function(t){return y.has(t)}}else{var g=p("state");f[g]=!0,r=function(t,e){if(l(t,g))throw new v(h);return e.facade=t,c(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},3292:function(t,e,n){"use strict";var r=n(4201),o=n(9478),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},9985:function(t,e,n){"use strict";var r=n(2659),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},9429:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(9985),a=n(926),s=n(6058),u=n(6738),c=function(){},l=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=r(p.exec),h=!p.test(c),v=function(t){if(!i(t))return!1;try{return d(c,l,t),!0}catch(t){return!1}},m=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(p,u(t))}catch(t){return!0}};m.sham=!0,t.exports=!d||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?m:v},5266:function(t,e,n){"use strict";var r=n(3689),o=n(9985),i=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n===l||n!==c&&(o(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},981:function(t){"use strict";t.exports=function(t){return null==t}},8999:function(t,e,n){"use strict";var r=n(9985),o=n(2659),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===i}:function(t){return"object"==typeof t?null!==t:r(t)}},3931:function(t){"use strict";t.exports=!1},1245:function(t,e,n){"use strict";var r=n(8999),o=n(6648),i=n(4201)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"===o(t))}},734:function(t,e,n){"use strict";var r=n(6058),o=n(9985),i=n(3622),a=n(9525),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,s(t))}},8734:function(t,e,n){"use strict";var r=n(4071),o=n(2615),i=n(5027),a=n(3691),s=n(3292),u=n(6310),c=n(3622),l=n(5185),d=n(1664),p=n(2125),f=TypeError,h=function(t,e){this.stopped=t,this.result=e},v=h.prototype;t.exports=function(t,e,n){var m,y,g,b,x,w,S,_=n&&n.that,T=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),D=r(e,_),O=function(t){return m&&p(m,"normal",t),new h(!0,t)},R=function(t){return T?(i(t),A?D(t[0],t[1],O):D(t[0],t[1])):A?D(t,O):D(t)};if(C)m=t.iterator;else if(E)m=t;else{if(!(y=d(t)))throw new f(a(t)+" is not iterable");if(s(y)){for(g=0,b=u(t);b>g;g++)if((x=R(t[g]))&&c(v,x))return x;return new h(!1)}m=l(t,y)}for(w=C?t.next:m.next;!(S=o(w,m)).done;){try{x=R(S.value)}catch(t){p(m,"throw",t)}if("object"==typeof x&&x&&c(v,x))return x}return new h(!1)}},2125:function(t,e,n){"use strict";var r=n(2615),o=n(5027),i=n(4849);t.exports=function(t,e,n){var a,s;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return o(a),n}},9478:function(t){"use strict";t.exports={}},6310:function(t,e,n){"use strict";var r=n(3126);t.exports=function(t){return r(t.length)}},8702:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(9985),a=n(6812),s=n(7697),u=n(1236).CONFIGURABLE,c=n(6738),l=n(618),d=l.enforce,p=l.get,f=String,h=Object.defineProperty,v=r("".slice),m=r("".replace),y=r([].join),g=s&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===v(f(e),0,7)&&(e="["+m(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(s?h(t,"name",{value:e,configurable:!0}):t.name=e),g&&n&&a(n,"arity")&&t.length!==n.arity&&h(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=d(t);return a(r,"source")||(r.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return i(this)&&p(this).source||c(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},231:function(t,e,n){"use strict";var r,o,i,a,s,u=n(9037),c=n(4071),l=n(2474).f,d=n(9886).set,p=n(4410),f=n(4764),h=n(3221),v=n(7486),m=n(806),y=u.MutationObserver||u.WebKitMutationObserver,g=u.document,b=u.process,x=u.Promise,w=l(u,"queueMicrotask"),S=w&&w.value;if(!S){var _=new p,T=function(){var t,e;for(m&&(t=b.domain)&&t.exit();e=_.get();)try{e()}catch(t){throw _.head&&r(),t}t&&t.enter()};f||m||v||!y||!g?!h&&x&&x.resolve?((a=x.resolve(void 0)).constructor=x,s=c(a.then,a),r=function(){s(T)}):m?r=function(){b.nextTick(T)}:(d=c(d,u),r=function(){d(T)}):(o=!0,i=g.createTextNode(""),new y(T).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),S=function(t){_.head||r(),_.add(t)}}t.exports=S},8742:function(t,e,n){"use strict";var r=n(509),o=TypeError,i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new o("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},5391:function(t,e,n){"use strict";var r,o=n(5027),i=n(8920),a=n(2739),s=n(7248),u=n(2688),c=n(6420),l=n(2713),d="prototype",p="script",f=l("IE_PROTO"),h=function(){},v=function(t){return"<"+p+">"+t+"</"+p+">"},m=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;y="undefined"!=typeof document?document.domain&&r?m(r):(e=c("iframe"),n="java"+p+":",e.style.display="none",u.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):m(r);for(var o=a.length;o--;)delete y[d][a[o]];return y()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h[d]=o(t),n=new h,h[d]=null,n[f]=t):n=y(),void 0===e?n:i.f(n,e)}},8920:function(t,e,n){"use strict";var r=n(7697),o=n(5648),i=n(2560),a=n(5027),s=n(5290),u=n(300);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),o=u(e),c=o.length,l=0;c>l;)i.f(t,n=o[l++],r[n]);return t}},2560:function(t,e,n){"use strict";var r=n(7697),o=n(8506),i=n(5648),a=n(5027),s=n(8360),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";e.f=r?i?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=l(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2474:function(t,e,n){"use strict";var r=n(7697),o=n(2615),i=n(9556),a=n(5684),s=n(5290),u=n(8360),c=n(6812),l=n(8506),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=s(t),e=u(e),l)try{return d(t,e)}catch(t){}if(c(t,e))return a(!o(i.f,t,e),t[e])}},2741:function(t,e,n){"use strict";var r=n(4948),o=n(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},3622:function(t,e,n){"use strict";var r=n(8844);t.exports=r({}.isPrototypeOf)},4948:function(t,e,n){"use strict";var r=n(8844),o=n(6812),i=n(5290),a=n(4328).indexOf,s=n(7248),u=r([].push);t.exports=function(t,e){var n,r=i(t),c=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&u(l,n);for(;e.length>c;)o(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},300:function(t,e,n){"use strict";var r=n(4948),o=n(2739);t.exports=Object.keys||function(t){return r(t,o)}},9556:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9385:function(t,e,n){"use strict";var r=n(2743),o=n(5027),i=n(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},5899:function(t,e,n){"use strict";var r=n(2615),o=n(9985),i=n(8999),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&o(n=t.toString)&&!i(s=r(n,t)))return s;if(o(n=t.valueOf)&&!i(s=r(n,t)))return s;if("string"!==e&&o(n=t.toString)&&!i(s=r(n,t)))return s;throw new a("Can't convert object to primitive value")}},9152:function(t,e,n){"use strict";var r=n(6058),o=n(8844),i=n(2741),a=n(7518),s=n(5027),u=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=a.f;return n?u(e,n(t)):e}},9302:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7073:function(t,e,n){"use strict";var r=n(9037),o=n(7919),i=n(9985),a=n(5266),s=n(6738),u=n(4201),c=n(2532),l=n(8563),d=n(3931),p=n(3615),f=o&&o.prototype,h=u("species"),v=!1,m=i(r.PromiseRejectionEvent),y=a("Promise",(function(){var t=s(o),e=t!==String(o);if(!e&&66===p)return!0;if(d&&(!f.catch||!f.finally))return!0;if(!p||p<51||!/native code/.test(t)){var n=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(c||l)&&!m}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:m,SUBCLASSING:v}},7919:function(t,e,n){"use strict";var r=n(9037);t.exports=r.Promise},2945:function(t,e,n){"use strict";var r=n(5027),o=n(8999),i=n(8742);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},562:function(t,e,n){"use strict";var r=n(7919),o=n(6431),i=n(7073).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},8055:function(t,e,n){"use strict";var r=n(2560).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},4410:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},6308:function(t,e,n){"use strict";var r,o,i=n(2615),a=n(8844),s=n(4327),u=n(9633),c=n(7901),l=n(3430),d=n(5391),p=n(618).get,f=n(2100),h=n(6422),v=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,g=a("".charAt),b=a("".indexOf),x=a("".replace),w=a("".slice),S=(o=/b*/g,i(m,r=/a/,"a"),i(m,o,"a"),0!==r.lastIndex||0!==o.lastIndex),_=c.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(S||T||_||f||h)&&(y=function(t){var e,n,r,o,a,c,l,f=this,h=p(f),C=s(t),E=h.raw;if(E)return E.lastIndex=f.lastIndex,e=i(y,E,C),f.lastIndex=E.lastIndex,e;var A=h.groups,D=_&&f.sticky,O=i(u,f),R=f.source,P=0,k=C;if(D&&(O=x(O,"y",""),-1===b(O,"g")&&(O+="g"),k=w(C,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==g(C,f.lastIndex-1))&&(R="(?: "+R+")",k=" "+k,P++),n=new RegExp("^(?:"+R+")",O)),T&&(n=new RegExp("^"+R+"$(?!\\s)",O)),S&&(r=f.lastIndex),o=i(m,D?n:f,k),D?o?(o.input=w(o.input,P),o[0]=w(o[0],P),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:S&&o&&(f.lastIndex=f.global?o.index+o[0].length:r),T&&o&&o.length>1&&i(v,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&A)for(o.groups=c=d(null),a=0;a<A.length;a++)c[(l=A[a])[0]]=o[l[1]];return o}),t.exports=y},9633:function(t,e,n){"use strict";var r=n(5027);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},3477:function(t,e,n){"use strict";var r=n(2615),o=n(6812),i=n(3622),a=n(9633),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||o(t,"flags")||!i(s,t)?e:r(a,t)}},7901:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},2100:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},6422:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4684:function(t,e,n){"use strict";var r=n(981),o=TypeError;t.exports=function(t){if(r(t))throw new o("Can't call method on "+t);return t}},4241:function(t,e,n){"use strict";var r=n(6058),o=n(2148),i=n(4201),a=n(7697),s=i("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&o(e,s,{configurable:!0,get:function(){return this}})}},5997:function(t,e,n){"use strict";var r=n(2560).f,o=n(6812),i=n(4201)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,i)&&r(t,i,{configurable:!0,value:e})}},2713:function(t,e,n){"use strict";var r=n(3430),o=n(4630),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},4091:function(t,e,n){"use strict";var r=n(9037),o=n(5014),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},3430:function(t,e,n){"use strict";var r=n(3931),o=n(4091);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.3",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(t,e,n){"use strict";var r=n(5027),o=n(2655),i=n(981),a=n(4201)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||i(n=r(s)[a])?e:o(n)}},146:function(t,e,n){"use strict";var r=n(3615),o=n(3689),i=n(9037).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9886:function(t,e,n){"use strict";var r,o,i,a,s=n(9037),u=n(1735),c=n(4071),l=n(9985),d=n(6812),p=n(3689),f=n(2688),h=n(6004),v=n(6420),m=n(1500),y=n(4764),g=n(806),b=s.setImmediate,x=s.clearImmediate,w=s.process,S=s.Dispatch,_=s.Function,T=s.MessageChannel,C=s.String,E=0,A={},D="onreadystatechange";p((function(){r=s.location}));var O=function(t){if(d(A,t)){var e=A[t];delete A[t],e()}},R=function(t){return function(){O(t)}},P=function(t){O(t.data)},k=function(t){s.postMessage(C(t),r.protocol+"//"+r.host)};b&&x||(b=function(t){m(arguments.length,1);var e=l(t)?t:_(t),n=h(arguments,1);return A[++E]=function(){u(e,void 0,n)},o(E),E},x=function(t){delete A[t]},g?o=function(t){w.nextTick(R(t))}:S&&S.now?o=function(t){S.now(R(t))}:T&&!y?(a=(i=new T).port2,i.port1.onmessage=P,o=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!p(k)?(o=k,s.addEventListener("message",P,!1)):o=D in v("script")?function(t){f.appendChild(v("script"))[D]=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:b,clear:x}},7578:function(t,e,n){"use strict";var r=n(8700),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5290:function(t,e,n){"use strict";var r=n(4413),o=n(4684);t.exports=function(t){return r(o(t))}},8700:function(t,e,n){"use strict";var r=n(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},3126:function(t,e,n){"use strict";var r=n(8700),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},690:function(t,e,n){"use strict";var r=n(4684),o=Object;t.exports=function(t){return o(r(t))}},8732:function(t,e,n){"use strict";var r=n(2615),o=n(8999),i=n(734),a=n(4849),s=n(5899),u=n(4201),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,u=a(t,l);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!o(n)||i(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},8360:function(t,e,n){"use strict";var r=n(8732),o=n(734);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},3043:function(t,e,n){"use strict";var r={};r[n(4201)("toStringTag")]="z",t.exports="[object z]"===String(r)},4327:function(t,e,n){"use strict";var r=n(926),o=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:function(t,e,n){"use strict";var r=n(8844),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},9525:function(t,e,n){"use strict";var r=n(146);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,n){"use strict";var r=n(7697),o=n(3689);t.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},9834:function(t,e,n){"use strict";var r=n(9037),o=n(9985),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},4201:function(t,e,n){"use strict";var r=n(9037),o=n(3430),i=n(6812),a=n(4630),s=n(146),u=n(9525),c=r.Symbol,l=o("wks"),d=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return i(l,t)||(l[t]=s&&i(c,t)?c[t]:d("Symbol."+t)),l[t]}},1692:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(509),a=n(8742),s=n(9302),u=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,l=s((function(){var n=i(e.resolve),a=[],s=0,l=1;u(t,(function(t){var i=s++,u=!1;l++,o(n,e,t).then((function(t){u||(u=!0,a[i]=t,--l||r(a))}),c)})),--l||r(a)}));return l.error&&c(l.value),n.promise}})},5089:function(t,e,n){"use strict";var r=n(9989),o=n(3931),i=n(7073).CONSTRUCTOR,a=n(7919),s=n(6058),u=n(9985),c=n(1880),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&u(a)){var d=s("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},6697:function(t,e,n){"use strict";var r,o,i,a=n(9989),s=n(3931),u=n(806),c=n(9037),l=n(2615),d=n(1880),p=n(9385),f=n(5997),h=n(4241),v=n(509),m=n(9985),y=n(8999),g=n(767),b=n(6373),x=n(9886).set,w=n(231),S=n(920),_=n(9302),T=n(4410),C=n(618),E=n(7919),A=n(7073),D=n(8742),O="Promise",R=A.CONSTRUCTOR,P=A.REJECTION_EVENT,k=A.SUBCLASSING,I=C.getterFor(O),j=C.set,N=E&&E.prototype,V=E,F=N,U=c.TypeError,$=c.document,B=c.process,K=D.f,M=K,L=!!($&&$.createEvent&&c.dispatchEvent),W="unhandledrejection",G=function(t){var e;return!(!y(t)||!m(e=t.then))&&e},z=function(t,e){var n,r,o,i=e.value,a=1===e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,d=t.domain;try{s?(a||(2===e.rejection&&q(e),e.rejection=1),!0===s?n=i:(d&&d.enter(),n=s(i),d&&(d.exit(),o=!0)),n===t.promise?c(new U("Promise-chain cycle")):(r=G(n))?l(r,n,u,c):u(n)):c(i)}catch(t){d&&!o&&d.exit(),c(t)}},H=function(t,e){t.notified||(t.notified=!0,w((function(){for(var n,r=t.reactions;n=r.get();)z(n,t);t.notified=!1,e&&!t.rejection&&X(t)})))},J=function(t,e,n){var r,o;L?((r=$.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!P&&(o=c["on"+t])?o(r):t===W&&S("Unhandled promise rejection",n)},X=function(t){l(x,c,(function(){var e,n=t.facade,r=t.value;if(Y(t)&&(e=_((function(){u?B.emit("unhandledRejection",r,n):J(W,n,r)})),t.rejection=u||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},q=function(t){l(x,c,(function(){var e=t.facade;u?B.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},Q=function(t,e,n){return function(r){t(e,r,n)}},Z=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,H(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new U("Promise can't be resolved itself");var r=G(e);r?w((function(){var n={done:!1};try{l(r,e,Q(tt,n,t),Q(Z,n,t))}catch(e){Z(n,e,t)}})):(t.value=e,t.state=1,H(t,!1))}catch(e){Z({done:!1},e,t)}}};if(R&&(F=(V=function(t){g(this,F),v(t),l(r,this);var e=I(this);try{t(Q(tt,e),Q(Z,e))}catch(t){Z(e,t)}}).prototype,(r=function(t){j(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",(function(t,e){var n=I(this),r=K(b(this,V));return n.parent=!0,r.ok=!m(t)||t,r.fail=m(e)&&e,r.domain=u?B.domain:void 0,0===n.state?n.reactions.add(r):w((function(){z(r,n)})),r.promise})),o=function(){var t=new r,e=I(t);this.promise=t,this.resolve=Q(tt,e),this.reject=Q(Z,e)},D.f=K=function(t){return t===V||undefined===t?new o(t):M(t)},!s&&m(E)&&N!==Object.prototype)){i=N.then,k||d(N,"then",(function(t,e){var n=this;return new V((function(t,e){l(i,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete N.constructor}catch(t){}p&&p(N,F)}a({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:V}),f(V,O,!1,!0),h(O)},6409:function(t,e,n){"use strict";var r=n(9989),o=n(3931),i=n(7919),a=n(3689),s=n(6058),u=n(9985),c=n(6373),l=n(2945),d=n(1880),p=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n=u(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!o&&u(i)){var f=s("Promise").prototype.finally;p.finally!==f&&d(p,"finally",f,{unsafe:!0})}},3964:function(t,e,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(509),a=n(8742),s=n(9302),u=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{race:function(t){var e=this,n=a.f(e),r=n.reject,c=s((function(){var a=i(e.resolve);u(t,(function(t){o(a,e,t).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},2092:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(8742);r({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},7905:function(t,e,n){"use strict";var r=n(9989),o=n(6058),i=n(3931),a=n(7919),s=n(7073).CONSTRUCTOR,u=n(2945),c=o("Promise"),l=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(t){return u(l&&this===c?a:this,t)}})},2003:function(t,e,n){"use strict";var r=n(7697),o=n(9037),i=n(8844),a=n(5266),s=n(3457),u=n(5773),c=n(2741).f,l=n(3622),d=n(1245),p=n(4327),f=n(3477),h=n(7901),v=n(8055),m=n(1880),y=n(3689),g=n(6812),b=n(618).enforce,x=n(4241),w=n(4201),S=n(2100),_=n(6422),T=w("match"),C=o.RegExp,E=C.prototype,A=o.SyntaxError,D=i(E.exec),O=i("".charAt),R=i("".replace),P=i("".indexOf),k=i("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,j=/a/g,N=/a/g,V=new C(j)!==j,F=h.MISSED_STICKY,U=h.UNSUPPORTED_Y,$=r&&(!V||F||S||_||y((function(){return N[T]=!1,C(j)!==j||C(N)===N||"/a/i"!==String(C(j,"i"))})));if(a("RegExp",$)){for(var B=function(t,e){var n,r,o,i,a,c,h=l(E,this),v=d(t),m=void 0===e,y=[],x=t;if(!h&&v&&m&&t.constructor===B)return t;if((v||l(E,t))&&(t=t.source,m&&(e=f(x))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),x=t,S&&"dotAll"in j&&(r=!!e&&P(e,"s")>-1)&&(e=R(e,/s/g,"")),n=e,F&&"sticky"in j&&(o=!!e&&P(e,"y")>-1)&&U&&(e=R(e,/y/g,"")),_&&(i=function(t){for(var e,n=t.length,r=0,o="",i=[],a={},s=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(e=O(t,r)))e+=O(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:D(I,k(t,r+1))&&(r+=2,u=!0),o+=e,c++;continue;case">"===e&&u:if(""===l||g(a,l))throw new A("Invalid capture group name");a[l]=!0,i[i.length]=[l,c],u=!1,l="";continue}u?l+=e:o+=e}return[o,i]}(t),t=i[0],y=i[1]),a=s(C(t,e),h?this:E,B),(r||o||y.length)&&(c=b(a),r&&(c.dotAll=!0,c.raw=B(function(t){for(var e,n=t.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(e=O(t,r))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+O(t,++r);return o}(t),n)),o&&(c.sticky=!0),y.length&&(c.groups=y)),t!==x)try{u(a,"source",""===x?"(?:)":x)}catch(t){}return a},K=c(C),M=0;K.length>M;)v(B,C,K[M++]);E.constructor=B,B.prototype=E,m(o,"RegExp",B,{constructor:!0})}x("RegExp")},4043:function(t,e,n){"use strict";var r=n(9989),o=n(6308);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o={};return function(){"use strict";function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t(e,n)}function e(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}r.d(o,{default:function(){return Lt}});var n=r(4616),i=r(490),a=r.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}r(3964),r(6409);const l=n.PDFViewCtrl,d=l.PDF.constant.User_Permissions,{Store:p}=l.readAloud,{ValueStore:f}=l.commons;var h;!function(t){t.DROPDOWN_ACTIVATE_READ="dropdown-activate-read",t.DROPDOWN_DEACTIVATE_READ="dropdown-deactivate-read",t.DROPDOWN_ADJUSTED_READ_RATE="dropdown-adjusted-read-rate",t.DROPDOWN_ADJUSTED_READ_VOLUME="dropdown-adjusted-read-volume",t.DROPDOWN_READ_CURRENT_PAGE="dropdown-read-current-page",t.DROPDOWN_READ_FROM_CURRENT_PAGE="dropdown-read-from-current-page",t.DROPDOWN_STOP_READ="dropdown-stop-read",t.DROPDOWN_PAUSE_READ="dropdown-pause-read"}(h||(h={}));const v="view_tab";var m,y,g;!function(t){t.playing="playing",t.paused="paused",t.stopped="stopped"}(m||(m={})),function(t){t.page="page",t.doc="doc",t.fragment="fragment",t.none="none"}(y||(y={})),function(t){t.activated="activated",t.deactivated="deactivated"}(g||(g={}));const b=n.PDFViewCtrl.ViewerEvents;let x=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).currentReadType=new p,e.activationStatus=new p,e.voicesStore=new f([]),e}e(r,t),r.scope=function(){return n.ServiceScope.SINGLETON},r.inject=function(){return{pdfUI:n.PDFUI,service:n.PDFViewCtrl.readAloud.ReadAloudService}};var o,i,a,s=r.prototype;return s.allInjected=function(){this.deactivate(),this.currentReadType.set(y.none),this.loadVoices(),this.addDestroyHook(this.service.onReadPageStart((t=>{this.pdfUI.goToPage(t,0,0,!1)}))),this.deactivate(),this.addDestroyHook(this.pdfUI.addViewerEventListener(b.willCloseDocument,(()=>{this.deactivate()}))),this.pdfUI.getStore().then((t=>{this.addDestroyHook(t.subscribe(n.PDFViewCtrl.Consts.STORE_NAMES.SELECTION_INFO,(t=>{if(this.service)if(t){{let{isReadSelectText:e=!0}=t;if(!e)return}this.isActivated()&&(this.isStopped()||this.currentReadType.get()===y.fragment)&&(this.currentReadType.set(y.fragment),this.service.readText({text:t.text,pageIndex:t.page.getIndex(),rect:t.rectArray}))}else this.currentReadType.get()===y.fragment&&this.stop()})))}))},s.supported=function(){return Promise.resolve(this.service.supported())},s.preCheckDoc=function(t){let e="";return t?t.doc.checkPermission(d.extractAccess)||(e="read-aloud:error.permDenyCopyContent"):e="read-aloud:error.document-not-openned",e&&(this.currentReadType.set(y.none),this.pdfUI.alert(e)),!e},s.isAccountExpired=function(){return!1},s.readCurrentPage=function(){if(!this.isAccountExpired())return this.status===m.paused?this.resume():(this.service.beforeRead(),this.pdfUI.getPDFDocRender().then((t=>{if(!this.preCheckDoc(t))return;this.sendGAEvent({eventKey:h.DROPDOWN_READ_CURRENT_PAGE,label:v}),this.currentReadType.set(y.page);const e=t.getCurrentPageIndex();return this.service.readPages([e])})).finally((()=>{this.service.afterRead()})))},s.readFromCurrentPage=function(){return this.status===m.paused?this.resume():(this.service.beforeRead(),this.pdfUI.getPDFDocRender().then((t=>{if(!this.preCheckDoc(t))return;this.sendGAEvent({eventKey:h.DROPDOWN_READ_FROM_CURRENT_PAGE,label:v}),this.currentReadType.set(y.doc);const e=t.getCurrentPageIndex(),n=t.getPDFDoc().getPageCount(),r=Array(n-e).fill(0).map(((t,n)=>e+n));return this.service.readPages(r)})).finally((()=>{this.service.afterRead()})))},s.stop=function(t=!1){return this.pdfUI.getReadAloudService().then((e=>(t&&this.sendGAEvent({eventKey:h.DROPDOWN_STOP_READ,label:v}),this.currentReadType.set(y.none),e.stop())))},s.pause=function(){return this.pdfUI.getReadAloudService().then((t=>(this.sendGAEvent({eventKey:h.DROPDOWN_PAUSE_READ,label:v}),t.pause())))},s.resume=function(t=!1){return this.pdfUI.getReadAloudService().then((e=>(t&&this.sendGAEvent({eventKey:h.DROPDOWN_PAUSE_READ,label:v}),e.resume())))},s.setVolume=function(t){return this.pdfUI.getReadAloudService().then((e=>(this.sendGAEvent({eventKey:h.DROPDOWN_ADJUSTED_READ_VOLUME,label:v}),e.setVolume(t))))},s.setRate=function(t){return this.pdfUI.getReadAloudService().then((e=>(this.sendGAEvent({eventKey:h.DROPDOWN_ADJUSTED_READ_RATE,label:v}),e.setRate(t))))},s.setVoices=function(t){this.voicesStore.dispatch(t)},s.getVoices=function(){return this.voicesStore.getCurrentValue()},s.onVoicesChange=function(t){return this.voicesStore.subscribe(t)},s.loadVoices=function(){return this.service.getVoices().then((t=>{this.voicesStore.dispatch(t)}))},s.getCurrentReadType=function(){return this.currentReadType.get()},s.isStopped=function(){return!this.service||this.service.status===m.stopped},s.activate=function(){this.sendGAEvent({eventKey:h.DROPDOWN_ACTIVATE_READ,label:v}),this.activationStatus.set(g.activated)},s.deactivate=function(t=!1){return this.stop().then((()=>{t&&this.sendGAEvent({eventKey:h.DROPDOWN_DEACTIVATE_READ,label:v}),this.activationStatus.set(g.deactivated)}))},s.isActivated=function(){return this.activationStatus.get()===g.activated},s.onActivationChange=function(t){return this.activationStatus.onchange(t)},s.onStatusChange=function(t){const e=this.pdfUI.getReadAloudService().then((e=>e.onStatusChange(t)));return()=>{e.then((t=>t()))}},s.onReadTypeChange=function(t){return this.currentReadType.onchange(t)},s.sendGAEvent=function(t={}){0},o=r,(i=[{key:"status",get:function(){return this.service?this.service.status:m.stopped}}])&&c(o.prototype,i),a&&c(o,a),Object.defineProperty(o,"prototype",{writable:!1}),r}(n.PDFViewCtrl.shared.Disposable),w=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"rate-regulator-ribbon"},n.services=function(){return{service:x}},n.getMetadata=function(){return{options:{min:{type:"number",defaultValue:.1},max:{type:"number",defaultValue:2},step:{type:"number",defaultValue:.1},value:{type:"number",defaultValue:1}}}};var r=n.prototype;return r.postlink=function(){t.prototype.postlink.call(this);this.getComponentByName("fv--read-aloud-rate-slider-container").append(`\n            <slider \n                min="${this.min}"\n                max="${this.max}"\n                value="${this.value}"\n                step="${this.step}"\n                @on.change="self.change($component.getValue())"\n                class="fv__ui-slider-no-input"\n                name="dropdown-adjusted-read-rate"\n                label="read-aloud:read-aloud.rate.text"\n            ></slider>\n        `)},r.change=function(t){return this.service.setRate(t)},n}(n.SeniorComponentFactory.createSuperClass({template:'\n    <ribbon-button @tooltip tooltip-title="read-aloud:read-aloud.rate.desc"\n     text="read-aloud:read-aloud.rate.text"\n     icon-class="fx-icon-ribbon_view_read_rate-32"\n     @read-aloud:support.disable\n     @read-aloud:activation.unlock\n     class="rate-regulator"\n     @var.self="$component">\n        <dropdown\n            separate="false"\n            valign="top"\n            selectable="false"\n            class="fv__ui-read-aloud-rate-regulator rate-dropdown fv__ui-dropdown-hide-text"\n        >\n            <dropdown-item @stop-propagation.mouseup name="fv--read-aloud-rate-slider-container">\n                \n            </dropdown-item>\n        </dropdown>\n    </ribbon-button>\n    '})),S=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"rate-regulator"},n.services=function(){return{service:x}},n.getMetadata=function(){return{options:{min:{type:"number",defaultValue:.1},max:{type:"number",defaultValue:2},step:{type:"number",defaultValue:.1},value:{type:"number",defaultValue:1}}}};var r=n.prototype;return r.postlink=function(){t.prototype.postlink.call(this);this.getComponentByName("fv--read-aloud-rate-slider-container").append(`\n            <slider \n                min="${this.min}"\n                max="${this.max}"\n                value="${this.value}"\n                step="${this.step}"\n                @on.change="self.change($component.getValue())"\n                class="fv__ui-slider-no-input"\n                name="dropdown-adjusted-read-rate"\n                label="read-aloud:read-aloud.rate.text"\n                role="menuitem"\n            ></slider>\n        `)},r.change=function(t){return this.service.setRate(t)},n}(n.SeniorComponentFactory.createSuperClass({template:'\n    <dropdown\n        icon-class="fx-icon-ribbon_view_read_rate-16"\n        @tooltip tooltip-title="read-aloud:read-aloud.rate.desc"\n        tooltip-description="read-aloud:read-aloud.rate.descSub"\n        @read-aloud:activation.unlock\n        separate="false"\n        align="out-right"\n        valign="top"\n        class="fv__ui-read-aloud-rate-regulator rate-dropdown"\n        @read-aloud:support.disable\n        text="read-aloud:read-aloud.rate.text"\n        @var.self="$component"\n        text="read-aloud:read-aloud.rate.text"\n        selectable="false"\n    >\n        <dropdown-item @stop-propagation.mouseup name="fv--read-aloud-rate-slider-container">\n            \n        </dropdown-item>\n    </dropdown>\n    '}));const _=n.PDFViewCtrl.readAloud.PDFTextToSpeechSynthesisStatus,T=JSON.stringify({shortcutKey:"Shift+Ctrl+V",handleName:"click"});let C=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"read-current-page"},n.services=function(){return{service:x}};var r=n.prototype;return r.lock=function(){t.prototype.lock.call(this),this.element.removeAttribute("tabindex")},r.unlock=function(){t.prototype.unlock.call(this),this.element.setAttribute("tabindex","0")},r.mounted=function(){t.prototype.mounted.call(this),this.addDestroyHook(this.service.onStatusChange((t=>{if(t===_.stopped)this.deactive();else{this.service.getCurrentReadType()===y.page?this.active():this.deactive()}})))},r.click=function(){return this.service.readCurrentPage().catch((t=>{if(this.service.stop(),t&&"interrupted"===t.error)return this.getPDFUI().alert({message:"read-aloud:error.interrupted",level:"warning"});throw t}))},n}(n.SeniorComponentFactory.createSuperClass({template:`\n        <xbutton\n            @on.click="$component.click()" \n            icon-class="fx-icon-sm fx-icon-ribbon_view_read_current_page-16" \n            @tooltip tooltip-title="read-aloud:read-aloud.read-current-page.desc"\n            tooltip-description="read-aloud:read-aloud.read-current-page.descSub"\n            @read-aloud:activation.unlock\n            @read-aloud:shortcutKey=${T}\n            text="read-aloud:read-aloud.read-current-page.text"\n            tabindex="0"\n        ></xbutton>\n    `}));const E=n.PDFViewCtrl.readAloud.PDFTextToSpeechSynthesisStatus,A=JSON.stringify({shortcutKey:"Shift+Ctrl+B",handleName:"click"});let D=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"read-from-current-page"},n.services=function(){return{service:x}};var r=n.prototype;return r.lock=function(){t.prototype.lock.call(this),this.element.removeAttribute("tabindex")},r.unlock=function(){t.prototype.unlock.call(this),this.element.setAttribute("tabindex","0")},r.mounted=function(){t.prototype.mounted.call(this),this.addDestroyHook(this.service.onStatusChange((t=>{if(t===E.stopped)this.deactive();else{this.service.getCurrentReadType()===y.doc?this.active():this.deactive()}})))},r.click=function(){return this.service.readFromCurrentPage().catch((t=>{if(this.service.stop(),t&&"interrupted"===t.error)return this.getPDFUI().alert({message:"read-aloud:error.interrupted",level:"warning"});throw t}))},n}(n.SeniorComponentFactory.createSuperClass({template:`\n        <xbutton\n            @on.click="$component.click()" \n            icon-class="fx-icon-sm fx-icon-ribbon_view_read_from_current_page-16"\n            @tooltip tooltip-title="read-aloud:read-aloud.read-from-current-page.desc"\n            tooltip-description="read-aloud:read-aloud.read-from-current-page.descSub"\n            @read-aloud:activation.unlock\n            @read-aloud:shortcutKey=${A}\n            text="read-aloud:read-aloud.read-from-current-page.text"\n            tabindex="0"\n        ></xbutton>\n    `})),O=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"volume-regulator-ribbon"},n.services=function(){return{service:x}},n.getMetadata=function(){return{options:{min:{type:"number",defaultValue:0},max:{type:"number",defaultValue:1},step:{type:"number",defaultValue:.1},value:{type:"number",defaultValue:1}}}};var r=n.prototype;return r.postlink=function(){t.prototype.postlink.call(this);this.getComponentByName("fv--read-aloud-volume-slider-container").append(`\n            <slider \n                min="${this.min}"\n                max="${this.max}"\n                value="${this.value}"\n                step="${this.step}"\n                @on.change="self.change($component.getValue())"\n                class="fv__ui-slider-no-input"\n                name="dropdown-adjusted-read-volume"\n                label='read-aloud:read-aloud.volume.text'\n                role="menuitem"\n            ></slider>\n        `)},r.change=function(t){return this.service.setVolume(t)},n}(n.SeniorComponentFactory.createSuperClass({template:'\n    <ribbon-button @tooltip tooltip-title="read-aloud:read-aloud.volume.desc"\n     tooltip-description="read-aloud:read-aloud.volume.descSub"\n     icon-class="fx-icon-ribbon_view_read_volume-32"\n     text="read-aloud:read-aloud.volume.text"\n     icon-class="fx-icon-ribbon_view_read-32"\n     class="volume-regulator"\n     @read-aloud:support.disable\n     @read-aloud:activation.unlock\n     @var.self="$component">\n        <dropdown\n            separate="false"\n            valign="top"\n            selectable="false"\n            class="fv__ui-read-aloud-volume-regulator volume-dropdown fv__ui-dropdown-hide-text"\n        >\n            <dropdown-item @stop-propagation.mouseup name="fv--read-aloud-volume-slider-container">\n            </dropdown-item>\n        </dropdown>\n    </ribbon-button>\n    '})),R=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"volume-regulator"},n.services=function(){return{service:x}},n.getMetadata=function(){return{options:{min:{type:"number",defaultValue:0},max:{type:"number",defaultValue:1},step:{type:"number",defaultValue:.1},value:{type:"number",defaultValue:1}}}};var r=n.prototype;return r.postlink=function(){t.prototype.postlink.call(this);this.getComponentByName("fv--read-aloud-volume-slider-container").append(`\n            <slider \n                min="${this.min}"\n                max="${this.max}"\n                value="${this.value}"\n                step="${this.step}"\n                @on.change="self.change($component.getValue())"\n                class="fv__ui-slider-no-input"\n                name="dropdown-adjusted-read-volume"\n                label='read-aloud:read-aloud.volume.text'\n                role="menuitem"\n            ></slider>\n        `)},r.change=function(t){return this.service.setVolume(t)},n}(n.SeniorComponentFactory.createSuperClass({template:'\n    <dropdown\n        icon-class="fx-icon-ribbon_view_read_volume-16"\n        @tooltip tooltip-title="read-aloud:read-aloud.volume.desc"\n        tooltip-description="read-aloud:read-aloud.volume.descSub"\n        @read-aloud:activation.unlock\n        separate="false"\n        align="out-right"\n        valign="top"\n        class="fv__ui-read-aloud-volume-regulator volume-dropdown"\n        @read-aloud:support.disable\n        text="read-aloud:read-aloud.volume.text"\n        @var.self="$component"\n        text="read-aloud:read-aloud.volume.text"\n        selectable="false"\n    >\n        <dropdown-item @stop-propagation.mouseup name="fv--read-aloud-volume-slider-container">\n        </dropdown-item>\n    </dropdown>\n    '}));const{PDFUI:P,UIXAddon:k,SeniorComponentFactory:I,modular:j,ServiceScope:N,Directive:V,Controller:F,Component:U,ContainerComponent:$,UIEvents:B}=n,{keyboardStatus:K,attachContextMenuEvent:M}=n.shared,L=n.PDFViewCtrl,{PDFViewer:W,ViewerEvents:G,DeviceInfo:z,BrowserInfo:H}=L,{StorageFeature:J}=L.storage,{Disposable:X,Store:Y,ValueStore:q,debounce:Q,observeResize:Z,throttle:tt,Draggable:et,browser:nt,DebounceAsyncTaskExecutor:rt,ThrottleAsyncTaskExecutor:ot,QueuedAsyncTaskExecutor:it,BuiltinIntersectionObserver:at,FileFormat:st,Color:ut,download:ct,securityEncryptType:lt,securityUtils:dt}=L.shared,{LoggerFactory:pt}=L.Log,{COLLABORATION_ACTION:ft}=L.collab,{Hammer:ht}=L.vendors,{DataEvents:vt}=L.PDF,{PDFDocPermission:mt}=L.Consts,{BuiltinShortcutCommand:yt,BuiltinShortcutContext:gt,KeyboardUtils:bt}=L.keyboard,{isMatch:xt,matchers:{Enter:wt,Escape:St}}=L.keyboard.KeyboardUtils,{IoCScope:_t,Lazy:Tt,attachKeypressEvent:Ct}=L._internal.shared;let Et=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"read-aloud-ribbon-dropdown"},n.inject=function(){return{viewer:W}};var r=n.prototype;return r.mounted=function(){t.prototype.mounted.call(this),this.viewer.eventEmitter.on(G.openFileSuccess,this._dynamicXFAStateEventBind=t=>{t.isDynamicXFA()?this.disable():this.enable()})},r.destroy=function(){t.prototype.destroy.call(this),this.viewer.eventEmitter.off(G.openFileSuccess,this._dynamicXFAStateEventBind)},n}(n.SeniorComponentFactory.createSuperClass({template:'\n    <ribbon-button @tooltip tooltip-title="read-aloud:read-aloud.read.desc"\n     text="read-aloud:read-aloud.read.text"\n     icon-class="fx-icon-ribbon_view_read-32"\n     class="read-aloud"\n     not-immediately="true"\n     @var.self="$component"\n     @read-aloud:support.disable\n     >\n    <dropdown icon-class="fv__icon-read-aloud-read" \n        separate=false\n        text="read-aloud:read-aloud.read.text"\n    >\n        <dropdown-item class="fv__ui-dropdown-container-item">\n           <read-aloud:read-dropdown name="read-dropdown" ></read-aloud:read-dropdown>\n       </dropdown-item>\n       <dropdown-item class="fv__ui-dropdown-container-item">\n           <read-aloud:rate-regulator name="rate-dropdown"></read-aloud:rate-regulator>\n       </dropdown-item>\n       <dropdown-item class="fv__ui-dropdown-container-item">\n           <read-aloud:volume-regulator name="volume-dropdown"></read-aloud:volume-regulator>\n       </dropdown-item>\n       <read-aloud:pause-resume-read-aloud name ="dropdown-pause-read"></read-aloud:pause-resume-read-aloud>\n       <dropdown-item class="fv__ui-dropdown-container-item">\n            <read-aloud:select-voice-dropdown></read-aloud:select-voice-dropdown>\n       </dropdown-item>\n    </dropdown>\n</ribbon-button>\n    '})),At=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"read-aloud-dropdown"},n.inject=function(){return{viewer:W}};var r=n.prototype;return r.mounted=function(){t.prototype.mounted.call(this),this.viewer.eventEmitter.on(G.openFileSuccess,this._dynamicXFAStateEventBind=t=>{t.isDynamicXFA()?this.disable():this.enable()})},r.destroy=function(){t.prototype.destroy.call(this),this.viewer.eventEmitter.off(G.openFileSuccess,this._dynamicXFAStateEventBind)},n}(n.SeniorComponentFactory.createSuperClass({template:'\n    <dropdown\n        icon-class="fv__icon-read-aloud-read"\n        @tooltip tooltip-title="read-aloud:read-aloud.read.desc"\n        separate="false"\n        @read-aloud:support.disable\n        class="fv__ui-dropdown-hide-text"\n        text="read-aloud:read-aloud.read.text"\n    >\n        <read-aloud:activate-button></read-aloud:activate-button>\n        <read-aloud:read-current-page></read-aloud:read-current-page>\n        <read-aloud:read-from-current-page></read-aloud:read-from-current-page>\n        <read-aloud:stop-read></read-aloud:stop-read>\n    </dropdown>\n    '})),Dt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"read-dropdown"},n}(UIExtension.SeniorComponentFactory.createSuperClass({template:'\n    <dropdown \n    separate="false"\n    align="out-right"\n    valign="center"\n    class="read-dropdown"\n    icon-class="fx-icon-ribbon_view_read-16"\n    name="read-aloud-comment" \n    text="read-aloud:read-aloud.read.text"> \n    <read-aloud:activate-button ribbon-icon="fx-icon-ribbon_view_read-32"></read-aloud:activate-button>\n    <read-aloud:read-current-page ribbon-icon="fx-icon-ribbon_view_activate_read-32" name="dropdown-read-current-page"></read-aloud:read-current-page>\n    <read-aloud:read-from-current-page ribbon-icon="fx-icon-ribbon_view_read_current_page-32" name="dropdown-read-from-current-page"></read-aloud:read-from-current-page>\n    <read-aloud:stop-read ribbon-icon="fx-icon-ribbon_view_read_stop-32" name="dropdown-stop-read"></read-aloud:stop-read>\n   </dropdown>\n    '}));const Ot=n.PDFViewCtrl.readAloud.PDFTextToSpeechSynthesisStatus,Rt=JSON.stringify({shortcutKey:"Shift+Ctrl+E",handleName:"click"});let Pt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"stop-read"},n.services=function(){return{service:x}};var r=n.prototype;return r.lock=function(){t.prototype.lock.call(this),this.element.removeAttribute("tabindex")},r.unlock=function(){t.prototype.unlock.call(this),this.element.setAttribute("tabindex","0")},r.mounted=function(){t.prototype.mounted.call(this),this.addDestroyHook(this.service.onStatusChange((t=>{t===Ot.playing?this.unlock():this.lock()})))},r.click=function(){return this.service.stop(!0)},n}(n.SeniorComponentFactory.createSuperClass({template:`\n        <xbutton \n            @on.click="$component.click()"\n            icon-class="fx-icon-sm fx-icon-ribbon_view_read_stop-16"\n            @tooltip tooltip-title="read-aloud:read-aloud.stop.desc"\n            tooltip-description="read-aloud:read-aloud.stop.descSub"\n            text="read-aloud:read-aloud.stop.text"\n            @read-aloud:shortcutKey=${Rt}\n            tabindex="0"\n        ></xbutton>\n    `}));const kt=n.PDFViewCtrl.readAloud.PDFTextToSpeechSynthesisStatus,It=JSON.stringify({shortcutKey:"Shift+Ctrl+C",handleName:"click"});let jt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"pause-resume-read-aloud"},n.services=function(){return{service:x}},n.getMetadata=function(){return{options:{"pause-title":{type:"string",field:"pauseTitle",defaultValue:"read-aloud:read-aloud.pause.text"},"resume-title":{type:"string",field:"resumeTitle",defaultValue:"read-aloud:read-aloud.resume.text"},"pause-tooltip-title":{type:"string",field:"pauseTooltipTitle",defaultValue:"read-aloud:read-aloud.pause.desc"},"pause-tooltip-title-sub":{type:"string",field:"pauseTooltipTitleSub",defaultValue:"read-aloud:read-aloud.pause.descSub"},"resume-tooltip-title":{type:"string",field:"resumeTooltipTitle",defaultValue:"read-aloud:read-aloud.resume.desc"},"resume-tooltip-title-sub":{type:"string",field:"resumeTooltipTitleSub",defaultValue:"read-aloud:read-aloud.resume.descSub"},"pause-icon-class":{type:"string",field:"pauseIconClass",defaultValue:"fx-icon-ribbon_view_read_pause-16"},"resume-icon-class":{type:"string",field:"resumeIconClass",defaultValue:"fx-icon-ribbon_view_read_resume-16"}}}};var r=n.prototype;return r.mounted=function(){t.prototype.mounted.call(this);const e=t=>{switch(this.status=t,t){case kt.paused:this.switchToResumeButton();break;case kt.playing:this.switchToPauseButton();break;default:this.switchStoppedButton()}};this.service.onStatusChange(e),this.service.onActivationChange((()=>{this.service.isActivated()&&e(this.service.status)})),this.setIconCls(this.pauseIconClass),this.setText(this.pauseTitle),e(this.service.status)},r.switchToPauseButton=function(){this.unlock(),this.setIconCls(this.pauseIconClass),this.setAttribute("tooltip-title",this.pauseTooltipTitle),this.setAttribute("tooltip-description",this.pauseTooltipTitleSub),this.setAttribute("text",this.pauseTitle),this.setText(this.pauseTitle),this.localize()},r.switchToResumeButton=function(){this.unlock(),this.setIconCls(this.resumeIconClass),this.setAttribute("tooltip-title",this.resumeTooltipTitle),this.setAttribute("tooltip-description",this.resumeTooltipTitleSub),this.setAttribute("text",this.resumeTitle),this.setText(this.resumeTitle),this.localize()},r.switchStoppedButton=function(){this.lock(),this.text||this.setText(this.pauseTitle),this.localize()},r.click=function(){switch(this.status){case kt.paused:this.service.resume(!0);break;case kt.playing:this.service.pause();break;default:return Promise.resolve()}},n}(n.SeniorComponentFactory.createSuperClass({template:`\n    <dropdown-button\n        @tooltip tooltip-title="read-aloud:read-aloud.pause.desc"\n        tooltip-description="read-aloud:read-aloud.pause.descSub"\n        @on.click="$component.click()"\n        @read-aloud:activation.unlock\n        @read-aloud:support.disable\n        @read-aloud:shortcutKey.pauseresume=${It}\n        icon-class="fx-icon-ribbon_view_read_pause-16"\n        text="read-aloud:read-aloud.pause.text"\n        class="pause-resume-button"\n    >\n    </dropdown-button>\n    `})),Nt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"pause-resume-read-aloud-ribbon"},n.services=function(){return{service:x}},n.getMetadata=function(){return{options:{"pause-title":{type:"string",field:"pauseTitle",defaultValue:"read-aloud:read-aloud.pause.text"},"resume-title":{type:"string",field:"resumeTitle",defaultValue:"read-aloud:read-aloud.resume.text"},"pause-tooltip-title":{type:"string",field:"pauseTooltipTitle",defaultValue:"read-aloud:read-aloud.pause.desc"},"pause-tooltip-title-sub":{type:"string",field:"pauseTooltipTitleSub",defaultValue:"read-aloud:read-aloud.pause.descSub"},"resume-tooltip-title":{type:"string",field:"resumeTooltipTitle",defaultValue:"read-aloud:read-aloud.resume.desc"},"resume-tooltip-title-sub":{type:"string",field:"resumeTooltipTitleSub",defaultValue:"read-aloud:read-aloud.resume.descSub"},"pause-icon-class":{type:"string",field:"pauseIconClass",defaultValue:"fx-icon-ribbon_view_read_pause-32"},"resume-icon-class":{type:"string",field:"resumeIconClass",defaultValue:"fx-icon-ribbon_view_read_resume-32"}}}};var r=n.prototype;return r.mounted=function(){t.prototype.mounted.call(this);const e=t=>{switch(this.status=t,t){case kt.paused:this.switchToResumeButton();break;case kt.playing:this.switchToPauseButton();break;default:this.switchStoppedButton()}};this.service.onStatusChange(e),this.service.onActivationChange((()=>{this.service.isActivated()&&e(this.service.status)})),this.setIconCls(this.pauseIconClass),this.setText(this.pauseTitle),e(this.service.status)},r.switchToPauseButton=function(){this.unlock(),this.setIconCls(this.pauseIconClass),this.setAttribute("tooltip-title",this.pauseTooltipTitle),this.setAttribute("tooltip-description",this.pauseTooltipTitleSub),this.setAttribute("text",this.pauseTitle),this.setText(this.pauseTitle),this.localize()},r.switchToResumeButton=function(){this.unlock(),this.setIconCls(this.resumeIconClass),this.setAttribute("tooltip-title",this.resumeTooltipTitle),this.setAttribute("tooltip-description",this.resumeTooltipTitleSub),this.setAttribute("text",this.resumeTitle),this.setText(this.resumeTitle),this.localize()},r.switchStoppedButton=function(){this.lock(),this.text||this.setText(this.pauseTitle),this.localize()},r.click=function(){switch(this.status){case kt.paused:this.service.resume();break;case kt.playing:this.service.pause();break;default:return Promise.resolve()}},n}(n.SeniorComponentFactory.createSuperClass({template:`\n    <ribbon-button @tooltip tooltip-title="read-aloud:read-aloud.pause.desc"\n     tooltip-description="read-aloud:read-aloud.pause.descSub"\n     text="read-aloud:read-aloud.pause.text"\n     icon-class="fx-icon-ribbon_view_read_pause-32"\n     @read-aloud:activation.unlock\n     @read-aloud:support.disable\n     @read-aloud:shortcutKey.pauseresume=${It}\n     @on.click="$component.click()"\n     class="pause-resume pause-resume-button">\n    </ribbon-button>\n    `}));n.PDFViewCtrl.readAloud;let Vt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"activation"},n.services=function(){return{service:x}},n.prototype.init=function(e){t.prototype.init.call(this,e),this.addDestroyHook(this.service.onActivationChange((t=>{const n=t===g.activated;switch(this.subName){case"disable":n?e.disable():e.enable();break;case"lock":n?e.lock():e.unlock();break;case"enable":n?e.enable():e.disable();break;case"unlock":n?e.unlock():e.lock();break;case"show":n?e.show():e.hide()}})))},n}(n.Directive),Ft=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"shortcutKey"};var r=n.prototype;return r.init=function(e){t.prototype.init.call(this,e);let{shortcutKey:n,handleName:r}=this.getShortcutKeyOptions();if(!e[r])return;let o=e.pdfUI.pdfViewer,i=t=>{if(!o.getCurrentPDFDoc()||!e.isVisible||e.disabled)return;return e[r].bind(e)(),"pauseresume"===this.subName?(t.nativeEvent.preventDefault(),!1):void 0};o.onShortcutKey(n,i),this.addDestroyHook((()=>{o.offShortcutKey(n,i)}))},r.getShortcutKeyOptions=function(){let t,e;try{let{shortcutKey:n,handleName:r}=JSON.parse(this.attrValue);t=n,e=r}catch(t){}return{shortcutKey:t,handleName:e}},n}(n.Directive);const Ut=JSON.stringify({shortcutKey:"Shift+Ctrl+Y",handleName:"click"});let $t=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"activate-button"},n.services=function(){return{service:x}};var r=n.prototype;return r.switchToDeactivateButton=function(){this.active(),this.setText("read-aloud:read-aloud.deactivate-read.text"),this.setAttribute("tooltip-title","read-aloud:read-aloud.deactivate-read.desc"),this.setAttribute("tooltip-description","read-aloud:read-aloud.deactivate-read.descSub"),this.setNameAttribute("dropdown-deactivate-read")},r.switchToActivateButton=function(){this.deactive(),this.setText("read-aloud:read-aloud.activate-read.text"),this.setAttribute("tooltip-title","read-aloud:read-aloud.activate-read.desc"),this.setAttribute("tooltip-description","read-aloud:read-aloud.activate-read.descSub"),this.setNameAttribute("dropdown-activate-read")},r.setNameAttribute=function(t){this.setAttribute("name",t),this.setAttribute("component-name",t),this.name=t},r.mounted=function(){t.prototype.mounted.call(this),this.addDestroyHook(this.service.onActivationChange((()=>{this.service.isActivated()?this.switchToDeactivateButton():this.switchToActivateButton()})))},r.click=function(){if(this.pdfUI.checkAppSignIn())return this.service.isActivated()?this.service.deactivate(!0):this.service.activate()},n}(n.SeniorComponentFactory.createSuperClass({template:`<xbutton\n        @on.click="$component.click()"\n        @read-aloud:shortcutKey=${Ut}\n        @tooltip\n        icon-class="fx-icon-sm fx-icon-ribbon_view_activate_read-16"\n        tabindex="0"\n    >\n    </xbutton>`})),Bt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"support"},n.services=function(){return{service:x}},n.prototype.init=function(e){t.prototype.init.call(this,e);const n=this.subName;this.service.supported().then((t=>{if(!t)switch(n){case"hidden":case"hide":e.hide();break;default:e.lock()}}))},n}(n.Directive);r(2003),r(4043);let Kt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"select-voice-dropdown"},n.inject=function(){return{service:x}};var r=n.prototype;return r.init=function(){t.prototype.init.call(this),this.voices=[]},r.allInjected=function(){this.service.onVoicesChange((t=>{this.voices=t,this.getPDFUI().getCurrentLanguage().then((e=>{const n=new RegExp(e.split("|"),"i");this.selectedVoice=t.find((t=>t.lang.match(n))),this.selectedVoice&&this.selectVoice(this.selectedVoice)})),this.digest()})),this.on("active",(()=>{0===this.voices.length&&this.service.loadVoices()}))},r.selectVoice=function(t){this.getPDFUI().getReadAloudService().then((e=>{e.setVoice(t.name),this.selectedVoice=t,this.digest()}))},n}(n.SeniorComponentFactory.createSuperClass({template:'\n        <dropdown\n            separate="false"\n            align="out-right"\n            valign="top"\n            @var.self="$component"\n            text="read-aloud:read-aloud.voice.text"\n            icon-class="fx-icon-ribbon_view_read_voice-16"\n            @tooltip tooltip-title="read-aloud:read-aloud.voice.desc"\n            tooltip-description="read-aloud:read-aloud.voice.descSub"\n            class="fv__ui-read-aloud-select-voice-dropdown"\n        >\n            <xbutton @foreach="voice in self.voices track by name" @sync.active="self.selectedVoice === voice" @on.click="self.selectVoice(voice)">(@{\'lang.\' + voice.lang|i18n})@{\' \'}@{voice.name}</xbutton>\n        </dropdown>\n    '})),Mt=function(t){function r(){return t.apply(this,arguments)||this}e(r,t),r.getName=function(){return"read-aloud"},r.getLoader=function(){return a()},r.initOnLoad=function(){const t=n.modular.module("read-aloud",[]);t.registerComponent(S),t.registerComponent(w),t.registerComponent(C),t.registerComponent(D),t.registerComponent(R),t.registerComponent(O),t.registerComponent(At),t.registerComponent(Et),t.registerComponent(Dt),t.registerComponent(Pt),t.registerComponent(jt),t.registerComponent(Nt),t.getRegistry().registerDirective(Vt),t.getRegistry().registerDirective(Bt),t.getRegistry().registerDirective(Ft),t.registerComponent($t),t.registerComponent(Kt)};var o=r.prototype;return o.init=function(t){this.pdfUI=t},o.serviceClass=function(){return x},o.service=function(){return this.pdfUI.getServiceInstance(x)},o.onActivationChange=function(t){return this.service().onActivationChange((e=>{t(e===g.activated)}))},r}(n.UIXAddon);var Lt=Mt}(),o=o.default}()}));