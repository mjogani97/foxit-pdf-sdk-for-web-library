!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.FormDesignerUIXAddon=t(require("UIExtension")):e.FormDesignerUIXAddon=t(e.UIExtension)}(self,(function(__WEBPACK_EXTERNAL_MODULE__4616__){return function(){var __webpack_modules__={1221:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div name="annot-properties-tab-actions">\n<div class="fv__action_tab">\n<div class="fv__action_title" data-i18n="editActions.add"></div>\n<div class="fv__action_upper tabActionBox">\n<div class="d_f ai_c fv__action_line">\n<div class="fv__action_label"  data-i18n="editActions.trigger"></div>\n<select class="w_180 h_24 ml_10" name="actionTrigger" @aria:labelledby="::previousSiblings()">\n<option data-i18n="editActions.mouseUp" show-in-host-types="link" value="14" ></option>\n<option data-i18n="editActions.mouseUp" show-in-host-types="bookmark" value="14" ></option>\n <option data-i18n="editActions.mouseUp" show-in-host-types="widget" value="14" ></option>\n<option show-in-host-types="widget" data-i18n="editActions.mouseDown" value="13"></option>\n<option show-in-host-types="widget" data-i18n="editActions.mouseEnter" value="11"></option>\n<option show-in-host-types="widget" data-i18n="editActions.mouseExit" value="12"></option>\n<option show-in-host-types="widget" data-i18n="editActions.focus" value="15"></option>\n<option show-in-host-types="widget" data-i18n="editActions.blur" value="16"></option>\n<option show-in-host-types="page" data-i18n="editActions.pageOpen" value="17"></option>\n<option show-in-host-types="page" data-i18n="editActions.pageClose" value="18"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageOpen" value="17"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageClose" value="18"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageVisible" value="19"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageInvisible" value="20"></option>\n</select>\n</div>\n<div class="d_f ai_c fv__action_line">\n<div class="fv__action_label"  data-i18n="editActions.action"></div>\n<select class="w_180 h_24 ml_10" name="actionType" @aria:labelledby="::previousSiblings()">\n<option data-i18n="ui_:dialog.actionDialog.selectAction.webLink" value="TypeURI"></option>\n',t+='\n<option data-i18n="ui_:dialog.actionDialog.selectAction.field" value="TypeHide"></option>\n',t+='\n<option data-i18n="ui_:dialog.actionDialog.selectAction.goto" value="TypeGoto"></option>\n',t+='\n<option data-i18n="ui_:dialog.actionDialog.selectAction.file" value="TypeLaunch"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.submit" value="TypeSubmitForm"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.run" value="TypeJavaScript"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.reset" value="TypeResetForm"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.import" value="TypeImportData"></option>\n</select>\n\n<div id="actionAddButton" class="fv__ui-dialog-ok-button fv__action_add ml-20" data-i18n="ui_:stamp.dialog.add" tabindex="0" @aria:role="button"></div>\n</div>\n</div>\n<div class="fv__action_lower">\n<div class="fv__action_title" data-i18n="ui_:contextmenu.annot.actions"></div>\n<div class="fv__action_list">\n\n</div>\n<div class="d_f fv__action_buttons">\n<div class="fv__ui-dialog-ok-button fv__action-up disabled" data-i18n="editActions.buttonUP" id="upAction" @aria:role="button"></div>\n<div class="fv__ui-dialog-ok-button fv__action-down disabled" data-i18n="editActions.buttonDown" id="downAction" @aria:role="button"></div>\n<div class="fv__ui-dialog-ok-button fv__action-edit disabled" id="editAction" data-i18n="ui_:toolbar.tabs.edit.title" @aria:role="button"></div>\n<div class="fv__ui-dialog-ok-button fv__action-delete disabled" id="deleteAction" data-i18n="ui_:stamp.dialog.delete" @aria:role="button"></div>\n</div>\n</div>\n</div>\n</div>'}},4225:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<layer name="field-CO-dialog" modal="true" class="fv__ui-CO-dialog center" @draggable>\n<layer-header class="fv__ui-CO-header" title="form-designer:dialog.calculateOrder.title"\n@draggable="{type: \'parent\'}"></layer-header>\n<div class="fv__CO-main">\n<div class="fv__CO-subtitle">form-designer:dialog.calculateOrder.subtitle</div>\n<div class="fv__CO-body">\n<div class="fv__fields-list" @stop-drag @aria:role="listbox" tabindex="0" @aria:labelledby="::parent()::previousSiblings()">\n\n</div>\n<div class="fv__CO-buttons">\n<div id="upButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.up</div>\n<div id="downButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n</div>\n<div class="fv__CO-footer d_f footer">\n\n<div id="COOK" class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled" @aria:role="button">dialog.ok</div>\n<div id="COCancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button" @aria:role="button">dialog.cancel</div>\n</div>\n</layer>','<layer name="field-CO-dialog" modal="true" class="fv__ui-CO-dialog center" @draggable>\n<layer-header class="fv__ui-CO-header" title="form-designer:dialog.calculateOrder.title"\n@draggable="{type: \'parent\'}"></layer-header>\n<div class="fv__CO-main">\n<div class="fv__CO-subtitle">form-designer:dialog.calculateOrder.subtitle</div>\n<div class="fv__CO-body">\n<div class="fv__fields-list" @stop-drag @aria:role="listbox" tabindex="0" @aria:labelledby="::parent()::previousSiblings()">\n\n</div>\n<div class="fv__CO-buttons">\n<div id="upButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.up</div>\n<div id="downButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n</div>\n<div class="fv__CO-footer d_f footer">\n\n<div id="COOK" class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled" @aria:role="button">dialog.ok</div>\n<div id="COCancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button" @aria:role="button">dialog.cancel</div>\n</div>\n</layer>'}},8645:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<layer name=\'duplicate-dialog\' modal="true" class="center fv__ui-duplicate-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.duplicateTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-duplicate-body" @aria:role="radiogroup" @aria:labelledby="::childAt(0)">\n<div>form-designer:dialog.duplicate.question</div>\n<div class="fv__ui-duplicate-options">\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" checked="1" name="duplicateOpts" value="all" class="duplicateChoice defaultOpt" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.all"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="odd" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.odd"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="even" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.even"></div>\n</div>\n</div>\n<div class="d_f ai_c">\n<div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="range" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n\n<span data-i18n="dialog.printDialog.from"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-start"></input>\n<span data-i18n="dialog.printDialog.to"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-end"></input>\n<span>/</span>\n<span class="fv_range-page-count"></span>\n</div>\n</div>\n<div class="fv_duplicate-msg"></div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv__ui-duplicate-footer footer">\n\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</layer>','<layer name=\'duplicate-dialog\' modal="true" class="center fv__ui-duplicate-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.duplicateTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-duplicate-body" @aria:role="radiogroup" @aria:labelledby="::childAt(0)">\n<div>form-designer:dialog.duplicate.question</div>\n<div class="fv__ui-duplicate-options">\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" checked="1" name="duplicateOpts" value="all" class="duplicateChoice defaultOpt" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.all"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="odd" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.odd"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="even" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.even"></div>\n</div>\n</div>\n<div class="d_f ai_c">\n<div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="range" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n\n<span data-i18n="dialog.printDialog.from"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-start"></input>\n<span data-i18n="dialog.printDialog.to"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-end"></input>\n<span>/</span>\n<span class="fv_range-page-count"></span>\n</div>\n</div>\n<div class="fv_duplicate-msg"></div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv__ui-duplicate-footer footer">\n\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</layer>'}},3892:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<layer name=\'multiple-copy-dialog\' modal="true" class="center fv__ui-multiple-copy-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.multipleCopyTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-multiple-copy-body">\n<div class="fv__multiple-copy-catalog">form-designer:dialog.multipleCopy.number</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.column</span>\n<input min="1" type="number" id="columnSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.row</span>\n<input min="1" type="number" id="rowSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.size</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.width</span>\n<input min="0" type="number" id="marginHorizon" value="10" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.height</span>\n<input min="0" type="number" id="marginVertical" value="5" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n<div class="fv__multiple-copy-position">\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.position</div>\n<div class="bg-wrap" @aria:role="application" @aria:labelledby="::previousSiblings()">\n<div class="left fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveLeft" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.left</div>\n<div class="up fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveUp" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.up</div>\n<div class="right fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveRight" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.right</div>\n<div class="down fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveDown" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.down</div>\n</div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c">\n<input type="checkbox" name="preview" id="preview" checked @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.preview"></div>\n</label>\n<label class="d_f ai_c fv__hidden">\n<input type="checkbox" name="sameName" checked="checked" id="sameName" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.sameName"></div>\n</label>\n</div>\n<div class="d_f footer">\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" id="MPSubmit" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</div>\n</layer>','<layer name=\'multiple-copy-dialog\' modal="true" class="center fv__ui-multiple-copy-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.multipleCopyTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-multiple-copy-body">\n<div class="fv__multiple-copy-catalog">form-designer:dialog.multipleCopy.number</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.column</span>\n<input min="1" type="number" id="columnSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.row</span>\n<input min="1" type="number" id="rowSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.size</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.width</span>\n<input min="0" type="number" id="marginHorizon" value="10" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.height</span>\n<input min="0" type="number" id="marginVertical" value="5" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n<div class="fv__multiple-copy-position">\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.position</div>\n<div class="bg-wrap" @aria:role="application" @aria:labelledby="::previousSiblings()">\n<div class="left fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveLeft" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.left</div>\n<div class="up fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveUp" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.up</div>\n<div class="right fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveRight" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.right</div>\n<div class="down fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveDown" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.down</div>\n</div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c">\n<input type="checkbox" name="preview" id="preview" checked @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.preview"></div>\n</label>\n<label class="d_f ai_c fv__hidden">\n<input type="checkbox" name="sameName" checked="checked" id="sameName" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.sameName"></div>\n</label>\n</div>\n<div class="d_f footer">\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" id="MPSubmit" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</div>\n</layer>'}},1895:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<div name="calculateTab">\n<div show-in-types="combobox,text" class="fv__calculate-tab" @aria:role="radio">\n<div class="d_f ai_c h_24 mb_10">\n<input id="noCalc" type="radio" value="0" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsNotCalculated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="simpleCalc" value="1" name="calculateRadio" @aria:labelledby="::parent()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsThe" class="ml_5"></div>\n<select id="simpleOp" name="calculate-type" class="w_100 mlmr_5 h_24" @aria:labelledby="::parent()>*">\n<option value="SUM" data-i18n="form-designer:dialog.calculate.sum"></option>\n<option value="PRD" data-i18n="form-designer:dialog.calculate.product"></option>\n<option value="AVG" data-i18n="form-designer:dialog.calculate.average"></option>\n<option value="MIN" data-i18n="form-designer:dialog.calculate.minimum"></option>\n<option value="MAX" data-i18n="form-designer:dialog.calculate.maximum"></option>\n</select>\n<div data-i18n="form-designer:dialog.calculate.ofTheFollowFields"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-2">\n<textarea id="simpleFields" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="pickFields" @aria:button>form-designer:dialog.calculate.pick</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="notationInput" value="2" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.simplifiedFieldNotation" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-3">\n<textarea id="notations" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="editNotations" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="customInput" value="3" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.customCalculateScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="calculate-child-4">\n<textarea id="COCustomScript" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled"  id="editCustomScript" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n</div>\n</div>','<div name="calculateTab">\n<div show-in-types="combobox,text" class="fv__calculate-tab" @aria:role="radio">\n<div class="d_f ai_c h_24 mb_10">\n<input id="noCalc" type="radio" value="0" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsNotCalculated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="simpleCalc" value="1" name="calculateRadio" @aria:labelledby="::parent()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsThe" class="ml_5"></div>\n<select id="simpleOp" name="calculate-type" class="w_100 mlmr_5 h_24" @aria:labelledby="::parent()>*">\n<option value="SUM" data-i18n="form-designer:dialog.calculate.sum"></option>\n<option value="PRD" data-i18n="form-designer:dialog.calculate.product"></option>\n<option value="AVG" data-i18n="form-designer:dialog.calculate.average"></option>\n<option value="MIN" data-i18n="form-designer:dialog.calculate.minimum"></option>\n<option value="MAX" data-i18n="form-designer:dialog.calculate.maximum"></option>\n</select>\n<div data-i18n="form-designer:dialog.calculate.ofTheFollowFields"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-2">\n<textarea id="simpleFields" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="pickFields" @aria:button>form-designer:dialog.calculate.pick</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="notationInput" value="2" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.simplifiedFieldNotation" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-3">\n<textarea id="notations" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="editNotations" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="customInput" value="3" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.customCalculateScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="calculate-child-4">\n<textarea id="COCustomScript" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled"  id="editCustomScript" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n</div>\n</div>'}},3383:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=function(e){return t+=e};return t+='<layer name="form-properties-dialog" class="fv__ui-form-properties-dialog" @draggable>\n<div class="fv_ui_dialog_title" name="form-properties-dialog-header">\n<div show-in-types="pushbutton" data-i18n="form-designer:dialog.pushButtonTitle"></div>\n<div show-in-types="checkbox" data-i18n="form-designer:dialog.checkBoxTitle"></div>\n<div show-in-types="radiobutton" data-i18n="form-designer:dialog.radioButtonTitle"></div>\n<div show-in-types="combobox" data-i18n="form-designer:dialog.comboBoxTitle"></div>\n<div show-in-types="listbox" data-i18n="form-designer:dialog.listBoxTitle"></div>\n<div show-in-types="text" data-i18n="form-designer:dialog.textFieldTitle"></div>\n<div show-in-types="sign" data-i18n="form-designer:dialog.signatureTitle"></div>\n<div class="fv__ui-form-multiple-selected-title" data-i18n="form-designer:dialog.multipleSelectedTitle"></div>\n<button href="javascript:;" class="fv__ui-layer-header-button" name="closeDialog" type="button">\n<i class="fv__icon-layer-close"></i>\n</button>\n</div>\n<div class="fv__ui-form-tab-nav" name="form-properties-dialog-nav">\n<div data-i18n="form-designer:dialog.tabNav.general"></div>\n<div data-i18n="form-designer:dialog.tabNav.appearance"></div>\n<div data-i18n="form-designer:dialog.tabNav.position"></div>\n<div class="fv__ui-form-multiple-hide" hide-in-types="sign" data-i18n="form-designer:dialog.tabNav.options"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.format"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.validate"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.calculate"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="listbox" data-i18n="form-designer:dialog.tabNav.selectionChange"></div>\n<div class="fv__ui-form-multiple-hide" data-i18n="form-designer:dialog.tabNav.action"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="sign" data-i18n="form-designer:dialog.tabNav.signed"></div>\n</div>\n<div class="fv__ui-form-tab-body" name="form-properties-dialog-body">\n',n(i(5654)(e)),t+="\n",n(i(76)(e)),t+="\n",n(i(9739)(e)),t+="\n",n(i(8005)(e)),t+="\n",n(i(4608)(e)),t+="\n",n(i(3354)(e)),t+="\n",n(i(1895)(e)),t+="\n",n(i(220)(e)),t+="\n",n(i(1221)(e)),t+="\n",n(i(5422)(e)),t+='\n<div class="lock-mask"></div>\n</div>\n<div class="d_f ai_c jc_sb footer">\n<label class="d_f ai_c">\n<input type="checkbox" name="locked"/>\n<div data-i18n="form-designer:dialog.footer.locked"></div>\n</label>\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" @stop-drag name="closeDialog" tabindex="0" @aria:role="button">dialog.close</div>\n</div>\n</layer>'}},4608:function(e,t,i){var n=i(5779);e.exports=function(e){"use strict";var t="",i=(e=e||{}).i,o=n.$escape,a=n.$each,s=e.dateOptions,r=(e.item,e.index,e.timeOptions);t+='<div class="fv__ui-form-properties-dialog-format" name="formatTab">\n<div show-in-types="combobox,text">\n<label class="d_f ai_c">\n<div data-i18n="form-designer:dialog.format.selectFormatCategory"></div>\n<select class="w_180 h_24 ml_10" name="category">\n<option data-i18n="form-designer:dialog.format.none" value="none"></option>\n<option data-i18n="form-designer:dialog.format.number" value="number"></option>\n<option data-i18n="form-designer:dialog.format.percentage" value="percentage"></option>\n<option data-i18n="form-designer:dialog.format.date" value="date"></option>\n<option data-i18n="form-designer:dialog.format.time" value="time"></option>\n<option data-i18n="form-designer:dialog.format.special" value="special"></option>\n<option data-i18n="form-designer:dialog.format.custom" value="custom"></option>\n</select>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="number" style="margin-top:20px">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.optionTitle.number"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.decimalPlaces"></div>\n<select class="f_1 h_24" name="decimalPlaces">\n';for(i=0;i<=10;i++)t+='\n<option value="',t+=o(i),t+='">',t+=o(i),t+="</option>\n";t+='\n</select>\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.separatorStyle"></div>\n<select class="f_1 h_24" name="separatorStyle">\n<option value="0">1,234.56</option>\n<option value="1">1234.56</option>\n<option value="2">1.234,56</option>\n<option value="3">1234,56</option>\n<option value="4">1 234,56</option>\n</select>\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.currencySymbol"></div>\n<select class="f_1 h_24" name="currencySymbol">\n<option value="0" data-i18n="form-designer:dialog.format.none"></option>\n<option value="1" data-i18n="form-designer:dialog.format.currencySymbolList.USDollar"></option>\n<option value="2" data-i18n="form-designer:dialog.format.currencySymbolList.DeutschMark"></option>\n<option value="3" data-i18n="form-designer:dialog.format.currencySymbolList.Euro"></option>\n<option value="4" data-i18n="form-designer:dialog.format.currencySymbolList.DutchGuilder"></option>\n<option value="5" data-i18n="form-designer:dialog.format.currencySymbolList.Franc"></option>\n<option value="6" data-i18n="form-designer:dialog.format.currencySymbolList.DanishKrone"></option>\n<option value="7" data-i18n="form-designer:dialog.format.currencySymbolList.ItalianLira"></option>\n<option value="8" data-i18n="form-designer:dialog.format.currencySymbolList.SpanishPeseta"></option>\n<option value="9" data-i18n="form-designer:dialog.format.currencySymbolList.Pound"></option>\n<option value="10" data-i18n="form-designer:dialog.format.currencySymbolList.AustralianDollar"></option>\n<option value="11" data-i18n="form-designer:dialog.format.currencySymbolList.NewZealandDollar"></option>\n<option value="12" data-i18n="form-designer:dialog.format.currencySymbolList.RussianRuble"></option>\n<option value="13" data-i18n="form-designer:dialog.format.currencySymbolList.PortugueseEscudo"></option>\n<option value="14" data-i18n="form-designer:dialog.format.currencySymbolList.HongKongDollar"></option>\n<option value="15" data-i18n="form-designer:dialog.format.currencySymbolList.MacaoPataca"></option>\n<option value="16" data-i18n="form-designer:dialog.format.currencySymbolList.RenminbiYuan"></option>\n<option value="17" data-i18n="form-designer:dialog.format.currencySymbolList.NewTaiwanDollar"></option>\n<option value="18" data-i18n="form-designer:dialog.format.currencySymbolList.SingaporeDollar"></option>\n<option value="19" data-i18n="form-designer:dialog.format.currencySymbolList.KoreanWon"></option>\n<option value="20" data-i18n="form-designer:dialog.format.currencySymbolList.JapaneseYen"></option>\n<option value="21" data-i18n="form-designer:dialog.format.currencySymbolList.PolishZloty"></option>\n<option value="22" data-i18n="form-designer:dialog.format.currencySymbolList.Krona"></option>\n<option value="23" data-i18n="form-designer:dialog.format.currencySymbolList.NorwegianKrone"></option>\n<option value="24" data-i18n="form-designer:dialog.format.currencySymbolList.CanadianDollar"></option>\n</select>\n<div class="w_120"></div>\n</label>\n<div class="d_f">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.negativeNumberStyle"></div>\n<div>\n<label class="lh_24 d_f ai_c">\n<input type="checkbox" name="showParentheses"/>\n<div data-i18n="form-designer:dialog.format.showParentheses"></div>\n</label>\n<label class="lh_24 d_f ai_c">\n<input type="checkbox" name="useRedText"/>\n<div data-i18n="form-designer:dialog.format.useRedText"></div>\n</label>\n</div>\n</div>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="percentage">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.percentage"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.decimalPlaces"></div>\n<select class="f_1 h_24" name="percentDecimalPlaces">\n';for(i=0;i<=10;i++)t+='\n<option value="',t+=o(i),t+='">',t+=o(i),t+="</option>\n";return t+='\n</select>\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.separatorStyle"></div>\n<select class="f_1 h_24" name="percentSeparatorStyle">\n<option value="0">1,234.56</option>\n<option value="1">1234.56</option>\n<option value="2">1.234,56</option>\n<option value="3">1234,56</option>\n<option value="4">1 234,56</option>\n</select>\n<div class="w_120"></div>\n</label>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="date">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.date"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<div class="d_f jc_c ai_c mb_10">\n<select class="w_300 h_150" multiple name="dateFormatOptions">\n',a(s,(function(e,i){t+='\n<option value="',t+=o(e.value),t+='">',t+=o(e.name),t+="</option>\n"})),t+='\n<option value="Custom" data-i18n="form-designer:dialog.format.custom"></option>\n</select>\n</div>\n<div class="d_f jc_c ai_c" name="dateCustomFormat">\n<input type="text" class="w_300 h_24" name="dateCustomFormatText" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n</div>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="time">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.time"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<div class="d_f jc_c ai_c mb_10">\n<select class="w_300 h_150" multiple name="timeFormatOptions">\n',a(r,(function(e,i){t+='\n<option value="',t+=o(e.value),t+='">',t+=o(e.name),t+="</option>\n"})),t+='\n<option value="Custom" data-i18n="form-designer:dialog.format.custom"></option>\n</select>\n</div>\n<div class="d_f jc_c ai_c" name="timeCustomFormat">\n<input type="text" class="w_300 h_24" name="timeCustomFormatText" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n </div>\n </div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n </fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="special">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.special"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<div class="d_f jc_c ai_c mb_10">\n<select class="w_300 h_150" multiple name="specialFormatOptions">\n<option value="zipCode" data-i18n="form-designer:dialog.format.zipCode"></option>\n<option value="zipCode4" data-i18n="form-designer:dialog.format.zipCode4"></option>\n<option value="phoneNumber" data-i18n="form-designer:dialog.format.phoneNumber"></option>\n<option value="socialSecurityNumber" data-i18n="form-designer:dialog.format.socialSecurityNumber"></option>\n<option value="arbitraryMask" data-i18n="form-designer:dialog.format.arbitraryMask"></option>\n</select>\n</div>\n<div class="d_f jc_c ai_c" name="specialArbitraryFormat">\n<input type="text" class="w_300 h_24" name="specialArbitraryFormatText" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n</div>\n </div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="custom">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.custom"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div class="plpr_20">\n<div class="mtmb_10" data-i18n="form-designer:dialog.format.customFormatScript"></div>\n<div class="d_f">\n<textarea class="f_1 mr_20 h_70 disabled" name="editFormat" @aria:labelledby="::parent()::previousSiblings()" data-forbid="true"></textarea>\n<div @aria:button class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditFormat" @aria:describedby="::parent()::previousSiblings()">form-designer:dialog.format.edit</div>\n</div>\n<div class="mtmb_10" data-i18n="form-designer:dialog.format.customKeystrokeScript"></div>\n<div class="d_f">\n<textarea class="f_1 mr_20 h_70 disabled" name="editKeystroke" @aria:labelledby="::parent()::previousSiblings()" data-forbid="true"></textarea>\n<div @aria:button class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditKeystroke" @aria:describedby="::parent()::previousSiblings()">form-designer:dialog.format.edit</div>\n</div>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="none">\n<legend class="d_f ai_c"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div></div>\n</div>\n</fieldset>\n<div class="mt_10" name="categoryInfo"></div>\n</div>\n</div>'}},8005:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-form-properties-dialog-options" name="optionsTab">\n<div hide-in-types="sign">\n<div show-in-types="pushbutton">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.layout"></div>\n<select class="f_1 h_24" name="layout">\n<option data-i18n="form-designer:dialog.options.pushButton.labelOnly" value="e_MKRelationNoIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconOnly" value="e_MKRelationNoCaption"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconTopLabelBottom" value="e_MKRelationCaptionBelowIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelTopIconBottom" value="e_MKRelationCaptionAboveIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconLeftLabelRight" value="e_MKRelationCaptionRight"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelLeftIconRight" value="e_MKRelationCaptionLeft"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelOverIcon" value="e_MKRelationCaptionOvrlayOnIcon"></option>\n</select>\n<div class="pl_20 pr_10">\n<div class="fv__ui-dialog-button small w_100" name="advanced" @aria:button>form-designer:dialog.options.pushButton.advanced</div>\n</div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.behavior"></div>\n<select class="f_1 h_24" name="behavior">\n<option data-i18n="form-designer:dialog.options.pushButton.none" value="e_HighlightingNone"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.push" value="e_HighlightingPush"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.outline" value="e_HighlightingOutline"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.invert" value="e_HighlightingInvert"></option>\n</select>\n<div class="pl_20 pr_10"><div class="w_100"></div></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.options.pushButton.iconAndLabel"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="ml_20 w_160" data-i18n="form-designer:dialog.options.pushButton.state"></div>\n<div class="mr_10 w_50 ta_r" data-i18n="form-designer:dialog.options.pushButton.label"></div>\n<input type="text" class="f_1 h_24 mr_20 b_1s bc_ddd" name="stateLabel" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="d_f">\n<select class="ml_20 h_100 w_130 state-position" name="position" multiple @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n<option data-i18n="form-designer:dialog.options.pushButton.up" value="up"></option>\n\x3c!-- <option data-i18n="form-designer:dialog.options.pushButton.down" value="down"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.rollover" value="rollover"></option> --\x3e\n</select>\n<div class="mr_10 w_70 ta_r ml_10" data-i18n="form-designer:dialog.options.pushButton.icon"></div>\n<div class="w_100 h_100 b_1s bc_ddd b_fff wrap-icon content-bg">\n<img class="icon-img" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<div class="d_f fd_c jc_c ai_c f_1">\n<div @aria:button class="fv__ui-dialog-button small w_120 plpr_0" name="chooseIcon">form-designer:dialog.options.pushButton.chooseIcon</div>\n<input id="chooseIconFile" type="file" accept="image/jpg,image/jpeg,image/bmp,image/png" style="display: none;" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_120 mt_20" name="clearIcon" @aria:button>form-designer:dialog.options.pushButton.clear</div>\n</div>\n</div>\n</div>\n</fieldset>\n\x3c!-- Advanced弹窗 --\x3e\n<div @aria:circular-focus class="fv__ui-form-properties-dialog fv__ui-layer fv__advanced-dialog" @aria:role="dialog" tabindex="-1" @aria:labelledby="fv--form-designer-pushbutton-advance-title" @aria:describedby="fv--form-designer-pushbutton-advance-tip">\n<div class="fv_ui_dialog_title">\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.title" name="fv--form-designer-pushbutton-advance-title"></div>\n<i class="fv__icon-layer-close" @aria:button></i>\n</div>\n<div class="fv__advanced-body">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScaleType"></div>\n<select class="f_1 h_24" name="scaleType">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionAlways" value="e_ScaleWayAlways"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNever" value="e_ScaleWayNever"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionBig" value="e_ScaleWayBigger"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionSmall" value="e_ScaleWaySmaller"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScale"></div>\n<select class="f_1 h_24" name="scale">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionProportionally" value="true"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNonProportionally" value="false"></option>\n</select>\n</label>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_150 ta_r">\n<label class="d_f ai_c jc_fe">\n<input type="checkbox" name="fit"/>\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.checkFit"></div>\n</label>\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelButton" name="fv--form-designer-pushbutton-advance-bounds-label"></div>\n<div class="wrap-icon w_100 h_100 b_1s bc_ddd">\n<div class="icon w_60 h_60 b_1s bc_ddd d_f ai_c jc_c" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.icon"></div>\n</div>\n<div class="p_r w_14 h_100 ml_10">\n<input class="slider-y" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::childAt(0)">\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r"></div>\n<div class="p_r w_100 h_14">\n<input class="slider-x" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::previousSiblings()::childAt(0)">\n</div>\n<div class="fraction ml_5" @aria:attr.live="\'assertive\'" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">(0,0)</div>\n</div>\n<div class="d_f ai_c mb_10" name="fv--form-designer-pushbutton-advance-tip" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.tip"></div>\n</div>\n<div class="d_f ai_c jc_sb footer">\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button reset-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonReset"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-ok-button confirm-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonOk"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button cancel-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonCancel"></div>\n</div>\n</div>\n</div>\n<div show-in-types="combobox,listbox" class="fv__comboListOptions_tab">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.item"></div>\n<input type="text" class="f_1 h_24" name="itemLabel" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="addItemBtn" @aria:button>form-designer:dialog.options.comboListBox.add</div>\n</div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.exportValue"></div>\n<input type="text" class="f_1 h_24" name="itemValue">\n<div class="w_100 mlmr_20"></div>\n</label>\n<div class="d_f mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.itemList"></div>\n\x3c!-- <select class="f_1 h_200" multiple name="items" @aria:labelledby="::previousSiblings()"></select> --\x3e\n<select-list limit="1" class="f_1 h_200" name="items" @aria:labelledby="::previousSiblings()" @var.select="$component">\n<sel-option @foreach="item in select.items track by value" @setter.value="item.value">@{item.label}</sel-option>\n</select-list>\n<div class="d_f fd_c">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="deleteItemBtn" @aria:button>form-designer:dialog.options.comboListBox.delete</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="upItemBtn" @aria:button>form-designer:dialog.options.comboListBox.up</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="downItemBtn" @aria:button>form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.sortItems"></div>\n</label>\n</div>\n--\x3e\n<div hide-in-types="listbox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="allowUserEnter"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.allowUserEnter"></div>\n</label>\n</div>\n<div hide-in-types="combobox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiSelect"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.multipleSelection"></div>\n</label>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.commitSelectedValue"></div>\n</label>\n</div>\n--\x3e\n</div>\n<div show-in-types="checkbox,radiobutton">\n<label class="d_f ai_c mb_10">\n<div show-in-types="checkbox" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.checkboxStyle"></div>\n<div show-in-types="radiobutton" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.buttonStyle"></div>\n<select class="f_1 h_24" name="buttonStyle">\n<option data-i18n="form-designer:dialog.options.choice.check" value="4"></option>\n<option data-i18n="form-designer:dialog.options.choice.circle" value="l"></option>\n<option data-i18n="form-designer:dialog.options.choice.cross" value="8"></option>\n<option data-i18n="form-designer:dialog.options.choice.diamond" value="u"></option>\n<option data-i18n="form-designer:dialog.options.choice.square" value="n"></option>\n<option data-i18n="form-designer:dialog.options.choice.star" value="H"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.exportValue"></div>\n<input type="text" class="f_1 h_24" name="exportValue">\n</label>\n<div class="d_f ai_c h_24">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="selectedByDefault"/>\n<div data-i18n="form-designer:dialog.options.choice.checkedByDefault"></div>\n</label>\n</div>\n<div hide-in-types="checkbox" class="d_f ai_c h_24 mt_10">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="radioButtonsValue"/>\n<div data-i18n="form-designer:dialog.options.choice.radioSameNameValueUnison"></div>\n</label>\n</div>\n</div>\n<div show-in-types="text">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.alignment"></div>\n<select class="f_1 h_24" name="alignment">\n<option data-i18n="form-designer:dialog.options.textField.left" value="0"></option>\n<option data-i18n="form-designer:dialog.options.textField.center" value="1"></option>\n<option data-i18n="form-designer:dialog.options.textField.right" value="2"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.defaultValue"></div>\n<textarea class="h_60 f_1" name="defaultValue"></textarea>\n</label>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="scrollLongText"/>\n<div data-i18n="form-designer:dialog.options.textField.scrollLongText"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="richText"/>\n<div data-i18n="form-designer:dialog.options.textField.allowRichTextFormatting"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textLimit" @aria:labelledby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.limitOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextLimit" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textPassword"/>\n<div data-i18n="form-designer:dialog.options.textField.password"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="fileSelect"/>\n<div data-i18n="form-designer:dialog.options.textField.fieldIsUsedForFileSelection"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="checkSpell"/>\n<div data-i18n="form-designer:dialog.options.textField.checkSpelling"></div>\n</label>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textComb" @aria:describedby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.combOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextComb" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiLine"/>\n<div data-i18n="form-designer:dialog.options.textField.multiLine"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<div data-i18n="form-designer:dialog.options.textField.lineSpacing" class="pr_10 w_120 ta_r"></div>\n<select class="w_120 h_24" name="lineSpace">\n<option data-i18n="form-designer:dialog.options.textField.single" value="0,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.lines1_5" value="1,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.doubleLines" value="2,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.exactly" value="3,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.auto" value="auto"></option>\n</select>\n</div>\n--\x3e\n<div class="d_f ai_c h_24">\n<div class="w_120 fs_0"></div>\n<div class="pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.at"></div>\n<input type="text" class="w_90 h_24" name="lineSpaceExactlyValue" @aria:labelledby="::parent()"/>\n<div class="w_30 ta_c" data-i18n="form-designer:dialog.options.textField.pt"></div>\n</div>\n</div>\n</div>\n</div>\n','<div class="fv__ui-form-properties-dialog-options" name="optionsTab">\n<div hide-in-types="sign">\n<div show-in-types="pushbutton">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.layout"></div>\n<select class="f_1 h_24" name="layout">\n<option data-i18n="form-designer:dialog.options.pushButton.labelOnly" value="e_MKRelationNoIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconOnly" value="e_MKRelationNoCaption"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconTopLabelBottom" value="e_MKRelationCaptionBelowIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelTopIconBottom" value="e_MKRelationCaptionAboveIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconLeftLabelRight" value="e_MKRelationCaptionRight"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelLeftIconRight" value="e_MKRelationCaptionLeft"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelOverIcon" value="e_MKRelationCaptionOvrlayOnIcon"></option>\n</select>\n<div class="pl_20 pr_10">\n<div class="fv__ui-dialog-button small w_100" name="advanced" @aria:button>form-designer:dialog.options.pushButton.advanced</div>\n</div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.behavior"></div>\n<select class="f_1 h_24" name="behavior">\n<option data-i18n="form-designer:dialog.options.pushButton.none" value="e_HighlightingNone"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.push" value="e_HighlightingPush"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.outline" value="e_HighlightingOutline"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.invert" value="e_HighlightingInvert"></option>\n</select>\n<div class="pl_20 pr_10"><div class="w_100"></div></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.options.pushButton.iconAndLabel"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="ml_20 w_160" data-i18n="form-designer:dialog.options.pushButton.state"></div>\n<div class="mr_10 w_50 ta_r" data-i18n="form-designer:dialog.options.pushButton.label"></div>\n<input type="text" class="f_1 h_24 mr_20 b_1s bc_ddd" name="stateLabel" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="d_f">\n<select class="ml_20 h_100 w_130 state-position" name="position" multiple @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n<option data-i18n="form-designer:dialog.options.pushButton.up" value="up"></option>\n\x3c!-- <option data-i18n="form-designer:dialog.options.pushButton.down" value="down"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.rollover" value="rollover"></option> --\x3e\n</select>\n<div class="mr_10 w_70 ta_r ml_10" data-i18n="form-designer:dialog.options.pushButton.icon"></div>\n<div class="w_100 h_100 b_1s bc_ddd b_fff wrap-icon content-bg">\n<img class="icon-img" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<div class="d_f fd_c jc_c ai_c f_1">\n<div @aria:button class="fv__ui-dialog-button small w_120 plpr_0" name="chooseIcon">form-designer:dialog.options.pushButton.chooseIcon</div>\n<input id="chooseIconFile" type="file" accept="image/jpg,image/jpeg,image/bmp,image/png" style="display: none;" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_120 mt_20" name="clearIcon" @aria:button>form-designer:dialog.options.pushButton.clear</div>\n</div>\n</div>\n</div>\n</fieldset>\n\x3c!-- Advanced弹窗 --\x3e\n<div @aria:circular-focus class="fv__ui-form-properties-dialog fv__ui-layer fv__advanced-dialog" @aria:role="dialog" tabindex="-1" @aria:labelledby="fv--form-designer-pushbutton-advance-title" @aria:describedby="fv--form-designer-pushbutton-advance-tip">\n<div class="fv_ui_dialog_title">\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.title" name="fv--form-designer-pushbutton-advance-title"></div>\n<i class="fv__icon-layer-close" @aria:button></i>\n</div>\n<div class="fv__advanced-body">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScaleType"></div>\n<select class="f_1 h_24" name="scaleType">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionAlways" value="e_ScaleWayAlways"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNever" value="e_ScaleWayNever"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionBig" value="e_ScaleWayBigger"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionSmall" value="e_ScaleWaySmaller"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScale"></div>\n<select class="f_1 h_24" name="scale">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionProportionally" value="true"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNonProportionally" value="false"></option>\n</select>\n</label>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_150 ta_r">\n<label class="d_f ai_c jc_fe">\n<input type="checkbox" name="fit"/>\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.checkFit"></div>\n</label>\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelButton" name="fv--form-designer-pushbutton-advance-bounds-label"></div>\n<div class="wrap-icon w_100 h_100 b_1s bc_ddd">\n<div class="icon w_60 h_60 b_1s bc_ddd d_f ai_c jc_c" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.icon"></div>\n</div>\n<div class="p_r w_14 h_100 ml_10">\n<input class="slider-y" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::childAt(0)">\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r"></div>\n<div class="p_r w_100 h_14">\n<input class="slider-x" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::previousSiblings()::childAt(0)">\n</div>\n<div class="fraction ml_5" @aria:attr.live="\'assertive\'" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">(0,0)</div>\n</div>\n<div class="d_f ai_c mb_10" name="fv--form-designer-pushbutton-advance-tip" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.tip"></div>\n</div>\n<div class="d_f ai_c jc_sb footer">\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button reset-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonReset"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-ok-button confirm-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonOk"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button cancel-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonCancel"></div>\n</div>\n</div>\n</div>\n<div show-in-types="combobox,listbox" class="fv__comboListOptions_tab">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.item"></div>\n<input type="text" class="f_1 h_24" name="itemLabel" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="addItemBtn" @aria:button>form-designer:dialog.options.comboListBox.add</div>\n</div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.exportValue"></div>\n<input type="text" class="f_1 h_24" name="itemValue">\n<div class="w_100 mlmr_20"></div>\n</label>\n<div class="d_f mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.itemList"></div>\n\x3c!-- <select class="f_1 h_200" multiple name="items" @aria:labelledby="::previousSiblings()"></select> --\x3e\n<select-list limit="1" class="f_1 h_200" name="items" @aria:labelledby="::previousSiblings()" @var.select="$component">\n<sel-option @foreach="item in select.items track by value" @setter.value="item.value">@{item.label}</sel-option>\n</select-list>\n<div class="d_f fd_c">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="deleteItemBtn" @aria:button>form-designer:dialog.options.comboListBox.delete</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="upItemBtn" @aria:button>form-designer:dialog.options.comboListBox.up</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="downItemBtn" @aria:button>form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.sortItems"></div>\n</label>\n</div>\n--\x3e\n<div hide-in-types="listbox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="allowUserEnter"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.allowUserEnter"></div>\n</label>\n</div>\n<div hide-in-types="combobox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiSelect"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.multipleSelection"></div>\n</label>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.commitSelectedValue"></div>\n</label>\n</div>\n--\x3e\n</div>\n<div show-in-types="checkbox,radiobutton">\n<label class="d_f ai_c mb_10">\n<div show-in-types="checkbox" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.checkboxStyle"></div>\n<div show-in-types="radiobutton" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.buttonStyle"></div>\n<select class="f_1 h_24" name="buttonStyle">\n<option data-i18n="form-designer:dialog.options.choice.check" value="4"></option>\n<option data-i18n="form-designer:dialog.options.choice.circle" value="l"></option>\n<option data-i18n="form-designer:dialog.options.choice.cross" value="8"></option>\n<option data-i18n="form-designer:dialog.options.choice.diamond" value="u"></option>\n<option data-i18n="form-designer:dialog.options.choice.square" value="n"></option>\n<option data-i18n="form-designer:dialog.options.choice.star" value="H"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.exportValue"></div>\n<input type="text" class="f_1 h_24" name="exportValue">\n</label>\n<div class="d_f ai_c h_24">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="selectedByDefault"/>\n<div data-i18n="form-designer:dialog.options.choice.checkedByDefault"></div>\n</label>\n</div>\n<div hide-in-types="checkbox" class="d_f ai_c h_24 mt_10">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="radioButtonsValue"/>\n<div data-i18n="form-designer:dialog.options.choice.radioSameNameValueUnison"></div>\n</label>\n</div>\n</div>\n<div show-in-types="text">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.alignment"></div>\n<select class="f_1 h_24" name="alignment">\n<option data-i18n="form-designer:dialog.options.textField.left" value="0"></option>\n<option data-i18n="form-designer:dialog.options.textField.center" value="1"></option>\n<option data-i18n="form-designer:dialog.options.textField.right" value="2"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.defaultValue"></div>\n<textarea class="h_60 f_1" name="defaultValue"></textarea>\n</label>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="scrollLongText"/>\n<div data-i18n="form-designer:dialog.options.textField.scrollLongText"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="richText"/>\n<div data-i18n="form-designer:dialog.options.textField.allowRichTextFormatting"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textLimit" @aria:labelledby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.limitOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextLimit" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textPassword"/>\n<div data-i18n="form-designer:dialog.options.textField.password"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="fileSelect"/>\n<div data-i18n="form-designer:dialog.options.textField.fieldIsUsedForFileSelection"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="checkSpell"/>\n<div data-i18n="form-designer:dialog.options.textField.checkSpelling"></div>\n</label>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textComb" @aria:describedby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.combOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextComb" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiLine"/>\n<div data-i18n="form-designer:dialog.options.textField.multiLine"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<div data-i18n="form-designer:dialog.options.textField.lineSpacing" class="pr_10 w_120 ta_r"></div>\n<select class="w_120 h_24" name="lineSpace">\n<option data-i18n="form-designer:dialog.options.textField.single" value="0,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.lines1_5" value="1,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.doubleLines" value="2,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.exactly" value="3,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.auto" value="auto"></option>\n</select>\n</div>\n--\x3e\n<div class="d_f ai_c h_24">\n<div class="w_120 fs_0"></div>\n<div class="pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.at"></div>\n<input type="text" class="w_90 h_24" name="lineSpaceExactlyValue" @aria:labelledby="::parent()"/>\n<div class="w_30 ta_c" data-i18n="form-designer:dialog.options.textField.pt"></div>\n</div>\n</div>\n</div>\n</div>\n'}},9739:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="form-properties-dialog-position-tab" name="positionTab">\n<label class="item">\n<div class="title-label" data-i18n="form-designer:dialog.position.units"></div>\n<select name="units" class="title-md-control">\n<option data-i18n="form-designer:dialog.position.points" value="pt"></option>\n<option data-i18n="form-designer:dialog.position.inches" value="inch"></option>\n<option data-i18n="form-designer:dialog.position.centimeters" value="cm"></option>\n<option data-i18n="form-designer:dialog.position.picas" value="pica"></option>\n<option data-i18n="form-designer:dialog.position.millimeters" value="mm"></option>\n</select>\n</label>\n<fieldset class="item fv__ui-form-designer-fieldset">\n<legend class="title" data-i18n="form-designer:dialog.position.name"></legend>\n<div class="item inputContainer">\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.left"></div>\n<number name="left" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.bottom"></div>\n<number name="bottom" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.right"></div>\n<number name="right" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.top"></div>\n<number name="top" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.width"></div>\n<number name="width" class="positionWidth" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.height"></div>\n<number name="height" class="positionHeight" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n</div>\n</fieldset>\n<div class="item">\n<div class="title-label"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="lockWidthHeight"/>\n<div data-i18n="form-designer:dialog.position.required"></div>\n</label>\n</div>\n</div>\n','<div class="form-properties-dialog-position-tab" name="positionTab">\n<label class="item">\n<div class="title-label" data-i18n="form-designer:dialog.position.units"></div>\n<select name="units" class="title-md-control">\n<option data-i18n="form-designer:dialog.position.points" value="pt"></option>\n<option data-i18n="form-designer:dialog.position.inches" value="inch"></option>\n<option data-i18n="form-designer:dialog.position.centimeters" value="cm"></option>\n<option data-i18n="form-designer:dialog.position.picas" value="pica"></option>\n<option data-i18n="form-designer:dialog.position.millimeters" value="mm"></option>\n</select>\n</label>\n<fieldset class="item fv__ui-form-designer-fieldset">\n<legend class="title" data-i18n="form-designer:dialog.position.name"></legend>\n<div class="item inputContainer">\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.left"></div>\n<number name="left" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.bottom"></div>\n<number name="bottom" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.right"></div>\n<number name="right" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.top"></div>\n<number name="top" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.width"></div>\n<number name="width" class="positionWidth" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.height"></div>\n<number name="height" class="positionHeight" min="0" step="0.01" @aria:labelledby="::previousSiblings()"></number>\n<span class="unit"></span>\n</div>\n</div>\n</fieldset>\n<div class="item">\n<div class="title-label"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="lockWidthHeight"/>\n<div data-i18n="form-designer:dialog.position.required"></div>\n</label>\n</div>\n</div>\n'}},220:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<div>\n<div show-in-types="listbox" class="fv_list-action">\n<div class="d_f ai-c mb-10">\n<div class="d_f ai-c" data-i18n="form-designer:dialog.selection.title"></div>\n</div>\n<div class="fv_list-action-options" @aria:role="radiogroup" @aria:labelledby="::previousSiblings()::childAt(0)">\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="no" name="selectAction" data-id="0" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.noSelection"></div>\n</div>\n</div>\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="customJS"  name="selectAction" data-id="1" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.selectAction"></div>\n</div>\n</div>\n<div class="d_f ai-c customJS">\n<textarea id="keyStrokeJS" cols="30" rows="5" readOnly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<button class="btn-edit fv__ui-dialog-button">form-designer:dialog.validate.edit</button>\n</div>\n</div>\n</div>\n</div>','<div>\n<div show-in-types="listbox" class="fv_list-action">\n<div class="d_f ai-c mb-10">\n<div class="d_f ai-c" data-i18n="form-designer:dialog.selection.title"></div>\n</div>\n<div class="fv_list-action-options" @aria:role="radiogroup" @aria:labelledby="::previousSiblings()::childAt(0)">\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="no" name="selectAction" data-id="0" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.noSelection"></div>\n</div>\n</div>\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="customJS"  name="selectAction" data-id="1" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.selectAction"></div>\n</div>\n</div>\n<div class="d_f ai-c customJS">\n<textarea id="keyStrokeJS" cols="30" rows="5" readOnly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<button class="btn-edit fv__ui-dialog-button">form-designer:dialog.validate.edit</button>\n</div>\n</div>\n</div>\n</div>'}},5422:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv_sign-tab"  name="signedTab">\n<label class="d_f ai_c fv_signed-label">\n<input type="radio" id="noAction" name="signAction" value="noAction"/>\n<div data-i18n="form-designer:dialog.signed.nothing"></div>\n</label>\n<div class="d_f ai_c fv_signed-label fv_sign_fieldAction">\n<label class="d_f">\n<input type="radio" id="fieldsFlag" name="signAction" class="fv_input-pickfield"  value="fieldsFlag"/>\n<div data-i18n="form-designer:dialog.signed.mark"></div>\n</label>\n<select class="fv_sign-fields-category" name="signed-type" @aria:labelledby="::previousSiblings()">\n<option  data-i18n="form-designer:dialog.signed.all" value="all"></option>\n<option  data-i18n="form-designer:dialog.signed.exclude" value="exclude"></option>\n<option  data-i18n="form-designer:dialog.signed.include" value="include"></option>\n</select>\n<div class="fv_sign-fields">\n<input readOnly="1" class="fv_-fields-list" name="sign-fields" @aria:labelledby="::parent()::previousSiblings()::previousSiblings(),::parent()::previousSiblings()"></input>\n<div class="fv__ui-dialog-ok-button" id="pickField" data-i18n="form-designer:dialog.signed.pick" @aria:button></div>\n</div>\n</div>\n\n<div class="d_f ai_c fv_signed-label fv_sign-script">\n<label class="d_f">\n<input type="radio" id="customScript" name="signAction" value="customScript"/>\n<div data-i18n="form-designer:dialog.signed.custom"></div>\n</label>\n<div @aria:button class="fv__ui-dialog-ok-button" id="editScript" data-i18n="form-designer:dialog.signed.edit"></div>\n<textarea resizeable=false readOnly="1" name="fv_sign-script-input" class=\'fv_sign-script-input\' @aria:labelledby="::parent()::childAt(0)"></textarea>\n</div>\n</div>','<div class="fv_sign-tab"  name="signedTab">\n<label class="d_f ai_c fv_signed-label">\n<input type="radio" id="noAction" name="signAction" value="noAction"/>\n<div data-i18n="form-designer:dialog.signed.nothing"></div>\n</label>\n<div class="d_f ai_c fv_signed-label fv_sign_fieldAction">\n<label class="d_f">\n<input type="radio" id="fieldsFlag" name="signAction" class="fv_input-pickfield"  value="fieldsFlag"/>\n<div data-i18n="form-designer:dialog.signed.mark"></div>\n</label>\n<select class="fv_sign-fields-category" name="signed-type" @aria:labelledby="::previousSiblings()">\n<option  data-i18n="form-designer:dialog.signed.all" value="all"></option>\n<option  data-i18n="form-designer:dialog.signed.exclude" value="exclude"></option>\n<option  data-i18n="form-designer:dialog.signed.include" value="include"></option>\n</select>\n<div class="fv_sign-fields">\n<input readOnly="1" class="fv_-fields-list" name="sign-fields" @aria:labelledby="::parent()::previousSiblings()::previousSiblings(),::parent()::previousSiblings()"></input>\n<div class="fv__ui-dialog-ok-button" id="pickField" data-i18n="form-designer:dialog.signed.pick" @aria:button></div>\n</div>\n</div>\n\n<div class="d_f ai_c fv_signed-label fv_sign-script">\n<label class="d_f">\n<input type="radio" id="customScript" name="signAction" value="customScript"/>\n<div data-i18n="form-designer:dialog.signed.custom"></div>\n</label>\n<div @aria:button class="fv__ui-dialog-ok-button" id="editScript" data-i18n="form-designer:dialog.signed.edit"></div>\n<textarea resizeable=false readOnly="1" name="fv_sign-script-input" class=\'fv_sign-script-input\' @aria:labelledby="::parent()::childAt(0)"></textarea>\n</div>\n</div>'}},7621:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<layer name="simple-form-properties-dialog" class="fv__ui-simple-form-properties-dialog">\n<layer-header class="fv_ui_simplePropertiesDialog_title" title="form-designer:simpleDialog.title"></layer-header>\n<div class="fv_ui_dialog_body">\n<label class="d_f fw_w mb_15" name="simple-dialog-name">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" data-i18n="form-designer:simpleDialog.name"></div>\n<input class="h_24" type="text" name="Name"/>\n</label>\n<label show-in-types="pushbutton" class="d_f fw_w mb_15" name="simple-dialog-label">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="labelText" data-i18n="form-designer:simpleDialog.label"></div>\n<input class="h_24" type="text" name="Label"/>\n</label>\n<label show-in-types="radiobutton" class="d_f fw_w mb_15" name="simple-dialog-export-value-text">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="exportValueText" data-i18n="form-designer:simpleDialog.exportValue"></div>\n<input class="h_24" type="text" name="ExportValue"/>\n</label>\n</div>\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c mr_10 fv__ui-dialog-required">\n<input type="checkbox" disabled-in-types="listbox pushbutton" name="Required"/>\n<div data-i18n="form-designer:simpleDialog.footer.required"></div>\n</label>\n<div class="fv__ui-dialog-allProperties" name="AllProperties" data-i18n="form-designer:simpleDialog.footer.allProperties" @aria:button></div>\n</div>\n</layer>','<layer name="simple-form-properties-dialog" class="fv__ui-simple-form-properties-dialog">\n<layer-header class="fv_ui_simplePropertiesDialog_title" title="form-designer:simpleDialog.title"></layer-header>\n<div class="fv_ui_dialog_body">\n<label class="d_f fw_w mb_15" name="simple-dialog-name">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" data-i18n="form-designer:simpleDialog.name"></div>\n<input class="h_24" type="text" name="Name"/>\n</label>\n<label show-in-types="pushbutton" class="d_f fw_w mb_15" name="simple-dialog-label">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="labelText" data-i18n="form-designer:simpleDialog.label"></div>\n<input class="h_24" type="text" name="Label"/>\n</label>\n<label show-in-types="radiobutton" class="d_f fw_w mb_15" name="simple-dialog-export-value-text">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="exportValueText" data-i18n="form-designer:simpleDialog.exportValue"></div>\n<input class="h_24" type="text" name="ExportValue"/>\n</label>\n</div>\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c mr_10 fv__ui-dialog-required">\n<input type="checkbox" disabled-in-types="listbox pushbutton" name="Required"/>\n<div data-i18n="form-designer:simpleDialog.footer.required"></div>\n</label>\n<div class="fv__ui-dialog-allProperties" name="AllProperties" data-i18n="form-designer:simpleDialog.footer.allProperties" @aria:button></div>\n</div>\n</layer>'}},76:function(e,t,i){var n=i(5779);e.exports=function(e){"use strict";e=e||{};var t="",i=n.$each,o=e.fontFamilies,a=(e.value,e.index,n.$escape);return t+='<div name="appearanceTab">\n<fieldset class="d_f ai_c mb_10 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.appearance.bordersAndColors"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.borderColor"></div>\n<div class="color-picker" name="border-color-picker">\n<div class="border-color-picker" tabindex="0" @aria:role="button" @aria:labelledby="::parent()::previousSiblings()">\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n<div class="w_60"></div>\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.lineStyle"></div>\n<select class="f_1 h_24 mr_20" name="borderStyle" @aria:labelledby="::previousSiblings()">\n<option data-i18n="form-designer:dialog.appearance.solid" value="solid"></option>\n<option data-i18n="form-designer:dialog.appearance.dashed" value="dashed"></option>\n<option data-i18n="form-designer:dialog.appearance.underline" value="underline"></option>\n<option data-i18n="form-designer:dialog.appearance.beveled" value="beveled"></option>\n<option data-i18n="form-designer:dialog.appearance.inset" value="inset"></option>\n</select>\n</div>\n<div class="d_f ai_c">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.fillColor"></div>\n<div class="color-picker" name="fill-color-picker">\n<div class="fill-color-picker" tabindex="0" @aria:role="button" @aria:labelledby="::parent()::previousSiblings()">\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n<div class="w_60"></div>\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.thickness"></div>\n<select class="f_1 h_24 mr_20" name="borderWidth" @aria:labelledby="::previousSiblings()">\n<option data-i18n="form-designer:dialog.appearance.thin" value="thin"></option>\n<option data-i18n="form-designer:dialog.appearance.medium" value="medium"></option>\n<option data-i18n="form-designer:dialog.appearance.thick" value="thick"></option>\n</select>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.appearance.text"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.fontSize"></div>\n<dropdown name="textSize" selectable="false" class="f_1 h_24" @controller="form-designer:FieldPropertiesAppearanceController as fpc" editable="true" @aria:labelledby="::previousSiblings()">\n<dropdown-button @foreach="size in fpc.textSizeList" @sync.text="size" @on.click="fpc.selectFontSize(size)"></dropdown-button>\n</dropdown>\n<div class="w_60"></div>\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.textColor"></div>\n<div class="color-picker mr_20" name="text-color-picker">\n<div class="text-color-picker" tabindex="0" @aria:role="button" @aria:labelledby="::parent()::previousSiblings()">\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.font"></div>\n<select disabled-in-types="sign,checkbox,radiobutton" class="f_1 h_24 mr_20" name="fontName" @aria:labelledby="::previousSiblings()">\n',i(o,(function(e,i){t+='\n<option value="',t+=a(e.value),t+='">',t+=a(e.name),t+="</option>\n"})),t+='\n</select>\n</div>\n<div class="d_f ai_c">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.direction"></div>\n<div class="d_f ai_c jc_sb f_1" @aria:role="radiogroup" @aria:labelledby="::previousSiblings()">\n<div class="d_f ai_c fv__ui-form-properties-label">\n<input disabled-in-types="sign,checkbox,radiobutton" type="radio" value="0" name="directionRTL" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.appearance.leftToRight"></div>\n</div>\n<div class="d_f ai_c mr_20 fv__ui-form-properties-label">\n<input disabled-in-types="sign,checkbox,radiobutton" type="radio" value="1" name="directionRTL" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.appearance.rightToLeft"></div>\n</div>\n</div>\n</div>\n</div>\n</fieldset>\n</div>'}},5654:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<div name="generalTab">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.name"></div>\n<input type="text" class="f_1 h_24" name="name">\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.tooltip"></div>\n<input type="text" class="f_1 h_24" name="tooltip">\n<div class="w_120"></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.general.commonProperties"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.formField"></div>\n<select class="f_1 h_24" name="visibleType" @aria:labelledby="::parent()::first()">\n<option data-i18n="form-designer:dialog.general.visible" value="0_4_0"></option>\n<option data-i18n="form-designer:dialog.general.hidden" value="2_4_0"></option>\n<option data-i18n="form-designer:dialog.general.visibleButUnprintable" value="0_0_0"></option>\n<option data-i18n="form-designer:dialog.general.hiddenButPrintable" value="0_4_32"></option>\n</select>\n</div>\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.orientation"></div>\n<select class="f_1 h_24" name="fieldOrientation" @aria:labelledby="::parent()::first()">\n<option value="0">0</option>\n<option value="90">90</option>\n<option value="180">180</option>\n<option value="270">270</option>\n</select>\n<div data-i18n="form-designer:dialog.general.degrees" class="pl_10"></div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input type="checkbox" name="readOnly"/>\n<div data-i18n="form-designer:dialog.general.readOnly"></div>\n</label>\n</div>\n</div>\n<div class="pl_20 pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input disabled-in-types="pushbutton,listbox" type="checkbox" name="required"/>\n<div data-i18n="form-designer:dialog.general.required"></div>\n</label>\n</div>\n</div>\n</div>\n</div>\n</fieldset>\n</div>','<div name="generalTab">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.name"></div>\n<input type="text" class="f_1 h_24" name="name">\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.tooltip"></div>\n<input type="text" class="f_1 h_24" name="tooltip">\n<div class="w_120"></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.general.commonProperties"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.formField"></div>\n<select class="f_1 h_24" name="visibleType" @aria:labelledby="::parent()::first()">\n<option data-i18n="form-designer:dialog.general.visible" value="0_4_0"></option>\n<option data-i18n="form-designer:dialog.general.hidden" value="2_4_0"></option>\n<option data-i18n="form-designer:dialog.general.visibleButUnprintable" value="0_0_0"></option>\n<option data-i18n="form-designer:dialog.general.hiddenButPrintable" value="0_4_32"></option>\n</select>\n</div>\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.orientation"></div>\n<select class="f_1 h_24" name="fieldOrientation" @aria:labelledby="::parent()::first()">\n<option value="0">0</option>\n<option value="90">90</option>\n<option value="180">180</option>\n<option value="270">270</option>\n</select>\n<div data-i18n="form-designer:dialog.general.degrees" class="pl_10"></div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input type="checkbox" name="readOnly"/>\n<div data-i18n="form-designer:dialog.general.readOnly"></div>\n</label>\n</div>\n</div>\n<div class="pl_20 pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input disabled-in-types="pushbutton,listbox" type="checkbox" name="required"/>\n<div data-i18n="form-designer:dialog.general.required"></div>\n</label>\n</div>\n</div>\n</div>\n</div>\n</fieldset>\n</div>'}},3354:function(e,t,i){i(5779);e.exports=function(e){"use strict";e=e||{};return'<div name="validateTab">\n<div show-in-types="combobox,text" @aria:role="radiogroup">\n<div class="d_f ai_c h_24 mb_10" >\n<input type="radio" value="0" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsNotValidated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10" name="validate-child-1">\n<input type="radio" value="1" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsInRange" class="ml_5"></div>\n</div>\n<div class="d_f ai_c mb_10 pl_30 disabled" name="validate-child-2">\n<div data-i18n="form-designer:dialog.validate.from"></div>\n<input type="text" name="editFrom" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n<div class="w_80"></div>\n<div data-i18n="form-designer:dialog.validate.to"></div>\n<input type="text" name="editTo" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" value="2" name="validateRadio"  @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.runCustomValidationScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="validate-child-3">\n<textarea class="f_1 mr_20 h_70" disabled name="textScript" @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditScript" @aria:button>form-designer:dialog.validate.edit</div>\n</div>\n</div>\n</div>','<div name="validateTab">\n<div show-in-types="combobox,text" @aria:role="radiogroup">\n<div class="d_f ai_c h_24 mb_10" >\n<input type="radio" value="0" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsNotValidated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10" name="validate-child-1">\n<input type="radio" value="1" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsInRange" class="ml_5"></div>\n</div>\n<div class="d_f ai_c mb_10 pl_30 disabled" name="validate-child-2">\n<div data-i18n="form-designer:dialog.validate.from"></div>\n<input type="text" name="editFrom" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n<div class="w_80"></div>\n<div data-i18n="form-designer:dialog.validate.to"></div>\n<input type="text" name="editTo" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" value="2" name="validateRadio"  @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.runCustomValidationScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="validate-child-3">\n<textarea class="f_1 mr_20 h_70" disabled name="textScript" @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditScript" @aria:button>form-designer:dialog.validate.edit</div>\n</div>\n</div>\n</div>'}},8429:function(e){e.exports=null},5585:function(e,t,i){"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:{},o=Object.create(n),a=/["&'<>]/;function s(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?s(e.call(e)):JSON.stringify(e)),e}o.$escape=function(e){return function(e){var t=""+e,i=a.exec(t);if(!i)return e;var n="",o=void 0,s=void 0,r=void 0;for(o=i.index,s=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:r="&#34;";break;case 38:r="&#38;";break;case 39:r="&#39;";break;case 60:r="&#60;";break;case 62:r="&#62;";break;default:continue}s!==o&&(n+=t.substring(s,o)),s=o+1,n+=r}return s!==o?n+t.substring(s,o):n}(s(e))},o.$each=function(e,t){if(Array.isArray(e))for(var i=0,n=e.length;i<n;i++)t(e[i],i);else for(var o in e)t(e[o],o)},e.exports=o},5779:function(e,t,i){"use strict";e.exports=i(5585)},8028:function(e){e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAJ0AAAB9CAMAAACPvJFmAAAA8FBMVEUAAACenp7////X19e9vb2qqqrY2Njy8vKrq6ugoKChoaGtra309PTr6+uioqLZ2dm+vr7Ozs6wsLDW1takpKT9/f3f39+jo6Po6Ojp6emfn5/T09O4uLiurq78/Pz19fXs7Ozt7e2np6fg4OCvr6/IyMi3t7fBwcHLy8vU1NSoqKjz8/P6+vr7+/vl5eW1tbXAwMDd3d3KysrFxcWsrKze3t74+Pjq6urw8PDc3Ny6urqmpqbV1dX39/e7u7vS0tLi4uK2tra/v7+xsbHm5ubHx8fExMTv7+/a2trn5+ezs7PR0dHGxsa8vLzk5OS0tLQ/H+8ZAAAAAXRSTlMAQObYZgAAAsJJREFUeNrt221T00AQB3BCm7Z3CUcr1y4Gq6ViShUEqpYnBRRF6+P3/zbSCjQJSZqkt3Rn3P/bm8z8CLnb4/ZYWuJwOBwOh8PhcDgcDidXrIdMft3yw4V1rGMd66jpSmXbtssVkrpqTUwWdum49HQr6q7wyBVquqoK1EXlEtPVQmXboaUriZBOrJLSlSN7njopnR3R2QUhjUeEdWvaapLVtbQF61S/u8dgWd4Ggq5iYM66cvzoE4z1zgnp2gVwT73JoxpD5wZrhXxWQCcTnzVQZztyitssgOvePAzPUfYorvPv24N2kTe3dfezvUDa363Wr/d39UJFzJ/Oqi1ye+Ne4Kv1qOm2ITClYJOWrg+htbJESnddv9LrzCJ16xCpgi8J6V6p6HmY2CGj2/XundbBazI6GXOY2KCi68Ydde4R0bVjD2IVDZ0v4nVVCrp9FX+IrQ4I6AYq6Yz9zeJ1fUjsALxduO6dTmlQoOuGa6nDh2k4OETWHSndShmuqrTejujj6prjv66O89SvUE5wdZPfm048pBUzGmOnqLqbGqDf56hfwcgPiLqz23ejz+OGnZlNRbjA0w2mGw9o3B/+KGb3PAdoukpwsYDt6PAnmaEje4ml+xyuAfAla/0KrSlIOjf6auAqOLwBmbrZ8BVHF7Pl6E1HD3S2Xrv6hqKLWyxk+XZ0pLNeBehh6L7HL18nWepX4tGuKd1+wnyU/nh0x8t+jcLbNa5rJL4bsZehfoWmxci07jhlPorL5dM8V1C8H4Z1ndTFQtj5bsj4ZnVDYZkMmNVJo7hgF9WArmb47hO0DOp8YVhn/TSnu5KmcYGOzLy6jLU9X0zpLjBw0DGjO1IIuMDp9ly6JtKNxV9GdBpJ1zWha2Pd9hTD+XVnAksHv+fWjRCvyv7h+3esYx3rKOhI/48Ah8PhcDgcDofD4XD+8/wFbcRT1tF8op4AAAAASUVORK5CYII="},6904:function(e,t,i){(t=i(3645)(!1)).push([e.id,".fv__pdf-form-designer-container{\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 31;\n    -ms-high-contrast-adjust: none;\n    forced-color-adjust: none;\n}\n.fv_form-editing{\n    z-index:31!important;\n}\n.fv_form-editing-label{\n    display:flex;\n    \n    justify-content: center;\n    align-items: center;\n    position: absolute;\n}\n.fv_form-editing-label{\n    outline:1px solid black;\n    overflow: hidden;\n}\n.fv_form-editing-label.active{\n    outline: none;\n}\n.fv_form-editing-label>div{\n    background-color: black;\n    color:white;\n    white-space: nowrap;\n    font-size: 12px;\n    line-height: normal;\n}\n.fv_form-editing-label.active>div{\n    background-color: #5aa;\n}\n\n.fv_form-editing-label > .tab-number {\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding-left: 2px;\n    padding-right: 3px;\n    color: #ffffff;\n    background-color: black;\n    z-index: 1;\n}\n    ",""]),e.exports=t},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=(s=n,r=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(l," */")),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(a).concat([o]).join("\n")}var s,r,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(o[s]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);n&&o[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},3871:function(e,t,i){"use strict";i.d(t,{Mp:function(){return n}});const n={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16}},8284:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4043),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7267),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(752),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6265),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__),_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3871);let $=UIExtension.vendors.jQuery;const getParam=(e,t)=>[e,t],parseSimpleNotation=e=>{let t="",i=e.length;if(0==i)return"";let n=0,o="";for(;i>n;){let i=e[n];switch(i){case"[":case"]":case"(":case")":case"{":case"}":case":":case";":case"<":case">":case"?":case"=":case"|":case"&":case"!":case"~":case"^":case"%":case"*":case"/":case"+":case"-":return 0==o.length?(t+=i,n++,e=e.substr(n),t+parseSimpleNotation(e)):(isNaN(o)?(o.trim(),o.length>0&&(t+='AFMakeNumber(getField("'+o+'").value)')):t=o,o="",e=e.substr(n),n++,t+parseSimpleNotation(e));default:n++,o+=i}}return isNaN(o)?(o.trim(),o.length>0&&(t+='AFMakeNumber(getField("'+o+'").value)')):t=o,o="",t},{JavaScriptAction:JavaScriptAction}=PDFViewCtrl.PDF.actions;let CalculateTab=function(){function CalculateTab(e,t,i,n){this.$dialog=e,this.pdfUI=t,this.addon=i,this.binding=n,this.$calculateRadio=$("[name=calculateRadio]",this.$dialog),this.$pickBtn=e.find("#pickFields"),this.$editNotations=e.find("#editNotations"),this.$editCustomScript=e.find("#editCustomScript"),this.$child2=$("[name=calculate-child-2]",this.$dialog),this.$child3=$("[name=calculate-child-3]",this.$dialog),this.$child4=$("[name=calculate-child-4]",this.$dialog),this.setValue=this.setAnnot,this.calculateChanged=!1}var _proto=CalculateTab.prototype;return _proto.updateUI=function(){},_proto.setAnnot=function setAnnot(annot=this.annot){if(this.uiEvent)return;this.annot=annot;let action=annot.getAdditionalAction(10),$dialog=this.$dialog;if(!action||!action.getScript)return this.calculateChanged||setTimeout((()=>{$dialog.find(".fv__calculate-tab .fv__ui-dialog-cancel-button").addClass("disabled"),$dialog.find(".fv__calculate-tab textarea").val(""),this.$child2.addClass("disabled"),this.$child3.addClass("disabled"),this.$child4.addClass("disabled"),this.$pickBtn.addClass("disabled"),this.$editNotations.addClass("disabled"),this.$editCustomScript.addClass("disabled"),$dialog.find("#simpleOp").attr("disabled","disabled"),$dialog.find("#noCalc")[0].checked=!0}),20),void(this.calculateChanged=!1);let js=action.getScript();if(-1!=js.indexOf("BVCALC")){let e=js.match(/BVCALC([\s\S]+?)EVCALC/)[1].trim();$dialog.find("#notations").val(e),setTimeout((()=>{this.$child3.removeClass("disabled"),this.$editNotations.removeClass("disabled"),$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find("#notationInput")[0].checked=!0}),20),$dialog.find(".fv__calculate-tab #notations + div").removeClass("disabled")}else if(-1!=js.indexOf("AFSimple_Calculate")){let params=eval(js.replace("AFSimple_Calculate","getParam"));$dialog.find(".fv__calculate-tab #simpleFields + div").removeClass("disabled"),setTimeout((()=>{this.$child2.removeClass("disabled"),this.$pickBtn.removeClass("disabled"),$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find("#simpleCalc")[0].checked=!0}),20),$dialog.find("#simpleOp").val(params[0]),$dialog.find("#simpleFields").val(params[1].join(", "))}else setTimeout((()=>{this.$child4.removeClass("disabled"),this.$editCustomScript.removeClass("disabled"),$dialog.find("#customInput")[0].checked=!0}),20),$dialog.find("#COCustomScript").val(js),$dialog.find(".fv__calculate-tab #COCustomScript + div").removeClass("disabled")},_proto.resetTab=function(){},_proto.onEvent=function onEvent(){let $dialog=this.$dialog;this.$calculateRadio.on("change",(e=>{this.calculateChanged=!0;const t=e.target.value;$dialog.find(".fv__calculate-tab textarea").val("");const i=this.annot.getField();switch(i.getAction(_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_4__.Mp.calculate)&&i.removeAction(_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_4__.Mp.calculate),$dialog.find(".fv__calculate-tab .fv__ui-dialog-cancel-button").addClass("disabled"),$dialog.find("#simpleOp").attr("disabled","disabled"),this.$child2.addClass("disabled"),this.$child3.addClass("disabled"),this.$child4.addClass("disabled"),this.$pickBtn.addClass("disabled"),this.$editNotations.addClass("disabled"),this.$editCustomScript.addClass("disabled"),t){case"0":$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled");break;case"1":$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find(".fv__calculate-tab #simpleFields + div").removeClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled"),this.$pickBtn.removeClass("disabled"),this.$child2.removeClass("disabled");break;case"2":$dialog.find(".fv__calculate-tab #notations + div").removeClass("disabled"),$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled"),this.$editNotations.removeClass("disabled"),this.$child3.removeClass("disabled");break;case"3":$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find(".fv__calculate-tab #COCustomScript + div").removeClass("disabled"),this.$editCustomScript.removeClass("disabled"),this.$child4.removeClass("disabled")}})),$dialog.find("#simpleOp").on("change",(e=>{let op=$dialog.find("#simpleOp").val(),action=this.annot.getAdditionalAction(10);if(!action)return;let[_,fields]=eval(action.getScript().replace("AFSimple_Calculate","getParam")),js=`AFSimple_Calculate("${op}", new Array ("${fields.join('", "')}"));`;action.setScript(js).then((e=>this.annot.getField().form.calculate()))})),$dialog.find("#pickFields").on("click",(e=>{let t=$dialog.find("#simpleFields").val().split(", ");this.uiEvent=!0,this.pdfUI.getCurrentPDFDoc().then((e=>{let i=[];e.getPDFForm().enumFields([],0,((e,t)=>{1!=e&&7!==e&&i.push(t)}),!1,!0);let n=this.addon.getDialog("PickField");n.show({type:-1,params:[i,t]},(e=>{if(!e)return void(this.uiEvent=!1);if(!e.length&&""==t[0])return void(this.uiEvent=!1);if(!e.length)return this.uiEvent=!1,this.annot.getField().removeAction(_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_4__.Mp.calculate),void $dialog.find("#simpleFields").val("");let i=`AFSimple_Calculate("${$dialog.find("#simpleOp").val()}", new Array ("${e.join('", "')}"));`;n.callback=null,this.setCalcJS(i).then((t=>{this.uiEvent=!1,$dialog.find("#simpleFields").val(e.join(", "))}))}))}))})),$dialog.find("#editNotations").on("click",(e=>{this.uiEvent=!0,this.addon.getDialog("JSInput").show($dialog.find("#notations").val(),(e=>{let t=`/** BVCALC ${e} EVCALC **/event.value=`+parseSimpleNotation(e);this.setCalcJS(t).then((t=>{$dialog.find("#notations").val(e),this.uiEvent=!1}))}))})),$dialog.find("#editCustomScript").on("click",(e=>{this.uiEvent=!0,this.addon.getDialog("JSInput").show($dialog.find("#COCustomScript").val(),(e=>{this.setCalcJS(e).then((t=>{$dialog.find("#COCustomScript").val(e),this.uiEvent=!1}))}))}))},_proto.show=function(){},_proto.offEvent=function(){let e=this.$dialog;e.find("#pickFields").off("click"),e.find("#editNotations").off("click"),e.find("#editCustomScript").off("click")},_proto.fillFieldNames=function(e=".fv_-fields-list",t=1){return this.pdfUI.getCurrentPDFDoc().then((e=>{let t="";return e.getPDFForm().enumFields([],0,((e,i)=>{t+=i+","}),!1,!0),t}))},_proto.setCalcJS=function(e){let t=new JavaScriptAction;return t.setScript(e),this.annot.getField().setAction(10,t).then((e=>{this.annot.getField().form.calculate()}))},CalculateTab}();__webpack_exports__.Z=CalculateTab},9070:function(e,t,i){var n=i(6904);"string"==typeof n&&(n=[[e.id,n,""]]);var o={hmr:!0,transform:undefined,insertInto:void 0};i(6723)(n,o);n.locals&&(e.exports=n.locals)},6723:function(e,t,i){var n,o,a={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),r=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=r.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),d=null,c=0,u=[],p=i(1947);function h(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=a[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(b(n.parts[s],t))}else{var r=[];for(s=0;s<n.parts.length;s++)r.push(b(n.parts[s],t));a[n.id]={id:n.id,refs:1,parts:r}}}}function g(e,t){for(var i=[],n={},o=0;o<e.length;o++){var a=e[o],s=t.base?a[0]+t.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};n[s]?n[s].parts.push(r):i.push(n[s]={id:s,parts:[r]})}return i}function f(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),_(t,e.attrs),f(e,t),t}function _(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,n,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var s=c++;i=d||(d=v(t)),n=w.bind(null,i,s,!1),o=w.bind(null,i,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",_(t,e.attrs),f(e,t),t}(t),n=F.bind(null,i,t),o=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(t),n=C.bind(null,i),o=function(){m(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=g(e,t);return h(i,t),function(e){for(var n=[],o=0;o<i.length;o++){var s=i[o];(r=a[s.id]).refs--,n.push(r)}e&&h(g(e,t),t);for(o=0;o<n.length;o++){var r;if(0===(r=n[o]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var y,x=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var a=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function C(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function F(e,t,i){var n=i.css,o=i.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(n=p(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}},1947:function(e){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},4616:function(e){"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__4616__},509:function(e,t,i){"use strict";var n=i(9985),o=i(3691),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(o(e)+" is not a function")}},2655:function(e,t,i){"use strict";var n=i(9429),o=i(3691),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(o(e)+" is not a constructor")}},3550:function(e,t,i){"use strict";var n=i(9985),o=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw new a("Can't set "+o(e)+" as a prototype")}},7370:function(e,t,i){"use strict";var n=i(4201),o=i(5391),a=i(2560).f,s=n("unscopables"),r=Array.prototype;void 0===r[s]&&a(r,s,{configurable:!0,value:o(null)}),e.exports=function(e){r[s][e]=!0}},1514:function(e,t,i){"use strict";var n=i(730).charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},767:function(e,t,i){"use strict";var n=i(3622),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new o("Incorrect invocation")}},5027:function(e,t,i){"use strict";var n=i(8999),o=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(o(e)+" is not an object")}},7075:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4872:function(e,t,i){"use strict";var n,o,a,s=i(7075),r=i(7697),l=i(9037),d=i(9985),c=i(8999),u=i(6812),p=i(926),h=i(3691),g=i(5773),f=i(1880),m=i(2148),v=i(3622),_=i(1868),b=i(9385),y=i(4201),x=i(4630),w=i(618),C=w.enforce,F=w.get,S=l.Int8Array,A=S&&S.prototype,E=l.Uint8ClampedArray,$=E&&E.prototype,D=S&&_(S),T=A&&_(A),k=Object.prototype,P=l.TypeError,R=y("toStringTag"),I=x("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",L=s&&!!b&&"Opera"!==p(l.opera),N=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},U=function(e){var t=_(e);if(c(t)){var i=F(t);return i&&u(i,O)?i[O]:U(t)}},B=function(e){if(!c(e))return!1;var t=p(e);return u(V,t)||u(M,t)};for(n in V)(a=(o=l[n])&&o.prototype)?C(a)[O]=o:L=!1;for(n in M)(a=(o=l[n])&&o.prototype)&&(C(a)[O]=o);if((!L||!d(D)||D===Function.prototype)&&(D=function(){throw new P("Incorrect invocation")},L))for(n in V)l[n]&&b(l[n],D);if((!L||!T||T===k)&&(T=D.prototype,L))for(n in V)l[n]&&b(l[n].prototype,T);if(L&&_($)!==T&&b($,T),r&&!u(T,R))for(n in N=!0,m(T,R,{configurable:!0,get:function(){return c(this)?this[I]:void 0}}),V)l[n]&&g(l[n],I,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:N&&I,aTypedArray:function(e){if(B(e))return e;throw new P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(d(e)&&(!b||v(D,e)))return e;throw new P(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,n){if(r){if(i)for(var o in V){var a=l[o];if(a&&u(a.prototype,e))try{delete a.prototype[e]}catch(i){try{a.prototype[e]=t}catch(e){}}}T[e]&&!i||f(T,e,i?t:L&&A[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,i){var n,o;if(r){if(b){if(i)for(n in V)if((o=l[n])&&u(o,e))try{delete o[e]}catch(e){}if(D[e]&&!i)return;try{return f(D,e,i?t:L&&D[e]||t)}catch(e){}}for(n in V)!(o=l[n])||o[e]&&!i||f(o,e,t)}},getTypedArrayConstructor:U,isView:function(e){if(!c(e))return!1;var t=p(e);return"DataView"===t||u(V,t)||u(M,t)},isTypedArray:B,TypedArray:D,TypedArrayPrototype:T}},4328:function(e,t,i){"use strict";var n=i(5290),o=i(7578),a=i(6310),s=function(e){return function(t,i,s){var r,l=n(t),d=a(l),c=o(s,d);if(e&&i!=i){for(;d>c;)if((r=l[c++])!=r)return!0}else for(;d>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},6834:function(e,t,i){"use strict";var n=i(3689);e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){return 1},1)}))}},8820:function(e,t,i){"use strict";var n=i(509),o=i(690),a=i(4413),s=i(6310),r=TypeError,l=function(e){return function(t,i,l,d){n(i);var c=o(t),u=a(c),p=s(c),h=e?p-1:0,g=e?-1:1;if(l<2)for(;;){if(h in u){d=u[h],h+=g;break}if(h+=g,e?h<0:p<=h)throw new r("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=g)h in u&&(d=i(d,u[h],h,c));return d}};e.exports={left:l(!1),right:l(!0)}},9015:function(e,t,i){"use strict";var n=i(7578),o=i(6310),a=i(6522),s=Array,r=Math.max;e.exports=function(e,t,i){for(var l=o(e),d=n(t,l),c=n(void 0===i?l:i,l),u=s(r(c-d,0)),p=0;d<c;d++,p++)a(u,p,e[d]);return u.length=p,u}},6004:function(e,t,i){"use strict";var n=i(8844);e.exports=n([].slice)},382:function(e,t,i){"use strict";var n=i(9015),o=Math.floor,a=function(e,t){var i=e.length,l=o(i/2);return i<8?s(e,t):r(e,a(n(e,0,l),t),a(n(e,l),t),t)},s=function(e,t){for(var i,n,o=e.length,a=1;a<o;){for(n=a,i=e[a];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==a++&&(e[n]=i)}return e},r=function(e,t,i,n){for(var o=t.length,a=i.length,s=0,r=0;s<o||r<a;)e[s+r]=s<o&&r<a?n(t[s],i[r])<=0?t[s++]:i[r++]:s<o?t[s++]:i[r++];return e};e.exports=a},6431:function(e,t,i){"use strict";var n=i(4201)("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!o)return!1}catch(e){return!1}var i=!1;try{var a={};a[n]=function(){return{next:function(){return{done:i=!0}}}},e(a)}catch(e){}return i}},6648:function(e,t,i){"use strict";var n=i(8844),o=n({}.toString),a=n("".slice);e.exports=function(e){return a(o(e),8,-1)}},926:function(e,t,i){"use strict";var n=i(3043),o=i(9985),a=i(6648),s=i(4201)("toStringTag"),r=Object,l="Arguments"===a(function(){return arguments}());e.exports=n?a:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=r(e),s))?i:l?a(t):"Object"===(n=a(t))&&o(t.callee)?"Arguments":n}},8758:function(e,t,i){"use strict";var n=i(6812),o=i(9152),a=i(2474),s=i(2560);e.exports=function(e,t,i){for(var r=o(t),l=s.f,d=a.f,c=0;c<r.length;c++){var u=r[c];n(e,u)||i&&n(i,u)||l(e,u,d(t,u))}}},1748:function(e,t,i){"use strict";var n=i(3689);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7807:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},5773:function(e,t,i){"use strict";var n=i(7697),o=i(2560),a=i(5684);e.exports=n?function(e,t,i){return o.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},5684:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6522:function(e,t,i){"use strict";var n=i(8360),o=i(2560),a=i(5684);e.exports=function(e,t,i){var s=n(t);s in e?o.f(e,s,a(0,i)):e[s]=i}},2148:function(e,t,i){"use strict";var n=i(8702),o=i(2560);e.exports=function(e,t,i){return i.get&&n(i.get,t,{getter:!0}),i.set&&n(i.set,t,{setter:!0}),o.f(e,t,i)}},1880:function(e,t,i){"use strict";var n=i(9985),o=i(2560),a=i(8702),s=i(5014);e.exports=function(e,t,i,r){r||(r={});var l=r.enumerable,d=void 0!==r.name?r.name:t;if(n(i)&&a(i,d,r),r.global)l?e[t]=i:s(t,i);else{try{r.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=i:o.f(e,t,{value:i,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e}},5014:function(e,t,i){"use strict";var n=i(9037),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},8494:function(e,t,i){"use strict";var n=i(3691),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw new o("Cannot delete property "+n(t)+" of "+n(e))}},7697:function(e,t,i){"use strict";var n=i(3689);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(e){"use strict";var t="object"==typeof document&&document.all,i=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:i}},6420:function(e,t,i){"use strict";var n=i(9037),o=i(8999),a=n.document,s=o(a)&&o(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},6338:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(e,t,i){"use strict";var n=i(6420)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},7365:function(e,t,i){"use strict";var n=i(71).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},2532:function(e,t,i){"use strict";var n=i(8563),o=i(806);e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},8563:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:function(e,t,i){"use strict";var n=i(71);e.exports=/MSIE|Trident/.test(n)},3221:function(e,t,i){"use strict";var n=i(71);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},4764:function(e,t,i){"use strict";var n=i(71);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},806:function(e,t,i){"use strict";var n=i(9037),o=i(6648);e.exports="process"===o(n.process)},7486:function(e,t,i){"use strict";var n=i(71);e.exports=/web0s(?!.*chrome)/i.test(n)},71:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,i){"use strict";var n,o,a=i(9037),s=i(71),r=a.process,l=a.Deno,d=r&&r.versions||l&&l.version,c=d&&d.v8;c&&(o=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},7922:function(e,t,i){"use strict";var n=i(71).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},2739:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,i){"use strict";var n=i(9037),o=i(2474).f,a=i(5773),s=i(1880),r=i(5014),l=i(8758),d=i(5266);e.exports=function(e,t){var i,c,u,p,h,g=e.target,f=e.global,m=e.stat;if(i=f?n:m?n[g]||r(g,{}):(n[g]||{}).prototype)for(c in t){if(p=t[c],u=e.dontCallGetSet?(h=o(i,c))&&h.value:i[c],!d(f?c:g+(m?".":"#")+c,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(e.sham||u&&u.sham)&&a(p,"sham",!0),s(i,c,p,e)}}},3689:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},8678:function(e,t,i){"use strict";i(4043);var n=i(6576),o=i(1880),a=i(6308),s=i(3689),r=i(4201),l=i(5773),d=r("species"),c=RegExp.prototype;e.exports=function(e,t,i,u){var p=r(e),h=!s((function(){var t={};return t[p]=function(){return 7},7!==""[e](t)})),g=h&&!s((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[d]=function(){return i},i.flags="",i[p]=/./[p]),i.exec=function(){return t=!0,null},i[p](""),!t}));if(!h||!g||i){var f=n(/./[p]),m=t(p,""[e],(function(e,t,i,o,s){var r=n(e),l=t.exec;return l===a||l===c.exec?h&&!s?{done:!0,value:f(t,i,o)}:{done:!0,value:r(i,t,o)}:{done:!1}}));o(String.prototype,e,m[0]),o(c,p,m[1])}u&&l(c[p],"sham",!0)}},1735:function(e,t,i){"use strict";var n=i(7215),o=Function.prototype,a=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(a):function(){return s.apply(a,arguments)})},4071:function(e,t,i){"use strict";var n=i(6576),o=i(509),a=i(7215),s=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},7215:function(e,t,i){"use strict";var n=i(3689);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:function(e,t,i){"use strict";var n=i(7215),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},1236:function(e,t,i){"use strict";var n=i(7697),o=i(6812),a=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,r=o(a,"name"),l=r&&"something"===function(){}.name,d=r&&(!n||n&&s(a,"name").configurable);e.exports={EXISTS:r,PROPER:l,CONFIGURABLE:d}},2743:function(e,t,i){"use strict";var n=i(8844),o=i(509);e.exports=function(e,t,i){try{return n(o(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}}},6576:function(e,t,i){"use strict";var n=i(6648),o=i(8844);e.exports=function(e){if("Function"===n(e))return o(e)}},8844:function(e,t,i){"use strict";var n=i(7215),o=Function.prototype,a=o.call,s=n&&o.bind.bind(a,a);e.exports=n?s:function(e){return function(){return a.apply(e,arguments)}}},6058:function(e,t,i){"use strict";var n=i(9037),o=i(9985);e.exports=function(e,t){return arguments.length<2?(i=n[e],o(i)?i:void 0):n[e]&&n[e][t];var i}},1664:function(e,t,i){"use strict";var n=i(926),o=i(4849),a=i(981),s=i(9478),r=i(4201)("iterator");e.exports=function(e){if(!a(e))return o(e,r)||o(e,"@@iterator")||s[n(e)]}},5185:function(e,t,i){"use strict";var n=i(2615),o=i(509),a=i(5027),s=i(3691),r=i(1664),l=TypeError;e.exports=function(e,t){var i=arguments.length<2?r(e):t;if(o(i))return a(n(i,e));throw new l(s(e)+" is not iterable")}},4849:function(e,t,i){"use strict";var n=i(509),o=i(981);e.exports=function(e,t){var i=e[t];return o(i)?void 0:n(i)}},7017:function(e,t,i){"use strict";var n=i(8844),o=i(690),a=Math.floor,s=n("".charAt),r=n("".replace),l=n("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,n,u,p){var h=i+e.length,g=n.length,f=c;return void 0!==u&&(u=o(u),f=d),r(p,f,(function(o,r){var d;switch(s(r,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,i);case"'":return l(t,h);case"<":d=u[l(r,1,-1)];break;default:var c=+r;if(0===c)return o;if(c>g){var p=a(c/10);return 0===p?o:p<=g?void 0===n[p-1]?s(r,1):n[p-1]+s(r,1):o}d=n[c-1]}return void 0===d?"":d}))}},9037:function(e,t,i){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(e,t,i){"use strict";var n=i(8844),o=i(690),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},7248:function(e){"use strict";e.exports={}},920:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2688:function(e,t,i){"use strict";var n=i(6058);e.exports=n("document","documentElement")},8506:function(e,t,i){"use strict";var n=i(7697),o=i(3689),a=i(6420);e.exports=!n&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},4413:function(e,t,i){"use strict";var n=i(8844),o=i(3689),a=i(6648),s=Object,r=n("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?r(e,""):s(e)}:s},3457:function(e,t,i){"use strict";var n=i(9985),o=i(8999),a=i(9385);e.exports=function(e,t,i){var s,r;return a&&n(s=t.constructor)&&s!==i&&o(r=s.prototype)&&r!==i.prototype&&a(e,r),e}},6738:function(e,t,i){"use strict";var n=i(8844),o=i(9985),a=i(4091),s=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},618:function(e,t,i){"use strict";var n,o,a,s=i(9834),r=i(9037),l=i(8999),d=i(5773),c=i(6812),u=i(4091),p=i(2713),h=i(7248),g="Object already initialized",f=r.TypeError,m=r.WeakMap;if(s||u.state){var v=u.state||(u.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,n=function(e,t){if(v.has(e))throw new f(g);return t.facade=e,v.set(e,t),t},o=function(e){return v.get(e)||{}},a=function(e){return v.has(e)}}else{var _=p("state");h[_]=!0,n=function(e,t){if(c(e,_))throw new f(g);return t.facade=e,d(e,_,t),t},o=function(e){return c(e,_)?e[_]:{}},a=function(e){return c(e,_)}}e.exports={set:n,get:o,has:a,enforce:function(e){return a(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=o(t)).type!==e)throw new f("Incompatible receiver, "+e+" required");return i}}}},3292:function(e,t,i){"use strict";var n=i(4201),o=i(9478),a=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[a]===e)}},9985:function(e,t,i){"use strict";var n=i(2659),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},9429:function(e,t,i){"use strict";var n=i(8844),o=i(3689),a=i(9985),s=i(926),r=i(6058),l=i(6738),d=function(){},c=[],u=r("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=n(p.exec),g=!p.test(d),f=function(e){if(!a(e))return!1;try{return u(d,c,e),!0}catch(e){return!1}},m=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!h(p,l(e))}catch(e){return!0}};m.sham=!0,e.exports=!u||o((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?m:f},5266:function(e,t,i){"use strict";var n=i(3689),o=i(9985),a=/#|\.prototype\./,s=function(e,t){var i=l[r(e)];return i===c||i!==d&&(o(t)?n(t):!!t)},r=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=s.data={},d=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},981:function(e){"use strict";e.exports=function(e){return null==e}},8999:function(e,t,i){"use strict";var n=i(9985),o=i(2659),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},3931:function(e){"use strict";e.exports=!1},1245:function(e,t,i){"use strict";var n=i(8999),o=i(6648),a=i(4201)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===o(e))}},734:function(e,t,i){"use strict";var n=i(6058),o=i(9985),a=i(3622),s=i(9525),r=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&a(t.prototype,r(e))}},8734:function(e,t,i){"use strict";var n=i(4071),o=i(2615),a=i(5027),s=i(3691),r=i(3292),l=i(6310),d=i(3622),c=i(5185),u=i(1664),p=i(2125),h=TypeError,g=function(e,t){this.stopped=e,this.result=t},f=g.prototype;e.exports=function(e,t,i){var m,v,_,b,y,x,w,C=i&&i.that,F=!(!i||!i.AS_ENTRIES),S=!(!i||!i.IS_RECORD),A=!(!i||!i.IS_ITERATOR),E=!(!i||!i.INTERRUPTED),$=n(t,C),D=function(e){return m&&p(m,"normal",e),new g(!0,e)},T=function(e){return F?(a(e),E?$(e[0],e[1],D):$(e[0],e[1])):E?$(e,D):$(e)};if(S)m=e.iterator;else if(A)m=e;else{if(!(v=u(e)))throw new h(s(e)+" is not iterable");if(r(v)){for(_=0,b=l(e);b>_;_++)if((y=T(e[_]))&&d(f,y))return y;return new g(!1)}m=c(e,v)}for(x=S?e.next:m.next;!(w=o(x,m)).done;){try{y=T(w.value)}catch(e){p(m,"throw",e)}if("object"==typeof y&&y&&d(f,y))return y}return new g(!1)}},2125:function(e,t,i){"use strict";var n=i(2615),o=i(5027),a=i(4849);e.exports=function(e,t,i){var s,r;o(e);try{if(!(s=a(e,"return"))){if("throw"===t)throw i;return i}s=n(s,e)}catch(e){r=!0,s=e}if("throw"===t)throw i;if(r)throw s;return o(s),i}},974:function(e,t,i){"use strict";var n=i(2013).IteratorPrototype,o=i(5391),a=i(5684),s=i(5997),r=i(9478),l=function(){return this};e.exports=function(e,t,i,d){var c=t+" Iterator";return e.prototype=o(n,{next:a(+!d,i)}),s(e,c,!1,!0),r[c]=l,e}},1934:function(e,t,i){"use strict";var n=i(9989),o=i(2615),a=i(3931),s=i(1236),r=i(9985),l=i(974),d=i(1868),c=i(9385),u=i(5997),p=i(5773),h=i(1880),g=i(4201),f=i(9478),m=i(2013),v=s.PROPER,_=s.CONFIGURABLE,b=m.IteratorPrototype,y=m.BUGGY_SAFARI_ITERATORS,x=g("iterator"),w="keys",C="values",F="entries",S=function(){return this};e.exports=function(e,t,i,s,g,m,A){l(i,t,s);var E,$,D,T=function(e){if(e===g&&O)return O;if(!y&&e&&e in R)return R[e];switch(e){case w:case C:case F:return function(){return new i(this,e)}}return function(){return new i(this)}},k=t+" Iterator",P=!1,R=e.prototype,I=R[x]||R["@@iterator"]||g&&R[g],O=!y&&I||T(g),L="Array"===t&&R.entries||I;if(L&&(E=d(L.call(new e)))!==Object.prototype&&E.next&&(a||d(E)===b||(c?c(E,b):r(E[x])||h(E,x,S)),u(E,k,!0,!0),a&&(f[k]=S)),v&&g===C&&I&&I.name!==C&&(!a&&_?p(R,"name",C):(P=!0,O=function(){return o(I,this)})),g)if($={values:T(C),keys:m?O:T(w),entries:T(F)},A)for(D in $)(y||P||!(D in R))&&h(R,D,$[D]);else n({target:t,proto:!0,forced:y||P},$);return a&&!A||R[x]===O||h(R,x,O,{name:g}),f[t]=O,$}},2013:function(e,t,i){"use strict";var n,o,a,s=i(3689),r=i(9985),l=i(8999),d=i(5391),c=i(1868),u=i(1880),p=i(4201),h=i(3931),g=p("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(o=c(c(a)))!==Object.prototype&&(n=o):f=!0),!l(n)||s((function(){var e={};return n[g].call(e)!==e}))?n={}:h&&(n=d(n)),r(n[g])||u(n,g,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},9478:function(e){"use strict";e.exports={}},6310:function(e,t,i){"use strict";var n=i(3126);e.exports=function(e){return n(e.length)}},8702:function(e,t,i){"use strict";var n=i(8844),o=i(3689),a=i(9985),s=i(6812),r=i(7697),l=i(1236).CONFIGURABLE,d=i(6738),c=i(618),u=c.enforce,p=c.get,h=String,g=Object.defineProperty,f=n("".slice),m=n("".replace),v=n([].join),_=r&&!o((function(){return 8!==g((function(){}),"length",{value:8}).length})),b=String(String).split("String"),y=e.exports=function(e,t,i){"Symbol("===f(h(t),0,7)&&(t="["+m(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(r?g(e,"name",{value:t,configurable:!0}):e.name=t),_&&i&&s(i,"arity")&&e.length!==i.arity&&g(e,"length",{value:i.arity});try{i&&s(i,"constructor")&&i.constructor?r&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=u(e);return s(n,"source")||(n.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=y((function(){return a(this)&&p(this).source||d(this)}),"toString")},8828:function(e){"use strict";var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?i:t)(n)}},231:function(e,t,i){"use strict";var n,o,a,s,r,l=i(9037),d=i(4071),c=i(2474).f,u=i(9886).set,p=i(4410),h=i(4764),g=i(3221),f=i(7486),m=i(806),v=l.MutationObserver||l.WebKitMutationObserver,_=l.document,b=l.process,y=l.Promise,x=c(l,"queueMicrotask"),w=x&&x.value;if(!w){var C=new p,F=function(){var e,t;for(m&&(e=b.domain)&&e.exit();t=C.get();)try{t()}catch(e){throw C.head&&n(),e}e&&e.enter()};h||m||f||!v||!_?!g&&y&&y.resolve?((s=y.resolve(void 0)).constructor=y,r=d(s.then,s),n=function(){r(F)}):m?n=function(){b.nextTick(F)}:(u=d(u,l),n=function(){u(F)}):(o=!0,a=_.createTextNode(""),new v(F).observe(a,{characterData:!0}),n=function(){a.data=o=!o}),w=function(e){C.head||n(),C.add(e)}}e.exports=w},8742:function(e,t,i){"use strict";var n=i(509),o=TypeError,a=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw new o("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)};e.exports.f=function(e){return new a(e)}},5391:function(e,t,i){"use strict";var n,o=i(5027),a=i(8920),s=i(2739),r=i(7248),l=i(2688),d=i(6420),c=i(2713),u="prototype",p="script",h=c("IE_PROTO"),g=function(){},f=function(e){return"<"+p+">"+e+"</"+p+">"},m=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,i;v="undefined"!=typeof document?document.domain&&n?m(n):(t=d("iframe"),i="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):m(n);for(var o=s.length;o--;)delete v[u][s[o]];return v()};r[h]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(g[u]=o(e),i=new g,g[u]=null,i[h]=e):i=v(),void 0===t?i:a.f(i,t)}},8920:function(e,t,i){"use strict";var n=i(7697),o=i(5648),a=i(2560),s=i(5027),r=i(5290),l=i(300);t.f=n&&!o?Object.defineProperties:function(e,t){s(e);for(var i,n=r(t),o=l(t),d=o.length,c=0;d>c;)a.f(e,i=o[c++],n[i]);return e}},2560:function(e,t,i){"use strict";var n=i(7697),o=i(8506),a=i(5648),s=i(5027),r=i(8360),l=TypeError,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",h="writable";t.f=n?a?function(e,t,i){if(s(e),t=r(t),s(i),"function"==typeof e&&"prototype"===t&&"value"in i&&h in i&&!i[h]){var n=c(e,t);n&&n[h]&&(e[t]=i.value,i={configurable:p in i?i[p]:n[p],enumerable:u in i?i[u]:n[u],writable:!1})}return d(e,t,i)}:d:function(e,t,i){if(s(e),t=r(t),s(i),o)try{return d(e,t,i)}catch(e){}if("get"in i||"set"in i)throw new l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},2474:function(e,t,i){"use strict";var n=i(7697),o=i(2615),a=i(9556),s=i(5684),r=i(5290),l=i(8360),d=i(6812),c=i(8506),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=r(e),t=l(t),c)try{return u(e,t)}catch(e){}if(d(e,t))return s(!o(a.f,e,t),e[t])}},2741:function(e,t,i){"use strict";var n=i(4948),o=i(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},7518:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},1868:function(e,t,i){"use strict";var n=i(6812),o=i(9985),a=i(690),s=i(2713),r=i(1748),l=s("IE_PROTO"),d=Object,c=d.prototype;e.exports=r?d.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var i=t.constructor;return o(i)&&t instanceof i?i.prototype:t instanceof d?c:null}},3622:function(e,t,i){"use strict";var n=i(8844);e.exports=n({}.isPrototypeOf)},4948:function(e,t,i){"use strict";var n=i(8844),o=i(6812),a=i(5290),s=i(4328).indexOf,r=i(7248),l=n([].push);e.exports=function(e,t){var i,n=a(e),d=0,c=[];for(i in n)!o(r,i)&&o(n,i)&&l(c,i);for(;t.length>d;)o(n,i=t[d++])&&(~s(c,i)||l(c,i));return c}},300:function(e,t,i){"use strict";var n=i(4948),o=i(2739);e.exports=Object.keys||function(e){return n(e,o)}},9556:function(e,t){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!i.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},9385:function(e,t,i){"use strict";var n=i(2743),o=i(5027),a=i(3550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=n(Object.prototype,"__proto__","set"))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return o(i),a(n),t?e(i,n):i.__proto__=n,i}}():void 0)},5899:function(e,t,i){"use strict";var n=i(2615),o=i(9985),a=i(8999),s=TypeError;e.exports=function(e,t){var i,r;if("string"===t&&o(i=e.toString)&&!a(r=n(i,e)))return r;if(o(i=e.valueOf)&&!a(r=n(i,e)))return r;if("string"!==t&&o(i=e.toString)&&!a(r=n(i,e)))return r;throw new s("Can't convert object to primitive value")}},9152:function(e,t,i){"use strict";var n=i(6058),o=i(8844),a=i(2741),s=i(7518),r=i(5027),l=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(r(e)),i=s.f;return i?l(t,i(e)):t}},9302:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7073:function(e,t,i){"use strict";var n=i(9037),o=i(7919),a=i(9985),s=i(5266),r=i(6738),l=i(4201),d=i(2532),c=i(8563),u=i(3931),p=i(3615),h=o&&o.prototype,g=l("species"),f=!1,m=a(n.PromiseRejectionEvent),v=s("Promise",(function(){var e=r(o),t=e!==String(o);if(!t&&66===p)return!0;if(u&&(!h.catch||!h.finally))return!0;if(!p||p<51||!/native code/.test(e)){var i=new o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((i.constructor={})[g]=n,!(f=i.then((function(){}))instanceof n))return!0}return!t&&(d||c)&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:f}},7919:function(e,t,i){"use strict";var n=i(9037);e.exports=n.Promise},2945:function(e,t,i){"use strict";var n=i(5027),o=i(8999),a=i(8742);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},562:function(e,t,i){"use strict";var n=i(7919),o=i(6431),a=i(7073).CONSTRUCTOR;e.exports=a||!o((function(e){n.all(e).then(void 0,(function(){}))}))},8055:function(e,t,i){"use strict";var n=i(2560).f;e.exports=function(e,t,i){i in e||n(e,i,{configurable:!0,get:function(){return t[i]},set:function(e){t[i]=e}})}},4410:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},6100:function(e,t,i){"use strict";var n=i(2615),o=i(5027),a=i(9985),s=i(6648),r=i(6308),l=TypeError;e.exports=function(e,t){var i=e.exec;if(a(i)){var d=n(i,e,t);return null!==d&&o(d),d}if("RegExp"===s(e))return n(r,e,t);throw new l("RegExp#exec called on incompatible receiver")}},6308:function(e,t,i){"use strict";var n,o,a=i(2615),s=i(8844),r=i(4327),l=i(9633),d=i(7901),c=i(3430),u=i(5391),p=i(618).get,h=i(2100),g=i(6422),f=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,_=s("".charAt),b=s("".indexOf),y=s("".replace),x=s("".slice),w=(o=/b*/g,a(m,n=/a/,"a"),a(m,o,"a"),0!==n.lastIndex||0!==o.lastIndex),C=d.BROKEN_CARET,F=void 0!==/()??/.exec("")[1];(w||F||C||h||g)&&(v=function(e){var t,i,n,o,s,d,c,h=this,g=p(h),S=r(e),A=g.raw;if(A)return A.lastIndex=h.lastIndex,t=a(v,A,S),h.lastIndex=A.lastIndex,t;var E=g.groups,$=C&&h.sticky,D=a(l,h),T=h.source,k=0,P=S;if($&&(D=y(D,"y",""),-1===b(D,"g")&&(D+="g"),P=x(S,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==_(S,h.lastIndex-1))&&(T="(?: "+T+")",P=" "+P,k++),i=new RegExp("^(?:"+T+")",D)),F&&(i=new RegExp("^"+T+"$(?!\\s)",D)),w&&(n=h.lastIndex),o=a(m,$?i:h,P),$?o?(o.input=x(o.input,k),o[0]=x(o[0],k),o.index=h.lastIndex,h.lastIndex+=o[0].length):h.lastIndex=0:w&&o&&(h.lastIndex=h.global?o.index+o[0].length:n),F&&o&&o.length>1&&a(f,o[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&E)for(o.groups=d=u(null),s=0;s<E.length;s++)d[(c=E[s])[0]]=o[c[1]];return o}),e.exports=v},9633:function(e,t,i){"use strict";var n=i(5027);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3477:function(e,t,i){"use strict";var n=i(2615),o=i(6812),a=i(3622),s=i(9633),r=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in r||o(e,"flags")||!a(r,e)?t:n(s,e)}},7901:function(e,t,i){"use strict";var n=i(3689),o=i(9037).RegExp,a=n((function(){var e=o("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=a||n((function(){return!o("a","y").sticky})),r=a||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:r,MISSED_STICKY:s,UNSUPPORTED_Y:a}},2100:function(e,t,i){"use strict";var n=i(3689),o=i(9037).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},6422:function(e,t,i){"use strict";var n=i(3689),o=i(9037).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4684:function(e,t,i){"use strict";var n=i(981),o=TypeError;e.exports=function(e){if(n(e))throw new o("Can't call method on "+e);return e}},4241:function(e,t,i){"use strict";var n=i(6058),o=i(2148),a=i(4201),s=i(7697),r=a("species");e.exports=function(e){var t=n(e);s&&t&&!t[r]&&o(t,r,{configurable:!0,get:function(){return this}})}},5997:function(e,t,i){"use strict";var n=i(2560).f,o=i(6812),a=i(4201)("toStringTag");e.exports=function(e,t,i){e&&!i&&(e=e.prototype),e&&!o(e,a)&&n(e,a,{configurable:!0,value:t})}},2713:function(e,t,i){"use strict";var n=i(3430),o=i(4630),a=n("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},4091:function(e,t,i){"use strict";var n=i(9037),o=i(5014),a="__core-js_shared__",s=n[a]||o(a,{});e.exports=s},3430:function(e,t,i){"use strict";var n=i(3931),o=i(4091);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.3",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(e,t,i){"use strict";var n=i(5027),o=i(2655),a=i(981),s=i(4201)("species");e.exports=function(e,t){var i,r=n(e).constructor;return void 0===r||a(i=n(r)[s])?t:o(i)}},730:function(e,t,i){"use strict";var n=i(8844),o=i(8700),a=i(4327),s=i(4684),r=n("".charAt),l=n("".charCodeAt),d=n("".slice),c=function(e){return function(t,i){var n,c,u=a(s(t)),p=o(i),h=u.length;return p<0||p>=h?e?"":void 0:(n=l(u,p))<55296||n>56319||p+1===h||(c=l(u,p+1))<56320||c>57343?e?r(u,p):n:e?d(u,p,p+2):c-56320+(n-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},146:function(e,t,i){"use strict";var n=i(3615),o=i(3689),a=i(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},9886:function(e,t,i){"use strict";var n,o,a,s,r=i(9037),l=i(1735),d=i(4071),c=i(9985),u=i(6812),p=i(3689),h=i(2688),g=i(6004),f=i(6420),m=i(1500),v=i(4764),_=i(806),b=r.setImmediate,y=r.clearImmediate,x=r.process,w=r.Dispatch,C=r.Function,F=r.MessageChannel,S=r.String,A=0,E={},$="onreadystatechange";p((function(){n=r.location}));var D=function(e){if(u(E,e)){var t=E[e];delete E[e],t()}},T=function(e){return function(){D(e)}},k=function(e){D(e.data)},P=function(e){r.postMessage(S(e),n.protocol+"//"+n.host)};b&&y||(b=function(e){m(arguments.length,1);var t=c(e)?e:C(e),i=g(arguments,1);return E[++A]=function(){l(t,void 0,i)},o(A),A},y=function(e){delete E[e]},_?o=function(e){x.nextTick(T(e))}:w&&w.now?o=function(e){w.now(T(e))}:F&&!v?(s=(a=new F).port2,a.port1.onmessage=k,o=d(s.postMessage,s)):r.addEventListener&&c(r.postMessage)&&!r.importScripts&&n&&"file:"!==n.protocol&&!p(P)?(o=P,r.addEventListener("message",k,!1)):o=$ in f("script")?function(e){h.appendChild(f("script"))[$]=function(){h.removeChild(this),D(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:b,clear:y}},7578:function(e,t,i){"use strict";var n=i(8700),o=Math.max,a=Math.min;e.exports=function(e,t){var i=n(e);return i<0?o(i+t,0):a(i,t)}},5290:function(e,t,i){"use strict";var n=i(4413),o=i(4684);e.exports=function(e){return n(o(e))}},8700:function(e,t,i){"use strict";var n=i(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},3126:function(e,t,i){"use strict";var n=i(8700),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},690:function(e,t,i){"use strict";var n=i(4684),o=Object;e.exports=function(e){return o(n(e))}},3250:function(e,t,i){"use strict";var n=i(5904),o=RangeError;e.exports=function(e,t){var i=n(e);if(i%t)throw new o("Wrong offset");return i}},5904:function(e,t,i){"use strict";var n=i(8700),o=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new o("The argument can't be less than 0");return t}},8732:function(e,t,i){"use strict";var n=i(2615),o=i(8999),a=i(734),s=i(4849),r=i(5899),l=i(4201),d=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var i,l=s(e,c);if(l){if(void 0===t&&(t="default"),i=n(l,e,t),!o(i)||a(i))return i;throw new d("Can't convert object to primitive value")}return void 0===t&&(t="number"),r(e,t)}},8360:function(e,t,i){"use strict";var n=i(8732),o=i(734);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},3043:function(e,t,i){"use strict";var n={};n[i(4201)("toStringTag")]="z",e.exports="[object z]"===String(n)},4327:function(e,t,i){"use strict";var n=i(926),o=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},3691:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:function(e,t,i){"use strict";var n=i(8844),o=0,a=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+a,36)}},9525:function(e,t,i){"use strict";var n=i(146);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,i){"use strict";var n=i(7697),o=i(3689);e.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(e){"use strict";var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},9834:function(e,t,i){"use strict";var n=i(9037),o=i(9985),a=n.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},4201:function(e,t,i){"use strict";var n=i(9037),o=i(3430),a=i(6812),s=i(4630),r=i(146),l=i(9525),d=n.Symbol,c=o("wks"),u=l?d.for||d:d&&d.withoutSetter||s;e.exports=function(e){return a(c,e)||(c[e]=r&&a(d,e)?d[e]:u("Symbol."+e)),c[e]}},752:function(e,t,i){"use strict";var n=i(5290),o=i(7370),a=i(9478),s=i(618),r=i(2560).f,l=i(1934),d=i(7807),c=i(3931),u=i(7697),p="Array Iterator",h=s.set,g=s.getterFor(p);e.exports=l(Array,"Array",(function(e,t){h(this,{type:p,target:n(e),index:0,kind:t})}),(function(){var e=g(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=void 0,d(void 0,!0);switch(e.kind){case"keys":return d(i,!1);case"values":return d(t[i],!1)}return d([i,t[i]],!1)}),"values");var f=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!c&&u&&"values"!==f.name)try{r(f,"name",{value:"values"})}catch(e){}},278:function(e,t,i){"use strict";var n=i(9989),o=i(8820).left,a=i(6834),s=i(3615);n({target:"Array",proto:!0,forced:!i(806)&&s>79&&s<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},5137:function(e,t,i){"use strict";var n=i(9989),o=i(8844),a=i(509),s=i(690),r=i(6310),l=i(8494),d=i(4327),c=i(3689),u=i(382),p=i(6834),h=i(7365),g=i(7298),f=i(3615),m=i(7922),v=[],_=o(v.sort),b=o(v.push),y=c((function(){v.sort(void 0)})),x=c((function(){v.sort(null)})),w=p("sort"),C=!c((function(){if(f)return f<70;if(!(h&&h>3)){if(g)return!0;if(m)return m<603;var e,t,i,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)v.push({k:t+n,v:i})}for(v.sort((function(e,t){return t.v-e.v})),n=0;n<v.length;n++)t=v[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:y||!x||!w||!C},{sort:function(e){void 0!==e&&a(e);var t=s(this);if(C)return void 0===e?_(t):_(t,e);var i,n,o=[],c=r(t);for(n=0;n<c;n++)n in t&&b(o,t[n]);for(u(o,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:d(t)>d(i)?1:-1}}(e)),i=r(o),n=0;n<i;)t[n]=o[n++];for(;n<c;)l(t,n++);return t}})},1692:function(e,t,i){"use strict";var n=i(9989),o=i(2615),a=i(509),s=i(8742),r=i(9302),l=i(8734);n({target:"Promise",stat:!0,forced:i(562)},{all:function(e){var t=this,i=s.f(t),n=i.resolve,d=i.reject,c=r((function(){var i=a(t.resolve),s=[],r=0,c=1;l(e,(function(e){var a=r++,l=!1;c++,o(i,t,e).then((function(e){l||(l=!0,s[a]=e,--c||n(s))}),d)})),--c||n(s)}));return c.error&&d(c.value),i.promise}})},5089:function(e,t,i){"use strict";var n=i(9989),o=i(3931),a=i(7073).CONSTRUCTOR,s=i(7919),r=i(6058),l=i(9985),d=i(1880),c=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&l(s)){var u=r("Promise").prototype.catch;c.catch!==u&&d(c,"catch",u,{unsafe:!0})}},6697:function(e,t,i){"use strict";var n,o,a,s=i(9989),r=i(3931),l=i(806),d=i(9037),c=i(2615),u=i(1880),p=i(9385),h=i(5997),g=i(4241),f=i(509),m=i(9985),v=i(8999),_=i(767),b=i(6373),y=i(9886).set,x=i(231),w=i(920),C=i(9302),F=i(4410),S=i(618),A=i(7919),E=i(7073),$=i(8742),D="Promise",T=E.CONSTRUCTOR,k=E.REJECTION_EVENT,P=E.SUBCLASSING,R=S.getterFor(D),I=S.set,O=A&&A.prototype,L=A,N=O,V=d.TypeError,M=d.document,U=d.process,B=$.f,H=B,j=!!(M&&M.createEvent&&d.dispatchEvent),W="unhandledrejection",z=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},G=function(e,t){var i,n,o,a=t.value,s=1===t.state,r=s?e.ok:e.fail,l=e.resolve,d=e.reject,u=e.domain;try{r?(s||(2===t.rejection&&Y(t),t.rejection=1),!0===r?i=a:(u&&u.enter(),i=r(a),u&&(u.exit(),o=!0)),i===e.promise?d(new V("Promise-chain cycle")):(n=z(i))?c(n,i,l,d):l(i)):d(a)}catch(e){u&&!o&&u.exit(),d(e)}},q=function(e,t){e.notified||(e.notified=!0,x((function(){for(var i,n=e.reactions;i=n.get();)G(i,e);e.notified=!1,t&&!e.rejection&&J(e)})))},K=function(e,t,i){var n,o;j?((n=M.createEvent("Event")).promise=t,n.reason=i,n.initEvent(e,!1,!0),d.dispatchEvent(n)):n={promise:t,reason:i},!k&&(o=d["on"+e])?o(n):e===W&&w("Unhandled promise rejection",i)},J=function(e){c(y,d,(function(){var t,i=e.facade,n=e.value;if(X(e)&&(t=C((function(){l?U.emit("unhandledRejection",n,i):K(W,i,n)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){c(y,d,(function(){var t=e.facade;l?U.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Q=function(e,t,i){return function(n){e(t,n,i)}},Z=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,q(e,!0))},ee=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw new V("Promise can't be resolved itself");var n=z(t);n?x((function(){var i={done:!1};try{c(n,t,Q(ee,i,e),Q(Z,i,e))}catch(t){Z(i,t,e)}})):(e.value=t,e.state=1,q(e,!1))}catch(t){Z({done:!1},t,e)}}};if(T&&(N=(L=function(e){_(this,N),f(e),c(n,this);var t=R(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(n=function(e){I(this,{type:D,done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=u(N,"then",(function(e,t){var i=R(this),n=B(b(this,L));return i.parent=!0,n.ok=!m(e)||e,n.fail=m(t)&&t,n.domain=l?U.domain:void 0,0===i.state?i.reactions.add(n):x((function(){G(n,i)})),n.promise})),o=function(){var e=new n,t=R(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},$.f=B=function(e){return e===L||undefined===e?new o(e):H(e)},!r&&m(A)&&O!==Object.prototype)){a=O.then,P||u(O,"then",(function(e,t){var i=this;return new L((function(e,t){c(a,i,e,t)})).then(e,t)}),{unsafe:!0});try{delete O.constructor}catch(e){}p&&p(O,N)}s({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:L}),h(L,D,!1,!0),g(D)},6409:function(e,t,i){"use strict";var n=i(9989),o=i(3931),a=i(7919),s=i(3689),r=i(6058),l=i(9985),d=i(6373),c=i(2945),u=i(1880),p=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&s((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=d(this,r("Promise")),i=l(e);return this.then(i?function(i){return c(t,e()).then((function(){return i}))}:e,i?function(i){return c(t,e()).then((function(){throw i}))}:e)}}),!o&&l(a)){var h=r("Promise").prototype.finally;p.finally!==h&&u(p,"finally",h,{unsafe:!0})}},3964:function(e,t,i){"use strict";i(6697),i(1692),i(5089),i(8829),i(2092),i(7905)},8829:function(e,t,i){"use strict";var n=i(9989),o=i(2615),a=i(509),s=i(8742),r=i(9302),l=i(8734);n({target:"Promise",stat:!0,forced:i(562)},{race:function(e){var t=this,i=s.f(t),n=i.reject,d=r((function(){var s=a(t.resolve);l(e,(function(e){o(s,t,e).then(i.resolve,n)}))}));return d.error&&n(d.value),i.promise}})},2092:function(e,t,i){"use strict";var n=i(9989),o=i(2615),a=i(8742);n({target:"Promise",stat:!0,forced:i(7073).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return o(t.reject,void 0,e),t.promise}})},7905:function(e,t,i){"use strict";var n=i(9989),o=i(6058),a=i(3931),s=i(7919),r=i(7073).CONSTRUCTOR,l=i(2945),d=o("Promise"),c=a&&!r;n({target:"Promise",stat:!0,forced:a||r},{resolve:function(e){return l(c&&this===d?s:this,e)}})},2003:function(e,t,i){"use strict";var n=i(7697),o=i(9037),a=i(8844),s=i(5266),r=i(3457),l=i(5773),d=i(2741).f,c=i(3622),u=i(1245),p=i(4327),h=i(3477),g=i(7901),f=i(8055),m=i(1880),v=i(3689),_=i(6812),b=i(618).enforce,y=i(4241),x=i(4201),w=i(2100),C=i(6422),F=x("match"),S=o.RegExp,A=S.prototype,E=o.SyntaxError,$=a(A.exec),D=a("".charAt),T=a("".replace),k=a("".indexOf),P=a("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,I=/a/g,O=/a/g,L=new S(I)!==I,N=g.MISSED_STICKY,V=g.UNSUPPORTED_Y,M=n&&(!L||N||w||C||v((function(){return O[F]=!1,S(I)!==I||S(O)===O||"/a/i"!==String(S(I,"i"))})));if(s("RegExp",M)){for(var U=function(e,t){var i,n,o,a,s,d,g=c(A,this),f=u(e),m=void 0===t,v=[],y=e;if(!g&&f&&m&&e.constructor===U)return e;if((f||c(A,e))&&(e=e.source,m&&(t=h(y))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),y=e,w&&"dotAll"in I&&(n=!!t&&k(t,"s")>-1)&&(t=T(t,/s/g,"")),i=t,N&&"sticky"in I&&(o=!!t&&k(t,"y")>-1)&&V&&(t=T(t,/y/g,"")),C&&(a=function(e){for(var t,i=e.length,n=0,o="",a=[],s={},r=!1,l=!1,d=0,c="";n<=i;n++){if("\\"===(t=D(e,n)))t+=D(e,++n);else if("]"===t)r=!1;else if(!r)switch(!0){case"["===t:r=!0;break;case"("===t:$(R,P(e,n+1))&&(n+=2,l=!0),o+=t,d++;continue;case">"===t&&l:if(""===c||_(s,c))throw new E("Invalid capture group name");s[c]=!0,a[a.length]=[c,d],l=!1,c="";continue}l?c+=t:o+=t}return[o,a]}(e),e=a[0],v=a[1]),s=r(S(e,t),g?this:A,U),(n||o||v.length)&&(d=b(s),n&&(d.dotAll=!0,d.raw=U(function(e){for(var t,i=e.length,n=0,o="",a=!1;n<=i;n++)"\\"!==(t=D(e,n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),o+=t):o+="[\\s\\S]":o+=t+D(e,++n);return o}(e),i)),o&&(d.sticky=!0),v.length&&(d.groups=v)),e!==y)try{l(s,"source",""===y?"(?:)":y)}catch(e){}return s},B=d(S),H=0;B.length>H;)f(U,S,B[H++]);A.constructor=U,U.prototype=A,m(o,"RegExp",U,{constructor:!0})}y("RegExp")},4043:function(e,t,i){"use strict";var n=i(9989),o=i(6308);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},7267:function(e,t,i){"use strict";var n=i(1735),o=i(2615),a=i(8844),s=i(8678),r=i(3689),l=i(5027),d=i(9985),c=i(981),u=i(8700),p=i(3126),h=i(4327),g=i(4684),f=i(1514),m=i(4849),v=i(7017),_=i(6100),b=i(4201)("replace"),y=Math.max,x=Math.min,w=a([].concat),C=a([].push),F=a("".indexOf),S=a("".slice),A="$0"==="a".replace(/./,"$0"),E=!!/./[b]&&""===/./[b]("a","$0");s("replace",(function(e,t,i){var a=E?"$":"$0";return[function(e,i){var n=g(this),a=c(e)?void 0:m(e,b);return a?o(a,e,n,i):o(t,h(n),e,i)},function(e,o){var s=l(this),r=h(e);if("string"==typeof o&&-1===F(o,a)&&-1===F(o,"$<")){var c=i(t,s,r,o);if(c.done)return c.value}var g=d(o);g||(o=h(o));var m,b=s.global;b&&(m=s.unicode,s.lastIndex=0);for(var A,E=[];null!==(A=_(s,r))&&(C(E,A),b);){""===h(A[0])&&(s.lastIndex=f(r,p(s.lastIndex),m))}for(var $,D="",T=0,k=0;k<E.length;k++){for(var P,R=h((A=E[k])[0]),I=y(x(u(A.index),r.length),0),O=[],L=1;L<A.length;L++)C(O,void 0===($=A[L])?$:String($));var N=A.groups;if(g){var V=w([R],O,I,r);void 0!==N&&C(V,N),P=h(n(o,void 0,V))}else P=v(R,r,I,O,N,o);I>=T&&(D+=S(r,T,I)+P,T=I+R.length)}return D+S(r,T)}]}),!!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!A||E)},9976:function(e,t,i){"use strict";var n=i(9037),o=i(2615),a=i(4872),s=i(6310),r=i(3250),l=i(690),d=i(3689),c=n.RangeError,u=n.Int8Array,p=u&&u.prototype,h=p&&p.set,g=a.aTypedArray,f=a.exportTypedArrayMethod,m=!d((function(){var e=new Uint8ClampedArray(2);return o(h,e,{length:1,0:3},1),3!==e[1]})),v=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var e=new u(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));f("set",(function(e){g(this);var t=r(arguments.length>1?arguments[1]:void 0,1),i=l(e);if(m)return o(h,this,i,t);var n=this.length,a=s(i),d=0;if(a+t>n)throw new c("Wrong length");for(;d<a;)this[t+d]=i[d++]}),!m||v)},3356:function(e,t,i){"use strict";var n=i(9037),o=i(6576),a=i(3689),s=i(509),r=i(382),l=i(4872),d=i(7365),c=i(7298),u=i(3615),p=i(7922),h=l.aTypedArray,g=l.exportTypedArrayMethod,f=n.Uint16Array,m=f&&o(f.prototype.sort),v=!(!m||a((function(){m(new f(2),null)}))&&a((function(){m(new f(2),{})}))),_=!!m&&!a((function(){if(u)return u<74;if(d)return d<67;if(c)return!0;if(p)return p<602;var e,t,i=new f(516),n=Array(516);for(e=0;e<516;e++)t=e%4,i[e]=515-e,n[e]=e-2*t+3;for(m(i,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(i[e]!==n[e])return!0}));g("sort",(function(e){return void 0!==e&&s(e),_?m(this,e):r(h(this),function(e){return function(t,i){return void 0!==e?+e(t,i)||0:i!=i?-1:t!=t?1:0===t&&0===i?1/t>0&&1/i<0?1:-1:t>i}}(e))}),!_||v)},6265:function(e,t,i){"use strict";var n=i(9037),o=i(6338),a=i(3265),s=i(752),r=i(5773),l=i(4201),d=l("iterator"),c=l("toStringTag"),u=s.values,p=function(e,t){if(e){if(e[d]!==u)try{r(e,d,u)}catch(t){e[d]=u}if(e[c]||r(e,c,t),o[t])for(var i in s)if(e[i]!==s[i])try{r(e,i,s[i])}catch(t){e[i]=s[i]}}};for(var h in o)p(n[h]&&n[h].prototype,h);p(a,"DOMTokenList")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__={};return function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var i=function(t,i){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,i||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===e(i)?i:String(i)}function i(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}__webpack_require__.d(__webpack_exports__,{default:function(){return ki}});__webpack_require__(4043),__webpack_require__(7267),__webpack_require__(3964),__webpack_require__(752),__webpack_require__(6265);var r=__webpack_require__(4616),l=__webpack_require__(8429),d=__webpack_require__.n(l);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=__webpack_require__(3383),h=__webpack_require__.n(p);var g=function(){function e(e,t,i,n){this.$dialog=e,this.pdfUI=t,this.addon=i,this.binding=n}var t=e.prototype;return t.setAnnot=function(e){this.annot=e,this.show()},t.resetTab=function(){let e=this.$dialog;e.find(".interactive").removeClass("interactive"),e.find(".fv_-fields-list").val(""),e.find(".fv_sign-fields-category").val("all"),e.find(".fv_sign-script-input").val("")},t.onEvent=function(){let e=this.$dialog;e.find("input:radio").on("change",(t=>{let i=this.annot.getField();switch(this.resetTab(),t.target.value){case"noAction":i.setLockAction(0);break;case"fieldsFlag":e.find(".fv_sign-fields-category,.fv_-fields-list").addClass("interactive"),this.fillFieldNames().then((e=>{this.annot.getField().setLockAction(1,e).then((e=>this.annot.removeAction(8)))}));break;case"customScript":i.setLockAction(0),e.find("#editScript,.fv_sign-script-input").addClass("interactive")}})),e.find(".fv_sign-fields-category").on("change",(t=>{let i=e.find("#pickField");switch(t.target.value){case"all":this.fillFieldNames(),i.removeClass("interactive");break;case"exclude":i.addClass("interactive"),e.find(".fv_-fields-list").val(""),e.find("#pickField").trigger("click");break;case"include":i.addClass("interactive"),this.fillFieldNames(".fv_-fields-list",2),e.find("#pickField").trigger("click")}this.annot.removeAction(8)})),e.find("#pickField").on("click",(t=>{let i=this.addon.getDialog("PickField");this.pdfUI.getCurrentPDFDoc().then((t=>{let n=e.find(".fv_-fields-list").val().split(","),o=Object.keys(t.getPDFForm().fieldsNameMap);i.show({type:3,params:[o,n]},(t=>{if(!t)return;e.find(".fv_-fields-list").val(t.join(","));let n=this.annot.getField(),o=0;switch(e.find(".fv_sign-fields-category").val()){case"all":o=1;break;case"exclude":o=3;break;case"include":o=2}n.setLockAction(o,t).then((e=>{this.annot.removeAction(8)})),i.callback=null}))}))})),e.find("#editScript").on("click",(t=>{let i=this.addon.getDialog("JSInput"),n=this.annot.getAdditionalAction(8);i.show(n&&n.getScript(),(t=>{e.find(".fv_sign-script-input").val(t);let i=new PDFViewCtrl.PDF.actions.JavaScriptAction;i.setScript(t.replace("\n","\r\n")),this.annot.getField().setAction(8,i)}))}))},t.show=function(){let e=this.annot,t=e.getField();if(7!=t.getType())return;let i=e.getAdditionalAction(8),n=this.$dialog;if(n.find("#noAction")[0].checked=!0,this.resetTab(),i&&"TypeJavaScript"==i.getType()){setTimeout((()=>{n.find("#customScript")[0].checked=!0}),0),n.find("#editScript,.fv_sign-script-input").addClass("interactive");let e=i.getScript();return void n.find(".fv_sign-script-input").val(e)}let o=t.getLockAction();if(o.type>0){n.find(".fv_sign-fields-category,.fv_-fields-list").addClass("interactive"),n.find("#fieldsFlag")[0].checked=!0;let e=n.find(".fv_sign-fields-category");switch(o.type){case 1:e.val("all"),this.fillFieldNames();break;case 2:e.val("include");case 3:2!=o.type&&e.val("exclude"),n.find("#pickField").addClass("interactive"),n.find(".fv_-fields-list").val(o.fields.join(","))}}},t.offEvent=function(){let e=this.$dialog;e.find("input:radio").off("change"),e.find(".fv_sign-fields-category").off("change")},t.fillFieldNames=function(e=".fv_-fields-list",t=1){return this.pdfUI.getCurrentPDFDoc().then((t=>{let i="";return t.getPDFForm().enumFields([],0,((e,t)=>{i+=t+","}),!1,!0),this.$dialog.find(e).val(i),i}))},e}(),f=__webpack_require__(3871),m={fieldAdded:"fieldAdded",fieldActivated:"fieldActivated",fieldDeativated:"fieldDeativated",fieldFontSizeChanged:"fieldFontSizeChanged",fieldRemove:"fieldRemove"};const v=["$"," DM","€","fl"," F"," kr","Lit. "," Pts","£","$A. ","$NZ. ","Руб ","ESC. ","HK$ ","P. ","RMB¥","NT$ ","S.$ ","W","¥","zł","SEK ","kr ","C$ "],_=["m/d","m/d/yy","m/d/yyyy","mm/dd/yy","mm/dd/yyyy","mm/yy","mm/yyyy","d-mmm","d-mmm-yy","d-mmm-yyyy","dd-mmm-yy","dd-mmm-yyyy","yy-mm-dd","yyyy-mm-dd","mmm-yy","mmm-yyyy","mmmm-yy","mmmm-yyyy","mmm d, yyyy","mmmm d, yyyy","m/d/yy h:MM tt","m/d/yyyy h:MM tt","m/d/yy HH:MM","m/d/yyyy HH:MM","Custom"],b=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt","Custom"],y=["zipCode","zipCode4","phoneNumber","socialSecurityNumber","arbitraryMask"];let x=function(){function e(){}return e.GetSeperatorString=function(e,t){let i=""+e,n=i.length;return n>3?0==t?this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+"."+i.substr(n-3):1==t?this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+","+i.substr(n-3):this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+" "+i.substr(n-3):i},e.GetSampNumberFormat=function(e,t,i,n,o,a){let s="",r="",l=[];if(t>=0&&i>=0&&n>=0&&a>=0){r=""+e.toFixed(parseInt(t));let d="",c="",u=r.indexOf(".");u>0?(c=r.substr(0,u),d=r.substr(u)):(c=r,d="");let p="";for(0==i&&(p=this.GetSeperatorString(parseInt(c),1)+d),1==i&&(p=r),2==i&&(d=d.replace(".",","),p=this.GetSeperatorString(parseInt(c),0)+d),3==i&&(p=r,p=p.replace(".",",")),4==i&&(d=d.replace(".",","),p=this.GetSeperatorString(parseInt(c),2)+d);;){if(0==o){s="$";break}if(1==o){s="DM";break}if(2==o){s="€";break}if(3==o){s="f";break}if(4==o){s="F";break}if(5==o){s="kr";break}if(6==o){s="Lit.";break}if(7==o){s="Pts";break}if(8==o){l[0]=163,s=String.fromCharCode.apply(String,l);break}if(9==o){s="$A.";break}if(10==o){s="$NZ.";break}if(11==o){l[0]=1056,l[1]=1091,l[2]=1073,s=String.fromCharCode.apply(String,l);break}if(12==o){s="ESC.";break}if(13==o){s="HK$";break}if(14==o){s="P.";break}if(15==o){l[0]=65509,s=String.fromCharCode.apply(String,l);break}if(16==o){s="NT$";break}if(17==o){s="S.$";break}if(18==o){l[0]=8361,s=String.fromCharCode.apply(String,l);break}if(19==o){l[0]=165,s=String.fromCharCode.apply(String,l);break}if(20==o){l[0]=122,l[1]=322,s=String.fromCharCode.apply(String,l);break}if(21==o){s="SEK";break}if(22==o){s="kr";break}if(23==o){l[0]=67,l[1]=36,s=String.fromCharCode.apply(String,l);break}if(o>23||o<0)break}if(2&n){let e="";0==a?(e="(",r=e+p+" "+s+")"):(e="(%s",r="("+s+p+")")}else if(0==a)r=p+s;else{r=s+p}}return r},e.GetSampPercentFormat=function(e,t,i){let n="";if(t>=0&&i>=0){n=""+(100*e).toFixed(parseInt(t)),n+="%";let o="",a="",s=n.indexOf(".");s>0?(a=n.substr(0,s),o=n.substr(s)):(a=n,o="");let r="";0==i&&(r=this.GetSeperatorString(parseInt(a),1)+o),1==i&&(r=n),2==i&&(o=o.replace(".",","),r=this.GetSeperatorString(parseInt(a),0)+o),3==i&&(r=n,r=r.replace(".",",")),4==i&&(o=o.replace(".",","),r=this.GetSeperatorString(parseInt(a),2)+o),n=r}return n},e.GetFormatStringType=function(e){return e&&""!=e?0==e.indexOf("AFNumber_Format")?1:0==e.indexOf("AFPercent_Format")?2:0==e.indexOf("AFDate_FormatEx")?3:0==e.indexOf("AFTime_Format")?4:0==e.indexOf("AFSpecial_Format")?5:-1:0},e.GetKeystrokeStringType=function(e){return e&&""!=e?0==e.indexOf("AFNumber_Keystroke")?1:0==e.indexOf("AFPercent_Keystroke")?2:0==e.indexOf("AFDate_KeystrokeEx")?3:0==e.indexOf("AFTime_Keystroke")?4:0==e.indexOf("AFSpecial_Keystroke")?5:-1:0},e.GetPercentageValues=function(e){let t=-1,i=-1,n=e.length,o=e.indexOf("("),a=n-o-3,s=e.substr(o+1,a),r=s.split(","),l=s[0];t=Number(l);let d=0;for(;d<r.length&&(d++,!(d>=2))&&(l=r[d],""!=l);)1==d&&(i=Number(l));return{iDec:t,iSep:i}},e.StringFromUnicode=function(e){let t=!1,i="0x",n="";for(let o=0;o<e.length;o++){let a=e[o];"\\"==e[o]&&o+1<e.length&&("u"==e[o+1]||"U"==e[o+1])?(o+=1,t&&(n+=String.fromCharCode(i),i="0x"),t=!0):t?i+=a:(n+=a,t=!1)}return t&&(n+=String.fromCharCode(i)),n},e.GetNumberValues=function(e){let t=-1,i=1,n=-1,o=-1,a=-1,s=-1,r=e.length,l=e.indexOf("("),d=r-l-3,c=e.substr(l+1,d).split(",");t=Number(c[0]);let u=0;for(;u<c.length&&(u++,!(u>=6));){let e=c[u];if(""==e)break;if(1!=u)if(2!=u)if(3!=u)if(4!=u){if(5==u){s=e.indexOf("false")>=0?0:1}}else{let t=e;if(""==t){a=-1;continue}t=t.replace(/"/g,""),t=t.replace(/'/g,""),t=t.replace("\\u0020"," "),t=t.trim(),t=this.StringFromUnicode(t);let i=0;for(;i<24;i++){let e=v[i];if(e=e.replace(" "," "),e=e.trim(),t==e){a=i;break}}i>23&&(a=-1)}else o=0;else{let t=Number(e);0!=t&&1!=t&&2!=t&&3!=t||(n=t)}else i=Number(e)}return{iDec:t,iSep:i,iNeg:n,iDef:o,iMoney:a,iPre:s}},e.GetRangeValues=function(e){let t,i=!1,n=!1,o="",a="",s=e.indexOf("("),r=e.indexOf(")"),l=e.substr(s+1,r-s-1).split(","),d=0;for(;d<l.length;){t=l[d],t=t.trim(),0==d||2==d?"true"==t.toLowerCase()?0==d?i=!0:n=!0:0==d?i=!1:n=!1:1!=d&&3!=d||(1==d?o=t:a=t),d++}return{bFrom:i,bTo:n,csiFrom:o,csiTo:a}},e}();var w={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20};const{colorConvertor:C}=r.PDFViewCtrl.shared,F=r.PDFViewCtrl.PDF.actions.JavaScriptAction,S=r.PDFViewCtrl._internal.form.CFR_Utils,A=PDFViewCtrl.PDF.form.constant.Field_Flag;let E=r.vendors.jQuery,$=function(){function e(e,t,i,n){this.$dialog=e,this.PDFUI=t,this.binding=n,this.$category=E("select[name=category]",this.$dialog),this.$categoryOptionTitle=E("[name=categoryOptionTitle]",this.$dialog),this.$categoryValue=E("[categoryValue]",this.$dialog),this.$categoryExample=E("[name=categoryExample]",this.$dialog),this.$categoryInfo=E("[name=categoryInfo]",this.$dialog),this.$dateFormatOptions=E("[name=dateFormatOptions]",this.$dialog),this.$dateCustomFormat=E("[name=dateCustomFormat]",this.$dialog),this.$dateCustomFormatText=E("[name=dateCustomFormatText]",this.$dialog),this.$timeFormatOptions=E("[name=timeFormatOptions]",this.$dialog),this.$timeCustomFormat=E("[name=timeCustomFormat]",this.$dialog),this.$timeCustomFormatText=E("[name=timeCustomFormatText]",this.$dialog),this.$specialFormatOptions=E("[name=specialFormatOptions]",this.$dialog),this.$specialArbitraryFormat=E("[name=specialArbitraryFormat]",this.$dialog),this.$specialArbitraryFormatText=E("[name=specialArbitraryFormatText]",this.$dialog),this.$editKeystroke=E("[name=editKeystroke]",this.$dialog),this.$editKeystroke.attr("disabled",!0),this.$editFormat=E("[name=editFormat]",this.$dialog),this.$editFormat.attr("disabled",!0),this.$decimalPlaces=E("[name=decimalPlaces]",this.$dialog),this.$separatorStyle=E("[name=separatorStyle]",this.$dialog),this.$currencySymbol=E("[name=currencySymbol]",this.$dialog),this.$showParentheses=E("[name=showParentheses]",this.$dialog),this.$useRedText=E("[name=useRedText]",this.$dialog),this.$percentDecimalPlaces=E("[name=percentDecimalPlaces]",this.$dialog),this.$percentSeparatorStyle=E("[name=percentSeparatorStyle]",this.$dialog),this.$exampleText=E("[name=exampleText]",this.$dialog),this.addon=i}var t=e.prototype;return t.setAnnot=function(e){this.annot=e,this.initTab()},t.updateSampleText=function(e){let t=this.annot.getField().getValue();switch(this.$exampleText.css("color",""),e){case 1:{let e=this.$decimalPlaces.val(),t=this.$separatorStyle.val(),i=this.$currencySymbol.val(),n=this.$showParentheses.prop("checked"),o=this.$useRedText.prop("checked"),a=(n?2:0)|(o?1:0),s=this.$currencySymbol.prop("selectedIndex"),r=0==s||2==s||5==s||6==s||8==s||12==s?0:1,l=x.GetSampNumberFormat(4123.0345,e,t,a,i-1,r);o&&this.$exampleText.css("color","red"),this.$exampleText.html(l);break}case 2:{let e=this.$percentDecimalPlaces.val(),t=this.$percentSeparatorStyle.val(),i=x.GetSampPercentFormat(4123.0345,e,t);this.$exampleText.html(i);break}case 3:{let e=this.$dateFormatOptions.val()[0];"Custom"==e&&(e=this.$dateCustomFormatText.val());let i=S.FormatDateTimeString(t,e,D(this.annot));this.$exampleText.html(i),this.annot.getField().setValueWithoutAction(i);break}case 4:{let e=this.$timeFormatOptions.val(),i=e[0];"Custom"==e[0]&&(i=this.$timeCustomFormatText.val());let n=S.FormatDateTimeString(t,i,D(this.annot));this.$exampleText.html(n);break}default:this.$exampleText.html("")}},t.onUpdateCategoryUI=function(){const e=this.$category.val();this.$categoryOptionTitle.text("none"===e?"":this.PDFUI.i18n.t(`form-designer:dialog.optionTitle.${e}`)),this.$categoryInfo.text(this.PDFUI.i18n.t(`form-designer:dialog.format.${e}Info`)),this.$categoryValue.each(((t,i)=>{E(i).toggle(E(i).attr("categoryValue").indexOf(e)>-1)})),this.$categoryExample.toggle("none"!==e&&"special"!==e&&"custom"!==e)},t.initTab=function(){this.$category.val("none"),this.$decimalPlaces.val(2),this.$percentDecimalPlaces.val(2),this.$dateFormatOptions.val(_[0]),this.$timeFormatOptions.val(b[0]),this.$specialFormatOptions.val(y[0]),this.$dateCustomFormat.toggle(!1),this.$dateCustomFormatText.val(""),this.$timeCustomFormat.toggle(!1),this.$timeCustomFormatText.val(""),this.$specialArbitraryFormat.toggle(!1),this.$showParentheses.prop("checked",!1),this.$useRedText.prop("checked",!1);let[e,t,i]=T(this.annot);switch(e){case 1:{if(this.$category.val("number"),!t)break;let{iDec:e,iSep:i,iNeg:n,iDef:o,iMoney:a,iPre:s}=x.GetNumberValues(t);this.$decimalPlaces.val(e),this.$separatorStyle.val(i),this.$currencySymbol.val(a+1);let r=2&n?1:0,l=1&n?1:0;this.$showParentheses.prop("checked",r),this.$useRedText.prop("checked",l);break}case 2:{if(this.$category.val("percentage"),!t)break;let{iDec:e,iSep:i}=x.GetPercentageValues(t);this.$percentDecimalPlaces.val(e),this.$percentSeparatorStyle.val(i);break}case 3:{if(this.$category.val("date"),!t)break;let e=t.length,i=t.indexOf("("),n=e-i-5,o=-1;if(n>0){let e=t.substr(i+2,n);for(let t=0;t<_.length;t++)if(e==_[t]){this.$dateFormatOptions.val(e),o=t;break}-1==o&&(this.$dateFormatOptions.val("Custom"),this.$dateCustomFormatText.val(e))}this.dateSelectedIndex=o,this.$dateCustomFormat.toggle(-1==o);break}case 4:{if(this.$category.val("time"),!t)break;let e=-1,i=t.length,n=t.indexOf("(");if(t.indexOf("AFTime_FormatEx")>=0){let o=i-n-5;if(o>0){let i=t.substr(n+2,o);for(let t=0;t<b.length;t++)if(i==b[t]){this.$timeFormatOptions.val(i),e=t;break}-1==e&&(this.$timeFormatOptions.val("Custom"),this.$timeCustomFormatText.val(i))}}else{let o=i-n-3;if(o>0){let i=t.substr(n+1,o),a=parseInt(i);a>=0&&a<b.length?(e=a,this.$timeFormatOptions.val(b[a])):(this.$timeFormatOptions.val("Custom"),this.$timeCustomFormatText.val(i))}}this.$timeCustomFormat.toggle(-1==e);break}case 5:if(this.$category.val("special"),!i)break;if(i.indexOf("AFSpecial_KeystrokeEx")>=0){let e=i.length,t=i.indexOf("("),n=e-t-5;if(n>0){let e=i.substr(t+2,n);this.$specialArbitraryFormatText.val(e)}this.$specialFormatOptions.val("arbitraryMask"),this.$specialArbitraryFormat.toggle(!0)}else{let e=i.length,t=i.indexOf("("),n=e-t-3;if(n>0){let e=i.substr(t+1,n),o=parseInt(e);o>-1&&this.$specialFormatOptions.prop("selectedIndex",o)}this.$specialArbitraryFormat.toggle(!1)}break;case-1:this.$category.val("custom"),t||(t=""),E("[name=editFormat]",this.$dialog).val(t),i||(i=""),E("[name=editKeystroke]",this.$dialog).val(i);break;default:this.$category.val("none")}this.lastCategoryVal=this.$category.val(),this.updateSampleText(e),this.onUpdateCategoryUI()},t.resetTab=function(){},t.resetFieldColor=function(){let e=this.annot.getField(),t=e.getAction(f.Mp.format);if(t&&"TypeJavaScript"==t.info.type){let i=t.info.javascript;if(1==x.GetFormatStringType(i)){let{wcJS:t,iDec:n,iSep:o,iNeg:a,iDef:s,iMoney:r,iPre:l}=x.GetNumberValues(i);if(1&a)return e.setDAFontColorAsync(["RGB",0,0,0])}}return Promise.resolve()},t.onEvent=function(){this.$dialog;this.lastCategoryVal=this.$category.val(),this.$category.on("change",(e=>{const t=E("input[name=multiLine]",this.$dialog),i=this.$category.val();if(["none","custom"].includes(i))t.prop("disabled",!1);else{const e=this.annot.getField().getFlags();if(!!A.isMultiline(e))return this.$category.val(this.lastCategoryVal),void this.PDFUI.alert({message:"dialog.error.pleaseUncheckMultiLine",level:"error"});t.prop("disabled",!0)}this.isChangeCategory=!0,this.onUpdateCategoryUI(),this.resetFieldColor().then((()=>(this.changeCurrentCatgory(),Promise.resolve()))).then((()=>{this.lastCategoryVal=i}))})),this.$decimalPlaces.on("change",(e=>this.changeCurrentCatgory())),this.$separatorStyle.on("change",(e=>this.changeCurrentCatgory())),this.$currencySymbol.on("change",(e=>this.changeCurrentCatgory())),this.$showParentheses.on("change",(e=>this.changeCurrentCatgory())),this.$useRedText.on("change",(e=>{this.changeCurrentCatgory();let t=this.annot.getField(),i=t.getDefaultValue(),n=t.getValue(),o=this.$useRedText.prop("checked"),a="#000";(i&&0!=i.length||n&&0!=n.length)&&(a=o&&(i<0||n<0)?"#FF0000":"#000");let s=C(a,"int");this.annot.setDefaultAppearance({textColor:s}).then((()=>{this.annot.updateUI({value:s,type:"textColor"})}))})),this.$percentDecimalPlaces.on("change",(e=>this.changeCurrentCatgory())),this.$percentSeparatorStyle.on("change",(e=>this.changeCurrentCatgory())),this.$dateCustomFormatText.on("blur",(e=>this.changeCustomFormat(0))),this.$timeCustomFormatText.on("blur",(e=>this.changeCustomFormat(1))),this.$specialArbitraryFormatText.on("blur",(e=>this.changeCustomFormat(2))),this.$dateFormatOptions.on("change",(e=>{const t=this.$dateFormatOptions.val();t&&t.length>1&&this.$dateFormatOptions.val([t.slice(-1)]),this.$dateCustomFormat.toggle(t.indexOf("Custom")>-1),this.changeCurrentCatgory()})),this.$timeFormatOptions.on("change",(e=>{const t=this.$timeFormatOptions.val();t&&t.length>1&&this.$timeFormatOptions.val([t.slice(-1)]),this.$timeCustomFormat.toggle(t.indexOf("Custom")>-1),this.changeCurrentCatgory()})),this.$specialFormatOptions.on("change",(e=>{const t=this.$specialFormatOptions.val();t&&t.length>1&&this.$specialFormatOptions.val([t.slice(-1)]),this.$specialArbitraryFormat.toggle(t.indexOf("arbitraryMask")>-1),this.changeCurrentCatgory()})),this.$dialog.find("[name=btnEditFormat]").on("click",(e=>{let t=this.annot.getField(),i=t.getAction(8);this.addon.getDialog("JSInput").show(i&&i.getScript(),(e=>{t[e&&""!=e?"setAction":"removeAction"](f.Mp.format,e).then((()=>{this.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[this.annot],this.annot.getPDFPage())})),E("[name=editFormat]",this.$dialog).val(e)}))})),this.$dialog.find("[name=btnEditKeystroke]").on("click",(e=>{let t=this.annot.getField(),i=t.getAction(7);this.addon.getDialog("JSInput").show(i&&i.getScript(),(e=>{t[e&&""!=e?"setAction":"removeAction"](f.Mp.keyStroke,e).then((()=>{this.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[this.annot],this.annot.getPDFPage())})),E("[name=editKeystroke]",this.$dialog).val(e)}))}))},t.show=function(){},t.active=function(){if(this.annot&&!this.$category.is(":visible")){if("custom"===this.$category.val()&&!this.$editFormat.val()&&!this.$editKeystroke.val()){const[e]=T(this.annot),t=["none","number","percentage","date","time","special"][e];this.$category.val(t).trigger("change")}}},t.offEvent=function(){this.$category.off("change"),this.$dateFormatOptions.off("change"),this.$timeFormatOptions.off("change"),this.$specialFormatOptions.off("change"),this.$decimalPlaces.off("change"),this.$separatorStyle.off("change"),this.$currencySymbol.off("change"),this.$showParentheses.off("change"),this.$useRedText.off("change"),this.$percentDecimalPlaces.off("change"),this.$percentSeparatorStyle.off("change"),this.$dateCustomFormatText.off("blur"),this.$timeCustomFormatText.off("blur"),this.$specialArbitraryFormatText.off("blur")},t.updateActions=function(e,t){let i=this.annot.getField(),n=i.info.defaultValue,o=i.info.value,a=i.getAction(w.FieldWillFormat),s=this.lastCategoryVal;return(n&&0!=n.length||o&&0!=o.length)&&a?new Promise((e=>setTimeout(e,0))).then((()=>this.PDFUI.getPDFDocRender())).then((n=>{let o=new F;if(o.setScript(e),n.getFormRender().execAction("Field",o,null,i,w.FieldWillFormat).rc)return this.isChangeCategory&&(this.resetCategorySelections(s),this.isChangeCategory=!1),"date"===s&&(this.dateSelectedIndex=this.$dateFormatOptions.prop("selectedIndex")),this.updateActionsEx(i,e,t);this.isChangeCategory&&(this.isChangeCategory=!1,"special"===s&&(s="none")),"date"===s?this.$dateFormatOptions.prop("selectedIndex",this.dateSelectedIndex):(this.$category.val(s),this.$category.trigger("change"))})):this.updateActionsEx(i,e,t)},t.updateActionsEx=function(e,t,i){let n=this.lastCategoryVal;return Promise.resolve().then((()=>t&&""!=t?e.setAction(f.Mp.format,t):e.removeAction(f.Mp.format))).then((()=>i&&""!=i?e.setAction(f.Mp.keyStroke,i):e.removeAction(f.Mp.keyStroke))).then((()=>{if(t)return this.PDFUI.getPDFDocRender().then((i=>{let o=new F;if(o.setScript(t),i.getFormRender().execAction("Field",o,null,e,w.FieldWillFormat).rc){if(this.isChangeCategory&&(this.resetCategorySelections(n),this.isChangeCategory=!1),""!==e.info.value){let t=e.info.value;e.info.value="",e.setValue(t)}}else this.isChangeCategory&&(this.isChangeCategory=!1,"special"===n&&(n="none")),this.$category.val(n),this.$category.trigger("change")}));if(""!==e.info.value){let t=e.info.value;e.info.value="",e.setValue(t)}}))},t.selectNone=function(){let e=this.annot.getField();return e.removeAction(f.Mp.format).then((()=>e.removeAction(f.Mp.keyStroke))).then((()=>e.removeAction(f.Mp.validate))).then((()=>e.setValueEx(e.getValue(),null,!0,!0)))},t.selectNumber=function(e){let t,i,n=e?this.$percentDecimalPlaces.prop("selectedIndex"):this.$decimalPlaces.prop("selectedIndex"),o=e?this.$percentSeparatorStyle.prop("selectedIndex"):this.$separatorStyle.prop("selectedIndex"),a=this.$currencySymbol.prop("selectedIndex"),s=this.$showParentheses.is(":checked"),r=(this.$useRedText.is(":checked")?1:0)|(s?2:0),l=a>0?v[a-1]:"",d=0==a||2==a||5==a||6==a||8==a||12==a?"false":"true";e?(t="AFPercent_Format("+n+","+o+");",i="AFPercent_Keystroke("+n+","+o+");"):(t="AFNumber_Format("+n+","+o+","+r+',0,"'+l+'",'+d+");",i="AFNumber_Keystroke("+n+","+o+","+r+',0,"'+l+'",'+d+");");let c=this.annot.getField();return this.updateActions(t,i).then((()=>c.removeAction(f.Mp.validate)))},t.changeCustomFormat=function(e){let t="",i="";if(0==e){let e=this.$dateCustomFormatText.val();t='AFDate_KeystrokeEx("'+e+'");',i='AFDate_FormatEx("'+e+'");',this.updateSampleText(3)}else if(1==e){let e=this.$timeCustomFormatText.val();t='AFTime_Keystroke("'+e+'");',i='AFTime_FormatEx("'+e+'");',this.updateSampleText(4)}else if(2==e){t='AFSpecial_KeystrokeEx("'+this.$specialArbitraryFormatText.val()+'");',i="",this.updateSampleText(5)}let n=this.annot.getField();return this.updateActions(i,t).then((()=>n.removeAction(f.Mp.validate)))},t.selectDate=function(e){let t,i,n=e?this.$dateFormatOptions.prop("selectedIndex"):this.$timeFormatOptions.prop("selectedIndex"),o=this.annot.getField();if(e){if(n==_.length-1)return;let e=_[n];t='AFDate_KeystrokeEx("'+e+'");',i='AFDate_FormatEx("'+e+'");'}else{if(n==b.length-1)return;t='AFTime_Keystroke("'+b[n]+'");',i="AFTime_Format("+n+");"}return this.updateActions(i,t).then((()=>o.removeAction(f.Mp.validate)))},t.selectSpecial=function(){let e=this.$specialFormatOptions.prop("selectedIndex");if(4==e)return this.changeCustomFormat(2);let t="AFSpecial_Format("+e+");",i="AFSpecial_Keystroke("+e+");",n=this.annot.getField();return this.updateActions(t,i).then((()=>n.removeAction(f.Mp.validate)))},t.resetCategorySelections=function(e){switch(e){case"none":default:break;case"number":this.$decimalPlaces.val(2),this.$separatorStyle.val(0),this.$currencySymbol.val(0),this.$showParentheses.prop("checked",!1),this.$useRedText.prop("checked")&&this.annot.setDefaultAppearance({textColor:0}).then((()=>{this.annot.updateUI({value:0,type:"textColor"})})),this.$useRedText.prop("checked",!1);break;case"percentage":this.$percentDecimalPlaces.val(2),this.$percentSeparatorStyle.val(0);break;case"date":this.$dateFormatOptions.val(_[0]);break;case"time":this.$timeFormatOptions.val(b[0]);break;case"special":this.$specialFormatOptions.val(y[0]);break;case"custom":this.$editFormat.val(""),this.$editKeystroke.val("")}},t.changeCurrentCatgory=function(){switch(this.$category.val()){case"none":this.selectNone(),this.updateSampleText(0);break;case"number":this.updateSampleText(1),this.selectNumber(!1);break;case"percentage":this.updateSampleText(2),this.selectNumber(!0);break;case"date":this.updateSampleText(3),this.selectDate(!0);break;case"time":this.updateSampleText(4),this.selectDate(!1);break;case"special":this.selectSpecial(),this.updateSampleText(0)}},e}();const D=e=>{let t=e.getField().getAction(f.Mp.format);if(!t)return;let i,n=t.getScript();if(-1!==n.indexOf("AFDate_Format")){i=/AFDate_Format(?:Ex)?\("([\s\S]*?)"\)/;let e=n.match(i);if(e&&2==e.length)return e[1].trim()}else if(-1!==n.indexOf("AFTime_Format")){i=/AFTime_Format(?:Ex)?\(([\s\S]*?)\)/;let e=n.match(i);if(e&&2==e.length)return b[e[1]]||e[1].replace(/"/g,"")}},T=e=>{const t=e.getField();let i,n,o=t.getAction(f.Mp.keyStroke);o&&"TypeJavaScript"===o.info.type&&(i=o.info.javascript),o=t.getAction(f.Mp.format),o&&"TypeJavaScript"===o.info.type&&(n=o.info.javascript);let a=0;return a=n?x.GetFormatStringType(n):i?x.GetKeystrokeStringType(i):0,[a,n,i]};var k=$;let P=UIExtension.vendors.jQuery;var R=function(){function e(e,t,i,n){this.$dialog=e,this.PDFUI=t,this.addon=i,this.binding=n,this.$validateRadio=P("[name=validateRadio]",this.$dialog),this.$editFrom=P("[name=editFrom]",this.$dialog),this.$editTo=P("[name=editTo]",this.$dialog),this.$textScript=P("[name=textScript]",this.$dialog),this.$btnEditScript=P("[name=btnEditScript]",this.$dialog),this.$child1=P("[name=validate-child-1]",this.$dialog),this.$child2=P("[name=validate-child-2]",this.$dialog),this.$child3=P("[name=validate-child-3]",this.$dialog)}var t=e.prototype;return t.setAnnot=function(e){this.annot=e,this.initTab()},t.initTab=function(){this.$editFrom.attr("disabled",!0),this.$editFrom.val(""),this.$editTo.attr("disabled",!0),this.$editTo.val(""),this.$textScript.attr("disabled",!0),this.$textScript.val(""),this.$btnEditScript.attr("disabled",!0),this.$btnEditScript.off("click"),this.$validateRadio.filter("[value=0]").prop("checked",!0),this.$validateRadio.filter("[value=1]").attr("disabled",!0),this.$child2.addClass("disabled"),this.$child3.addClass("disabled"),this.$child1.addClass("disabled");let e,t=0,i=this.annot.getField(),n=i.getAction(f.Mp.format);if(n&&"TypeJavaScript"==n.info.type&&(e=n.info.javascript),t=e?x.GetFormatStringType(e):0,1!=t&&2!=t||(this.$validateRadio.filter("[value=1]").attr("disabled",!1),this.$child1.removeClass("disabled")),n=i.getAction(f.Mp.validate),n&&"TypeJavaScript"==n.info.type){let e=n.info.javascript;if(e&&""!=e)if(-1!=e.indexOf("AFRange_Validate")){let{bFrom:t,bTo:i,csiFrom:n,csiTo:o}=x.GetRangeValues(e);this.$editFrom.val(n),this.$editFrom.attr("disabled",!1),this.$editTo.val(o),this.$editTo.attr("disabled",!1),this.$child2.removeClass("disabled"),this.$child1.removeClass("disabled"),this.$validateRadio.filter("[value=1]").prop("checked",!0)}else this.$child3.removeClass("disabled"),this.$validateRadio.filter("[value=2]").prop("checked",!0),this.$btnEditScript.attr("disabled",!1),this.editScriptEvent&&this.$btnEditScript.on("click",this.editScriptEvent),this.$textScript.val(e);else this.$validateRadio.filter("[value=0]").prop("checked",!0)}else this.$validateRadio.filter("[value=0]").prop("checked",!0)},t.resetTab=function(){},t.isNumber=function(e){return!(!/^-?[0-9]+\.([0-9]+)$/.test(e)&&!/^-?([0-9]+)\.?$/.test(e))},t.onSetRange=function(){let e=this.$editFrom.val();e=e.trim();let t,i,n=this.$editTo.val();if(n=n.trim(),""==e&&""==n)return;if(""==e||""==n){let t=""==e?n:e;return void(this.isNumber(t)||(this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"}),""==e?this.$editTo.val("0.0"):this.$editFrom.val("0.0")))}let o=this.annot.getField(),a=o.getAction(f.Mp.validate);if(a&&"TypeJavaScript"==a.info.type){let e=a.info.javascript;if(-1!=e.indexOf("AFRange_Validate")){let{bFrom:n,bTo:o,csiFrom:a,csiTo:s}=x.GetRangeValues(e);t=Number(a),i=Number(s)}}if(!this.isNumber(e))return this.$editFrom.val(t||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});if(!this.isNumber(n))return this.$editTo.val(e||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});if(Number(e)>Number(n))return this.$editFrom.val(t||"0.0"),this.$editTo.val(i||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});let s="AFRange_Validate(true,"+e+",true,"+n+")";o.setAction(f.Mp.validate,s)},t.onEvent=function(){this.$dialog;this.$editFrom.on("blur",(e=>this.onSetRange())),this.$editTo.on("blur",(e=>this.onSetRange())),this.$validateRadio.on("change",(e=>{const t=P(e.target).val();switch(this.$editFrom.attr("disabled",!0),this.$editTo.attr("disabled",!0),this.$textScript.attr("disabled",!0),this.$btnEditScript.attr("disabled",!0),this.$btnEditScript.off("click"),this.$child2.addClass("disabled"),this.$child3.addClass("disabled"),Number(t)){case 0:break;case 1:this.$child2.removeClass("disabled"),this.$child1.removeClass("disabled"),this.$editFrom.attr("disabled",!1),this.$editTo.attr("disabled",!1);break;case 2:this.$child3.removeClass("disabled"),this.$btnEditScript.attr("disabled",!1),this.editScriptEvent&&this.$btnEditScript.on("click",this.editScriptEvent)}this.$editFrom.val(""),this.$editTo.val(""),this.$textScript.val("");let i=this.annot.getField();i.getAction(f.Mp.validate)&&i.removeAction(f.Mp.validate)})),this.editScriptEvent=e=>{this.formatJSDlg||(this.formatJSDlg=this.addon.getDialog("JSInput"));let t=this.annot.getField(),i=t.getAction(f.Mp.validate);this.formatJSDlg.show(i&&i.getScript(),(e=>{e&&""!=e&&(t.setAction(f.Mp.validate,e).then((()=>{this.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[this.annot],this.annot.getPDFPage())})),this.$textScript.val(e))}))},this.$btnEditScript.on("click",this.editScriptEvent)},t.active=function(){this.initTab()},t.show=function(){},t.offEvent=function(){this.$validateRadio.off("change"),this.$editFrom.off("blur"),this.$editTo.off("blur"),this.$btnEditScript.off("click")},e}();__webpack_require__(9976),__webpack_require__(3356);var I={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"};var O={OBJECT_URL:"object-url-creation"};const{isMatch:L,matchers:N}=PDFViewCtrl.keyboard.KeyboardUtils;let V=r.vendors.jQuery;var M=function(){function e(e,t,i){this.$dialog=e,this.pdfUI=t,this.binding=i,t.pdfViewerPromise.then((e=>{this.pdfViewer=e})),this.$layout=V("select[name=layout]",this.$dialog),this.$advanced=V(".fv__ui-dialog-button[name=advanced]",this.$dialog),this.$behavior=V("select[name=behavior]",this.$dialog),this.$stateLabel=V("input[name=stateLabel]",this.$dialog),this.$statePosition=V(".state-position",this.$dialog),this.$iconImg=V(".icon-img",this.$dialog),this.$chooseIcon=V(".fv__ui-dialog-button[name=chooseIcon]",this.$dialog),this.$clearIcon=V(".fv__ui-dialog-button[name=clearIcon]",this.$dialog),this.$chooseIconFile=V("#chooseIconFile",this.$dialog),this.$advancedDialog=V(".fv__advanced-dialog",this.$dialog),this.$advancedDialogClose=V(".fv__icon-layer-close",this.$advancedDialog),this.$scaleType=V("select[name=scaleType]",this.$advancedDialog),this.$scale=V("select[name=scale]",this.$advancedDialog),this.$checkFit=V("input[name=fit]",this.$advancedDialog),this.$checkFit=V("input[name=fit]",this.$advancedDialog),this.$icon=V(".icon",this.$advancedDialog),this.$sliderX=V(".slider-x",this.$advancedDialog),this.$sliderY=V(".slider-y",this.$advancedDialog),this.$fraction=V(".fraction",this.$advancedDialog),this.$reset=V(".reset-button",this.$advancedDialog),this.$confirm=V(".confirm-button",this.$advancedDialog),this.$cancel=V(".cancel-button",this.$advancedDialog),this.iconFile=""}var t=e.prototype;return t.setAnnot=function(e){this.annot=e,this.isOpened()&&this.show()},t.onEvent=function(){this.$layout.on("change",(e=>{const t=V(e.target).val();if("e_MKRelationNoCaption"!==t){let e=this.$stateLabel.data("labelIcon")[this.$statePosition.val()[0]];this.$stateLabel.val(e.label)}this.setOptionProperty({layout:t}),this.annot.setWidgetIconCaptionRelation(t)})),this.$advanced.on("click",(e=>{V(e.target).hasClass("disabled")||this.annot.getWidgetIconFitOption().then((e=>{this.setAdvancedProperty({scale_way_type:e.scale_way_type,is_proportional_scaling:e.is_proportional_scaling,fit_bounds:e.fit_bounds,horizontal_fraction:e.horizontal_fraction,vertical_fraction:e.vertical_fraction}),this.$advancedDialog.show()}))})),this.$behavior.on("change",(e=>{const t=V(e.target).val();this.setOptionProperty({behavior:t}),this.annot.setWidgetHighlighting(t)})),this.$statePosition.on("change",(e=>{let t=V(e.target).val().pop();this.setOptionProperty({statePosition:t})})),this.$stateLabel.on("blur",(e=>{const t=V(e.target).val(),i=this.$statePosition.val()[0];let n=this.$stateLabel.data("labelIcon");n[i].label=t,this.$stateLabel.data("labelIcon",n),this.annot.setWidgetMkCaption(i,t)})),this.$chooseIconFile.on("change",(e=>{const t=e.target.files[0];if(!t)return;const i=this.pdfViewer.resourceGenerator(I.PDF_DOCUMENT_CLOSING,O.OBJECT_URL),{URL:n}=i.expose();let o=n.createObjectURL(t),a=new FileReader;a.readAsArrayBuffer(t),a.onload=e=>{let t=a.result;const i=this.$statePosition.val()[0];this.annot.setWidgetMkIcon(i,t).then((()=>{let e=this.$stateLabel.data("labelIcon");e[i].icon=o,this.$stateLabel.data("labelIcon",e),this.$iconImg.attr("src",o),this.iconFile=o,this.$clearIcon.removeClass("disabled"),this.$clearIcon.attr("tabindex","0")}))}})),this.$chooseIcon.on("click",(e=>{this.$chooseIconFile.val(""),this.$chooseIconFile.click(),V(e.target).hasClass("disabled")&&e.preventDefault()})),this.$clearIcon.on("click",(e=>{if(V(e.target).hasClass("disabled"))return;const t=this.$statePosition.val()[0];let i=this.$stateLabel.data("labelIcon");i[t].icon="",this.$stateLabel.data("labelIcon",i),this.$iconImg.attr("src",""),this.annot.setWidgetMkIcon(t,null),V(e.target).addClass("disabled"),this.$chooseIconFile.val("")})),this.$advancedDialogClose.on("click",(e=>{this.$advancedDialog.hide()})),this.$scaleType.on("change",(e=>{const t=V(e.target).val();this.setAdvancedProperty({scale_way_type:t})})),this.$scale.on("change",(e=>{const t=V(e.target).val();this.setAdvancedProperty({is_proportional_scaling:t})})),this.$checkFit.on("change",(e=>{const t=V(e.target).prop("checked");this.setAdvancedProperty({fit_bounds:t})})),this.$sliderX.on("input",(e=>{const t=V(e.target).val();this.setAdvancedProperty({horizontal_fraction:t})})),this.$sliderY.on("input",(e=>{const t=V(e.target).val();this.setAdvancedProperty({vertical_fraction:t})})),this.$reset.on("click",(e=>{this.setAdvancedProperty({horizontal_fraction:50,vertical_fraction:50})})),this.$confirm.on("click",(e=>{this.annot.setWidgetIconFitOption({scale_way_type:this.$scaleType.val(),is_proportional_scaling:this.$scale.val(),fit_bounds:this.$checkFit.prop("checked"),horizontal_fraction:this.$sliderX.val(),vertical_fraction:this.$sliderY.val()}).then((e=>{this.$advancedDialog.hide()}))})),this.$cancel.on("click",(e=>{this.$advancedDialog.hide()}))},t.show=function(){this.$advancedDialog.hide(),this.iconFile="",this.annot.getWidgetMkOption().then((e=>{this.$stateLabel.data("labelIcon",e.labelIcon),this.setOptionProperty({layout:e.layout,behavior:e.behavior})}))},t.offEvent=function(){this.$layout.off("change"),this.$behavior.off("change"),this.$advanced.off("click"),this.$statePosition.off("change"),this.$stateLabel.off("blur"),this.$chooseIcon.off("click"),this.$clearIcon.off("click"),this.$chooseIconFile.off("change")},t.setOptionProperty=function(e){if(e.hasOwnProperty("layout")){let t=e.layout;this.$layout.val(t),"e_MKRelationNoIcon"===t?(this.$advanced.addClass("disabled"),this.$chooseIcon.addClass("disabled"),this.$iconImg.attr("src",""),this.$advanced.attr("tabindex","-1"),this.$chooseIcon.attr("tabindex","-1")):"e_MKRelationNoIcon"!==t&&(this.$advanced.removeClass("disabled"),this.$chooseIcon.removeClass("disabled"),this.$advanced.attr("tabindex","0"),this.$chooseIcon.attr("tabindex","0"),this.$iconImg.attr("src",this.iconFile)),"e_MKRelationNoCaption"===t?this.$stateLabel.attr("disabled",!0).val(""):"e_MKRelationNoCaption"!==t&&this.$stateLabel.removeAttr("disabled")}if(e.hasOwnProperty("behavior")){let t=e.behavior;this.$behavior.val(t),"e_HighlightingPush"===t?this.$statePosition.find("option").show():(this.$statePosition.find("option").hide(),this.$statePosition.find('option[value="up"]').show());const i=this.$statePosition.val();this.setOptionProperty({statePosition:i[0]||"up"})}if(e.hasOwnProperty("statePosition")){let t=e.statePosition;this.$statePosition.val([t]);let i=this.$stateLabel.data("labelIcon")[t],n=i.icon;if(this.$stateLabel.val(i.label),"object"==typeof n){let e=document.createElement("canvas");e.width=n.width,e.height=n.height;let t=e.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(n.buffer),o=t.createImageData(n.width,n.height);o.data.set(i),t.putImageData(o,0,0),n=e.toDataURL()}this.$iconImg.attr("src",n),n?this.$clearIcon.removeClass("disabled").attr("tabindex","0"):this.$clearIcon.addClass("disabled").attr("tabindex","-1")}},t.setAdvancedProperty=function(e){if(e.hasOwnProperty("scale_way_type")){let t=e.scale_way_type;this.$scaleType.val(t),this.$scale.attr("disabled","e_ScaleWayNever"===t);let i="false"===this.$scale.val()&&"e_ScaleWayAlways"===t;this.$checkFit.attr("disabled",i),this.$sliderX.attr("disabled",i),this.$sliderY.attr("disabled",i)}if(e.hasOwnProperty("is_proportional_scaling")){let t=e.is_proportional_scaling;this.$scale.val(t);let i="false"===t&&"e_ScaleWayAlways"===this.$scaleType.val();this.$checkFit.attr("disabled",i),this.$sliderX.attr("disabled",i),this.$sliderY.attr("disabled",i)}if(e.hasOwnProperty("fit_bounds")){let t=e.fit_bounds;this.$checkFit.prop("checked",t)}if(e.hasOwnProperty("horizontal_fraction")){let t=e.horizontal_fraction;this.$sliderX.val(t),this.$fraction.text("("+t+","+this.$sliderY.val()+")");let i=(this.$icon.parent().width()-this.$icon.outerWidth())*t/100;this.$icon.css("left",i+"px")}if(e.hasOwnProperty("vertical_fraction")){let t=e.vertical_fraction;this.$sliderY.val(t),this.$fraction.text("("+this.$sliderX.val()+","+t+")");let i=(this.$icon.parent().height()-this.$icon.outerHeight())*t/100;this.$icon.css("bottom",i+"px")}},t.isOpened=function(){return this.$dialog.is(":visible")},e}();const U={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:e=>e&U.ButtonRadiosInUnison,isHidden:function(e){return e&U.Hidden},isReadOnly:function(e){return e&U.ReadOnly},isRequired:function(e){return e&U.Required},isNoExport:function(e){return e&U.NoExport},isMultiline:function(e){return e&U.TextMultiline},isPassword:function(e){return e&U.TextPassword},isComb:function(e){return e&U.TextComb},isNoSpellCheck:function(e){return e&U.TextDoNotSpellCheck},isNoScroll:function(e){return e&U.TextDoNotScroll},isComboEdit:function(e){return e&U.ComboEdit},isChoiceMultiSelect:function(e){return e&U.ChoiceMultiSelect}};let B=U;var H=function(){function e(e,t,i){this.$dialog=e,this.pdfUI=t,this.binding=i,t.pdfViewerPromise.then((e=>{this.pdfViewer=e}))}var t=e.prototype;return t.setAnnot=function(e){this.annot=e,this.isOpened()&&this.show()},t.onEvent=function(){let e=this.$dialog;e.find("select[name=buttonStyle]").on("change",(e=>{let t=e.target.value;this.annot.setMKProperty("normalCaption",t).then((()=>{this.annot.updateUI({type:"normalCaption",value:t})}))})),e.find("input[name=exportValue]").on("blur",(t=>{let i=t.target.value;i.trim()||(i="Yes");let n=this.annot.getField();this.annot.getField().setExportValue(this.annot.info.control,i).then((t=>{e.find("input[name=radioButtonsValue]").checked&&n.setValue(i).then((e=>n.setDefaultValue(i)))}))})),e.find("input[name=selectedByDefault]").on("change",(e=>{let t=this.annot.getField(),i=e.target.checked?t.getExportValues()[0]:"Off";setTimeout((()=>{t.setValue(i,this.annot).then((e=>t.setDefaultValue(i)))}),100)})),e.find("input[name=radioButtonsValue]").on("change",(e=>{let t=e.target.checked;this.annot.getField().setInUnison(t,this.annot)}))},t.show=function(){if(2==this.annot.getType()||3==this.annot.getType())return;let e=this.annot.getControl().getWidget(),t=e.getMKProperty("normalCaption"),i=e.getControl(),n=i.info.exportValue,o=i.info.isDefaultChecked,a=(this.annot.getField().getDefaultValue(),this.annot.getField().getFlags());this.$dialog.find("select[name=buttonStyle]")[0].value=""==t?"l":t,this.$dialog.find("input[name=exportValue]")[0].value=n,this.$dialog.find("input[name=selectedByDefault]")[0].checked=o,this.$dialog.find("input[name=radioButtonsValue]")[0].checked=B.inUnison(a)},t.offEvent=function(){if(this.annot&&(this.annot.isDestroyed||2==this.annot.getType()||3==this.annot.getType()))return;let e=this.$dialog;e.find("input:radio").off("change"),e.find("select[name=buttonStyle]").off("change"),e.find("input[name=exportValue]").off("blur"),e.find("input[name=selectedByDefault]").off("change"),e.find("input[name=radioButtonsValue]").off("change")},t.isOpened=function(){return this.$dialog.is(":visible")},e}();const j=PDFViewCtrl.shared.getUnitByName,W=j("pt"),z=UIExtension.UIEvents,G=PDFViewCtrl.PDF.constant.AnnotUpdatedType;let q=function(){function e(e,t,i,n){this.$dialog=e,this.pdfUI=t,this.binding=n,t.pdfViewerPromise.then((t=>{this.pdfViewer=t;const i=(t,i,n)=>{if(n===G.rectUpdated){let t=e.find("select[name=units]"),i=e.find(".inputContainer").find("input");const n=this.binding.getRect();this.resetPosition(i,n,t.val())}};this.pdfViewer.eventEmitter.on(z.annotationUpdated,i),this.pdfViewer.addDestroyHook((()=>{this.pdfViewer.eventEmitter.off(z.annotationUpdated,i)}))}))}e.formatNum=function(e,t){return null==t&&(t=2),isNaN(e)?0:Number(parseFloat(e).toFixed(t))},e.getRadioButtonBoundary=function(e){let t=o({},e);return t.width=e.right-e.left,t.height=e.top-e.bottom,t},e.transformUnit=function(t,i){let n=0;if("pica"==t){let t=j("pt"),o=j("pica").convertTo(i,t),a=e.formatNum(o%12);n=parseInt(o/12)+"p"+a}else n=i;return n},e.reTransformUnit=function(e,t){let i=0;return i="pica"!==e?t:1==(t+="").split("p").length?t.split("p")[0]:t.split("p")[1],i},e.validatePosition=function(t,i,n,o,a){let s={},r=e.transformUnit,l=e.formatNum,d=j("pt"),c=j(a),u="pt"!==a?d.convertTo(t.getWidth(),c):t.getWidth(),p="pt"!==a?d.convertTo(t.getHeight(),c):t.getHeight();switch(""===i.trim()&&(i=NaN),n){case"left":s.error=i>=0&&i<=o.right,s.info=`the value must be between 0 and ${r(a,l(o.right))}`;break;case"right":s.error=i>=o.left&&i<=u,s.info=`the value must be between ${r(a,l(o.left))} and ${r(a,l(u))}`;break;case"top":s.error=i>=o.bottom&&i<=p,s.info=`the value must be between ${r(a,l(o.bottom))} and ${r(a,l(p))}`;break;case"bottom":s.error=i>=0&&i<=o.top,s.info=`the value must be between 0 and ${r(a,l(o.top))}`;break;case"width":s.error=i>=0&&i<=u-o.left,s.info=`the value must be between 0 and ${r(a,l(u-o.left))}`;break;case"height":s.error=i>=0&&i<=p-o.bottom,s.info=`the value must be between 0 and ${r(a,l(p-o.bottom))}`}return s};var t=e.prototype;return t.showTip=function(e,t){},t.setAnnot=function(e){this.annot=e,this.lastRect=e.getRect(),this.isOpened()&&this.show()},t.onEvent=function(){let t=this.$dialog,i=t.find("select[name=units]"),n=t.find(".inputContainer").find("input"),o="pt",a=j(o);this.$dialog.find("input[name=lockWidthHeight]").on("change",(e=>{let t=e.target.checked;this.locked=t,localStorage.setItem("lockWidthHeightFlag",t),this.$dialog.find(".inputContainer").find(".positionWidth,.positionHeight").attr("disabled",t)})),i.on("change",(e=>{const t=this.binding.getRect();o=e.target.value,a=j("picas"==o?"pica":o),this.resetPosition(n,t,o)})),n.on("change",(t=>{const i=t.target||t.srcElement,s=i.name,r=parseFloat(i.value),l=this.binding.getRect(),d=this.locked,c=a.convertTo(e.reTransformUnit(o,r),W),u=l.getUniqueFieldValue(s);l.setField(s,c,d)?(this.resetPosition(n,l,o),this.binding.setRect(l)):1===u.length?i.value=this.formatUnitValue(u[0],a):i.value=""}))},t.formatUnitValue=function(t,i){const n=i.name;return"pica"===n?e.transformUnit(n,t):("pt"!==n&&(t=W.convertTo(t,i)),e.formatNum(t))},t.resetPosition=function(e,t,i){const n=j(i),o=t.getRectForDisplay((e=>this.formatUnitValue(e,n)));e.each(((e,t)=>{const n=t.name,a=o[n];"pica"==i?t.setAttribute("type","text"):t.setAttribute("type","number"),t.value=a;const s=this.pdfUI.i18n.t("measurement.units."+i);t.parentNode.setAttribute("text-content-after","pica"==i?"":s)})),this.$dialog.find(".inputContainer .unit").text("pica"==i?"":i)},t.show=function(){this.$dialog.find("select[name=units]").trigger("change"),this.$dialog.find("input[name=lockWidthHeight]")[0].checked=!1;let e=localStorage.getItem("lockWidthHeightFlag");e=null!=e&&"false"!=e,this.$dialog.find("input[name=lockWidthHeight]")[0].checked=e,this.$dialog.find(".inputContainer").find(".positionWidth,.positionHeight").attr("disabled",e)},t.offEvent=function(){let e=this.$dialog;e.find("select[name=units]").off("change"),e.find(".inputContainer").find("input").off("change")},t.keepBoundayNoChange=function(t,i,n){let a=o({},n);return"left"==t||"right"==t?(a.left=n.left+i,a.right=n.right+i):"bottom"!=t&&"top"!=t||(a.bottom=n.bottom+i,a.top=n.top+i),this.$dialog.find(".inputContainer").find("input").each(((i,n)=>{"width"!=n.name&&"height"!=n.name&&n.name!=t&&(n.value=`${e.formatNum(a[n.name])}`)})),a},t.isOpened=function(){return this.$dialog.is(":visible")},e}();var K=q;let J=UIExtension.vendors.jQuery,X=PDFViewCtrl.PDF.form.constant.Field_Flag;PDFViewCtrl.PDF.form.constant.Field_Type,PDFViewCtrl.PDF.annots.constant.Annot_Flags,PDFViewCtrl.ViewerEvents,PDFViewCtrl.PDF.constant.AnnotUpdatedType;var Y=function(){function e(e,t,i){this.main=e,this.$dialog=e.$dialog,this.pdfUI=t,this.binding=i,this.$addItemBtn=J("[name=addItemBtn]",this.$dialog),this.$deleteItemBtn=J("[name=deleteItemBtn]",this.$dialog),this.$upItemBtn=J("[name=upItemBtn]",this.$dialog),this.$downItemBtn=J("[name=downItemBtn]",this.$dialog),this.$itemLabel=J("[name=itemLabel]",this.$dialog),this.$itemValue=J("[name=itemValue]",this.$dialog),this.$items=J("[name=items]",this.$dialog),this.$allowUserEnter=J("[name=allowUserEnter]",this.$dialog),this.$multiSelect=J("[name=multiSelect]",this.$dialog),this.itemsComponent=e.dialog.querySelector("optionsTab items")}var t=e.prototype;return t.setAnnot=function(e){this.annot=e},t.setValue=function(){let e=this.annot.getField(),t=e.getFlags();this.optionsReRender();const i=e.getOptions()||[];this.$addItemBtn.toggleClass("disabled",!0),this.$deleteItemBtn.toggleClass("disabled",!i.length),this.$allowUserEnter.prop("checked",!!X.isComboEdit(t)),this.$multiSelect.prop("checked",!!X.isChoiceMultiSelect(t))},t.onEvent=function(){this.$addItemBtn.on("click",(e=>{J(e.target).hasClass("disabled")||(this.$itemLabel.focus(),this.pdfUI.getPDFViewer().then((t=>{const i=this.$itemLabel.val().trim(),n=this.$itemValue.val().trim(),o=t.getPDFDocRender().formRender,a=this.annot.getField(),s=a.getValue()||"";let r=a.getAction(w.FieldWillFormat);if(0==i.length&&0==n.length||!r)o.setValue(this.annot,i).then((t=>{this.modifyOptions("add",i,n),J(e.target).addClass("disabled"),this.$deleteItemBtn.removeClass("disabled")}));else{let t,l=!1;0!=n.length&&(t=o.execAction("Field",r,null,a,w.FieldWillFormat,{value:n})),(!t||t&&t.rc)&&0!=i.length&&(l=!0,t=o.execAction("Field",r,null,a,w.FieldWillFormat,{value:i})),t&&t.rc?(l=!1,o.setValue(this.annot,i).then((t=>{t&&(this.modifyOptions("add",i,n),J(e.target).addClass("disabled"),this.$deleteItemBtn.removeClass("disabled"))}))):(l&&a.showDisplayValue(""),this.$itemLabel.val(s),this.$itemValue.val(s))}})))})),this.$deleteItemBtn.on("click",(e=>{J(e.target).hasClass("disabled")||this.modifyOptions("delete")})),this.$upItemBtn.on("click",(e=>{J(e.target).hasClass("disabled")||this.modifyOptions("up")})),this.$downItemBtn.on("click",(e=>{J(e.target).hasClass("disabled")||this.modifyOptions("down")})),this.$itemValue.on("blur",(e=>{this.modifyOptions("modify-value")})),this.$itemLabel.on("keyup",(e=>{const t=J(e.target).val().trim(),i=this.annot.getField().getOptions()||[];let n=this.$itemValue.val().trim();!!i.find((e=>e.value===n))&&this.$itemValue.val("");const o=!!i.find((e=>e.label===t)),a=""===t||o;this.$addItemBtn.toggleClass("disabled",a)})),this.itemsComponent.on("change",(()=>{this.modifyOptions("selected-change")})),this.$allowUserEnter.on("change",(e=>{const t=J(e.target).prop("checked");this.annot.getField().setComboEdit(t)})),this.$multiSelect.on("change",(e=>{const t=J(e.target).prop("checked");this.annot.getField().setChoiceMultiSelect(t)}))},t.offEvent=function(){},t.optionsReRender=function(){const e=this.annot.getField().getOptions()||[];let t;e.some(((e,i)=>!(void 0!==t||!e.selected)&&(t=i,!0))),void 0===t&&e.some(((e,i)=>!!e.defaultSelected&&(t=i,!0)));const i=e[t];this.itemsComponent.items=e.map((e=>{return{value:e.value,label:(t=e.label,String(t).replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})))};var t})),this.itemsComponent.digest(),void 0!==t&&this.itemsComponent.childAt(t).setSelected(!0),this.$itemLabel.val(i?i.label:""),this.$itemValue.val(i?i.value:""),this.$upItemBtn.toggleClass("disabled",void 0===t||0===t),this.$downItemBtn.toggleClass("disabled",void 0===t||t===e.length-1)},t.modifyOptions=function(e,t,i){var n;const o=this.annot.getField();let a=o.getOptions()||[];const s=void 0===t?this.$itemLabel.val().trim():t,r=void 0===i?this.$itemValue.val().trim():i,l=null==(n=this.itemsComponent.getSelectedOptionChildren()[0])?void 0:n.index();if("add"===e)a=a.map((e=>({label:e.label,value:e.value,selected:!1,defaultSelected:!1}))),a.push({label:s,value:r||s,selected:!0,defaultSelected:!0});else if("delete"===e)a.splice(l,1),a.length&&(a[0].selected=!0,a[0].defaultSelected=!0);else if("modify-value"===e){if(!r||!a.find((e=>e.label===s)))return;a[l].value=r}else if("up"===e)[a[l],a[l-1]]=[a[l-1],a[l]];else if("down"===e)[a[l],a[l+1]]=[a[l+1],a[l]];else if("selected-change"===e){const e=a[l];this.$itemLabel.val(e.label),this.$itemValue.val(e.value),this.$upItemBtn.toggleClass("disabled",0===l),this.$downItemBtn.toggleClass("disabled",l===a.length-1),a=a.map(((e,t)=>({label:e.label,value:e.value,selected:t===l,defaultSelected:t===l})))}let d;a=a.map((e=>[e.label,e.value,e.selected,e.defaultSelected])),a.length?d=this.pdfUI.getPDFViewer().then((e=>{const t=e.getPDFDocRender().formRender;let i=a.find((e=>e[2]));t.setValue(this.annot,i[0]).then((e=>e?o.setItems(a):Promise.resolve()))})):(d=Promise.resolve(o.clearItems()),this.$deleteItemBtn.addClass("disabled")),d.then((e=>this.optionsReRender()))},e}();let Q=UIExtension.vendors.jQuery;const Z=UIExtension.PDFViewCtrl.shared.colorConvertor;let ee=PDFViewCtrl.PDF.form.constant.Field_Flag,te=(PDFViewCtrl.PDF.form.constant.Field_Type,PDFViewCtrl.PDF.annots.constant.Annot_Flags,PDFViewCtrl.PDF.constant.AnnotUpdatedType);var ie=function(){function e(e,t,i){this.main=e,this.$dialog=e.$dialog,this.pdfUI=t,this.binding=i,this.$alignment=Q("[name=alignment]",this.$dialog),this.$defaultValue=Q("[name=defaultValue]",this.$dialog),this.$scrollLongText=Q("input[name=scrollLongText]",this.$dialog),this.$richText=Q("input[name=richText]",this.$dialog),this.$textLimit=Q("input[name=textLimit]",this.$dialog),this.$maxLengthTextLimit=Q("input[name=maxLengthTextLimit]",this.$dialog),this.$textPassword=Q("input[name=textPassword]",this.$dialog),this.$fileSelect=Q("input[name=fileSelect]",this.$dialog),this.$checkSpell=Q("input[name=checkSpell]",this.$dialog),this.$textComb=Q("input[name=textComb]",this.$dialog),this.$maxLengthTextComb=Q("input[name=maxLengthTextComb]",this.$dialog),this.$multiLine=Q("input[name=multiLine]",this.$dialog),this.$lineSpace=Q("select[name=lineSpace]",this.$dialog),this.$lineSpaceExactlyValue=Q("[name=lineSpaceExactlyValue]",this.$dialog),this.pdfUI.addViewerEventListener(m.fieldFontSizeChanged,(e=>{this.noScrollLongTextAdjustHandler()}))}var t=e.prototype;return t.setAnnot=function(e){this.annot=e},t.active=function(){this.annot&&(this.$alignment.val(this.annot.getField().getAlignment()||0),this.disabledCheckBoxHandler())},t.setValue=function(){let e=this.annot.getField(),t=e.getFlags();this.$alignment.val(e.getAlignment()||0);const i=e.getDefaultValue()||"";this.$defaultValue.val(i),this.$scrollLongText.prop("checked",!ee.isNoScroll(t)),this.$textPassword.prop("checked",!!ee.isPassword(t)),this.$checkSpell.prop("checked",!ee.isNoSpellCheck(t));const n=!!ee.isComb(t),o=e.getMaxLength(),a=!n&&o>0;this.$textLimit.prop("checked",a),this.$maxLengthTextLimit.prop("disabled",!a).val(a&&o||1),a?this.$defaultValue.attr("maxLength",o).val(i.substr(0,o||1)):this.$defaultValue.removeAttr("maxLength"),this.$textComb.prop("checked",n),this.$maxLengthTextComb.prop("disabled",!n).val(n&&o||0);const s=!!ee.isMultiline(t),r=this.annot.getLineSpace()||[];this.$multiLine.prop("checked",s),this.$lineSpace.prop("disabled",!s).val(s?2!==r.length?"auto":[r[0],0].join(","):"auto"),this.$lineSpaceExactlyValue.val(r[1]||"0.0").parent().toggle("3,0"===[r[0],0].join(",")),this.$dialog.find("input[name=locked]").prop("checked")||this.disabledCheckBoxHandler()},t.onEvent=function(){this.$alignment.on("change",(e=>{this.annot.getField().setAlignment(Q(e.target).val()).then((()=>{this.main.emitAnnotUpdateEvent(te.alignmentUpdated,!0)}))})),this.$defaultValue.on("blur",(e=>{const t=Q(e.target).val().trim(),i=this.annot.getField(),n=i.getValue()||"";let o=i.getAction(w.FieldWillFormat);if(0!=t.length&&o)return new Promise((e=>setTimeout(e,0))).then((()=>this.pdfUI.getPDFDocRender())).then((a=>{if(a.getFormRender().execAction("Field",o,null,i,w.FieldWillFormat,{value:t}).rc){let e=this.$dialog.find("select[name=category]");if(this.$useRedText=this.$dialog.find("[name=useRedText]"),this.$useRedText.prop("checked")&&"number"==e.val()){let e=parseInt(t)>0?"#000":"#FF0000",i=Z(e,"int");this.annot.setDefaultAppearance({textColor:i}).then((()=>{this.annot.updateUI({value:i,type:"textColor"})}))}i.setDefaultValue(""===t?void 0:t);const o=i.getDefaultValue()||"";n&&n===o||i.setValue(t).then((()=>{i.form.calculate(),this.noScrollLongTextAdjustHandler()}))}else Q(e.target).val(n)}));{i.setDefaultValue(""===t?void 0:t);const e=i.getDefaultValue()||"";n&&n===e||i.setValue(t).then((()=>{i.form.calculate(),this.noScrollLongTextAdjustHandler()}))}})),this.$scrollLongText.on("change",(e=>{const t=Q(e.target).prop("checked");this.annot.getField().setNoScroll(!t),this.main.emitAnnotUpdateEvent(te.flagsUpdated,!0),this.disabledCheckBoxHandler(),this.noScrollLongTextAdjustHandler()})),this.$richText.on("change",(e=>{this.disabledCheckBoxHandler()})),this.$textPassword.on("change",(e=>{this.annot.getField().setPassword(Q(e.target).prop("checked")),this.main.emitAnnotUpdateEvent(te.flagsUpdated,!0),this.disabledCheckBoxHandler()})),this.$fileSelect.on("change",(e=>{this.disabledCheckBoxHandler()})),this.$checkSpell.on("change",(e=>{const t=Q(e.target).prop("checked");this.annot.getField().setNoSpellCheck(!t),this.main.emitAnnotUpdateEvent(te.flagsUpdated,!0),this.disabledCheckBoxHandler()})),this.$textLimit.on("change",(e=>{const t=Q(e.target).prop("checked"),i=this.annot.getField(),n=String(i.getValue()).length||10;t?this.$defaultValue.attr("maxLength",t):this.$defaultValue.removeAttr("maxLength"),i.setMaxLength(t?n:void 0),i.updateWidgetsUI(i.getPDFForm(),i.getName(),"value",i.getValue()),this.$maxLengthTextLimit.prop("disabled",!t).val(t?n:1),this.disabledCheckBoxHandler()})),this.$textComb.on("change",(e=>{const t=Q(e.target).prop("checked"),i=this.annot.getField();i.setComb(t);const n=String(i.getValue()).length||10;i.setMaxLength(t?n:void 0),this.$maxLengthTextComb.prop("disabled",!t).val(t?n:1),this.main.emitAnnotUpdateEvent(te.flagsUpdated,!0),this.disabledCheckBoxHandler()})),this.$maxLengthTextLimit.add(this.$maxLengthTextComb).on("blur",(e=>{const t=Math.floor(Q(e.target).val().trim()),i=this.annot.getField();if(t>0){i.setMaxLength(t),Q(e.target).val(t);const n=String(i.getValue())||String(i.getDefaultValue());t<n.length&&i.setValue(n.substr(0,t))}else Q(e.target).val(i.getMaxLength()||10)})),this.$multiLine.on("change",(e=>{const t=Q(e.target).prop("checked");this.annot.getField().setMultiline(t),this.annot.setLineSpace(void 0).then((()=>this.annot.updateUI({type:"lineSpace",value:void 0}))),this.$lineSpace.prop("disabled",!t).val("auto"),this.$lineSpaceExactlyValue.val("0.0").parent().hide(),this.disabledCheckBoxHandler()})),this.$lineSpace.on("change",(e=>{const t=Q(e.target).val(),i=t.split(","),n="auto"===t?void 0:[Number(i[0]),Number(i[1])];this.annot.setLineSpace(n).then((()=>this.annot.updateUI({type:"lineSpace",value:n}))),this.$lineSpaceExactlyValue.val("0.0").parent().toggle("3,0"===t)})),this.$lineSpaceExactlyValue.on("blur",(e=>{const t=Number(Q(e.target).val().trim());if(t>=0){const i=[3,t];this.annot.setLineSpace(i).then((()=>this.annot.updateUI({type:"lineSpace",value:i}))),Q(e.target).val(t)}else Q(e.target).val((this.annot.getLineSpace()||[])[1])}))},t.offEvent=function(){},t.disabledCheckBoxHandler=function(){const e=[this.$scrollLongText,this.$richText,this.$textLimit,this.$textPassword,this.$fileSelect,this.$checkSpell,this.$textComb,this.$multiLine];let t=[];const[i]=T(this.annot);[1,2,3,4,5].includes(i)&&t.push(this.$multiLine);const n=e=>{e.prop("checked")&&(this.$scrollLongText.is(e)?t.push(this.$textComb):this.$richText.is(e)?t.push(this.$textPassword,this.$fileSelect,this.$textComb):this.$textLimit.is(e)?t.push(this.$fileSelect,this.$textComb):this.$textPassword.is(e)?t.push(this.$richText,this.$fileSelect,this.$checkSpell,this.$textComb,this.$multiLine):this.$fileSelect.is(e)?t.push(this.$scrollLongText,this.$richText,this.$textLimit,this.$textPassword,this.$checkSpell,this.$textComb,this.$multiLine):this.$checkSpell.is(e)?t.push(this.$textPassword,this.$fileSelect,this.$textComb):this.$textComb.is(e)?t.push(this.$scrollLongText,this.$richText,this.$textLimit,this.$textPassword,this.$fileSelect,this.$checkSpell,this.$multiLine):this.$multiLine.is(e)&&t.push(this.$textPassword,this.$fileSelect,this.$textComb))};e.forEach((e=>{n(e),e.prop("disabled",!1)})),t.forEach((e=>e.prop("disabled",!0)))},t.noScrollLongTextAdjustHandler=function(){const e=this.annot.getField();ee.isNoScroll(e.getFlags())&&0!==this.annot.getDAFontSize()&&this.pdfUI.getPDFViewer().then((t=>{const i=t.getAnnotRender(this.annot.getPDFPage().getIndex(),this.annot.getId()).component;if(i)for(;;){const{scrollWidth:t,clientWidth:n,scrollHeight:o,clientHeight:a}=i.$textInput[0],s=i.$textInput.val();if(i.$textInput.is("textarea")){if(!(o>a)){e.setValue(s);break}i.$textInput.val(s.substr(0,s.length-1))}else{if(!(t>n)){e.setValue(s);break}i.$textInput.val(s.substr(0,s.length-1))}}}))},e}();UIExtension.vendors.jQuery;var ne=function(){function e(e,t,i,n){this.$dialog=e,this.pdfUI=t,this.addon=i,this.binding=n,this.$dialog=e}var t=e.prototype;return t.setAnnot=function(e){this.annot=e;let t=this.annot.getAdditionalAction(7),i="";t&&t.getScript&&(i=t.getScript());let n=this.$dialog.find("input[name=selectAction]").eq(t?1:0);setTimeout((()=>{this.$dialog.find("#keyStrokeJS").val(i),n[0].checked=!0}),10),this.$dialog.find(".btn-edit").prop("disabled",!t)},t.onEvent=function(){let e=this.$dialog;e.find(".btn-edit").bind("click",(e=>{let t=this.addon.getDialog("JSInput"),i=this.$dialog.find("#keyStrokeJS"),n=this.annot.getAdditionalAction(7),o="";n&&"TypeJavaScript"===n.getType()?o=n.getScript():n=null,t.show(o,(e=>{if(!e||0==e.length)return i.val(""),void(n&&this.annot.removeAction(7,n));n?n.setScript(e):(n=new PDFViewCtrl.PDF.actions.JavaScriptAction,n.setScript(e),this.annot.getField().setAction(7,n)),i.val(e)}))})),e.find("input[name=selectAction]").on("change",(e=>{let t=this.$dialog.find("#keyStrokeJS"),i=this.$dialog.find(".btn-edit");switch(e.target.value){case"no":this.annot.removeAction(7),t.val(""),i.prop("disabled",!0);break;case"customJS":t.val(""),i.prop("disabled",!1)}}))},t.show=function(){},t.offEvent=function(){this.$dialog.find(".btn-edit").off("click"),this.$dialog.find("input[name=selectAction]").off("change")},e}(),oe=__webpack_require__(8284);__webpack_require__(278),__webpack_require__(2003);function ae(e){const t=Array.from(new Set(e));return 1===t.length?t[0]:""}const se=1e5;let re=function(){function e(e){this.rectsMap=e,this.rects=Object.values(e),this.rects.forEach((e=>{Object.defineProperty(e,"width",{get(){return Math.round((this.right-this.left)*se)/se}}),Object.defineProperty(e,"height",{get(){return Math.round((this.top-this.bottom)*se)/se}})}))}var t=e.prototype;return t.getRectsMap=function(){return this.rectsMap},t.getRectForDisplay=function(e){const t=t=>"number"==typeof t?e(t):t,i=this.getRectsMap(),n=Object.values(i),o=ae(n.map((e=>e.left))),a=ae(n.map((e=>e.right))),s=ae(n.map((e=>e.top))),r=ae(n.map((e=>e.bottom))),l=ae(n.map((e=>e.width))),d=ae(n.map((e=>e.height)));return{left:t(o),right:t(a),top:t(s),bottom:t(r),width:t(l),height:t(d)}},t.getUniqueFieldValue=function(e){return Array.from(new Set(this.rects.map((t=>t[e]))))},t.setField=function(e,t,i){switch(e){case"width":return this.setWidth(t);case"height":return this.setHeight(t);case"bottom":return this.setBottom(t,i);case"left":return this.setLeft(t,i);case"right":return this.setRight(t,i);case"top":return this.setTop(t,i)}},t.setWidth=function(e){return e<=0&&(e=.01),this.rects.forEach((t=>{t.right=t.left+e})),!0},t.setHeight=function(e){return e<=0&&(e=.01),this.rects.forEach((t=>{t.top=t.bottom+e})),!0},t.setLeft=function(e,t){return!(!t&&this.rects.some((t=>e>=t.right)))&&(this.rects.forEach((i=>{const n=i.right-i.left;i.left=e,t&&(i.right=e+n)})),!0)},t.setRight=function(e,t){return!(!t&&this.rects.some((t=>e<=t.left)))&&(this.rects.forEach((i=>{const n=i.right-i.left;i.right=e,t&&(i.left=e-n)})),!0)},t.setTop=function(e,t){return!(!t&&this.rects.some((t=>e<=t.bottom)))&&(this.rects.forEach((i=>{const n=i.height;i.top=e,t&&(i.bottom=e-n)})),!0)},t.setBottom=function(e,t){return!(!t&&this.rects.some((t=>e>=t.top)))&&(this.rects.forEach((i=>{const n=i.height;i.bottom=e,t&&(i.top=e+n)})),!0)},e}();const le=r.PDFViewCtrl,de=le.PDF.form.constant.Field_Flag,ce=le.PDF.form.constant.Field_Type,ue=le.PDF.annots.constant.Annot_Flags,{stdFontMap:pe,FoxitFontMap:he,FontFamilies:ge}=(le.ViewerEvents,le.PDF.constant.AnnotUpdatedType,le.shared.colorConvertor,le.FontUtil),{ADD_FONT_MAP_LIST:fe}=le._internal.consts,me=Object.keys(ce).reduce(((e,t)=>(e[ce[t]]=t.toLowerCase(),e)),{}),ve={0:"solid",1:"dashed",2:"underline",3:"beveled",4:"inset"},_e={1:"thin",2:"medium",3:"thick"},be={0:"0",1:"90",2:"180",3:"270"},ye={},xe={};let we=function(){function e(e){this.pdfViewer=e}var t=e.prototype;return t.isSelectedMultipleFields=function(){return this.formFieldAnnots.length>1},t.isSelectedMultipleTypes=function(){return this.getFieldTypes().length>1},t.getRect=function(){const e=this.formFieldAnnots.reduce(((e,t)=>(e[t.getId()]=t.getRect(),e)),{});return new re(e)},t.setRect=function(e){const t=e.getRectsMap(),i=this.formFieldAnnots.map((e=>{const i=t[e.getId()];if(i)return e.getField().setRect(i),e.setRect(i)}));return Promise.all(i)},t.getFieldTypes=function(){const e=new Set(this.getFields().map((e=>e.getType())));return Array.from(e)},t.getFieldTypeNames=function(){return this.getFieldTypes().map((e=>me[e]))},t.getFieldType=function(){const e=this.getFieldTypes();return 1!==e.length?xe:e[0]},t.getDialogClasses=function(){return this.getFieldTypeNames().map((e=>"fv__ui-form-"+e))},t.getFields=function(){return this.formFieldAnnots.map((e=>e.getField()))},t.getTextColor=function(){const e=this.formFieldAnnots.map((e=>{const t=e.getDAFontColor();let i=e.getField().getAction(f.Mp.format);if(i&&"TypeJavaScript"===i.info.type){const n=i.info.javascript;if(1===x.GetFormatStringType(n)){let{iNeg:i}=x.GetNumberValues(n),o=1&i?1:0;const a=e.getField();let s=a.getDefaultValue(),r=a.getValue();if(s&&0!==s.length||r&&0!==r.length)return o&&(s<0||r<0)?"#FF0000":t}}return t})),t=new Set(e);return 1===t.size?Array.from(t)[0]:xe},t.shouldLockTextColorComponent=function(){return!!this.isLocked()||this.formFieldAnnots.some((e=>{const t=e.getField().getAction(f.Mp.format);if(t&&"TypeJavaScript"===t.info.type){const e=t.info.javascript;if(1===x.GetFormatStringType(e)){let{iNeg:t}=x.GetNumberValues(e);return!!(1&t?1:0)}}return!1}))},t.getVisibleType=function(){return this._getValueIfAllSame((e=>{const t=e.getFlags(),i=t&ue.hidden;let n=t&ue.print;const o=t&ue.noView;return n=i&&!n?ue.print:n,`${i}_${n}_${o}`}),void 0)},t.isReadonlyField=function(){return this._getValueIfAllSame((e=>{const t=e.getField().getFlags();return!!de.isReadOnly(t)}),!1)},t.isRequiredField=function(){return this._getValueIfAllSame((e=>{const t=e.getField().getFlags();return!!de.isRequired(t)}),!1)},t.getDAFontColor=function(){const e=new Set(this.formFieldAnnots.map((e=>e.getDAFontColor())));return 1===e.size?Array.from(e)[0]:xe},t.isLocked=function(){return this.formFieldAnnots.map((e=>e.getFlags())).some((e=>!!(e&ue.locked)))},t.getFontName=function(e=[]){const t=this.formFieldAnnots.map((t=>{const i=t.getDefaultAppearance(),n=i.fontName;if(void 0===pe[n]){let t=new RegExp(`^\\s*${n}\\s*$`,"i"),o=ge.find((e=>t.test(e.value)));const a=e.map((e=>({name:e.name,value:e.value.replace(" ","").replace("-","")})));return o||(o=a.find((e=>t.test(e.value)))),o||(t=new RegExp(`^\\s*${i.fullName}\\s*$`,"i"),o=a.find((e=>t.test(e.value)))),o?o.value:"Times-Roman"}return n})),i=Array.from(new Set(t));return 1===i.length?i[0]:0===i.length?ye:xe},t.getDirection=function(){return this._getValueIfAllSame((e=>e.getDirectionRTL()),0)},t.updateUI=function(e){this.formFieldAnnots.forEach((t=>{t.updateUI(e)}))},t.setDefaultAppearance=function(e){this.formFieldAnnots.forEach((t=>t.setDefaultAppearance(e)))},t.setLocked=function(e){this.formFieldAnnots.forEach((t=>{const i=t.getFlags();i&ue.locked?e||t.setFlags(i^ue.locked):e&&t.setFlags(i|ue.locked)}))},t.getBorderStyle=function(){return this._getValueIfAllSame((e=>e.getBorderStyle()),ve[0],(e=>ve[e]))},t.getBorderWidth=function(){return this._getValueIfAllSame((e=>e.getBorderWidth()),_e[3],(e=>_e[e]))},t.getRotation=function(){return this._getValueIfAllSame((e=>e.getMKProperty("rotation")),be[0],(e=>e<0||e>3?be[0]:be[e]))},t.getBorderColor=function(){return this._getValueIfAllSame((e=>e.getMKProperty("borderColor")),0)},t.getFillColor=function(){return this._getValueIfAllSame((e=>e.getMKProperty("fillColor")),0)},t.getDAFontSize=function(){return this._getValueIfAllSame((e=>e.getDAFontSize()),ye,(e=>0===e?"auto":e))},t._getValueIfAllSame=function(e,t,i=(e=>e)){const n=this._getUniqueValues(e);return 0===n.length?t:1===n.length?i(n[0]):xe},t._getUniqueValues=function(e){return Array.from(new Set(this.formFieldAnnots.map(e)))},n(e,[{key:"formFieldAnnots",get:function(){const e=this.pdfViewer.getAllActivatedElements(),t=e.map((e=>e.annot)).filter((e=>e&&"widget"===e.getType()));return t.length!==e.length?[]:t}}]),e}();function Ce(e,t,i){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var n=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}(t,void 0!==i&&i<n?i:n)}return e(t,i)}const Fe=r.EditActionsTab;let Se=r.vendors.jQuery;PDFViewCtrl.PDF.form.constant.Field_Flag;PDFViewCtrl.PDF.form.constant.Field_Type;let Ae=PDFViewCtrl.PDF.annots.constant.Annot_Flags,Ee=PDFViewCtrl.ViewerEvents,$e=PDFViewCtrl.PDF.constant.AnnotUpdatedType,De=PDFViewCtrl.shared.colorConvertor,{stdFontMap:Te,FoxitFontMap:ke,FontFamilies:Pe}=PDFViewCtrl.FontUtil;const{ADD_FONT_MAP_LIST:Re}=r.PDFViewCtrl._internal.consts,{stopPropagationOnShortcutEvent:Ie}=r.PDFViewCtrl._internal.shared,{matchers:Oe}=r.PDFViewCtrl.keyboard.KeyboardUtils,{Escape:Le}=Oe,Ne=PDFViewCtrl.shared.createDeferred,{isMacOS:Ve}=PDFViewCtrl.DeviceInfo;let Me=function(){function e(e,t){this.PDFUI=e,this.addon=t,this.waitForInitBindingDefer=Ne(),this.waitForInitBinding=this.waitForInitBindingDefer.promise;let i=[];e.addViewerEventListener(Ee.activeElementChanged,(t=>{this.isInitialized&&e.getAllActiveElements().then((e=>{const t=i.length!==e.length||i.some((t=>-1===e.indexOf(t)));i=e,t&&0!==e.length&&this.dialog.isVisible&&this.updateContent()}))}))}var t=e.prototype;return t.initDialog=async function(e=this.PDFUI,t=this.addon){if(this.dialog)return;this.isDestroyed=!1,this.isInitialized=!0;let i=h()({fontFamilies:Pe,dateOptions:[{name:"m/d",value:"m/d"},{name:"m/d/yy",value:"m/d/yy"},{name:"m/d/yyyy",value:"m/d/yyyy"},{name:"mm/dd/yy",value:"mm/dd/yy"},{name:"mm/dd/yyyy",value:"mm/dd/yyyy"},{name:"mm/yy",value:"mm/yy"},{name:"mm/yyyy",value:"mm/yyyy"},{name:"d-mmm",value:"d-mmm"},{name:"d-mmm-yy",value:"d-mmm-yy"},{name:"d-mmm-yyyy",value:"d-mmm-yyyy"},{name:"dd-mmm-yy",value:"dd-mmm-yy"},{name:"dd-mmm-yyyy",value:"dd-mmm-yyyy"},{name:"yy-mm-dd",value:"yy-mm-dd"},{name:"yyyy-mm-dd",value:"yyyy-mm-dd"},{name:"mmm-yy",value:"mmm-yy"},{name:"mmm-yyyy",value:"mmm-yyyy"},{name:"mmmm-yy",value:"mmmm-yy"},{name:"mmmm-yyyy",value:"mmmm-yyyy"},{name:"mmm d, yyyy",value:"mmm d, yyyy"},{name:"mmmm d, yyyy",value:"mmmm d, yyyy"},{name:"m/d/yy h:MM tt",value:"m/d/yy h:MM tt"},{name:"m/d/yyyy h:MM tt",value:"m/d/yyyy h:MM tt"},{name:"m/d/yy HH:MM",value:"m/d/yy HH:MM"},{name:"m/d/yyyy HH:MM",value:"m/d/yyyy HH:MM"}],timeOptions:[{name:"HH:MM",value:"HH:MM"},{name:"h:MM tt",value:"h:MM tt"},{name:"HH:MM:ss",value:"HH:MM:ss"},{name:"h:MM:ss tt",value:"h:MM:ss tt"}]});this.dialog=e.parseTemplate(i),this.dialog.localize(),this.dialog.mounted(),this.$dialog=Se(this.dialog.element),this.$tabNav=Se(".fv__ui-form-tab-nav > div",this.$dialog),this.$closeDialog=Se("[name=closeDialog]",this.$dialog),this.$locked=Se("input[name=locked]",this.$dialog),this.$name=Se("input[name=name]",this.$dialog),this.$tooltip=Se("input[name=tooltip]",this.$dialog),this.$visibleType=Se("select[name=visibleType]",this.$dialog),this.$readOnly=Se("input[name=readOnly]",this.$dialog),this.$required=Se("input[name=required]",this.$dialog),this.$orientation=Se("select[name=fieldOrientation]",this.$dialog),this.$borderStyle=Se("select[name=borderStyle]",this.$dialog),this.$borderWidth=Se("select[name=borderWidth]",this.$dialog),this.$borderColor=Se(".border-color-picker",this.$dialog),this.$fillColor=Se(".fill-color-picker",this.$dialog),this.$textColor=Se(".text-color-picker",this.$dialog),this.$fontName=Se("select[name=fontName]",this.$dialog),this.$orientation=Se("select[name=fieldOrientation]",this.$dialog),this.$directionRTL=Se("[name=directionRTL]",this.$dialog),this.$calculateRadio=Se("[name=calculateRadio]",this.$dialog),this.dialog.on("hidden",(t=>e.colorSpectrum.hide()));const n=await e.getPDFViewer(),o=new we(n);this.tabs=[new ne(this.$dialog,e,t,o),new g(this.$dialog,e,t,o),new k(this.$dialog,e,t,o),new K(this.$dialog,e,t,o),new M(this.$dialog,e,t,o),new Fe(this,e,"widget",o),new H(this.$dialog,e,t,o),new R(this.$dialog,e,t,o),new Y(this,e,t,o),new oe.Z(this.$dialog,e,t,o),new ie(this,e,t,o)],this.binding=o,this.waitForInitBindingDefer.resolve(o),this.bindEvent(),e.getStore().then((t=>{let i=t.subscribe(Re,(({new:e})=>{let t="",i=[];e.slice(0).forEach((e=>{t+=`<option value="${e.name}">${e.name}</option>`,i.push({name:e.name,value:e.name})})),this.$fontName.append(t),this.customFontFamilies=i,this.customFontFamiliesMap={},this.customFontFamilies.forEach((e=>{this.customFontFamiliesMap[e.name]=e.name.replace(" ","").replace("-","")}))}));e.getPDFViewer().then((e=>{e.addDestroyHook((()=>{i()}))}))})),e.getRootComponent().then((e=>{e.append(this.dialog)}))},t.localize=function(){return this.dialog.localize()},t.setAnnot=function(e){return this.annot=e,this},t.updateContent=async function(){var e,t;const i=this.annot;if(!i)return;this.dialog||await this.initDialog();const n=this.binding.isLocked();this.$locked.prop("checked",n),this.lockedHandler(n);let o=this.PDFUI.colorSpectrum;o&&o.isActive&&o.hide(),this.tabs.forEach((e=>{e.setAnnot&&e.setAnnot(i),e.updateContent&&e.updateContent()}));const a=this.binding.getDialogClasses(),s=this.$dialog[0],r=s.className.split(" ").filter((e=>0===e.indexOf("fv__ui-form-")&&"fv__ui-form-properties-dialog"!==e));(e=s.classList).remove.apply(e,Ce(u,r)),(t=s.classList).add.apply(t,Ce(u,a));const l=this.binding.getFieldTypeNames();this.$dialog.find("[show-in-types]").each(((e,t)=>{const i=Se(t).attr("show-in-types").split(/[,\s]+/),n=l.some((e=>i.indexOf(e)>-1));Se(t).toggle(n)})),this.$dialog.find("[hide-in-types]").each(((e,t)=>{const i=Se(t).attr("hide-in-types").split(/[,\s]+/),n=l.some((e=>i.indexOf(e)>-1));Se(t).toggle(!n)})),this.$dialog.find("[disabled-in-types]").each(((e,t)=>{const i=Se(t).attr("disabled-in-types").split(/[,\s]+/),o=l.some((e=>i.indexOf(e)>-1));Se(t).prop("disabled",n||o)})),this.$dialog.toggleClass("fv__ui-form-properties-multi-types",l.length>1),this.$dialog.toggleClass("fv__ui-form-properties-multi",this.binding.isSelectedMultipleFields());{const e=await this.PDFUI.getCurrentLanguage();Ve&&e.startsWith("en")&&Se("[name=form-properties-dialog-nav] > div",this.$dialog).css({padding:"0 9.5px"})}this.setValue();let d=Se(".fv__ui-form-tab-nav .active",this.$dialog);d.length&&(d.is(":visible")||this.$tabNav.eq(0).click())},t.show=async function(e){return await this.updateContent(),this.addon.dialogs.goto=this.PDFUI.activeActionsDialog,this.PDFUI.getRootComponent().then((e=>{this.dialog.open(e.element),this.tabs.forEach((e=>e.show&&e.show()));const t=Ce(u,this.dialog.element.querySelectorAll('[tabindex]:not([tabindex="-1"])')).filter((e=>{const{width:t,height:i}=e.getBoundingClientRect();return 0!==t&&0!==i}));if(t&&t.length>0&&-1!==t.indexOf(document.activeElement))return;let i=Se(".fv__ui-form-tab-nav .active",this.$dialog);const n=this.binding.isLocked()||this.binding.shouldLockTextColorComponent();this.$textColor.prop("disabled",n),this.$textColor.parent().toggleClass("disabled",n),i.length||(i=this.$tabNav.eq(0),i.click()),this.focusElement&&this.$dialog[0].contains(this.focusElement)?this.focusElement.focus():this.$dialog.find(".fv__ui-form-tab-nav .active").focus()})),this},t.hide=function(){if(this.dialog)return this.focusElement=document.activeElement,this.dialog.hide(),this},t.isOpened=function(){return this.dialog&&this.dialog.isVisible},t.destroy=function(){if(!this.isDestroyed&&this.isInitialized){this.tabs.forEach((e=>e.offEvent&&e.offEvent())),this.dialog.destroy(),this.$tabNav.off("click"),this.$closeDialog.off("click"),this.$name.off("blur"),this.$tooltip.off("blur"),this.$visibleType.off("change"),this.$readOnly.off("change"),this.$required.off("change"),this.$borderStyle.off("change"),this.$borderWidth.off("change"),this.$orientation.off("change"),this.$borderColor.off("click"),this.$fillColor.off("click"),this.$textColor.off("click"),this.$locked.off("change");for(let e in this)delete this[e];this.isDestroyed=!0}},t.bindEvent=function(){this.$dialog.find("select").each(((e,t)=>{this.dialog.addDestroyHook(Ie(t,"keyup",Le))})),Se(".fv__ui-form-tab-nav, .fv__ui-form-tab-body",this.$dialog).on("pointerdown",(e=>e.stopPropagation())),this.$tabNav.on("click",(e=>{this.$tabNav.removeClass("active"),Se(e.target).addClass("active");const t=Se(e.target).index(),i=Se(".fv__ui-form-tab-body > div",this.$dialog).not(".lock-mask");i.hide(),i.eq(t).show(),this.tabs.forEach((e=>e.active&&e.annot&&e.annot.getField()&&e.active()));let n=this.PDFUI.colorSpectrum;n&&n.hide()})),this.$closeDialog.on("click",(e=>{this.hide()})),this.$name.on("blur",(e=>{if(this.binding.isSelectedMultipleFields())return;const t=this.binding.formFieldAnnots[0],i=Se(e.target).val().trim(),n=t.getField().getName(),o=t.objectNumber;i&&i.trim()&&i!==n&&this.PDFUI.getPDFViewer().then((e=>{e.getCurrentPDFDoc().loadPDFForm().then((e=>{e.validateFieldName(i,t.info.fieldType).then((a=>{a?e.moveControl(n,i,o).then((e=>{if(!e)throw this.$name.val(n),new Error("Rename field error.");this.setLabel(t),this.emitAnnotUpdateEvent($e.titleUpdated,!1,t)})):(this.$name.val(n),this.PDFUI.alert("dialog.error.validateFieldNameError"))}))}))}))})),this.$tooltip.on("blur",(e=>{const t=Se(e.target).val().trim();this.binding.formFieldAnnots.forEach((e=>{e.getField().setAlternateName(t)}))})),this.$visibleType.on("change",(e=>{const[t,i,n]=Se(e.target).val().split("_");this.binding.formFieldAnnots.forEach((e=>{let o=e.getFlags(),a=o;o&Ae.hidden&&(a-=Ae.hidden),o&Ae.print&&(a-=Ae.print),o&Ae.noView&&(a-=Ae.noView),a=a+Number(t)+Number(i)+Number(n),e.setFlagValue(a).then((()=>{e.updateUI({type:"display",value:a}),e.updateUI({})}))}))})),this.$readOnly.on("change",(e=>{const t=Se(e.target).prop("checked");this.binding.formFieldAnnots.forEach((e=>{e.getField().setReadonly(t),this.emitAnnotUpdateEvent($e.flagsUpdated,!0,e)}))})),this.$required.on("change",(e=>{const t=Se(e.target).prop("checked");this.binding.formFieldAnnots.forEach((e=>{e.getField().setRequired(t),this.emitAnnotUpdateEvent($e.flagsUpdated,!0,e)}))})),this.$directionRTL.on("change",(e=>{const t=Number(Se(e.target).val());this.binding.formFieldAnnots.forEach((e=>{e.setDirectionRTL(t).then((()=>{this.emitAnnotUpdateEvent($e.alignmentUpdated,!0,e)}))}))})),this.$borderStyle.on("change",(e=>{let t=Se(e.target).val(),i={solid:0,dashed:1,underline:2,beveled:3,inset:4}[t];this.binding.formFieldAnnots.forEach((e=>{e.setBorderStyle(i,[3,3]).then((i=>{e.updateUI({type:"borderStyle",value:t})}))}))})),this.$borderWidth.on("change",(e=>{let t={thin:1,medium:2,thick:3}[Se(e.target).val()];this.binding.formFieldAnnots.forEach((e=>{e.setBorderWidth(t).then((i=>{e.updateUI({type:"borderWidth",value:t})}))}))})),this.$orientation.on("change",(e=>{let t=0;switch(Se(e.target).val()){case"90":t=1;break;case"180":t=2;break;case"270":t=3}this.binding.formFieldAnnots.forEach((e=>{e.setMKProperty("rotation",t).then((i=>{e.updateUI({type:"orientation",value:t})}))}))})),this.$borderColor.on("click",(e=>{if(this.$borderColor.prop("disabled"))return;let t=this.PDFUI.colorSpectrum;const i=this.binding.getBorderColor(),n=i&&i!==xe?De(i,"#"):"#ffffff";t.showTransparent(!0).setDefaultColor(n),t.show(e.target,(e=>this.setColor("border",e)))})),this.$fillColor.on("click",(e=>{if(this.$borderColor.prop("disabled"))return;let t=this.PDFUI.colorSpectrum;const i=this.binding.getFillColor(),n=i&&i!==xe?De(i,"#"):"#ffffff";t.showTransparent(!0).setDefaultColor(n),t.show(e.target,(e=>this.setColor("fill",e)))})),this.$textColor.on("click",(e=>{if(this.$textColor.prop("disabled"))return;let t=this.PDFUI.colorSpectrum;const i=this.binding.getDAFontColor(),n=i&&i!==xe?De(i,"#"):"#ffffff";t.showTransparent(!1).setDefaultColor(n),t.show(e.target,(e=>this.setColor("textColor",e)))})),this.$fontName.on("change",(e=>{let t=Se(e.target).val();void 0===Te[t]&&(t=this.customFontFamiliesMap[t]),this.binding.formFieldAnnots.forEach((e=>{e.setDefaultAppearance({fontName:t});let i={type:"fontName",value:t};e.updateUI(i)}))})),this.$locked.on("change",(e=>{const t=Se(e.target).prop("checked");this.binding.setLocked(t),this.lockedHandler(t)})),this.$calculateRadio.on("change",(e=>{Se(e.target).val()})),this.tabs.forEach((e=>e.onEvent&&e.onEvent()))},t.setColor=function(e,t,i=!0){t!==xe&&t!==ye||(t=0);let n,o,a="number"==typeof t?t:De(t,"int");switch(e){case"fill":n=this.$fillColor;break;case"textColor":n=this.$textColor;break;default:n=this.$borderColor}i&&this.binding.formFieldAnnots.forEach((t=>{const i={value:a};switch(e){case"fill":t.setMKProperty("fillColor",a),i.type="fillColor",t.updateUI(i),this.emitAnnotUpdateEvent($e.fillColorUpdated,!0,t);break;case"textColor":t.setDefaultAppearance({textColor:a}).then((()=>{i.type="textColor",t.updateUI(i)}));break;default:t.setMKProperty("borderColor",a),i.type="borderColor",t.updateUI(i),this.emitAnnotUpdateEvent($e.borderColorUpdated,!0,t)}})),o=n.find(".label"),t?(n.css("border-color",t?De(t,"HTML"):"transparent"),o.hide()):(n.css("border-top-color","blue"),n.css("border-right-color","green"),o.show())},t.setValue=function(){const e=this.binding.isLocked(),t=this.binding.isSelectedMultipleFields();if(t)this.$name.val(""),this.$tooltip.val("");else{const e=this.annot.getField();this.$name.val(e.getName()),this.$tooltip.val(e.getAlternateName())}this.$name.prop("disabled",t),this.$tooltip.prop("disabled",t);const i=this.binding.getVisibleType();i===xe?this.$visibleType[0].value="":this.$visibleType.val(i);const n=this.binding.isReadonlyField();n===xe?this.$readOnly.prop("indeterminate",!0):(this.$readOnly.prop("indeterminate",!1),this.$readOnly.prop("checked",n));const o=this.binding.isRequiredField();o===xe?this.$required.prop("indeterminate",!0):(this.$required.prop("indeterminate",!1),this.$required.prop("checked",o));const a=this.binding.getBorderStyle();a===xe?this.$borderStyle.val(void 0):this.$borderStyle.val(a);const s=this.binding.getBorderWidth();s===xe?this.$borderWidth[0].value="":this.$borderWidth.val(s);let r=this.binding.getRotation();r===xe?this.$orientation.val(void 0):this.$orientation.val(r);const l=this.binding.getBorderColor();this.setColor("border",l,!1);const d=this.binding.getFillColor();this.setColor("fill",d,!1);let c=this.binding.getTextColor();this.setColor("textColor",c,!1),this.$textColor.prop("disabled",this.binding.shouldLockTextColorComponent());let u=this.binding.getFontName(this.customFontFamilies||[]);if(u===ye||u===xe)this.$fontName.val(void 0);else{if(void 0===Te[u]){let e=Object.entries(this.customFontFamiliesMap);for(let t=0;t<e.length;t++){const i=e[t];if(i[1]==u){u=i[0];break}}}this.$fontName.val(u)}const p=this.binding.getDirection();p===xe?this.$directionRTL.prop("disabled",!0).prop("checked",!1):(this.$directionRTL.prop("disabled",e),this.$directionRTL.filter(`[value=${p}]`).prop("checked",!0)),this.tabs.forEach((e=>e.setValue&&e.setValue()))},t.lockedHandler=function(e){Se(".lock-mask",this.$dialog).toggle(e)},t.emitAnnotUpdateEvent=function(e,t,i=this.annot){this.PDFUI.eventEmitter.emit(Ee.annotationUpdated,[i],i.getPDFPage(),e),t&&this.PDFUI.eventEmitter.emit(Ee.annotationAppearanceUpdated,[i],i.getPDFPage())},e}();var Ue=__webpack_require__(7621),Be=__webpack_require__.n(Ue);const He={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"},je=(Object.keys(He).reduce(((e,t)=>(e[He[t]]=Number(t),e)),{}),Promise.resolve()),We="hideFormFieldSimplePropertyBox";let ze=r.vendors.jQuery,Ge=PDFViewCtrl.ViewerEvents,qe=PDFViewCtrl.PDF.form.constant.Field_Flag,Ke=PDFViewCtrl.PDF.constant.AnnotUpdatedType,Je=PDFViewCtrl.PDF.form.constant.Field_Type;const Xe=r.PDFViewCtrl.shared.createDeferred,Ye="Yes";let Qe=function(){function e(e,t){this.PDFUI=e,this.addon=t,this.PDFUI.getStore().then((e=>{let t=e.subscribe(We,(e=>{this.hide()}));this.PDFUI.getPDFViewer().then((e=>{e.addDestroyHook((()=>{t()}))}))})),this.destroyHook=[]}var t=e.prototype;return t.initDialog=function(e=this.PDFUI){this.isDestroyed=!1;const t=Be()();this.dialog=this.PDFUI.parseTemplate(t),this.dialog.localize(),this.dialog.mounted(),this.$dialog=ze(this.dialog.element),this.$name=ze("input[name=Name]",this.$dialog),this.$label=ze("input[name=Label]",this.$dialog),this.$exportValue=ze("input[name=ExportValue]",this.$dialog),this.$required=ze("input[name=Required]",this.$dialog),this.$allProperties=ze("[name=AllProperties]",this.$dialog),e.getComponentByName("template-container").then((e=>{e.append(this.dialog)})),this.bindEvent()},t.show=function(e){this.resetForm();let t=this.annot.getPage().getIndex();return this.$pageContainer=ze('.fv__pdf-page-container[data-index="'+t+'"]').get(0),ze(this.$pageContainer).on("mousedown",(e=>this.hide())),setTimeout((()=>{this.dialog.open(this.$pageContainer),this.setDialogPosition(e).then((()=>{this.$name[0].focus({preventScroll:!0})}))}),0),this},t.setDialogPosition=function(e){let t=document.getElementsByClassName("fv__ui-simple-form-properties-dialog")[0],i=document.getElementsByClassName("fv__shape-control-move-area")[0],n=i?i.getBoundingClientRect().height:0,o=t.getBoundingClientRect().width,a=t.getBoundingClientRect().height,s=e=>{if(!this.annot)return;let t=r(),i=t.width,s=t.height;const l=this.PDFUI.pdfViewer.pdfViewerRender.getRotation();let d,c,u=this.annot.getDeviceRect(e,l);if(0===l)d=u.left,c=u.bottom+10,s-c<a&&(c=u.top-a-10);else d=u.left,c=u.top+n+10,s-c<a&&(c=u.bottom-a-n-10);return i-d<o&&(d=i-o),d=Math.max(0,d),c=Math.max(0,c),{top:c,left:d}};let r=()=>this.$pageContainer.getBoundingClientRect();const l=Xe(),d=e=>{let t=r(),i=t.width,n=t.height;this.annot&&(this.$dialog.css({top:e.top/n*100+"%",left:e.left/i*100+"%"}),l.resolve())};return this.PDFUI.getPDFViewerRender().then((e=>{e.getScaleRatio().then((e=>{d(s(e))}))})),this.PDFUI.getPDFViewer().then((e=>{this.destroyHook.push(e.addEventListener(Ge.beforeOpenFile,(e=>{delete this.annot})))})),l.promise},t.resetForm=function(){this.$label.val(""),this.$exportValue.val(Ye),this.$required.prop("checked",!1)},t.hide=function(){if(!this.dialog)return;if(!this.dialog.isVisible)return;const e=document.activeElement;return this.dialog.element.contains(document.activeElement)&&e&&e.blur&&e.blur(),this.dialog.hide(),this},t.setAnnot=function(e){this.annot=e,this.dialog||this.initDialog();const t=(Object.keys(Je).find((t=>Je[t]===e.getField().getType()))||"").toLowerCase();return Object.keys(Je).forEach((e=>this.$dialog.removeClass(`fv__ui-form-${e.toLowerCase()}`))),this.$dialog.addClass(`fv__ui--simple-form-${t}`),this.$dialog.find("[show-in-types]").each(((e,i)=>{ze(i).toggle(ze(i).attr("show-in-types").indexOf(t)>-1)})),this.$dialog.find("[disabled-in-types]").each(((e,i)=>{ze(i).prop("disabled",ze(i).attr("disabled-in-types").indexOf(t)>-1),ze(i).prop("disabled")?ze(i).parent().addClass("disabled"):ze(i).parent().removeClass("disabled")})),this.setValue(),this},t.setValue=function(){let e=this.annot.getField(),t=e.getFlags();this.$name.val(e.getName()),this.$required.prop("checked",!!qe.isRequired(t))},t.bindEvent=function(){this.dialog.useJQuery((()=>{ze(document).on("mousedown",(e=>this.hide())),ze(this.$dialog).on("mousedown",(e=>e.stopPropagation()))})),this.$name.on("input",(e=>{const t=ze(e.target).val().trim(),i=this.annot.getField().getName(),n=this.annot.objectNumber;t&&t!==i&&this.PDFUI.getPDFViewer().then((e=>{e.getCurrentPDFDoc().loadPDFForm().then((e=>{e.validateFieldName(t,this.annot.info.fieldType).then((o=>{o?e.moveControl(i,t,n).then((e=>{if(!e)throw this.$name.val(i),new Error("Rename field error.");this.setLabel(this.annot),this.emitAnnotUpdateEvent(Ke.titleUpdated,!1)})):(this.$name.val(i),this.PDFUI.alert("dialog.error.validateFieldNameError"))}))}))}))})),this.$exportValue.on("change",(e=>{let t=this.annot.getField(),i=ze(e.target).val().trim();i||(this.$exportValue.val(Ye),i=Ye),this.annot.getField().setExportValue(this.annot.info.control,i).then((e=>{t.setValue(i).then((e=>t.setDefaultValue(i)))}))})),this.$label.on("input",(e=>{const t=ze(e.target).val().trim();this.annot.setWidgetMkCaption("",t)})),this.$required.on("input",(e=>{this.annot.getField().setRequired(ze(e.target).prop("checked")),this.emitAnnotUpdateEvent(Ke.flagsUpdated,!0)})),this.$allProperties.on("click",(e=>{this.hide();const t=this.PDFUI.editingMgr.getAllActiveWidgets();t&&0!==t.length&&this.PDFUI.editingMgr.setFocusWidget(t[0],!0)})),this.$allProperties.on("keyup",(e=>{13==e.keyCode&&e.target.click()}))},t.destroy=function(){this.isDestroyed||(this.destroyHook.forEach((e=>e())),this.destroyHook=[],ze(document).off("mousedown"),ze(this.$pageContainer).off("mousedown"),this.$dialog&&this.$dialog.off("mousedown"),this.$required&&this.$required.off("change"),this.$allProperties&&this.$allProperties.off("click"),this.dialog&&this.dialog.destroy(),this.isDestroyed=!0)},t.emitAnnotUpdateEvent=function(e,t){this.PDFUI.eventEmitter.emit(Ge.annotationUpdated,[this.annot],this.annot.getPDFPage(),e),t&&this.PDFUI.eventEmitter.emit(Ge.annotationAppearanceUpdated,[this.annot],this.annot.getPDFPage())},e}();var Ze=__webpack_require__(3892),et=__webpack_require__.n(Ze);const tt=UIExtension.vendors.jQuery;var it=function(){function e(e){this.pdfViewer=e,this.$ui=tt('<canvas class="fv_shapes_ui"></canvas>')}var t=e.prototype;return t.initPageShapes=function(e){if(this.targetPage&&this.targetPage.index==e)return;return(this.targetPage=this.pdfViewer.getPDFDocRender().getPDFPageRender(e)).$ui.append(this.$ui.show()),this},t.setTarget=function(e){return this.target=e,this},t.getPositions=function(){let e=this.$ui.offset(),t=this.$ui.parent().offset(),i=this.pdfViewer.getPDFDocRender(),n=this.target.getPage(),o=i.getPDFPageRender(n.getIndex()),a=e.left+1-t.left,s=e.top+1-t.top;return this.rects.map((e=>n.reverseDeviceRect({left:e.left+a,top:e.top+s,right:e.right+a,bottom:e.bottom+s},o.scale,o.rotate)))},t.drawShape=function({columns:e=this.columns,rows:t=this.rows,marginLeft:i=this.marginLeft,marginTop:n=this.marginTop}){this.$ui.show();let o=this.target.getPage().getIndex();this.initPageShapes(o),this.columns=e,this.rows=t,this.marginLeft=i,this.marginTop=n;let a=this.calculateRects(o,this.target,e,t,i,n);this.$ui.attr(a).css(a);let s=this.$ui[0],r=s.getContext("2d");r.clearRect(0,0,s.offsetWidth,s.offsetHeight),r.save(),r.beginPath(),r.strokeStyle="blue",r.lineWidth=2,this.rects.forEach((e=>{r.rect(e.left+1,e.top+1,e.width,e.height)})),r.stroke(),r.restore()},t.move=function(e){let t=this.$ui.offset(),i=this.$ui.width(),n=this.$ui.height(),o=this.$ui.parent().width(),a=this.$ui.parent().height(),s=this.$ui.parent().offset(),r=t.left-s.left,l=t.top-s.top;switch(e){case"Left":r-2<0?r=1:r-=2;break;case"Right":r+i+2>o?r=o-i-1:r+=2;break;case"Up":l-2<0?l=1:l-=2;break;case"Down":l+2+n>a?l=a-n-1:l+=2}this.$ui.css({left:r,top:l})},t.getMaxSize=function(e,t,i,n){let o=this.pdfViewer.getPDFDocRender().getPDFPageRender(e),a=(t=o.page.getDeviceRect(t,o.scale,o.rotate)).right-t.left,s=t.bottom-t.top;return[1+Math.floor((o.getShowWidth()-t.left-a)/(i+a)),1+Math.floor((o.getShowHeight()-t.top-s)/(n+s))]},t.calculateRects=function(e,t,i=2,n=2,o,a){let s=this.pdfViewer.getPDFDocRender().getAnnotRender(e,t.getId()).component.getRect(),r=s.right-s.left,l=s.bottom-s.top,d=this.rects=[];for(let e=0;e<i;e++){let t=s.left+(o+r)*e;for(let e=0;e<n;e++){let i=s.top+(a+l)*e;d.push({left:t-s.left,right:t+r-s.left,width:r,top:i-s.top,bottom:i+l-s.top,height:l})}}return{left:s.left-1,top:s.top-1,width:r+(r+o)*(i-1)+2,height:l+(l+a)*(n-1)+2}},t.show=function(){this.$ui.css("opacity",1).show()},t.hide=function(){this.targetPage=null,this.$ui.hide()},t.invisible=function(){return this.$ui.css("opacity",0),!1},t.destroy=function(){delete this.pdfViewer,this.$ui.remove(),delete this.$ui},e}();const nt=UIExtension.vendors.jQuery,ot=UIExtension.UIConsts.COMPONENT_EVENTS;let at=function(){function e(e){this.PDFUI=e;let t=et()();this.dialog=e.parseTemplate(t),this.$element=nt(this.dialog.element),this.PDFUI.getPDFViewer().then((e=>{this.PDFViewer=e,this.previewer=new it(e),this.onEvent()})),this.PDFUI.getRootComponent().then((e=>{e.append(this.dialog),this.dialog.localize(),this.dialog.mounted()})),this.destroyHooks=[]}var t=e.prototype;return t.show=function(e,t=(()=>{})){e.getPage();return this.target=e,this.callback=t,this.PDFUI.getRootComponent().then((t=>{let[i,n]=this.updateSize(this.target),o=this.$element.find("#columnSize").attr("max",n),a=this.$element.find("#rowSize").attr("max",i);i<2?o.val("1"):i=2,n<2?a.val("1"):n=2,this.dialog.open(t.element),this.previewer.setTarget(e).drawShape({columns:i,rows:n,marginLeft:10,marginTop:5})})),this},t.onEvent=function(){let e=this.$element.find("#rowSize");e.on("change",(t=>{let i=t.target.value;isNaN(i)&&(i=this.maxColum<2?1:0,e.val(i)),i=+i,i<=0&&(i=1,e.val(1)),i>this.maxColum&&(i=this.maxColum,e.val(i)),this.previewer.drawShape({columns:i})}));let t=this.$element.find("#columnSize");t.on("change",(e=>{let i=e.target.value;isNaN(i)&&(i=this.maxRow<2?1:0,t.val(i)),i=+i,i<=0&&(t.val(1),i=1),i>this.maxRow&&(i=this.maxRow,t.val(i)),this.previewer.drawShape({rows:i})}));let i=this.$element.find("#marginHorizon"),n=this.$element.find("#marginVertical");i.on("change",(o=>{let a=o.target.value;if(isNaN(a)&&(a=10,i.val("10")),a=+a,a<0&&(a=0,i.val("0")),a){a=this.getMaxSpace(!0)[0],i.val(a)}let[s,r]=this.updateSize(this.target,a,+n.val());e.attr("max",s),t.attr("max",r),this.previewer.drawShape({marginLeft:a})})),n.on("change",(o=>{let a=o.target.value;if(isNaN(a)&&(a=5,n.val("5")),a=+a,a<0&&(a=0,n.val("0")),a){a=this.getMaxSpace()[1],n.val(a)}let[s,r]=this.updateSize(this.target,+i.val(),a);e.attr("max",s),t.attr("max",r),this.previewer.drawShape({marginTop:a})})),this.$element.find("#moveLeft").on("click",(e=>{this.previewer.move("Left")})),this.$element.find("#moveRight").on("click",(e=>{this.previewer.move("Right")})),this.$element.find("#moveUp").on("click",(e=>{this.previewer.move("Up")})),this.$element.find("#moveDown").on("click",(e=>{this.previewer.move("Down")}));let o=this.$element.find(".fv__ui-dialog-cancel-button");o.on("click",(e=>{this.hide(),this.reset()}));let a=this.$element.find("#MPSubmit");a.on("click",(e=>{let t=this.$element.find("#sameName").is(":checked"),i=this.$element.find("#columnSize").val(),n=this.$element.find("#rowSize").val();this.callback(this.target,t,i,n,this.previewer.getPositions()),this.hide(),this.reset()}));let s=this.$element.find("#preview");s.on("change",(e=>{s.is(":checked")?this.previewer.show():this.previewer.invisible()}));const r=e=>{this.hide(),this.reset(),this.callback()};this.dialog.on(ot.HIDDEN,r),this.dialog.on(ot.CANCEL,r),this.destroyHooks.push((e=>{columnSize.off("change"),rowSize.off("change"),i.off("change"),n.off("change"),s.off("change"),o.off("click"),a.off("click")}))},t.reset=function(){this.$element.find("#rowSize").val(2),this.$element.find("#columnSize").val(2),this.$element.find("#marginHorizon").val(10),this.$element.find("#marginVertical").val(5),this.$element.find("#preview").attr("checked","1")},t.hide=function(){this.dialog.hide(),this.previewer.hide()},t.updateSize=function(e,t=10,i=5){let n=e.getRect(),[o,a]=this.previewer.getMaxSize(e.getPage().getIndex(),n,t,i);return this.maxColum=o,this.maxRow=a,[o,a]},t.destroy=function(){delete this.PDFUI,this.dialog.destroy(),delete this.dialog,delete this.target,delete this.callback,this.shapes.destroy(),delete this.shapes,delete this.$element,delete this.PDFViewer,this.destroyHooks.forEach((e=>e())),this.destroyHooks=[]},t.getMaxSpace=function(e){let t=this.target,i=t.getPage().getIndex(),n=this.PDFViewer.getPDFDocRender(),o=n.getPDFPageRender(i),a=n.getAnnotRender(i,t.getId()).component.getRect(),s=a.right-a.left,r=a.bottom-a.top,l=+this.$element.find("#columnSize").val(),d=+this.$element.find("#rowSize").val(),c=+this.$element.find("#marginHorizon").val(),u=+this.$element.find("#marginVertical").val();return e?a.left+s+(s+c)*(d-1)>o.getShowWidth()&&(c=Math.floor((o.getShowWidth()-s*d-a.left)/(d-1))):a.top+u*(l-1)+r*l>o.getShowHeight()&&(u=Math.floor((o.getShowHeight()-r*l-a.top)/(l-1))),[c,u]},e}();var st=__webpack_require__(8645),rt=__webpack_require__.n(st);const lt=UIExtension.vendors.jQuery;let dt=function(){function e(e){this.PDFUI=e;let t=rt()();this.dialog=e.parseTemplate(t),this.PDFUI.getRootComponent().then((e=>{e.append(this.dialog),this.dialog.localize(),this.dialog.mounted()})),this.onEvent()}var t=e.prototype;return t.show=function(e,t=0,i=[],n=(()=>{})){return this.PDFUI.getRootComponent().then((e=>{this.dialog.open(e.element)})),this.PDFUI.getCurrentPDFDoc().then((e=>{let t=e.getPageCount();lt(this.dialog.element).find(".fv_range-start").attr("max",t).val("1"),lt(this.dialog.element).find(".fv_range-end").attr("max",t).val(t),lt(this.dialog.element).find(".fv_range-page-count").text(t)})),this.target=e,this.callback=n,this.maxValue=t,this.except=i,this},t.onEvent=function(){let e=lt(this.dialog.element);e.find(".duplicateChoice").on("change",(t=>{if("range"===t.target.value)e.find(".fv_range").removeAttr("disabled").removeClass("disabled");else e.find(".fv_range").attr("disabled","1").addClass("disabled").val(""),e.find(".fv_duplicate-msg").html(""),e.find(".error").removeClass("error")})),e.find(".fv__ui-dialog-cancel-button").on("click",(e=>{this.hide()})),e.find(".fv__ui-dialog-ok-button").on("click",(t=>{let i=e.find(".duplicateChoice:checked").val(),n=e.find(".fv_range-start").val();if(isNaN(n))return void e.find(".fv_range-start").addClass("error");let o=e.find(".fv_range-end").val();if(isNaN(n))return void e.find(".fv_range-end").addClass("error");if("range"==i&&!this.checkRange(e.find(".fv_range-start"),e.find(".fv_range-end")))return;let a=[],{maxValue:s,except:r}=this;switch(i){case"all":for(let e=1;e<=s;e++)-1==r.indexOf(e)&&a.push(e-1);break;case"odd":for(let e=1;e<=s;e+=2)-1==r.indexOf(e)&&a.push(e-1);break;case"even":for(let e=2;e<=s;e+=2)-1==r.indexOf(e)&&a.push(e-1);break;case"range":for(let e=parseInt(n);e<=parseInt(o);e++)-1==r.indexOf(e)&&a.push(e-1)}this.hide(),this.callback(this.target,a)})),e.find(".fv_range").on("change",(t=>{let i=e.find(".fv_range-start"),n=e.find(".fv_range-end");i.val().length&&n.val().length&&this.checkRange(i,n)})),this.dialog.on("hidden",(e=>{this.callback()}))},t.hide=function(){lt(this.dialog.element).find(".defaultOpt").click(),this.dialog.hide()},t.checkRange=function(e,t){let i=lt(this.dialog.element);if(i.find(".error").removeClass("error"),+e.val()>+t.val())return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRange")),e.addClass("error"),t.addClass("error"),!1;for(let n=0;n<2;n++){let o=0==n?e:t,a=+o.val();if(a-1<0)return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRangeStart")),o.addClass("error"),!1;if(this.maxValue-a<0)return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRangeEnd").replace("{max}",this.maxValue)),o.addClass("error"),!1;o.removeClass("error")}return i.find(".fv_duplicate-msg").html(""),!0},t.destroy=function(){let e=lt(this.dialog.element);e.find(".duplicateChoice").off("change"),e.find(".fv__ui-dialog-cancel-button").off("click"),e.find(".fv__ui-dialog-ok-button").off("click"),e.find(".fv_range").off("change"),delete this.PDFUI,this.dialog.destroy(),delete this.dialog,delete this.target,delete this.maxValue,delete this.except},e}();var ct=__webpack_require__(4225),ut=__webpack_require__.n(ct);const pt=UIExtension.vendors.jQuery;let ht=function(){function e(e){this.pdfUI=e,this.dialog=e.parseTemplate(ut()({fields:[]})),this.dialog.localize(),this.dialog.mounted(),this.$element=pt(this.dialog.element),this.bindEvent()}var t=e.prototype;return t.show=function(e,t){let i=this.$element,n="";return this.oriOrder=e.join("\n"),e.forEach(((e,t)=>{n+=`<div class="fv_CO-item ${t?"":"active"}">${e}</div>`})),i.find(".fv__fields-list")[0].innerHTML=n,i.find("#COOK,#upButton").addClass("disabled"),i.find("#downButton").toggleClass("disabled",e.length<2),this.pdfUI.getRootComponent().then((e=>{this.dialog.open(e.element)})),this.callback=t,this.last=e.length-1,this},t.hide=function(){this.dialog.hide()},t.bindEvent=function(){let e=this.$element;e.on("click",".fv_CO-item",(t=>{e.find(".active").removeClass("active");let i=pt(t.target).addClass("active");const n=i.get(0);n.scrollIntoViewIfNeeded?n.scrollIntoViewIfNeeded():n.scrollIntoView({}),this.updateBtn(i.index())})),e.on("click","#upButton",(t=>{let i=e.find(".active").index();this.moveItemTo(i,i-1)})),e.on("click","#downButton",(t=>{let i=e.find(".active").index();this.moveItemTo(i,i+1)})),e.on("click","#COCancel",(e=>this.dialog.hide())),e.on("click","#COOK",(e=>{let t=[];this.$element.find(".fv__fields-list>div").each(((e,i)=>{t.push(i.innerText)})),this.callback(t),this.hide()}))},t.destroy=function(){},t.updateBtn=function(e){let t=this.$element;t.find("#upButton").toggleClass("disabled",0==e),t.find("#downButton").toggleClass("disabled",e==this.last)},t.moveItemTo=function(e,t){let i=this.$element.find(".fv__fields-list"),n=pt(i.children()[e]),o=pt(i.children()[t]);n.toggleClass("active"),o.toggleClass("active"),o.focus();let a=n.text();if(n.text(o.text()),o.text(a),this.updateBtn(t),o[0].scrollIntoViewIfNeeded)o[0].scrollIntoViewIfNeeded();else{const e={block:"nearest",behavior:"smooth",inline:"nearest"};o[0].scrollIntoView(e)}this.$element.find("#COOK").toggleClass("disabled",i[0].innerText==this.oriOrder)},e}();const gt={FoxitFixedOTF:"Courier",FoxitSansMM:"Courier","FoxitFixedOTF-Bold":"Courier-Bold","FoxitFixedOTF-Italic":"Courier-Oblique","FoxitFixedOTF-BoldItalic":"Courier-BoldOblique",FoxitSansOTF:"Helvetica","FoxitSansOTF-Italic":"Helvetica-Oblique","FoxitSansOTF-Bold":"Helvetica-Bold","FoxitSansOTF-BoldItalic":"Helvetica-BoldOblique","FoxitSansPS-BoldItalic":"Helvetica-BoldOblique",FoxitSerifOTF:"Times-Roman","FoxitSerifOTF-Italic":"Times-Italic","FoxitSerifOTF-Bold":"Times-Bold","FoxitSerifOTF-BoldItalic":"Times-BoldItalic",FoxitSymbolOTF:"Symbol",FoxitDingbatsOTF:"ZapfDingbats"},ft={1:"thin",2:"medium",3:"thick"},mt="is-first-create-field";var vt=(e,t,i,n)=>function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var i=t.prototype;return i.changePermission=function(e){this.getPDFUI().getPDFDocRender().then((e=>e&&e.getUserPermission().getValue())).then((t=>{const i=!e||e.isDestroyed,o=!i&&e.checkPermission(n.annotForm)&&e.checkPermission(n.modify);!i&&t&this.constructor.permission&&o&&!e.isStaticXFA()&&!e.isDynamicXFA()?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()}))},i.handle=function(){e.prototype.handle.call(this)},t}(t.ext(i,e));const _t=PDFViewCtrl.PDF.form.constant.Field_Type,bt=r.UIEvents;let yt=function(e){function t(t){var i;return(i=e.call(this,t)||this).textSizeList=["auto","6","8","10","12","14","16","18","20","22","24","26","28","30","32"],i.fontNameList=["Times Roman","Times Bold","Times Italic","Times BoldItalic","Helvetica","Helvetica Bold","Helvetica Oblique","Helvetica BoldOblique","Courier","Courier Bold","Courier Oblique","Courier BoldOblique","Symbol","ZapfDingbats"],t.editElement&&(t.editElement.style["text-align"]="left",t.editElement.addEventListener("blur",(e=>{if(t.disabled)return;let n=t.editElement.value;i.selectFontSize(n)}))),i}s(t,e),t.getName=function(){return"FieldPropertiesAppearanceController"};var i=t.prototype;return i.update=async function(){const e=this.getPDFUI().formDesignDialog,t=this.binding=await e.waitForInitBinding;if("textSize"===this.component.name){const e=t.getDAFontSize();e===ye||e===xe?this.component.setEditValue(""):this.component.setEditValue(e)}const i=t.getFieldTypes();i.indexOf(_t.Sign)>-1||i.indexOf(_t.CheckBox)>-1||i.indexOf(_t.RadioButton)>-1?this.component.disable():this.component.enable()},i.postlink=function(){this.addDestroyHook(this.getPDFUI().addViewerEventListener(bt.activeElementChanged,(e=>{this.update()}))),this.update()},i.selectFontSize=function(e){this.component.setEditValue(e),e=Number.parseFloat(e),Number.isNaN(e)&&(e=0),this.binding&&e!==this.binding.getDAFontSize()&&(this.binding.setDefaultAppearance({textSize:e}),this.binding.updateUI({type:"textSize",value:e}),this.pdfUI.eventEmitter.emit(m.fieldFontSizeChanged,e))},i.selectFontName=function(e){if(this.component.setEditValue(e),!this.binding)return;this.binding.setDefaultAppearance({fontName:e});let t={type:"fontName",value:e};this.binding.updateUI(t)},t}(r.Controller);var xt;__webpack_require__(6409);!function(e){e.STATE_HANDLER_HAND="hand",e.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",e.STATE_HANDLER_CREATE_CARET="createCaret",e.STATE_HANDLER_CREATE_ARROW="createArrow",e.STATE_HANDLER_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CIRCLE="createCircle",e.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",e.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",e.STATE_HANDLER_CREATE_IMAGE="createImage",e.STATE_HANDLER_CREATE_LINK="createLink",e.STATE_HANDLER_CREATE_LINE="createLine",e.STATE_HANDLER_CREATE_DISTANCE="createDistance",e.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",e.STATE_HANDLER_CREATE_AREA="createArea",e.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",e.STATE_HANDLER_CREATE_PENCIL="createPencil",e.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",e.STATE_HANDLER_CREATE_POLYGON="createPolygon",e.STATE_HANDLER_CREATE_POLYLINE="createPolyline",e.STATE_HANDLER_CREATE_REPLACE="createReplace",e.STATE_HANDLER_CREATE_SQUARE="createSquare",e.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",e.STATE_HANDLER_CREATE_STAMP="createStamp",e.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",e.STATE_HANDLER_CREATE_TEXT="createText",e.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",e.STATE_HANDLER_MARQUEE="marquee",e.STATE_HANDLER_ERASER="eraser",e.STATE_HANDLER_LOUPE="loupe",e.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",e.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",e.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",e.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",e.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",e.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="createFreeTextTypewriter",e.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextStateHandler",e.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignStateHandler",e.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_CHECK_BOX="CreateCheckBoxStateHandler",e.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_COMBO_BOX="CreateComboBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_LIST_BOX="CreateListBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_DATE="CreateDateStateHandler",e.STATE_HANDLER_CREATE_FIELD_IMAGE="CreateImageStateHandler",e.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool"}(xt||(xt={}));const wt=xt.STATE_HANDLER_HAND,Ct=(xt.STATE_HANDLER_CHECK_THE_SEARCH,xt.STATE_HANDLER_CREATE_CARET,xt.STATE_HANDLER_CREATE_ARROW,xt.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,xt.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,xt.STATE_HANDLER_CREATE_CIRCLE,xt.STATE_HANDLER_CREATE_FILE_ATTACHMENT,xt.STATE_HANDLER_CREATE_HIGHLIGHT,xt.STATE_HANDLER_CREATE_IMAGE,xt.STATE_HANDLER_CREATE_LINK,xt.STATE_HANDLER_CREATE_LINE,xt.STATE_HANDLER_CREATE_DISTANCE,xt.STATE_HANDLER_CREATE_PERIMETER,xt.STATE_HANDLER_CREATE_AREA,xt.STATE_HANDLER_CREATE_CIRCLE_AREA,xt.STATE_HANDLER_CREATE_PENCIL,xt.STATE_HANDLER_CREATE_POLYGON_CLOUD,xt.STATE_HANDLER_CREATE_POLYGON,xt.STATE_HANDLER_CREATE_POLYLINE,xt.STATE_HANDLER_CREATE_REPLACE,xt.STATE_HANDLER_CREATE_SQUARE,xt.STATE_HANDLER_CREATE_SQUIGGLY,xt.STATE_HANDLER_CREATE_STAMP,xt.STATE_HANDLER_CREATE_STRIKE_OUT,xt.STATE_HANDLER_CREATE_TEXT,xt.STATE_HANDLER_CREATE_UNDERLINE,xt.STATE_HANDLER_MARQUEE,xt.STATE_HANDLER_ERASER,xt.STATE_HANDLER_LOUPE,xt.STATE_HANDLER_SELECT_TEXT_ANNOTATION,xt.STATE_HANDLER_SELECT_TEXT_IMAGE,xt.STATE_HANDLER_SELECT_ANNOTATION,xt.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER,xt.STATE_HANDLER_CREATE_FREETEXT_CALLOUT,xt.STATE_HANDLER_CREATE_FREETEXT_BOX,xt.STATE_HANDLER_SNAPSHOT_TOOL,xt.STATE_HANDLER_CREATE_FIELD_TEXT,xt.STATE_HANDLER_CREATE_FIELD_SIGNATURE,xt.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON,xt.STATE_HANDLER_CREATE_RADIO_BUTTON,[]),Ft=r.PDFViewCtrl.ViewerEvents;let St=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.getName=function(){return"assistant-button"};var i=t.prototype;return i.init=function(){e.prototype.init.call(this),this.taskExecutor=new r.PDFViewCtrl.shared.QueuedAsyncTaskExecutor,this.isAssistantEnabled=!1},i.onclick=function(){const e=this.getPDFUI();this.taskExecutor.exec((()=>this.isAssistantEnabled?e.stopFormDesginerAssist():e.startFormDesginerAssist()))},i.mounted=function(){e.prototype.mounted.call(this);const t=this.getPDFUI(),i=()=>{t.getStateHandlerManager().then((e=>{const t=e.getCurrentStates();t&&this.handleStateHandlerChange(t)}))};this.addDestroyHook(t.addViewerEventListener(Ft.designerAssistantStatusChanged,(e=>{this.isAssistantEnabled=e,e?this.active():this.deactive()})),t.addViewerEventListener(Ft.switchStateHandler,((e,t)=>{e&&this.handleStateHandlerChange(e,t)})),t.addViewerEventListener(Ft.renderFileSuccess,i)),i()},i.handleStateHandlerChange=function(e,t){const i=this.getPDFUI(),n=e.getStateName();if(Ct.indexOf(n)>-1){if(t){const e=t.getStateName();if(Ct.indexOf(e)>-1)return}if(this.enable(),this.isAssistantEnabled)return void this.active();this.taskExecutor.exec((()=>i.startFormDesginerAssist()))}else this.taskExecutor.exec((()=>i.stopFormDesginerAssist().then((()=>{this.disable()}))))},t}(r.SeniorComponentFactory.createSuperClass({template:'\n        <ribbon-button\n            text="form-designer:assistant.button-text" \n            icon-class="fv__icon-toolbar-designer-assistant"\n            name="form-assistant-button"\n            @tooltip \n            tooltip-title="form-designer:assistant.button-tooltip"\n            @on.click="$component.onclick()"\n        ></ribbon-button>\n    '}));const At=r.PDFViewCtrl.ViewerEvents,{Hammer:Et}=r.vendors;var $t=(e,t,i,n)=>(Ct.push(i),function(e){function o(t){var i;return(i=e.call(this,t)||this).cursorStyle="fv__cursor-crosshair",i}s(o,e),o.getStateName=function(){return i};var a=o.prototype;return a.correctPosition=function(e){const t=this.pageRender.getShowWidth(),i=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(t,e.x)),y:Math.max(0,Math.min(i,e.y))}},a.start=function(e,{left:i,top:n},o){let a=this.shapeControl;a||(a=this.shapeControl=new t({resizable:!1,enableDiagonally:!0}),a.active(e.$handler,e.$handler,{left:i,top:n,width:0,height:0})),a.setSnapGrid(o)},a.adjust=function(e,{x:t,y:i},{x:n,y:o}){if(!e)return;let a,s,r=Math.abs(t-n),l=Math.abs(i-o);a=Math.min(t,n),s=Math.min(i,o),r=Math.max(r,1),l=Math.max(l,1);let d={left:a,top:s,width:r,height:l},c={left:a,top:s,right:a+r,bottom:s+l};c=e.getSnapMaxRect(c),d.width=c.right-c.left+2,d.height=c.bottom-c.top+2,d.top=c.top,d.left=c.left,e._applyAnnotBoundary(d),e.shape.boundary=c,e.shape.shape=d,e._updatePreviewer()},a.pageHandler=function(e){this.assistantExecutor=new r.PDFViewCtrl.shared.ThrottleAsyncTaskExecutor(20,!0);let t=!1;this.pageRender=e;const i=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);const n=this.hammer=new Et.Manager(i);n.add(new Et.Pan({direction:Et.DIRECTION_ALL})),n.add(new Et.Tap),n.on("tap",(e=>{this.isAbleCreateField()&&(this.hideSimpleProperties(),t=!0,this.assistantExecutor.waitForLastTask(null).then((t=>{if(!t)return;return(t.right-t.left)*(t.top-t.bottom)!=0?(this.removeDesignerRect(),this.create(t,e,!0)):void 0})).finally((()=>{t=!1})))})),n.on("panstart",(t=>{if(this.hideSimpleProperties(),!this.isAbleCreateField())return;let i=e.getPDFPointFromClientPoint(t.srcEvent.clientX-t.deltaX,t.srcEvent.clientY-t.deltaY,!0);this.startPoint={x:i[0],y:i[1]};const[n,o]=e.getPDFPointFromClientPoint(t.srcEvent.clientX-t.deltaX,t.srcEvent.clientY-t.deltaY);let a=e.pdfViewer.getSnapGrid();a&&(a=e.formatGridOptions(a)),this.start(e,{left:n,top:o},a)})),n.on("panmove",(e=>(this.currentPoint=this.correctPosition({x:this.startPoint.x+e.deltaX,y:this.startPoint.y+e.deltaY}),this.adjust(this.shapeControl,this.startPoint,this.currentPoint)))),n.on("panend",(e=>{this.currentPoint=this.correctPosition({x:this.startPoint.x+e.deltaX,y:this.startPoint.y+e.deltaY}),this.shapeControl&&(this.adjust(this.shapeControl,this.startPoint,this.currentPoint),this.create(this.shapeControl.shape.boundary,e))})),n.on("pancancel",(e=>{this.shapeControl.destroy(),this.shapeControl=null})),this.designerAssistantStatusChangeListener=n=>{n?e.getPDFPage().then((n=>{let o=!1;this.mouseoutEventListener&&i.removeEventListener("mouseout",this.mouseoutEventListener),this.moveEventListener&&i.removeEventListener("mousemove",this.moveEventListener),this.moveEventListener=i=>{if(o=!1,t)return void this.removeDesignerRect();const a=this.pdfViewer.getCurrentPDFDoc();this.assistantExecutor.exec((()=>{const t=i.offsetX,s=i.offsetY,r=n.reverseDevicePoint([t,s],e.scale,e.rotate);if(n.isDestroyed)return;const l=a.getPDFForm();if(!l)return je;return l.getFieldAtPosition(n.getIndex(),r[0],r[1])?(this.renderSuggestedFormDesignerRect(null),je):n.getSuggestedFormDesignerRect(r).then((t=>{if(!o&&!n.isDestroyed){if(t){const i=n.getDeviceRect(t,e.scale,e.rotate);this.renderSuggestedFormDesignerRect(i)}else this.renderSuggestedFormDesignerRect(null);return t}}),(e=>{throw this.renderSuggestedFormDesignerRect(null),e}))}))},this.mouseoutEventListener=()=>{o=!0,this.removeDesignerRect(),this.assistantExecutor.cancel()},i.addEventListener("mousemove",this.moveEventListener),i.addEventListener("mouseout",this.mouseoutEventListener)})):(this.removeDesignerRect(),i.removeEventListener("mouseout",this.mouseoutEventListener),i.removeEventListener("mousemove",this.moveEventListener))},this.pdfViewer.isDesignerAssistantEnabled&&this.designerAssistantStatusChangeListener(!0),this.pdfViewer.eventEmitter.on(At.designerAssistantStatusChanged,this.designerAssistantStatusChangeListener),this.setStoreFirstCreateField(!0)},a.create=function(e,t,i=!1){const a=this.pageRender;return a.docRender.getPDFDoc().loadPDFForm().then((s=>a.getPDFPage().then((r=>{let l=this.getFieldType(),d=this.autoFieldName(s,l);let c=i?e:r.reverseDeviceRect(e,a.scale,a.rotate);const u={mkRotate:((a.rotate/90||0)+r.getRotation())%4};return 7==l?s.addSignature(a.index,c,d,u).then((e=>e.getControlByIndex(0).getWidget())).then((e=>this.afterAdded(a,e,t))).catch((e=>{throw this.afterAdded(a,null,t),new Error(e.message)})).catch((e=>{this.afterAdded(a,null,t,!0),this.pdfViewer.eventEmitter.emit(m.fieldAddedFailed,l)})):("CreateDateStateHandler"===o.getStateName()&&(u.stateName=o.getStateName()),"CreateImageStateHandler"===o.getStateName()&&(u.stateName=o.getStateName(),u.imagePath=__webpack_require__(8028)),s.addControl(a.index,d,n,c,u).then((e=>{if(!e.success)return;let t=s.getField(e.newFieldName);if("CreateDateStateHandler"==u.stateName){const e="m/d/yy",i='AFDate_KeystrokeEx("'+e+'");',n='AFDate_FormatEx("'+e+'");';return t.setAction(f.Mp.format,n).then((()=>t.setAction(f.Mp.keyStroke,i))).then((()=>{const e=t.getLoadedWidgets();return e[e.length-1]}))}{const e=t.getLoadedWidgets();return e[e.length-1]}})).then((e=>this.afterAdded(a,e,t))))}))))},a.renderSuggestedFormDesignerRect=function(e){const t=this.pageRender.$handler.get(0);e?(this.eDesignerRect||(this.eDesignerRect=document.createElement("div"),this.eDesignerRect.classList.add("fv__form-designer-suggested-designer-rect")),this.eDesignerRect.style.cssText+=`\n                left: ${e.left}px;\n                top: ${e.top}px;\n                width: ${e.right-e.left}px;\n                height: ${e.bottom-e.top}px;\n            `,this.eDesignerRect.parentElement!=t&&t.appendChild(this.eDesignerRect)):this.removeDesignerRect()},a.afterAdded=function(e,t,i,n=!1){this.shapeControl&&this.shapeControl.destroy(),this.shapeControl=null,!n&&t&&(this.pdfViewer.eventEmitter.emit(m.fieldAdded,e,t,i),this.setStoreFirstCreateField(!1))},a.getStoreFirstCreateField=function(){return this.pdfViewer.getStore().getCurrentValue(mt)},a.setStoreFirstCreateField=function(e){this.pdfViewer.getStore().dispatch(mt,e)},a.isAbleCreateField=function(){const e=this.pdfViewer,t=e.getStateHandlerManager(),i=e.getStore().getCurrentValue("set_form_creation_continuously");return!(!this.getStoreFirstCreateField()&&!i)||(t.switchTo(wt),!1)},a.hideSimpleProperties=function(){this.pdfViewer.getStore().dispatch(We,!0)},a.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle);const e=this.pageRender.$handler.get(0);this.moveEventListener&&(e.removeEventListener("mousemove",this.moveEventListener),e.removeEventListener("mouseout",this.mouseoutEventListener)),this.pdfViewer.eventEmitter.off(At.designerAssistantStatusChanged,this.designerAssistantStatusChangeListener),this.removeDesignerRect(),this.pageRender.page&&this.pageRender.page.clearDesignerAssitCache()},a.out=function(){e.prototype.out.call(this),this.destroyPageHandler()},a.removeDesignerRect=function(){const e=this.pageRender.$handler.get(0);this.eDesignerRect&&this.eDesignerRect.parentElement===e&&e.removeChild(this.eDesignerRect)},a.getFieldType=function(){return n},a.getFieldName=function(e,t){let i=e.countField(t),n=this.pdfViewer.i18n.t("form-designer:prefix."+t),o=n+i;for(;e.getField(o);)i++,o=n+i;return o},a.autoFieldName=function(e,t){const i=o.getStateName();let n="",a=!1,s=!1;"CreateDateStateHandler"===i?(n=this.pdfViewer.i18n.t("form-designer:prefix.9"),a=!0):"CreateImageStateHandler"===i?(n=this.pdfViewer.i18n.t("form-designer:prefix.8"),s=!0):n=this.pdfViewer.i18n.t("form-designer:prefix."+t);let r="",l=e.countField(t,a,s),d="";do{d=n+l,r=e.fieldsNameMap[d],l+=1}while(r);return d},o}(e));__webpack_require__(5137),__webpack_require__(9070);const{Keyboard:Dt,BuiltinCommand:Tt,BuiltinShortcutContext:kt}=r.PDFViewCtrl.keyboard,{Disposable:Pt}=r.PDFViewCtrl.shared,{ServiceScope:Rt}=r,{preventDefaultInterceptor:It}=r.PDFViewCtrl.keyboard.interceptors;var Ot=function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};let Lt=function(e){function t(){return e.call(this)||this}s(t,e),t.scope=function(){return Rt.SINGLETON},t.inject=function(){return{pdfui:r.PDFUI}},t.isLazy=function(){return!1};var i=t.prototype;return i.serviceInjected=function(){this.pdfui.getPDFViewer().then((e=>{e.addEventListener("alignment",(({offsetWidth:e,offsetHeight:t})=>Ot(this,void 0,void 0,(function*(){const i=yield this.pdfui.getAllActiveElements();i&&0!==i.length&&i.forEach((i=>{this.setWidgetDeviceWidthHeight(i,{offsetWidth:e,offsetHeight:t},!0)}))})))),this.bindShortcut(e)}))},i.bindShortcut=function(e){const t=(t,i)=>{const n=e.getAllActiveElements();n&&0!==n.length&&i(t)};e.getKeyboard().withContext(kt.ACTIVATION_WIDGET,(i=>{this.addDestroyHook(i.keydown(Tt.ALIGNMENT_REDUCE_HEIGHT,(()=>{e.eventEmitter.emit("alignment",{offsetHeight:-1})}),{interceptors:[t,It()]}),i.keydown(Tt.ALIGNMENT_RAISE_HEIGHT,(()=>{e.eventEmitter.emit("alignment",{offsetHeight:1})}),{interceptors:[t,It()]}),i.keydown(Tt.ALIGNMENT_REDUCE_WIDTH,(()=>{e.eventEmitter.emit("alignment",{offsetWidth:-1})}),{interceptors:[t,It()]}),i.keydown(Tt.ALIGNMENT_RAISE_WIDTH,(()=>{e.eventEmitter.emit("alignment",{offsetWidth:1})}),{interceptors:[t,It()]}),i.keydown(Tt.ALIGNMENT_REDUCE_STEP_HEIGHT,(()=>{e.eventEmitter.emit("alignment",{offsetHeight:-10})}),{interceptors:[t,It()]}),i.keydown(Tt.ALIGNMENT_RAISE_STEP_HEIGHT,(()=>{e.eventEmitter.emit("alignment",{offsetHeight:10})}),{interceptors:[t,It()]}),i.keydown(Tt.ALIGNMENT_REDUCE_STEP_WIDTH,(()=>{e.eventEmitter.emit("alignment",{offsetWidth:-10})}),{interceptors:[t,It()]}),i.keydown(Tt.ALIGNMENT_RAISE_STEP_WIDTH,(()=>{e.eventEmitter.emit("alignment",{offsetWidth:10})}),{interceptors:[t,It()]}))}))},i.setWidgetDeviceWidthHeight=function(e,{deviceWidth:t,deviceHeight:i,offsetWidth:n,offsetHeight:o},a=!1){const s=e.pageRender||e.annotsRender.pageRender,r=e.annot,l=r.page,d=s.getScale(),c=s.getRotation();let u=this.getWidgetDeviceRect(e);if(void 0!==t?u.right=u.left+t:void 0!==n&&(u.right+=n),void 0!==i?u.bottom=u.top+i:void 0!==o&&(u.bottom+=o),a&&this.isBoundsOut(s,u))return Promise.resolve();if(u=this.checkBoundsOut(s,u),"widget"===r.getType()){const e=l.reverseDeviceRect(u,d,c);return r.setRect(e).then((()=>{if(r.updateUI){r.updateUI({});const e=r.getField(),t=e.getDisplayValue();t&&e.showDisplayValue(t);let i=s.getAnnotRender(r.getId()).component;i.render(i.scale,i.rotate,!0)}}))}{const e=s.getAnnotRender(r.getId()).component;return e.setRect({left:u.left,top:u.top,width:u.right-u.left,height:u.bottom-u.top}).then((t=>{e.movedByOther()}))}},i.getWidgetDeviceRect=function(e){const t=e.annot,i=e.pageRender||e.annotsRender.pageRender,n=i.getScale(),o=i.getRotation();return t.getDeviceRect(n,o)},i.isBoundsOut=function(e,{top:t,left:i,bottom:n,right:o}){const{deviceHeight:a,deviceWidth:s}=this.getPageDeviceInfo(e);return t<0||i<0||n>a||o>s},i.getPageDeviceInfo=function(e){return{deviceWidth:e.getShowWidth(),deviceHeight:e.getShowHeight()}},i.checkBoundsOut=function(e,{top:t,left:i,bottom:n,right:o}){const{deviceHeight:a,deviceWidth:s}=this.getPageDeviceInfo(e);return t<0&&(t=0),i<0&&(i=0),o>s?(i-=o-s,o=s):o-i<10&&(o=i+10),n>a?(t-=n-a,n=a):n-t<10&&(n=t+10),{top:t,left:i,bottom:n,right:o}},t}(Pt);function Nt(e,t,i){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var n=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}(t,void 0!==i&&i<n?i:n)}return e(t,i)}const{Hammer:Vt}=UIExtension.vendors,{ActivationGroup:Mt}=PDFViewCtrl.shared.activation,{BuiltinShortcutContext:Ut,BuiltinCommand:Bt,interceptors:Ht}=PDFViewCtrl.keyboard,jt=PDFViewCtrl.shared.keyboardStatus,{isIE:Wt,isIE10:zt}=PDFViewCtrl.BrowserInfo,Gt=PDFViewCtrl.ViewerEvents;let qt=PDFViewCtrl.PDF.annots.constant.Annot_Flags;const Kt=UIExtension.vendors.jQuery;let Jt=function(){function e(e,t,i,n){this.editingMgr=e,this.pdfViewer=e.pdfViewer,this.pageRender=t,this.widget=i,this.annot=i;let o=i.getField().getName(),a=this.$ui=Kt('<div class=\'fv_\'>\n                <div class="fv_form-editing-label">\n                    <div class="fv_form-editting-label-text"></div>\n                </div>\n            </div>');t.$ui.find(".fv__pdf-form-designer-container").append(a),this.$label=a.find(".fv_form-editing-label"),this.$label.find(".fv_form-editting-label-text").text(o),this.shapeControl=new PDFViewCtrl.ShapeControl({emitter:this.pdfViewer.eventEmitter,prestart:(e,t,i)=>this.shapeControlOnStart(e,t,i),moving:(e,t)=>this.shapeControlOnMoving(e,t),end:(e,t,i)=>this.shapeControlOnEnd(e,t,i),afterEnd:e=>this.onAfterShapeCtrlEnd(e),resizable:!0,enableDiagonally:!0,auxiliaryLine:void 0}),this.shapeControl.ui.setAttribute("tabindex",-1),this.bindEvent(),this.active(n)}var t=e.prototype;return t.getAnnotFlag=function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)},t.shapeControlOnStart=function(e,t,i){this.hideSimpleProperties()},t.shapeControlOnMoving=function(e,t){this.$label.css(e)},t.onAfterShapeCtrlEnd=function(){this.shapeControl.clearCompanions()},t.shapeControlOnEnd=function(e,t,i){const n=this.pageRender.getAnnotRender(this.widget.getId()).component;(()=>{e.right=e.left+e.width,e.bottom=e.top+e.height,this.$label.css(e),this.pageRender.reverseDeviceRect(e).then((e=>n.annot.setRect(e))).then((e=>n.render(n.scale,n.rotate,!0))).then((e=>{const t=this.widget.getField(),i=t.getType();if(4===i||6===i){const e=t.getDisplayValue();e&&t.showDisplayValue(e)}}))})()},t.bindEvent=function(){let e=this.$ui,t=this.editingMgr;const i=this.hammer=new Vt.Manager(e[0]);i.add(new Vt.Tap({event:"doubletap",taps:2})),i.add(new Vt.Tap({event:"singletap",interval:100})),i.get("doubletap").recognizeWith("singletap"),i.get("singletap").requireFailure("doubletap"),i.on("singletap",(e=>{this.pdfViewer.isMultiSelectActive()&&this.editingMgr.getAllActiveWidgets().find((e=>e===this))&&!jt.isShiftDown?t.unActiveElement(this):t.activeElement(this)})),i.on("doubletap",(e=>{let i=e.srcEvent.ctrlKey;t.activeElement(this,i),this.editingMgr.isMultipleSelection()||t.setFocusWidget(this,!0)})),e.on("contextmenu",(e=>{if(e.ctrlKey)return e.preventDefault(),void e.stopPropagation();let i=!1;return t.pdfui.getComponentByName("fv-field-sidebar-panel").then((e=>{if(!e||!e.isStartResetNumber)return t.pdfui.getComponentByName("contextmenu-form-designer")})).then((n=>{if(!n)return;n.trigger("shown"),!this.isActive&&t.activeElement(this);let o=7==this.widget.getField().getType();o?n.children().forEach((e=>{-1===["propertiesMenu","deleteTarget","setTabOrdern","alignment-menu","fv--contextmenu-item-field-store-props"].indexOf(e.name)&&e.hide()})):n.children().forEach((e=>{e.show()}));let a=this.widget.getFlags(),s=n.getComponentByName("deleteTarget");a&qt.locked||a&qt.readOnly?s&&s.disable():s&&s.enable(),s=n.getComponentByName("copyToPage"),o||1==this.widget.page.doc.getPageCount()?s.disable():s.enable(),n.setCurrentTarget(this.widget),n.showAt(e.clientX,e.clientY);for(let e of this.editingMgr.getAllActiveWidgets()){if(128&e.widget.getFlags()){i=!0;break}}return t.pdfui.getComponentByName("dropdown-align")})).then((e=>(e&&(i?e.disable():this.editingMgr.getAllActiveWidgets().length>1?e.enable():e.disable()),t.pdfui.getComponentByName("dropdown-distribute")))).then((e=>(e&&(i?e.disable():this.editingMgr.getAllActiveWidgets().length>2?e.enable():e.disable()),t.pdfui.getComponentByName("dropdown-size")))).then((e=>(e&&(i?e.disable():this.editingMgr.getAllActiveWidgets().length>1?e.enable():e.disable()),t.pdfui.getComponentByName("dropdown-center")))).then((e=>{e&&(i?e.disable():e.enable())})),!1}));const n=this.$ui[0],o=zt?"MSPointerDown":"pointerdown",a=e=>{if(this.hideSimpleProperties(),1!==e.which||this.pdfViewer.isMultiSelectActive())return;this.isActive||(t.activeElement(this),(()=>{let t=n.querySelector(".fv__shape-control-move-area");if(t){let i;Wt?(i=document.createEvent("MouseEvent"),i.initMouseEvent(o,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),i.pointerId=e.pointerId):i=new PointerEvent("pointerdown",e),t.dispatchEvent(i)}})())};n.addEventListener(o,a),this.pdfViewer.addDestroyHook((()=>{i.destroy(),n.removeEventListener(o,a)}))},t.hideSimpleProperties=function(){this.pdfViewer.getStore().dispatch(We,!0)},t.active=function(e=!0){const t=this.widget.getField(),i=t&&t.eSignChina,n=this.editingMgr.pdfui.customs.isAccountExpired;if(!(!!n&&n(!1))||i){if(e&&(this.$label.addClass("active"),this.shapeControl.show(),this.shapeControl.ui.focus(),this.isActive=!0,this.editingMgr.setFocusWidget(this)),this.$ui.addClass("fv_form-editing"),this.updateSize(),qt.locked&this.widget.getFlags()?this.shapeControl.disable():this.shapeControl.enable(),this.isActive){const e=this.widget.getId(),t=this.pageRender.getAnnotRender(e);t&&this.pdfViewer.eventEmitter.emit(Gt.activeAnnotation,t,e,t.parent())}}else this.$ui.hide()},t.changeSize=function(){let e=this.pageRender,t=e.page;if(!e||!t)return;let i=t.getDeviceRect(this.widget.getRect(),this.pageRender.scale,this.pageRender.rotate);if(this.$label.css(i),this.shapeControl&&this.shapeControl.shape){const{boundary:e,freeBoundary:t}=this.shapeControl.shape;i=t||e}if(i.width=i.right-i.left,i.height=i.bottom-i.top,this.isActive){let t=this.shapeControl;t.active(this.$ui,i,{left:0,top:0,right:this.pageRender.getShowWidth(),bottom:this.pageRender.getShowHeight()});let n=e.pdfViewer.getSnapGrid();n&&(n=e.formatGridOptions(n),t.setSnapGrid(n))}},t.updateSize=function(){let e=this.pageRender,t=e.page;if(!e||!t)return;const i=t.getDeviceRect(this.widget.getRect(),this.pageRender.scale,this.pageRender.rotate);if(i.width=i.right-i.left,i.height=i.bottom-i.top,this.$label.css(i),this.isActive){let t=this.shapeControl;t.active(this.$ui,i,{left:0,top:0,right:this.pageRender.getShowWidth(),bottom:this.pageRender.getShowHeight()});let n=e.pdfViewer.getSnapGrid();n&&(n=e.formatGridOptions(n),t.setSnapGrid(n))}},t.unActive=function(){this.$label&&this.$label.removeClass("active"),this.shapeControl.hide(),this.isActive=!1;const e=this.widget.getId(),t=this.pageRender.getAnnotRender(e);t&&this.pdfViewer.eventEmitter.emit(Gt.unActiveAnnotation,t,e,t.parent())},t.out=function(){this.hammer.destroy(),this.$label.remove(),this.$ui.off("mouseup contextmenu"),this.shapeControl.destroy(),this.shapeControl=null,this.$label=null,this.editingMgr=null,this.pageRender=null,this.$ui=null,this.isActive=!1},e}(),Xt=function(){function e(e,t,i,n,o){this.pdfui=e,this.pdfViewer=t,this.dialogs=i,this.annots={},this.pages={},this.propertyDialog=n,this.simplePropertiesDialog=o,this.simplePropertiesDialog.setLabel=this.propertyDialog.setLabel=e=>{e.getField().controls.forEach((e=>{this.updateLabel(e.getWidget())}))},this.shortcutEnable=!0;const a=t.getKeyboard(),s=(e,t)=>{this.shortcutEnable&&t(e)},r=(e,t)=>{this.getAllActiveWidgets().length&&t(e)};a.withContext(Ut.ACTIVATION_ANY,(t=>{t.keydown(Bt.DELETE_SELECTED_OBJECT,(()=>{this.getAllActiveWidgets().forEach((e=>{let t=e.widget;this.removeAnnot(t)})),e.formDesignDialog.lockedHandler(!0)}),{interceptors:[s,Ht.excludeEditableElementInterceptor(),r,Ht.preventDefaultInterceptor()]})})),a.withContext(Ut.ACTIVATION_WIDGET,(t=>{t.keydown(Bt.UNSELECT_OBJECT,(()=>{e.editingMgr.type&&Object.keys(this.dialogs).sort().some((e=>{const t=this.dialogs[e];t&&t.dialog&&t.dialog.isVisible&&t.hide()}))}),{interceptors:[r]})})),this._onRenderPageSuccessListener=e=>{for(let t in this.annots){const i=this.annots[t];i.widget.page.getIndex()===e.index&&i.changeSize()}},this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.renderPageSuccess,this._onRenderPageSuccessListener),this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.copyTextSuccess,(()=>this.copiedData="")),this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.copyTextFailed,(()=>this.copiedData=""))}var t=e.prototype;return t.enableShortcut=function(e){this.shortcutEnable=e},t.updateAnnots=function(e,t,i){if("rect-updated"==i)return void e.forEach((e=>{let t=this.annots[e.getId()];t&&t.updateSize()}));let n=this.focusedEle;n&&e.forEach((e=>{e==n.widget&&(qt.locked&e.getFlags()?n.shapeControl.disable():n.shapeControl.enable())}))},t.updateLabel=function(e){this.annots[e.getId()].$ui.find(".fv_form-editting-label-text").text(e.getField().getName())},t.destroy=function(){this.pdfViewer.eventEmitter.off(PDFViewCtrl.ViewerEvents.renderPageSuccess,this._onRenderPageSuccessListener),this.clearEditingWidgets(),delete this.propertyDialog.setLabel,delete this.propertyDialog,this.pdfui=null,this.annots={},this.pages={},delete this.focusedEle,this.shortcuts&&(this.shortcuts.forEach((e=>{var t;(t=this.pdfViewer).offShortcutKey.apply(t,Nt(u,e))})),delete this.shortcuts),this.pdfViewer=null,delete this.pasteHandler,delete this.focusedEle},t.startEditingMode=function(e){let t=this.pdfViewer;if(t.customs.isCollaborationMode&&t.customs.isCollaborationMode())return;try{t.getCurrentPDFDoc().getPDFForm().checkDesignPerm()}catch(e){return}this.type;switch(this.clearEditingWidgets(),e){case"select-annotation":this.type=8;break;case"CreatePushButtonStateHandler":case"CreateImageStateHandler":this.type=1;break;case"CreateCheckBoxStateHandler":this.type=2;break;case"CreateRadioButtonStateHandler":this.type=3;break;case"CreateComboBoxStateHandler":this.type=4;break;case"CreateListBoxStateHandler":this.type=5;break;case"CreateTextStateHandler":case"CreateDateStateHandler":this.type=6;break;case"CreateSignStateHandler":this.type=7;break;default:this.type=0,this.propertyDialog&&this.propertyDialog.hide()}this.showAllEditingWidget()},t.setFocusWidget=function(e,t=!1){this.propertyDialog.setAnnot(e.widget),this.propertyDialog.isOpened()&&!t&&this.propertyDialog.updateContent(),t&&this.propertyDialog.show(),this.focusedEle=e},t.showAllFormHighLight=function(e){let t=this.pdfViewer.getPDFDocRender().formRender;t&&t.setRuntimeHighlight(e),this.pdfViewer.setHighlightControlsUI(!1)},t.showAllEditingWidget=function(e){if(!this.type)return;this.pdfViewer.getIoC().getInstanceByClass(Lt);let t=this.pdfViewer.getPDFDocRender();e||(e=t.getContainerVisiblePageIndexes()),e.forEach((e=>{if(this.pages[""+e+this.type])return;this.pages[""+e+this.type]=1;let i=t.getPDFPageRender(e);i.$ui.find(".fv__pdf-form-designer-container").remove(),i.$ui.append("<div class='fv__pdf-form-designer-container'></div>"),t.doc.getPageByIndex(e).then((e=>e.getAnnots())).then((e=>{e.forEach((e=>{if("widget"!==e.getType())return;let t=e.getField();(t&&t.getType()==this.type||8==this.type)&&this.showEditingWidget(i,e,!1)}))}))}))},t.showEditingWidget=function(e,t,i=!0){if(!t.getField())return;let n=new Jt(this,e,t,i);return this.annots[t.getId()]=n,n},t.afterWidgetsAdded=function(e,t){if(!this.type)return;let i=this.pdfViewer.getPDFDocRender();t.forEach((t=>{let n=i.getPDFPageRender(e);this.showEditingWidget(n,t,!1)}))},t.removeElement=function(e){const t=this.pdfViewer.getCurrentActivatable();t&&(this.isMultipleSelection()?t.remove&&t.remove(e):(t.clear&&t.clear(),t.add&&t.add(e)))},t.activeElementByAnnotId=function(e,t){let i=this.annots[t];i&&this.activeElement(i)},t.activeElement=function(e){this.pdfViewer.keyboard.defaultDeleteBinderName="formDesigner",this.pdfViewer.activeElement(e),this.pdfViewer.eventEmitter.emit(m.fieldActivated,e.widget)},t.unActiveElement=function(e){this.pdfViewer.unActiveElement(e)},t.clearEditingWidgets=function(){this.type=0,this.pages={};let e=!0;for(let t in this.annots)e=!1;if(e)return;this.pdfui.activeElement(),delete this.focusedEle;const t=this.pdfViewer.getCurrentActivatable();t&&(t.unActive(),t.clear&&t.clear());for(let e in this.annots)this.annots[e].unActive(),this.annots[e].out();this.annots={}},t.restoreHighlight=function(){},t.isMultipleSelection=function(){return!!this.pdfViewer.isShortcutKeyEnabled()&&(PDFViewCtrl.DeviceInfo.isMac?jt.isWin:jt.isCtrl||jt.isShift||this.copying)},t.removeAnnot=function(e){if(128&e.getFlags())return;this.pdfViewer.getCurrentPDFDoc().getPDFForm().removeControl(e.getField().getName(),e.getObjNum()),this.pdfui.getComponentByName("contextmenu-form-designer").then((e=>e.hide()));let t=this.annots[e.getId()];t&&(t.unActive(),t.out(),delete this.annots[e.getId()]);let i=-1;if(this.getAllActiveWidgets().forEach(((t,n)=>{t.widget==e&&(i=t)})),-1!==i){const e=this.pdfViewer.getCurrentActivatable();e&&e.remove&&e.remove(i)}this.pdfViewer.eventEmitter.emit(m.fieldRemove,[e],e.page)},t.zoom=function(e){for(let e in this.annots)this.annots[e].updateSize()},t.getAllActiveWidgets=function(){return this.pdfViewer.getAllActiveElements().filter((e=>e instanceof Jt))},e}();const{BuiltinCommand:Yt,BuiltinShortcutContext:Qt}=r.PDFViewCtrl.keyboard,{preventDefaultInterceptor:Zt}=r.PDFViewCtrl.keyboard.interceptors;let ei=function(e){function t(t){var i;return(i=e.call(this,t)||this).pdfUI=t.pdfUI,i}s(t,e),t.getName=function(){return"AlignmentController"},t.services=function(){return{alignmentControllerService:Lt}};var i=t.prototype;return i.mounted=function(){this.contextmenu=this.component.getClosestComponentByType("contextmenu"),this.pdfUI.getPDFViewer().then((e=>{this.pdfViewer=e})),this.contextmenu.on("beforeshow",(e=>{this.pdfUI.getGroupCount().then((([e,t])=>{e+t<2&&this.contextmenu.getComponentByName("dropdown-align").disable(),e+t<3&&this.contextmenu.getComponentByName("dropdown-distribute").disable()}))}))},i.align=async function(e){if(!this.pdfUI.checkAppSignIn())return;this.contextmenu.hide();const t=this.component.parent.currentTarget,i=await this.pdfUI.getAllActiveElements(),n=this.parseWidgetToEditingWidget(t),o=this.getWidgetDeviceRect(n),a=this.getActiveGroupDeviceCenter([n]);i.forEach((t=>{if(t.annot.objectNumber!==n.annot.objectNumber)switch(e){case"left":this.moveToDevicePosition(t,o.left);break;case"right":{const e=this.getWidgetDeviceRect(t),i=o.right-e.right+e.left;this.moveToDevicePosition(t,i)}break;case"top":this.moveToDevicePosition(t,void 0,o.top);break;case"bottom":{const e=this.getWidgetDeviceRect(t),i=o.bottom-e.bottom+e.top;this.moveToDevicePosition(t,void 0,i)}break;case"vertically":{const e=this.getActiveGroupDeviceCenter([t]),i={x:a.x-e.x,y:a.y-e.y};this.moveToDevicePoint(t,i.x,null)}break;case"horizontally":{const e=this.getActiveGroupDeviceCenter([t]),i={x:a.x-e.x,y:a.y-e.y};this.moveToDevicePoint(t,null,i.y)}}else this.moveToDevicePoint(t,0,0)}))},i.center=async function(e){if(!this.pdfUI.checkAppSignIn())return;this.contextmenu.hide();const t=await this.pdfUI.getAllActiveElements(),i=this.getActiveGroupPageDeviceCenter(t[0].pageRender||t[0].annotsRender.pageRender),n=this.getActiveGroupDeviceCenter(t),o={x:i.x-n.x,y:i.y-n.y};t.forEach((t=>{switch(e){case"vertically":this.moveToDevicePoint(t,null,o.y);break;case"horizontally":this.moveToDevicePoint(t,o.x,null);break;case"both":this.moveToDevicePoint(t,o.x,o.y)}}))},i.distribute=async function(e){if(!this.pdfUI.checkAppSignIn())return;this.contextmenu.hide();const t=await this.pdfUI.getAllActiveElements();let i=[],n=[],o=[];t.forEach((e=>{const t=this.getActiveGroupDeviceCenter([e]);i.push(t.x),n.push(t.y),e.deviceCenter=t,o.push(e)}));const a=Math.min.apply(Math,i),s=Math.max.apply(Math,i),r=Math.min.apply(Math,n),l=Math.max.apply(Math,n),d=(s-a)/(t.length-1),c=(l-r)/(t.length-1);switch(e){case"horizontally":{o.sort(((e,t)=>e.deviceCenter.x-t.deviceCenter.x>0?1:-1));let e=1;o.forEach((t=>{const i=t.deviceCenter;if(i.x===a||i.x===s)return void this.moveToDevicePoint(t,0,0);const n=a+d*e;this.moveToDevicePoint(t,n-i.x),e+=1}))}break;case"vertically":{o.sort(((e,t)=>e.deviceCenter.y-t.deviceCenter.y>0?1:-1));let e=1;o.forEach((t=>{const i=t.deviceCenter;if(i.y===r||i.y===l)return void this.moveToDevicePoint(t,0,0);const n=r+c*e;this.moveToDevicePoint(t,void 0,n-i.y),e+=1}))}}},i.size=async function(e){if(!this.pdfUI.checkAppSignIn())return;this.contextmenu.hide();const t=this.component.parent.currentTarget,i=await this.pdfUI.getAllActiveElements(),n=this.parseWidgetToEditingWidget(t),o=this.getWidgetDeviceRect(n),a=o.right-o.left,s=o.bottom-o.top;i.forEach((t=>{if(t.annot.objectNumber!==n.annot.objectNumber)switch(e){case"height":this.setWidgetDeviceWidthHeight(t,{deviceHeight:s});break;case"width":this.setWidgetDeviceWidthHeight(t,{deviceWidth:a});break;case"both":this.setWidgetDeviceWidthHeight(t,{deviceWidth:a,deviceHeight:s})}else this.moveToDevicePoint(t,0,0)}))},i.getWidgetDeviceRect=function(e){const t=e.annot,i=e.pageRender||e.annotsRender.pageRender,n=i.getScale(),o=i.getRotation();return t.getDeviceRect(n,o)},i.getActiveGroupDeviceCenter=function(e=[]){let t=[],i=[],n=[],o=[];e.forEach((e=>{const a=this.getWidgetDeviceRect(e);t.push(a.left),i.push(a.top),n.push(a.right),o.push(a.bottom)}));const a=Math.min.apply(Math,t),s=Math.min.apply(Math,i);return{x:(a+Math.max.apply(Math,n))/2,y:(s+Math.max.apply(Math,o))/2}},i.getActiveGroupPageDeviceCenter=function(e){const{deviceHeight:t,deviceWidth:i}=this.getPageDeviceInfo(e);return{x:i/2,y:t/2}},i.getPageDeviceInfo=function(e){return{deviceWidth:e.getShowWidth(),deviceHeight:e.getShowHeight()}},i.moveToDevicePoint=function(e,t=0,i=0){let n=this.getWidgetDeviceRect(e),o=n.left,a=n.top,s=n.right,r=n.bottom;o+=t,a+=i,s+=t,r+=i,this.moveTo(e,{left:o,top:a,right:s,bottom:r})},i.moveToDevicePosition=function(e,t,i){let n=this.getWidgetDeviceRect(e);t=void 0===t?n.left:t,i=void 0===i?n.top:i;let o=t-n.left+n.right,a=i-n.top+n.bottom;this.moveTo(e,{left:t,top:i,right:o,bottom:a})},i.moveTo=function(e,{left:t,top:i,right:n,bottom:o}){const a=e.pageRender||e.annotsRender.pageRender,s=e.annot,r=s.page,l=a.getScale(),d=a.getRotation(),c=this.checkBoundsOut(a,{left:t,top:i,right:n,bottom:o}),u=r.reverseDeviceRect(c,l,d);"widget"===s.getType()?s.setRect(u).then((()=>{s.updateUI({});const e=s.getField(),t=e.getDisplayValue();t&&e.showDisplayValue(t)})):e.moveTo(c.left,c.top,"move",!0).then((()=>{e.active()}))},i.esignCNStampsMove=async function(e,t){0},i.setWidgetDeviceWidthHeight=function(e,{deviceWidth:t,deviceHeight:i,offsetWidth:n,offsetHeight:o},a=!1){return this.alignmentControllerService.setWidgetDeviceWidthHeight(e,{deviceWidth:t,deviceHeight:i,offsetWidth:n,offsetHeight:o},a)},i.checkBoundsOut=function(e,{top:t,left:i,bottom:n,right:o}){const{deviceHeight:a,deviceWidth:s}=this.getPageDeviceInfo(e);return t<0&&(t=0),i<0&&(i=0),o>s?(i-=o-s,o=s):o-i<10&&(o=i+10),n>a?(t-=n-a,n=a):n-t<10&&(n=t+10),{top:t,left:i,bottom:n,right:o}},i.isBoundsOut=function(e,{top:t,left:i,bottom:n,right:o}){const{deviceHeight:a,deviceWidth:s}=this.getPageDeviceInfo(e);return t<0||i<0||n>a||o>s},i.parseWidgetToEditingWidget=function(e){let t;e.getType&&"widget"===e.getType()?t=e.getPage():(t=e.getPDFPage(),e=e.annot);return{widget:e,pageRender:this.pdfViewer.getPDFPageRender(t.getIndex()),annot:e}},t}(r.Controller);const ti=function(){},ii=r.PDFViewCtrl.Events,ni=PDFViewCtrl.PDF.constant.User_Permissions;let oi=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.getName=function(){return"ResetFormController"};var i=t.prototype;return i.mounted=function(){e.prototype.mounted.call(this);const t=this.getPDFUI();this.addDestroyHook(this.getPDFUI().addViewerEventListener({[PDFViewCtrl.ViewerEvents.openFileSuccess]:e=>{this.changePermission(e)},[m.fieldAdded]:(e,i,n)=>{t.getCurrentPDFDoc().then((e=>{this.changePermission(e)}))},[ii.annotationRemoved]:e=>{t.getCurrentPDFDoc().then((e=>{this.changePermission(e)}))}}))},i.handle=function(){let e=this.getPDFUI();e.confirm({message:"form-designer:resetFieldsConfirm",level:"warning"}).then((()=>{e.getPDFDocRender().then((e=>{let t=e.getPDFDoc().getPDFForm(),i=t.getFieldCount(),n=e.formRender;if(i>0){let e=[];for(let n=0;n<i;n++){const i=t.getFieldByIndex(n);e.push(i.getName())}Promise.resolve(n.blurControl()).then((i=>{t.resetForm(e,0,null,{setValue:(e,t,i)=>{if(!(e!==t))return;let o=i.getAction(w.FieldKeyStroke);o&&n.execAction("Field",o,null,i,w.FieldKeyStroke,{change:e,willCommit:!0}),o=i.getAction(w.FieldValueChanged),o&&n.execAction("Field",o,null,i,w.FieldValueChanged)}})}))}}))}),ti)},i.changePermission=function(e){const t=this.getPDFUI().getPDFDocRender().then((e=>e&&e.getUserPermission().getValue()));Promise.all([e&&!e.isDestroyed&&e.hasForm(),t]).then((([e,t])=>{t&this.constructor.permission&&e?this.component.lock&&this.component.unlock():this.component.lock&&this.component.lock()}))},n(t,null,[{key:"permission",get:function(){return ni.fillForm}}]),t}(r.Controller);const ai=r.PDFViewCtrl.Events,si=PDFViewCtrl.PDF.constant.User_Permissions;let ri=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.getName=function(){return"AddTooltipController"};var i=t.prototype;return i.mounted=function(){e.prototype.mounted.call(this),this.addDestroyHook(this.pdfUI.addViewerEventListener(ai.openFileSuccess,(e=>{this.changePermission(e)})))},i.handle=function(){this.getPDFUI().addTooltipsForAllFormFields()},i.changePermission=function(e){this.getPDFUI().getPDFDocRender().then((e=>e&&e.getUserPermission().getValue())).then((e=>{e&this.constructor.permission&&e&si.annotForm?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()}))},n(t,null,[{key:"permission",get:function(){return si.fillForm}}]),t}(r.Controller);const{replaceRibbonButton2XButton:li}=r.shared,{STATE_HANDLER_SELECT_TEXT_IMAGE:di,STATE_HANDLER_SELECT_ANNOTATION:ci}=PDFViewCtrl.STATE_HANDLER_NAMES;let ui=PDFViewCtrl.PDF.form.constant.Field_Flag,pi=PDFViewCtrl.ViewerEvents,hi=PDFViewCtrl.PDF.constant.AnnotUpdatedType,gi=PDFViewCtrl.AnnotComponent;const fi={MultipleCopy:at,Duplicate:dt,PickField:r.FieldsPickDialog,JSInput:r.ScriptInputDialog},{jQuery:mi,i18next:vi,i18nextChainedBackend:_i,i18nextLocalStorageBackend:bi,i18nextXHRBackend:yi,dialogPolyfill:xi,Hammer:wi,EventEmitter:Ci}=r.vendors,Fi=mi,{StatefulController:Si}=r,Ai=PDFViewCtrl.PDF.constant.User_Permissions,{IStateHandler:Ei,ShapeControl:$i}=PDFViewCtrl,Di=(PDFViewCtrl.PDF.form.constant.Field_Type,[{name:"CreateUnknown",type:0},{name:"CreatePushButton",type:1},{name:"CreateCheckBox",type:2},{name:"CreateRadioButton",type:3},{name:"CreateComboBox",type:4},{name:"CreateListBox",type:5},{name:"CreateText",type:6},{name:"CreateSign",type:7},{name:"CreateDate",type:6},{name:"CreateImage",type:1}]),Ti=Di.map((e=>$t(Ei,$i,e.name+"StateHandler",e.type)));let ki=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.getName=function(){return"FormDesigner"},t.getLoader=function(){return d()},t.isBlockedFeature=function(){return!1},t.initOnLoad=function(){if(t.isBlockedFeature())return;const e=r.modular.module("form-designer",[]),i=[];for(let t=1;t<Di.length;t++){let n=vt(Di[t].name+"Controller",Si,Ti[t],Ai);i.push(Di[t].name+"StateHandler"),e.registerController(n)}function a(){const e=this.component,t=e.parent;if(!t)return;const i=this.getPDFUI();this.addDestroyHook(t.on("shown",(()=>{i.getAllActiveElements().then((t=>{const i=t.some((e=>!e.annot||"widget"!==e.annot.getType()));let n=t.filter((e=>e.annot&&"widget"===e.annot.getType())),o=n.length,a=!1;o>0&&["copyTarget","multipleCopy","copyToPage"].includes(e.name)&&(a=n.some((e=>7==e.annot.getField().getType()))),a||i||o>1?e.hide():e.show()}))})))}e.registerComponent(St),e.registerController(yt),e.registerController(function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.getName=function(){return"ShowPropertiesController"};var i=t.prototype;return i.mounted=function(){e.prototype.mounted.call(this);const t=this.component;t.parent.on("shown",(()=>{this.getPDFUI().getAllActiveElements().then((e=>{const i=e.filter((e=>e.annot&&"widget"===e.annot.getType())).length;0===e.length||e.length!==i?t.disable():t.enable()}))}))},i.handle=function(){let e=this.component.parent.getCurrentTarget(),t=this.getPDFUI().formDesignDialog;t.setAnnot(e),t.show()},t}(r.Controller)),e.registerController(function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.getName=function(){return"Delete"},t.prototype.handle=function(){this.getPDFUI().getPDFViewer().then((e=>{e.getAllActiveElements().forEach((e=>{e instanceof gi?e.removeAnnot():(this.getPDFUI().editingMgr.removeAnnot(e.widget),this.getPDFUI().formDesignDialog.lockedHandler(!0))}))}))},t}(r.Controller)),e.registerController(function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.getName=function(){return"SetAsDefaultPropertiesController"},t.prototype.handle=function(){let e=this.component.parent.getCurrentTarget();this.pdfUI.getStore().then((t=>{if(!e||"widget"!==e.info.type)throw new Error("set default properties: invalid parameters!");let i=e,n=i.getField(),o=n.info.type,a=i.getFlags(),s=n.getFlags(),r=n.getAlignment(),l=n.getBorderColor(),d=n.getBorderStyle(),c=ft[n.getBorderWidth()]||0,u=n.getFillColor(),p=i.getDefaultAppearance(),h=i.getDAFontColor();const{fontName:g,textSize:f}=p;let m={fieldType:o,value:{annotFlags:a,fieldFlags:s,alignment:r,DA:{textColor:h,fontName:gt[g]?gt[g]:g,textSize:f},fillColor:u,border:{borderColor:l,borderStyle:d,borderWidth:c}}};t.dispatch("get-form-field-default-props",m)}))},t}(r.Controller)),Di.forEach((t=>{const i=t.name.replace(/[A-Z]/g,((e,t)=>0===t?e.toLowerCase():"-"+e.toLowerCase())),n={template:`<ribbon-button name="fv--form-designer-${i}-btn" icon-class="fv__icon-toolbar-form-${i}" @tooltip tooltip-title="form-designer:tips.${t.name}" @controller="form-designer:${t.name}Controller">form-designer:tips.${t.name}</ribbon-button>`};e.registerPreConfiguredComponent(i+"-ribbon",n),e.registerPreConfiguredComponent(i,o({},n,{template:li(n.template)}))})),e.controller("Copy",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),a.call(this)},handle:function(){this.getPDFUI().getPDFViewer().then((e=>e.copy()))}}),e.controller("Cut",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),a.call(this)},handle:function(){let e=this.component.parent.getCurrentTarget(),t=this.getPDFUI().formDesignDialog;t.setAnnot(e),t.show()}}),e.controller("MultipleCopy",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),a.call(this)},handle:function(){const e=this.getPDFUI();let t=e.addonInstanceMap.FormDesignerUIXAddon.getDialog("MultipleCopy"),i=this.component.parent.getCurrentTarget();if(i.getField().controls.length>1)return e.alert({message:"form-designer:dialog.numberError",level:"warning"});e.editingMgr.enableShortcut(0),t.show(i,((t,i,n,o,a)=>{if(e.editingMgr.enableShortcut(1),!t)return;if(t.isDeleted())return;let s=t.getField(),r=t.getPage();if(i){let e=a.shift();return t.setRect(e).then((i=>(t.updateUI({type:"rect",value:e}),a.length<1?Promise.resolve():s.form.copyControls(t,r,a.map((e=>({rect:e,fieldName:s.getName(),srcObjectNumber:t.getObjNum()})))))))}return s.form.duplicateNewFields(t,a,r.getIndex()).then((()=>e.getPDFDocRender().then((t=>t.loadFormRender(!0).then((()=>{e.redraw()}))))))}))}}),e.controller("CopyToPage",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),a.call(this)},handle:function(){const e=this.getPDFUI();let t=e.addonInstanceMap.FormDesignerUIXAddon.getDialog("Duplicate"),i=this.component.parent.getCurrentTarget();e.editingMgr.enableShortcut(0),t.show(i,i.page.doc.getPageCount(),[],((t,n)=>{e.editingMgr.enableShortcut(1),t&&e.getPDFDocRender().then((e=>{if(i.isDeleted())return;const o=e.getPDFDoc().pageCache;let a=[];o.forEach((e=>{e&&a.push(e.getIndex())}));let s=i.page.getIndex();n=n.filter((e=>e!=s)),t.getField().form.duplicateWidget(n,t.getField().getName(),t.getObjNum(),a)}))}))}}),e.controller("SetTabOrder",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),a.call(this)},handle:function(){this.getPDFUI().getComponentByName("sidebar").then((e=>e.querySelector("sidebar-field").trigger("active"))).then((()=>{let e=this.component.parent.getCurrentTarget();this.pdfUI.eventEmitter.emit("set-tab-order",e)}))}}),e.registerPreConfiguredComponent("keep-tool-selected-checkbox",{template:'<checkbox @tooltip name="keep-tool-selected-checkbox" @controller="form-designer:KeepToolSelectedController" class="fv__icon-toolbar-keep-tool-selected noWarp"></checkbox>',config:{target:"keep-tool-selected-checkbox",tooltip:{title:"form-designer:tips.KeepToolSelected"},text:"form-designer:tips.KeepToolSelected",checked:!1,callback:function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.getName=function(){return"keep-tool-selected"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.component.disable(),this.$keepToolSelectedCheckbox=Fi(this.component.element).find("input[type='checkbox']"),this.getPDFUI().getPDFViewer().then((e=>{this.$keepToolSelectedCheckbox.change((()=>{e.setFormCreationContinuously(this.$keepToolSelectedCheckbox.prop("checked"))})),e.eventEmitter.on(pi.switchStateHandler,((e,t)=>{i.indexOf(e.getStateName())>-1?this.component.enable():this.component.disable()}))}))},t}(r.Controller)}}),e.registerPreConfiguredComponent("highlight-fields-checkbox",{template:'<checkbox @tooltip name="highlight-fields-checkbox" @controller="form-designer:HighlightFieldsController" tooltip-title="form-designer:tips.HighlightFields" text="form-designer:tips.HighlightFields" class="fv__icon-toolbar-highlight-fields noWarp"></checkbox>',config:{target:"highlight-fields-checkbox",checked:!0,callback:function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.getName=function(){return"HighlightFieldsController"};var o=t.prototype;return o.mounted=function(){const e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener({[PDFViewCtrl.ViewerEvents.openFileSuccess]:e=>{this.changePermission(e),this.getPDFUI().getPDFViewer().then((e=>{let t=e.highlightControls();e.setHighlightControlsUI(t)}))},[m.fieldAdded]:(t,i,n)=>{e.getCurrentPDFDoc().then((e=>{this.changePermission(e)}))},[pi.annotationRemoved]:t=>{e.getCurrentPDFDoc().then((e=>{this.changePermission(e)}))}})),this.$highlightFieldsCheckbox=Fi(this.component.element).find("input[type='checkbox']"),this.getPDFUI().getPDFViewer().then((t=>{let n=!0,o=t.highlightControls();this.$highlightFieldsCheckbox[0].checked=o,this.$highlightFieldsCheckbox.change((()=>{let e=this.$highlightFieldsCheckbox[0].checked;n?t.highlightForm(e):t.setHighlightControlsUI(e)})),t.eventEmitter.on(pi.switchStateHandler,((o,a)=>{const s=e.customs.isAccountExpired;!!s&&s(!1)||setTimeout((()=>{i.indexOf(o.getStateName())>-1||o.getStateName()===ci?t.highlightForm(n=!1):(n=!0,t.highlightForm(this.$highlightFieldsCheckbox[0].checked))}),100)})),t.eventEmitter.on(pi.setFromFieldHighlight,(e=>{n&&this.$highlightFieldsCheckbox.prop("checked",e)}))}))},o.changePermission=function(e){const t=this.getPDFUI().getPDFDocRender().then((e=>e.getUserPermission().getValue()));Promise.all([e.hasForm(),t]).then((([e,t])=>{t&this.constructor.permission&&e?this.component.lock&&this.component.unlock():this.component.lock&&this.component.lock()}))},n(t,null,[{key:"permission",get:function(){return Ai.modify+Ai.annotForm+Ai.fillForm}}]),t}(r.Controller)}}),e.registerController(oi),e.registerPreConfiguredComponent("reset-form",{template:'<ribbon-button @tooltip name="fv--reset-field-btn" @controller="form-designer:ResetFormController" tooltip-title="form-designer:tips.ResetForm" icon-class="fv__icon-toolbar-reset-field">form-designer:tips.ResetForm</ribbon-button>'}),e.registerController(ri),e.registerPreConfiguredComponent("add-tooltip",{template:'<ribbon-button @tooltip name="fv--add-tooltip-btn" @controller="form-designer:AddTooltipController" tooltip-title="form-designer:tips.AddTooltip" icon-class="fv__icon-toolbar-add-tooltip">form-designer:tips.AddTooltip</ribbon-button>'}),e.registerPreConfiguredComponent("showCO",{template:'<ribbon-button name="fv--showCO-btn" icon-class="fv__icon-toolbar-form-CO" @tooltip tooltip-title="form-designer:tips.showCO" @controller="form-designer:showCODialogController">form-designer:tips.showCO</ribbon-button>'}),e.controller("showCODialogController",{changePermission(e){const t=this.getPDFUI().getPDFDocRender().then((e=>e.getUserPermission().getValue()));Promise.all([e.hasForm(),t]).then((([e,t])=>{t&Ai.modify+Ai.fillForm&&e?this.component.enable():this.component.disable()}))},mounted:function(){const e=this.getPDFUI(),t=e=>{let t=e.getPDFForm();if(t){t.getCO().length?this.changePermission(e):this.component.disable()}else this.component.disable()};e.getCurrentPDFDoc().then((e=>e&&t(e))),e.addViewerEventListener({[PDFViewCtrl.ViewerEvents.renderFileSuccess]:t,[PDFViewCtrl.ViewerEvents.COChange]:e=>{e.length?this.component.enable():this.component.disable()}})},handle:function(){const e=this.getPDFUI();let t=e.CODialog;t||(t=e.CODialog=new ht(e),e.eventEmitter.emit("showCODialog"),e.getRootComponent().then((e=>{e.append(t.dialog)}))),e.getCurrentPDFDoc().then((e=>{let i=e.getPDFForm(),n=e.getPDFForm().getCO();t.show(n,(e=>{i.setCO(e)}))}))}});let l=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.getName=function(){return"AlignmentMenuController"};var i=t.prototype;return i.mounted=function(){e.prototype.mounted.call(this),this.adjustmentMenuPermission(),this.addDestroyHook(this.component.parent.on("shown",this.adjustmentMenuPermission.bind(this))),this.parentMenu=this.component.parent},i.handle=function(e){const t=this.component;t.disabled||t.isContainer()&&t.children().length>1||this.parentMenu.hide()},i.adjustmentMenuPermission=async function(){const e=this.getPDFUI(),t=this.component.$container.$children,i=["strikeout","underline","caret","squiggly","highlight"],n=["polygon","polyline","PolygonCloud","LineArrow","ink","Line","LineDimension","freetext","fileattachment","FreeTextCallout","text","PolygonDimension","PolyLineDimension"].map((e=>e.toLowerCase()));let o=!1,a=!1,s=!1;const r=await e.getAllActiveElements();let l=!0;await Promise.all(r.map((async d=>{const c=d.annot,u=await e.getAnnotAuthorityManager(c),p=await u.getPermission(c);let h=!0;if("function"==typeof d.moveDisabled&&(h=!d.moveDisabled()),p.isModifiable()||(l=!1),!c)return;const g=(c.getIntent()||c.getType()||"").toLowerCase(),f=d.getAnnotFlag();(f.checkReadOnly()||f.checkLocked())&&(o=!0),i.indexOf(g)>-1&&(a=!0),n.indexOf(g)>-1&&(s=!0),t.forEach((e=>{switch(e.name){case"dropdown-align":o||a||r.length<=1?e.disable():e.enable();break;case"dropdown-center":o||a||!l||!h?e.disable():e.enable();break;case"dropdown-distribute":o||a||r.length<=2?e.disable():e.enable();break;case"dropdown-size":o||a||r.length<=1?e.disable():e.enable(),s?e.hide():e.show()}}))})));const d=await e.getAnnotAuthorityManager();const c=await e.getPDFDocRender();c&&c.noInteraction&&(o=!0),o||(o=await async function e(t){return!(t>=r.length)&&(!await(i=r[t],d.getPermission(i.annot).then((e=>{let t=!0;return"function"==typeof i.moveDisabled&&(t=!i.moveDisabled()),(e.ignorable()||e.isModifiable())&&t})))||e(t+1));var i}(0)),t.forEach((e=>{if(a)e.hide();else switch(e.show(),e.name){case"dropdown-align":o||r.length<=1?e.disable():e.enable();break;case"dropdown-center":o?e.disable():e.enable();break;case"dropdown-distribute":o||r.length<=2?e.disable():e.enable();break;case"dropdown-size":o||r.length<=1?e.disable():e.enable(),s?e.hide():e.show()}})),setTimeout((()=>{const e=this.component.nextSiblings();e&&(a?e.hide():e.show())}),20)},t}(ei);e.registerController(ei),e.registerController(l),e.registerPreConfiguredComponent("alignment-menu",{template:'<div name="alignment-menu" @controller="form-designer:AlignmentMenuController as acl">\n                    <dropdown name="dropdown-align" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.align.title">\n                        <xbutton name="align-left" @on.click="acl.align(\'left\')">form-designer:contextMenu.align.left</xbutton>\n                        <xbutton name="align-right" @on.click="acl.align(\'right\')">form-designer:contextMenu.align.right</xbutton>\n                        <xbutton name="align-top" @on.click="acl.align(\'top\')">form-designer:contextMenu.align.top</xbutton>\n                        <xbutton name="align-bottom" @on.click="acl.align(\'bottom\')">form-designer:contextMenu.align.bottom</xbutton>\n                        <contextmenu-separator></contextmenu-separator>\n                        <xbutton name="align-vertically" @on.click="acl.align(\'vertically\')">form-designer:contextMenu.align.vertically</xbutton>\n                        <xbutton name="align-horizontally" @on.click="acl.align(\'horizontally\')">form-designer:contextMenu.align.horizontally</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-center" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.center.title">\n                        <xbutton name="center-vertically" @on.click="acl.center(\'vertically\')">form-designer:contextMenu.center.vertically</xbutton>\n                        <xbutton name="center-horizontally" @on.click="acl.center(\'horizontally\')">form-designer:contextMenu.center.horizontally</xbutton>\n                        <xbutton name="center-both" @on.click="acl.center(\'both\')">form-designer:contextMenu.center.both</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-distribute" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.distribute.title">\n                        <xbutton name="distribute-vertically" @on.click="acl.distribute(\'vertically\')">form-designer:contextMenu.distribute.vertically</xbutton>\n                        <xbutton name="distribute-horizontally" @on.click="acl.distribute(\'horizontally\')">form-designer:contextMenu.distribute.horizontally</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-size" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.size.title">\n                        <xbutton name="size-height" @on.click="acl.size(\'height\')">form-designer:contextMenu.size.height</xbutton>\n                        <xbutton name="size-width" @on.click="acl.size(\'width\')">form-designer:contextMenu.size.width</xbutton>\n                        <xbutton name="size-both" @on.click="acl.size(\'both\')">form-designer:contextMenu.size.both</xbutton>\n                    </dropdown>\n                </div>',config:{target:"alignment-menu"}})};var i=t.prototype;return i.getDialog=function(e){return this.dialogs[e]||(this.dialogs[e]=new fi[e](this.pdfUI))},i.init=function(e){if(t.isBlockedFeature())return;this.pdfUI=e,e.getPDFViewer().then((e=>{const t=e.getStateHandlerManager();Ti.forEach((e=>{t.register(e)}))})),this.destroyHooks=[],this.callbacks={},this.defaultFormFieldProps={};let i=e.formDesignDialog=new Me(e,this),n=e.simplePropertiesDialog=new Qe(e,this);this.dialogs={zFieldProperty:i},this.destroyHooks.push(e.addViewerEventListener({[m.fieldAddedFailed]:t=>{e.alert({message:"form-designer:tips.CreateFailed",level:"error"})},[m.fieldAdded]:(t,o,a)=>{let s=!1;const r=()=>{s||(s=!0,e.editingMgr.activeElementByAnnotId(t.index,o.getId()),setTimeout((()=>{this.hideFormFieldProperty||(i.isOpened()?i.setAnnot(o):(n.setAnnot(o),n.show(a)))})))};let l=o,d=l.getField(),c=l.info.fieldType,u=this.defaultFormFieldProps[c];if(void 0!==u){let e=[];const{DA:t,annotFlags:i,alignment:n,fieldFlags:o,fillColor:a,border:s}=u;e.push(l.setFlagValue(i,!0)),e.push(d.setAlignment(n)),e.push(d.setReadonly(!!ui.isReadOnly(o))),e.push(d.setRequired(!!ui.isRequired(o))),e.push(d.setBorderStyle(s.borderStyle)),e.push(d.setBorderColor(s.borderColor)),e.push(d.setBorderWidth(s.borderWidth)),e.push(d.setFillColor(a)),e.push(l.setDefaultAppearance(t).then((()=>{Object.keys(t).forEach((e=>{let i={type:e,value:t[e]};l.updateUI(i)})),l.updateUI({type:"borderStyle",value:s.borderStyle}),l.updateUI({type:"borderWidth",value:s.borderWidth}),l.updateUI({type:"display",value:i}),this.pdfUI.eventEmitter.emit(pi.annotationUpdated,[l],l.getPDFPage(),hi.flagsUpdated),this.pdfUI.eventEmitter.emit(pi.annotationAppearanceUpdated,[l],l.getPDFPage())}))),Promise.all(e).then((()=>{r()})).catch((e=>{r(),console.log("FormDesigner -> on fieldAdded -> err",e)}))}else r()},"switch-state-handler":t=>{let i=t.getStateName();n.hide(),e.getCurrentPDFDoc().then((e=>Promise.all([e&&e.isStaticXFA(),e&&e.isXFARemoved()]))).then(((e,t)=>e?t:e)).then((t=>!t&&e.editingMgr&&e.editingMgr.startEditingMode(i)))},"render-page-success":t=>{e.editingMgr.showAllEditingWidget([t.index])},"will-close-document":()=>{n.hide(),i.hide(),e.editingMgr.clearEditingWidgets(),e.editingMgr.restoreHighlight()},"annotation-add":(t,i)=>{t=t.filter((e=>"widget"===e.getType())),e.editingMgr.afterWidgetsAdded(i.getIndex(),t)},[PDFViewCtrl.ViewerEvents.annotationUpdated]:(t,n,o)=>{e.editingMgr.updateAnnots(t,n,o),i.isOpened()&&i.setValue()},[PDFViewCtrl.ViewerEvents.tapPage]:()=>{e.formDesignDialog.lockedHandler(!0)},"zoom-to-success":(t,i)=>{e.editingMgr.zoom(t)},"page-rotation-change":t=>{e.getStateHandlerManager().then((e=>{e.switchTo()}))},"fit-width-resize-viewport":()=>{e.editingMgr.zoom(1)},"tab-active":t=>{const i=t.id,n=t.getPage().getIndex();e.editingMgr.annots[i]&&e.getRootComponent().then((t=>{const o=t.querySelector("@field");o&&(o.controller.component.isStartResetNumber=!1),e.editingMgr.activeElementByAnnotId(n,i)}))},"active-widgets-for-multi-select":({widgets:t=[],activationGroup:i})=>{t.length&&i&&e.getPDFViewer().then((n=>{t.forEach((t=>{const n=e.editingMgr.annots[t.getId()],o=i.activations.find((e=>e.annot===t));o&&i.remove(o),n&&i.add(n),i.remove(t)})),n.bindMultiSelectActiveEvents(i),n.activationManager.active(i),n.getPDFDocRender().setCurrentAnnotHandler(),n.eventEmitter.emit(pi.activeElementChanged)}))}})),e.getPDFViewer().then((t=>{e.editingMgr=new Xt(e,t,this.dialogs,i,n)})),this.destroyHooks.push((()=>{e.editingMgr.destroy(),e.formDesignDialog.destroy(),e.formDesignDialog=null,e.simplePropertiesDialog.destroy(),e.simplePropertiesDialog=null;for(let e in this.dialogs){let t=this.dialogs[e];!t.isDestroyed&&t.destroy()}this.dialogs={}})),e.getStore().then((e=>{e.subscribe("update-form-field-default-props",(e=>{this.defaultFormFieldProps={...e}})),e.subscribe("get-form-field-default-props",(e=>{let t={...this.defaultFormFieldProps};t[e.fieldType]=e.value,this.callbacks&&this.callbacks.onFormFieldPropsChanged&&this.callbacks.onFormFieldPropsChanged(t)})),e.subscribe("hideFormFieldPropertyBox",(e=>{this.hideFormFieldProperty=e}))}));let o=!(!e.customs||!e.customs.supportFormAsDefaultProps)?'<contextmenu-item name="fv--contextmenu-item-field-store-props" @controller="form-designer:SetAsDefaultPropertiesController">contextmenu.annot.as-default</contextmenu-item>':"";e.getRootComponent().then((e=>{e.append(`\n                <template>\n                    <contextmenu name="contextmenu-form-designer" @lazy-content="shown">\n                        <contextmenu-item name="copyTarget" @controller="form-designer:Copy">contextmenu.annot.copyAnnot</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="deleteTarget" @controller="form-designer:Delete">contextmenu.annot.delete</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="propertiesMenu" @controller="form-designer:ShowPropertiesController">contextmenu.annot.properties</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="multipleCopy" @controller="form-designer:MultipleCopy">form-designer:contextMenu.multipleCopy</contextmenu-item>\n                        <contextmenu-item name="copyToPage" @controller="form-designer:CopyToPage">form-designer:contextMenu.copyToPage</contextmenu-item>\n                        <contextmenu-item name="setTabOrdern" @controller="form-designer:SetTabOrder">form-designer:contextMenu.setTabOrder</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <form-designer:alignment-menu></form-designer:alignment-menu>\n                        ${o}\n                    </contextmenu>\n                </template>\n            `)}))},i.destroy=function(){this.destroyHooks.forEach((e=>e())),this.destroyHooks=[]},i.getAnnotRenderById=function(e,t){return this.pdfUI.getPDFPageRender(t).then((t=>{if(t){return{annot:t.page.annotIdMap[e],pageRender:t}}return Promise.reject(new Error("cannot found widget by id:"+e))}))},i.receiveAction=function(e,i){if(t.isBlockedFeature())return;const n=this.pdfUI,o=i.id,a=i.pageIndex;switch(e){case"activeWidget":n.getPDFPageRender(a).then((e=>e.isRendered?Promise.resolve():n.goToPage(a,0,0,!1))).then((()=>n.getStateHandlerManager())).then((e=>n.getComponentByName(ci).then((t=>{const i=n.customs.isAccountExpired;return!!i&&i(!1)||t.isLocked||e.switchTo(ci),this.getAnnotRenderById(o,a)})))).then((({annot:e,pageRender:t})=>{let{left:i,top:s}=e.getDeviceRect(t.getScale(),t.getRotation());n.goToPage(a,s,i,!1).then((()=>{const e=()=>{const t=n.editingMgr;t.type?t.activeElementByAnnotId(0,o):setTimeout(e,200)};e()}))}));break;case"showPropertiesDialog":let e=n.formDesignDialog;this.getAnnotRenderById(i.id,i.pageIndex).then((({annot:t})=>{e.setAnnot(t),e.show()}));break;case"removeWidget":this.getAnnotRenderById(o,a).then((({annot:e})=>{n.editingMgr.removeAnnot(e)}));break;case"multipleCopy":this.getAnnotRenderById(o,a).then((({annot:e})=>{let t=n.multipleCopyDialog;t||(t=n.multipleCopyDialog=new at(n));if(e.getField().controls.length>1)return n.alert({message:"form-designer:dialog.numberError",level:"warning"});n.editingMgr.enableShortcut(0),t.show(e,((e,t,i,o,a)=>{if(n.editingMgr.enableShortcut(1),!e)return;let s=e.getField(),r=e.getPage();if(t){let t=a.shift();return e.setRect(t).then((i=>(e.updateUI({type:"rect",value:t}),a.length<1?Promise.resolve():s.form.copyControls(e,r,a.map((t=>({rect:t,fieldName:s.getName(),srcObjectNumber:e.getObjNum()})))))))}return s.form.duplicateField(s.getName(),e,i,o,a).then((t=>n.editingMgr.updateLabel(e)))}))}));break;case"duplicate":this.getAnnotRenderById(o,a).then((({annot:e})=>{n.editingMgr.enableShortcut(0),this.getDialog("Duplicate").show(e,e.page.doc.getPageCount(),[],((e,t)=>{if(n.editingMgr.enableShortcut(1),!e)return;let i=e.page.getIndex();t=t.filter((e=>e!=i)),n.getPDFDocRender().then((i=>{const n=i.getPDFDoc().pageCache;let o=[];n.forEach((e=>{e&&o.push(e.getIndex())})),e.getField().form.duplicateWidget(t,e.getField().getName(),e.getObjNum(),o)}))}))}))}this.pdfUI.getStore().then((t=>{switch(e){case"ev-receive-form-field-default-props":{if(!this.callbacks)return;let e=()=>{};"function"==typeof i?e=i:i&&i.length>0&&"function"==typeof i[0]&&(e=i[0]),this.callbacks.onFormFieldPropsChanged=e;break}case"ev-update-form-field-default-props":{let e={...i};t.dispatch("update-form-field-default-props",e);break}}}))},t}(r.UIXAddon)}(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__}()}));