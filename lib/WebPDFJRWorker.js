!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return function(){var __webpack_modules__={9669:function(e,t,n){e.exports=n(1609)},5448:function(e,t,n){"use strict";var r=n(4867),i=n(6026),o=n(4372),a=n(5327),s=n(4097),c=n(4109),l=n(7985),u=n(5061);e.exports=function(e){return new Promise((function(t,n){var d=e.data,h=e.headers,f=e.responseType;r.isFormData(d)&&delete h["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+m)}var _=s(e.baseURL,e.url);function y(){if(g){var r="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,o={data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i(t,n,o),g=null}}if(g.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(n(u("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(u("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||l(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(h[e.xsrfHeaderName]=S)}"setRequestHeader"in g&&r.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),f&&"json"!==f&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){g&&(g.abort(),n(e),g=null)})),d||(d=null),g.send(d)}))}},1609:function(e,t,n){"use strict";var r=n(4867),i=n(1849),o=n(321),a=n(7185);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=s(n(5655));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(5263),c.CancelToken=n(4972),c.isCancel=n(6502),c.all=function(e){return Promise.all(e)},c.spread=n(8713),c.isAxiosError=n(6268),e.exports=c,e.exports.default=c},5263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:function(e,t,n){"use strict";var r=n(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:function(e,t,n){"use strict";var r=n(4867),i=n(5327),o=n(782),a=n(3572),s=n(7185),c=n(4875),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var d=e;n.length;){var h=n.shift(),f=n.shift();try{d=h(d)}catch(e){f(e);break}}try{i=a(d)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},782:function(e,t,n){"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:function(e,t,n){"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5061:function(e,t,n){"use strict";var r=n(8965);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},3572:function(e,t,n){"use strict";var r=n(4867),i=n(8527),o=n(6502),a=n(5655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},8965:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:function(e,t,n){"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(o,l),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var u=i.concat(o).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,l),n}},6026:function(e,t,n){"use strict";var r=n(5061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:function(e,t,n){"use strict";var r=n(4867),i=n(5655);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5655:function(e,t,n){"use strict";var r=n(4867),i=n(6016),o=n(8965),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(5448)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l},1849:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:function(e,t,n){"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,n){"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:function(e,t,n){"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:function(e,t,n){"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:function(e,t,n){"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:function(e,t,n){"use strict";var r=n(8593),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},4867:function(e,t,n){"use strict";var r=n(1849),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},6346:function(e,t,n){"use strict";n.d(t,{GO:function(){return he},mA:function(){return x},dN:function(){return ge},dD:function(){return r},EF:function(){return pe},Ki:function(){return d},U:function(){return g},qh:function(){return f}});n(3964),n(6409),n(4043);function r(){return new(function(){return function(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}())}n(752),n(6265);var i;!function(e){e.IDLE="idle",e.RUNNING="running",e.CANCELLED="cancelled"}(i||(i={}));n(278),n(6544);Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>(t[n]=Object.getOwnPropertyDescriptor(e,n),t)),{})});const o=["isProxy","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","apply","arguments","bind","call","caller",Symbol.hasInstance,"valueOf","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"];o.concat(["length","name","prototype"]),Date.now().toString(32);var a;function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}!function(e){e.SHARED_SINGLETON="SHARED-SINGLETON",e.SINGLETON="SINGLETON",e.PROTOTYPE="PROTOTYPE"}(a||(a={}));n(8832);const l="unique_"+Date.now();var u=0;var d=function(e){return[e||"",l,u++].join("_")};function h(e){return"number"==typeof e}function f(e){return h(e)&&isFinite(e)}function g(e){return h(e)&&Math.floor(e)===e}function p(e){return"function"==typeof e}function m(e){return"string"==typeof e}var _=function(){function e(){}var t=e.prototype;return t.format=function(e,t,n){return[{type:"string",value:`[${this.levelText(t)}]`},{type:"string",value:`{${e}}`}].concat(n.map((e=>null==e?{type:typeof e,value:e+""}:{type:typeof e,value:e})))},t.levelText=function(e){switch(e){case 0:return"DEBUG";case 2:return"INFO";case 4:return"WARN";case 8:return"ERROR"}return"UNKNOWN LEVEL"},e}();const y={logLevel:function(e){switch(e){case"debug":return 0;case"info":return 2;case"warn":return 4;default:return 8}}("warn"),logLayout:"complex",logAppenders:["console"]||0,logOff:!1,setLogLevel:S,toggleLogOff:b};function S(e){switch(e){case 0:case 2:case 4:case 8:y.logLevel=e}}function b(e){y.logOff="boolean"==typeof e?e:!y.logOff}let I=function(){function e(e,t,n){this.appender=e,this.layout=t,this.module=n,this.logOff=!1}var t=e.prototype;return t.getMinLevel=function(){return void 0===this.minLevel?y.logLevel:this.minLevel},t.toggle=function(e){this.logOff="boolean"==typeof e?e:!this.logOff},t.setLevel=function(e){this.minLevel=e},t.doLog=function(e,t){if(this.isLogOff(e))return;const n=this.layout.format(this.module,e,t);this.appender.print(n,e)},t.log=function(e,...t){this.doLog(e,t)},t.debug=function(...e){this.doLog(0,e)},t.info=function(...e){this.doLog(2,e)},t.warn=function(...e){this.doLog(4,e)},t.error=function(...e){this.doLog(8,e)},t.isLogOff=function(e){return this.logOff||y.logOff||e<this.getMinLevel()},e}();var A=I;function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e){throw new Error("Method not implemented"+(e?":"+e:""))};var P=function(){function e(){}return e.prototype.print=function(e,t){w(e,t)},e}();function F(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}let T=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.print=function(e,t){var n,r,i,o,a;const s=e.map((e=>"string"!==e.type?" %o":" %c"+e.value)).join("").trim(),c=e.map((e=>"string"===e.type?e.style:e.value));switch(c.splice(0,0,s),t){case 0:(n=console).debug.apply(n,F(v,c));break;case 2:(r=console).info.apply(r,F(v,c));break;case 4:(i=console).warn.apply(i,F(v,c));break;case 8:(o=console).error.apply(o,F(v,c));break;default:(a=console).log.apply(a,F(v,c))}},t}(P);var C=T;var G=function(){function e(){}var t=e.prototype;return t.format=function(e,t,n){const r=(new Error).stack;let i;if(r){i="\n  "+r.split("\n")[4].trim()}return[{type:"string",style:`color: ${this.levelColor(t)};`,value:`[${this.levelText(t)}]`},{type:"string",style:"color: magenta",value:`{${e}}`}].concat(n.map((e=>null==e?{type:typeof e,style:"color: megenta;font-weight: bold",value:e+""}:"string"==typeof e?{type:typeof e,style:`color: ${this.levelColor(t)}`,value:e}:{type:typeof e,value:e}))).concat({type:"string",style:"color: grey;",value:i})},t.levelColor=function(e){switch(e){case 0:return"blue";case 2:return"green";case 4:return"#5C3C00";case 8:return"red"}return"#000"},t.levelText=function(e){switch(e){case 0:return"DEBUG";case 2:return"INFO";case 4:return"WARN";case 8:return"ERROR"}return"UNKNOWN LEVEL"},e}();var E=function(e){function t(t){var n;return(n=e.call(this)||this).appenders=t||[],n}return c(t,e),t.prototype.print=function(e,t){this.appenders.forEach((n=>n.print(e,t)))},t}(P);const R={};let x=function(){function e(){}return e.toggleLogger=function(e){b(e)},e.setLogLevel=function(e){S(e)},e.getLogger=function(e){return R[e]=R[e]||this.createLogger(e)},e.createLogger=function(e){let t,n=[];if("complex"===y.logLayout)t=new G;else t=new _;return n=y.logAppenders.map((e=>{switch(e){case"console":return new C;case"websocket":return new WebsocketAppender}})).filter((e=>e instanceof P)),new A(new E(n),t,e)},e}();var M=x;const O="object"==typeof window?window:globalThis;let N=function(e){function t(){return e.call(this,"shared",1/0)||this}return c(t,e),t.prototype.destroyComponents=function(){},t}(function(e){c(n,e);var t=n.prototype;function n(t="singleton",n=Number.MAX_SAFE_INTEGER){var r;return(r=e.call(this)||this).name=t,r.level=n,r}return t.generateInstanceName=function(){return d(this.name)},t.registerComponentInstance=function(e){const t=e.constructor;this.saveComponentInstance(t,e)},t.registerComponentInstanceByName=function(e,t){this.saveComponentInstance(t,e)},n}(function(){function e(){this.map=new Map}var t=e.prototype;return t.getComponentInstance=function(e,t){if(m(e))return this.map.get(e);const n=e.$$ioc_instance_name;if(m(n)&&this.map.has(n))return this.map.get(n);e.length>0&&M.getLogger(this+"").warn("Relying on other object instances through constructors is not a good practice",e);const r=1===e.length?new e(t):new e;return this.saveComponentInstance(e,r),r},t.saveComponentInstance=function(e,t){let n;if(m(e)?n=e:(n=e.$$ioc_instance_name||this.generateInstanceName(),e.$$ioc_instance_name=n),this.map.has(n))throw new Error(`[IoC] An unknown error has occurred: Duplicate requests to create instances of the same type: (${e})!`);this.map.set(n,t)},t.onInject=function(e){const{targetStrategy:t,injectInto:n,component:r,propertyName:i}=e;t.level>this.level&&function(e,...t){p(e.addDestroyHook)&&e.addDestroyHook.apply(e,t)}(r,(()=>{!function(e,t){p(e.pullout)&&e.pullout(t)}(n,i)}))},t.destroyComponents=function(){this.map.forEach((e=>{var t;p((t=e).destroy)&&t.destroy()})),this.map.clear()},t.define=function(e){},e}()));const k=O.__SHARED_IOC_STRATEGY__||new N;O.__SHARED_IOC_STRATEGY__=k;d("$$ioc-component-instance-initialized");Promise.resolve();var B=n(7990),L=n.n(B),j=n(8366),U=n.n(j),W=n(4231),H=n.n(W),z=n(1434),K=n.n(z),J=n(1128),V=n.n(J),Y=n(579),Z=n.n(Y),q=n(7074),X=n.n(q),Q=n(890),$=n.n(Q),ee=n(8990),te=n.n(ee),ne=n(5522),re=n.n(ne),ie=n(3765),oe=n.n(ie),ae=n(5576),se=n.n(ae),ce=n(859),le=n.n(ce),ue=n(4883),de=n.n(ue);L().locale(V()),L().locale(Z()),L().locale(X()),L().locale($()),L().locale(te()),L().locale(te()),L().locale(re()),L().locale(oe()),L().locale(se()),L().locale(le()),L().locale(te()),L().locale(de()),L().extend(U()),L().extend(H()),L().extend(K());n(1386);let he=function(){function e(e){this.originfn=e,this.beforeHooks=[],this.afterHooks=[],this.thrownHooks=[],this.aroundHooks=[]}e.on=function(t){if("function"==typeof t)return new e(t);if(t instanceof e)return new e(t.extract());throw new TypeError("Unexpected type: "+typeof t)};var t=e.prototype;return t.before=function(e){return"function"==typeof e&&this.beforeHooks.push(e),this},t.after=function(e){return"function"==typeof e&&this.afterHooks.push(e),this},t.thrown=function(e){return"function"==typeof e&&this.thrownHooks.push(e),this},t.around=function(e){return"function"==typeof e&&this.aroundHooks.push(e),this},t.proxy=function({before:e,after:t,thrown:n,around:r}={}){return this.before(e),this.after(t),this.thrown(n),this.around(r),this},t.extract=function(){const{beforeHooks:e,afterHooks:t,thrownHooks:n,aroundHooks:r,originfn:i}=this;function o(...r){e.forEach((e=>e.call(this,r)));try{const e=i.apply(this,r);return e instanceof Promise?(e.then((e=>{t.forEach((t=>t.call(this,e,r)))})),e.catch((e=>{n.forEach((t=>t.call(this,e,r)))}))):t.forEach((t=>t.call(this,e,r))),e}catch(e){n.forEach((t=>t.call(this,e,r)))}}return o.origin=i,r.reduceRight(((e,t)=>function(...n){return t(this,e,n)}),o)},e}();n(7267);const fe=Math.pow(2,24);function ge(e){let t,n,r,i;return e<16777216?i=255:(i=e/fe&255,e&=16777215),r=255&e,n=e>>8&255,t=e>>16&255,{r:t,g:n,b:r,a:i}}function pe(){return{x:96,y:96}}},241:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(4578);function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}var o=n(9611);function a(e,t,n){return a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,o.Z)(i,n.prototype),i},a.apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(n,e)},s(e)}const c="InvalidJRObjectError";let l=function(e){function t(t){var n;return(n=e.call(this,t)||this).name=c,n}return(0,r.Z)(t,e),t.is=function(e){return!!e&&e.name===c},t}(s(Error))},6486:function(e,t,n){"use strict";n.d(t,{Kq:function(){return c},Xd:function(){return l},cP:function(){return s}});n(752),n(9976),n(3356);var r=n(1220);let i=function(e,t,n){this.byteRange=[],this.fileData=e,this.filter=t,this.subfilter=n};const o={},a=(e,t)=>{let n=!0;return e.StreamCallback.implement({Retain:()=>a(e,t),Release:()=>{n=!0},Flush:()=>!0,GetSize:()=>t.totalSize,WriteBlock:(r,i,o)=>{const a=[];for(let t=i;t<i+o;t++)a.push(e.HEAPU8[r+t-i]);if(n)n=!1,t.blob=0!=i?new Blob([new Uint8Array(i),new Uint8Array(a)]):new Blob([t.blob,new Uint8Array(a)]);else{let e=t.blob.size;i>=0&&i<e&&i+o<e?t.blob=new Blob([t.blob.slice(0,i),new Uint8Array(a),t.blob.slice(i+o,e)]):i>=0&&i<e&&i+o>e?t.blob=new Blob([t.blob.slice(0,i),new Uint8Array(a)]):i>=e&&(t.blob=new Blob([t.blob,new Uint8Array(i-e),new Uint8Array(a)]))}return t.totalSize=t.blob.size,!0},ReadBlock:(n,r,i)=>{const o=t.blob.slice(r,r+i),a=(new self.FileReaderSync).readAsArrayBuffer(o);return e.HEAPU8.set(new Uint8Array(a),n),!0}})},s=(e,t,n,s,c)=>{((e,t="filter",n="filter")=>{let i=e.SignatureCallback.implement({Release:()=>{},StartCalcDigest:(t,n,r,i,a)=>{let s=o[i.GetDict().GetObjNum()];if(s)for(let t=0;t<r;t+=2)s.byteRange.push(e.HEAP32[n/4+t]),s.byteRange.push(e.HEAP32[n/4+t+1]);return!0},ContinueCalcDigest:(t,n)=>e.ProgressiveState.e_Finished,GetDigest:t=>{let n=new Uint8Array([0,10,10,0]),r=new e.String,i=e._malloc(n.length);return e.HEAPU8.set(n,i),r.Load(i,n.length),r},Sign:(t,n,r,i,o,a)=>{let s=new Uint8Array([0,10,10,0]),c=e._malloc(s.length);e.HEAPU8.set(s,c);let l=new e.String;return l.Load(c,s.length),l},VerifySigState:(t,n,r,i,o)=>e.States.e_StateVerifyNoChange.value,IsNeedPadData:()=>!1,CheckCertificateValidity:(t,n,r)=>e.CertValidity.e_CertValid});e.Library.RegisterSignatureCallback((0,r.n5)(e,t),(0,r.n5)(e,n),i)})(e,s,c);let l={blob:new Blob([]),totalSize:0,getBuffer:function(e,t){const n=(new self.FileReaderSync).readAsArrayBuffer(this.blob.slice(e,e+t));return Array.from(new Uint8Array(n))}},u=t.GetDict().GetObjNum();o[u]=new i(l,s,c);try{t.StartSign({value:n},a(e,l),u).Continue()}catch(e){console.warn(e)}return u},c=e=>{let t=o[e],n=t.fileData.blob,r=t.byteRange;return delete o[e],{buffer:n,byteRange:r}};function l(e,{path:t,buffer:n}={path:"",buffer:null}){var r;if(t){var i=new XMLHttpRequest;i.open("GET",t,!1),i.responseType="arraybuffer",i.send(null),r=i.response}else r=n||new ArrayBuffer(0);let o=0,a=!1,s=0,c=0;var l=e.StreamCallback.implement({Release:function(){console.log("Release file stream")},GetSize:function(){return a?c:r.byteLength},Flush:function(){return!0},WriteBlock:function(t,n,i){if(a&&(n+=s),r.byteLength<n+i){let e=r;if(r=new ArrayBuffer(n+i),0!==e.byteLength){const t=new Uint8Array(e);new Uint8Array(r).set(t)}}var o=new Uint8Array(r,n,i),c=e.HEAPU8.subarray(t,t+i);return o.set(c),!0},GetPosition:function(){return a?o-s:o},SetPosition:function(e){a&&(e+=s),o=e},IsEOF:function(){let e=a?c:r.byteLength;return o===e},ReadBlock:function(t,n,i){if(a&&(n+=s)+i>c)return!1;var o=new Uint8Array(r,n,i);return e.HEAPU8.set(o,t),!0},SetRange:function(e,t){s=e,c=t,a=!0},ClearRange:function(){a=!1}});return l.GetBuffer=function(){return r},l.GetBlob=function(){return new Blob([r],{type:"application/pdf"})},l}},8399:function(e,t,n){"use strict";n.d(t,{$h:function(){return c},ZP:function(){return l},tJ:function(){return s}});var r=n(1656),i=(n(752),n(9976),n(3356),n(3964),n(6346));function o(e,t){let n=Array.prototype.slice.call(t).join(",");throw new Error(`Illegal operations on virtual page: ${e}(${n})`)}function a(e,t,n){let r=new e.Bitmap(t,n,e.DIBFormat.e_DIBRgb32,0,0);r.FillRect(4294638330,null);const i=r.GetBuffer(),o=r.GetHeight()*r.GetPitch(),a=i+o;let s;return s=e.HEAPU8.buffer.slice?e.HEAPU8.buffer.slice(i,a):new Uint8Array(e.HEAPU8.buffer,i,o).buffer,{buffer:s,bitmap:r}}const s=800,c=300;let l=function(){function e(e,t){this.index=e,this.pdfDoc=t,this.isVirtual=!0,this.width=s,this.height=c,this.id=(0,i.Ki)("virtual_pdf_page"),this.engine=t.engine}var t=e.prototype;return t.preparse=function(){},t.addJRAnnot=function(){o("addJRAnnot",arguments)},t.clearEnginePage=function(){o("clearEnginePage",arguments)},t.reloadAnnots=function(){},t.hasAnnot=function(){return!1},t.parsedPage=function(){o("parsedPage",arguments)},t.reParsePage=function(){o("reParsePage",arguments)},t.getIndex=function(){return this.index},t.getObjNumber=function(){},t.getWidth=function(){return Promise.resolve(this.width)},t.getHeight=function(){return Promise.resolve(this.height)},t.getAnnots=function(){return Promise.resolve([])},t.getAnnotIDList=function(){return[]},t.getAnnotById=function(){return Promise.resolve(void 0)},t.getThumb=function(){let e;return e=this.height/this.width>1.29?258/this.height:200/this.width,this.getImageData(e)},t.getNativeAnnotById=function(){o("getNativeAnnotById",arguments)},t.getImageDataByTile=function(e,t,n,r,i=1,o=0){const{buffer:s,bitmap:c}=a(this.engine,n,r);return c.delete(),s},t.getImageData=function(e=1){const t=Math.max(1,this.width*e),n=Math.max(1,this.height*e),{buffer:r,bitmap:i}=a(this.engine,t,n);return i.delete(),Promise.resolve({buffer:r,width:t,height:n})},t.getRotation=function(){return 0},t.setRotation=function(){},t.destroy=function(){},t.resetBitmapCache=function(){},t.toJson=function(){return{id:this.id,index:this.index,width:this.width,height:this.height,rotation:0,annotCount:0,matrix:[1,0,0,1,0,0],objectNumber:-1,AA:{},mediaWidth:this.width,mediaHeight:this.height,isCropped:!1,isVirtual:!0,cropBox:{left:0,right:this.width,top:this.height,bottom:0}}},t.getBitmap=function(e,t,n,r,i,o){if(n.width<1||n.height<1)return Promise.resolve({image:{buffer:void 0},isVirtual:!0});const{buffer:s,bitmap:c}=a(this.engine,n.width,n.height);return c.delete(),Promise.resolve({image:{buffer:s,x:n.x||0,y:n.y||0,width:n.width,height:n.height,isVirtual:!0},isVirtual:!0})},t.renderAnnots=function(){},t.getPageAndHighlightBitmap=function(e,t,n,r){return this.getBitmap(e,t,n,0,[],!0)},t.getAnnotBitmap=function(){o("getAnnotBitmap",arguments)},t.getAnnotBitmapByRange=function(){o("getAnnotBitmapByRange",arguments)},t.getAnnotIdAtPoint=function(){o("getAnnotIdAtPoint",arguments)},t.getAnnotIdAtDevicePoint=function(){o("getAnnotIdAtDevicePoint",arguments)},t.getCharInfoAtPoint=function(){o("getCharInfoAtPoint",arguments)},t.getNormalTextPage=function(){o("getNormalTextPage",arguments)},t.getNormalTextPageSync=function(){o("getNormalTextPageSync",arguments)},t.removeAnnotById=function(){o("removeAnnotById",arguments)},t.removeAllAnnot=function(){},t.addImage=function(){o("addImage",arguments)},t.addAnnot=function(){o("addAnnot",arguments)},t.markRedactAnnot=function(){o("markRedactAnnot",arguments)},t.addAnnotGroup=function(){o("addAnnotGroup",arguments)},t.getTextRectsAtRect=function(){o("getTextRectsAtRect",arguments)},t.getTextContinuousRectsAtRect=function(){o("getTextContinuousRectsAtRect",arguments)},t.getTextContinuousRectsAtPoints=function(){o("getTextContinuousRectsAtPoints",arguments)},t.getTextContinuousCharsAtRect=function(){return Promise.resolve("")},t.getDoubleClickTextRectAtPoint=function(){o("getDoubleClickTextRectAtPoint",arguments)},t.getTextSearch=function(){o("getTextSearch",arguments)},t.update=function(){return Promise.resolve({index:this.index,annotIds:[]})},t.flattern=function(){o("flattern",arguments)},t.getGraphicsObjectAtPoint_s=function(){return Promise.resolve([])},t.getGraphicsObjectsCount=function(){return Promise.resolve(0)},t.getGraphicsObjectByIndex=function(){o("getGraphicsObjectByIndex",arguments)},t.getGraphicsObjectsInRect=function(){o("getGraphicsObjectsInRect",arguments)},t.getGraphicsObjectAtPoint=function(){o("getGraphicsObjectAtPoint",arguments)},t.checkPathObjects=function(){},t.addWatermark=function(){o("addWatermark",arguments)},t.pasteAnnot=function(){o("pasteAnnot",arguments)},t.calcContentBBox=function(){return{}},t.getBox=function(){return{}},t.getAnnotIdArrayByOrder=function(){return Promise.resolve([])},t.getPageDictionary=function(){return Promise.resolve({})},t.clearDesignerAssitCache=function(){},t.getSuggestedFormDesignerRect=function(){return Promise.resolve({left:0,right:0,top:0,bottom:0})},t.getSnappedPoint=function(e){return e},t.getTextRectCount=function(){return Promise.resolve(0)},t.getTextByRectIndex=function(){o("getTextByRectIndex",arguments)},t.normalize=function(){},(0,r.Z)(e,[{key:"page",get:function(){return o(".page",arguments)}}]),e}()},355:function(e){e.exports={wasmHash:"aec64a83d90aaeecc8488b15301b1e07",jsHash:"09d253ba3192171d2f1d271a19fca319",asmMemHash:"076cb4fca0ecd920a267f41c10832ad1",asmJSHash:"3bac1b8eaaa1a077e1f47d4e234ca21a"}},9590:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});n(6544),n(752),n(9976),n(3356);const r=function(e){return e instanceof Blob?(e=new Blob([e]),function(t=0,n=e.size){return(new FileReaderSync).readAsArrayBuffer(e.slice(t,t+n))}):(ArrayBuffer.isView(e)&&(e=e.buffer),e.slice?function(t=0,n=e.byteLength){return e.slice(t,t+n)}:function(t,n){return new Uint8Array(e,t,n).buffer})};var i=n(7375),o=n(8191),a=n(6784);let s=function(){function e(e,t){this.engine=e,this.doc=t,this.attachments=new e.Attachments(t,new e.PDFNameTree(t,{value:3}))}var t=e.prototype;return t.addFileSpec=function(e){const t=o.Z.createFileEx(this.engine,this.doc,null,e.data,r(e.data));return t?(this.setFileSpecProperity(t,e),t):null},t.setFileSpecProperity=function(e,t){const n=this.engine;let r,o;t.name&&t.name.length>0&&(r=new n.WString(t.name),e.SetFileName(r),r.delete()),t.description&&t.description.length>0&&(r=new n.String(t.description),e.SetDescription(r),r.delete()),t.creationDate?e.SetCreationDateTime(i.Z.ToDateTime(n,t.creationDate)):(o=i.Z.ToDateTime(n,Date.now()),e.SetCreationDateTime(o)),t.modificationDate?e.SetModifiedDateTime(i.Z.ToDateTime(n,t.modificationDate)):(o||(o=i.Z.ToDateTime(n,Date.now())),e.SetModifiedDateTime(o))},t.addEmbeddedFileEx=function(e,t){if(!(e&&0!==e.length||(e=t.name)&&0!==e.length))return!1;if(-1!==this.getEmbeddedFileNames().indexOf(e))return!1;const n=this.engine,r=this.addFileSpec(t);if(!r)return!1;let i=new n.WString(e);const o=this.attachments.AddEmbeddedFile(i,r);return i.delete(),o},t.addEmbeddedFile=function(e,t){const n=this.engine,r=this.doc;let i=new n.FileSpec(r,r.GetIndirectObject(t));if(i.IsEmpty())return!1;{let t=new n.WString(e);const r=this.attachments.AddEmbeddedFile(t,i);return t.delete(),t=null,r}},t.setEmbeddedFileEx=function(e,t){if(-1===this.getEmbeddedFileNames().indexOf(e))return!1;let n=new this.engine.WString(e);const i=this.attachments.GetEmbeddedFile(n);if(t.data){if(!o.Z.createFileEx(this.engine,this.doc,i,t.data,r(t.data)))return!1}return this.setFileSpecProperity(i,t),n.delete(),!0},t.setEmbeddedFile=function(e,t){const n=this.engine,r=this.doc;return!new n.FileSpec(r,r.GetIndirectObject(t)).IsEmpty()&&(!!this.removeEmbeddedFile(e)&&this.addEmbeddedFile(e,t))},t.removeEmbeddedFile=function(e){let t=new this.engine.WString(e);const n=this.attachments.RemoveEmbeddedFile(t);return t.delete(),t=null,n},t.removeAllEmbeddedFiles=function(){return this.attachments.RemoveAllEmbeddedFiles()},t.getEmbeddedFileNames=function(){const e=this.attachments,t=e.GetCount(),n=[];for(let r=0;r<t;r++){const t=e.GetKey(r).toString();n.push(t)}return n},t.getEmbeddedFile=function(e,t){let n=new this.engine.WString(e),r=this.attachments.GetEmbeddedFile(n);if(n.delete(),r.IsEmpty())return null;{let e=new o.Z(r,t),n=e.getFileName(),i=e.getCreationDateTime();i&&(i=(0,a.B)(i));let s=r.GetModifiedDateTime();s=s.IsValid()?(0,a.B)(s):null;let c=e.getDescription();return e.getStreamEx().then((t=>(e=null,{name:n,creationDate:i,modificationDate:s,description:c,data:t})))}},e}()},6715:function(e,t,n){"use strict";n(752),n(6265),n(8730),n(9307),n(9976),n(3356);const r="undefined";let i,o,a=typeof URL===r?typeof webkitURL===r?null:webkitURL:URL;typeof FileReaderSync!==r?(i=function(e,t=0,n=e.size){return(new FileReaderSync).readAsArrayBuffer(e.slice(t,t+n))},o=function(e){return new Blob([e])}):a?(i=function(e,t=0,n=e.size){let r=a.createObjectURL(e),i=new XMLHttpRequest;i.open("GET",r,!1),i.responseType="arraybuffer",i.send(null);let o=i.status;return o>=200&&o<300||304===o?(a.revokeObjectURL(r),(e=i.response).slice?e.slice(t,t+n):new Uint8Array(e,t,n).buffer):null},o=function(e){return new Blob([e])}):(i=function(e,t=0,n=e.byteLength){return e.slice?e.slice(t,n):new Uint8Array(e,t,n).buffer},o=function(e){return e});let s=function(){function e(e){this.size=e,this.blockSize=8388608,this.blocks=[],this.loadingBlocks=[],this.blobCache=[],this.loadingCache={}}var t=e.prototype;return t.push=function(e,t){let n=this.blocks,r=Math.max(0,e),i=Math.min(e+t,this.size),o=[];for(let e=n.length;e--;){let t=n[e],a=t[0],s=t[1];a<=i&&s>=r&&(r=Math.min(r,a),i=Math.max(i,s),o.push(e))}for(let e=0,t=o.length;e<t;e++)n.splice(o[e],1);n.push([r,i])},t.avail=function(e,t){let n=e,r=e+t,i=this.blocks;for(let e=i.length;e--;){let t=i[e],o=t[0],a=t[1];if(o<=n&&a>=r)return!0}return!1},t.full=function(){1===this.blocks.length&&0===this.blocks[0][0]&&(this.blocks[0][1],this.size)},t.checkLoadBuffer=function(e,t){let n=e,r=e+t,i=this.loadingBlocks;for(let e=i.length;e--;){let t=i[e],o=t[0],a=t[1];if(o<=n&&a>=r)return!0}return!1},t.loadingBuffer=function(e,t){let n=this.loadingBlocks,r=Math.max(0,e),i=Math.min(e+t,this.size),o=[];for(let e=n.length;e--;){let t=n[e],a=t[0],s=t[1];a<=i&&s>=r&&(r=Math.min(r,a),i=Math.max(i,s),o.push(e))}for(let e=0,t=o.length;e<t;e++)n.splice(o[e],1);n.push([r,i])},t.addBuffer=function(e,t,n){let r=new Uint8Array(n),a=this.blockSize,s=this.blobCache,c=e%a,l=0,u=a-c;for(let n=Math.floor(e/a),d=Math.floor((e+t)/a);n<=d;n++){let e,t=s[n];t&&(e=i(t)),e||(e=new ArrayBuffer(a));let d=new Uint8Array(e);d.set(r.slice(l,u),c),s[n]=o(d),c=0,l+=a,u+=a}this.push(e,t)},t.getBuffer=function(e,t){e+t>this.size&&(t=this.size-e);let n=new ArrayBuffer(t),r=this.blockSize,o=this.blobCache,a=Math.floor(e/r),s=Math.floor((e+t)/r),c=e%r,l=Math.min(t,r-c),u=0,d=l;for(let e=a,h=s;e<=h;e++){let a,s=o[e];if(s&&(a=i(s,c,l)),!a)return null;new Uint8Array(n,u,d-u).set(new Uint8Array(a)),c=0,t-=l,u+=l,l=Math.min(t,r-c),d+=l}return n},t._getBufferCacheKey=function(e,t){return[e,t].join("-")},t.destroy=function(){for(let e=this.blobCache.length;e--;)delete this.blobCache[e]},e}();t.Z=s},8687:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});n(3964),n(752),n(6265),n(5847),n(9976),n(3356);var r=n(7462);n(4043),n(7267);var i=function(){function e(e,t,n){this.jrDoc=e,this.engineControl=t,this.engine=n}var t=e.prototype;return t.destroy=function(){this.engineControl.delete(),this.engineControl=null,this.engine=null},t.toJson=function(){let e=this.engineControl,t=e.GetIndex(),n=e.IsChecked(),i=e.IsDefaultChecked(),o=e.IsEmpty();if(o)return{};let a,s,c=e.GetExportValue().toString(),l=e.GetDictionaryObjectNumber(),u="",d="",h="";a=e.GetDefaultAppearance();try{a.font.IsEmpty()||(s=a.font.IsEmbedded(this.jrDoc.doc),u=a.font.GetName().toString(),h=a.font.GetBaseFontName(this.jrDoc.doc).toString(),d=a.font.GetFamilyName().toString(),d=d.replace(" ","").replace("-",""),a.font.IsBold()&&(d+="Bold"),a.font.IsItalic()&&(d+="Italic"))}catch(e){isNaN(e)||(e=engine.getErrorCode(e)),console.warn(e)}return Promise.resolve().then((e=>(0,r.Z)({},{index:t,isChecked:n,isDefaultChecked:i,isEmpty:o,objectNumber:l,exportValue:c},a?{DA:{flags:a.flags,textColor:a.text_color,textSize:a.text_size,isEmbedded:s,fontName:u,baseName:h,fullName:d}}:{})))},e}(),o=(n(9956),n(1220)),a=n(995),s=n(3469),c=n(9033);n(4127);const l={e_KeyNameSigner:"signer",e_KeyNameLocation:"location",e_KeyNameReason:"reason",e_KeyNameContactInfo:"contact",e_KeyNameDN:"DN",e_KeyNameText:"text"};var u=function(){function e(e,t,n,r,i){this.jrDoc=e,this.engineForm=t,this.engineField=n,this.engine=r,this.JR=i,this.label=""}var t=e.prototype;return t.destroy=function(){this.engineField.delete(),this.engineForm=null,this.engineField=null,this.engine=null,this.JR=null},t.update=function(e,t){let n,r,i=this.engineField,c=this.engine,l=i.GetValue(),u=!1;switch(e){case"align":i.SetAlignment({value:t});break;case"flag":let e=i.GetDict(),s=(0,o.n5)(c,"Ff"),l=e.GetElement(s);u=16789512&((l?l.GetInteger():0)^t),i.SetFlags(t);break;case"maxLength":if(void 0===t){let e=new c.String("MaxLen");i.GetDict().RemoveAt(e),(0,a.Z)(e)}else i.SetMaxLength(t);break;case"defaultValue":if(void 0===t){let e=new c.String("DV");i.GetDict().RemoveAt(e),(0,a.Z)(e)}else r=new c.WString(t),i.SetDefaultValue(r),(0,a.Z)(r);break;case"clearItems":let d=new c.ChoiceOptionArray;i.SetOptions(d),(0,a.Z)(d);break;case"deleteItems":n=i.GetOptions();let h=new c.ChoiceOptionArray;for(let e=0,r=n.GetSize();e<r;e++){let r=n.GetAt(e);if(e!=t)h.Add(r);else{i.GetValue().toString();r.option_value.toString()}}i.SetOptions(h),(0,a.Z)(h);break;case"insertItemAt":let f=new c.ChoiceOption;f.option_value=new c.WString(""+t.value),f.option_label=new c.WString(t.label),f.selected=t.selected,f.default_selected=t.defaultSelected,n=i.GetOptions(),t.index<0||t.index>=n.GetSize()?n.Add(f):n.InsertAt(t.index,f),i.SetOptions(n),(0,a.Z)(f,f.option_value,f.option_label);break;case"alternateName":if(""==t){let e=new c.String("TU");i.GetDict().RemoveAt(e),(0,a.Z)(e);break}r=new c.WString(t),i.SetAlternateName(r),(0,a.Z)(r);break;case"mappingName":if(""==t){let e=new c.String("TM");i.GetDict().RemoveAt(e),(0,a.Z)(e);break}r=new c.WString(t),i.SetMappingName(r),(0,a.Z)(r);break;case"textColor":let g=i.GetDefaultAppearance();g.text_color=+t,i.SetDefaultAppearance(g);break;case"setItems":n=new c.ChoiceOptionArray;let p=!1;t.map((e=>{if(0!==e.value.length&&0!==e.label.length){let t=new c.ChoiceOption;t.option_value=new c.WString(""+e.value),t.option_label=new c.WString(""+e.label),(t.selected=e.selected)&&(p=!0,this.label=t.option_label),t.default_selected=e.defaultSelected,n.Add(t),(0,a.Z)(t,t.option_value,t.option_label)}})),i.SetOptions(n),4==i.GetType().value&&p&&i.SetValue(this.label);break;case"displayValue":i.SetValue((0,o.Dp)(c,t)),this.label=t;break;case"AA":{let e,{trigger:n,data:r}=t,o=this.JR.actionManager,a=this.jrDoc.doc;e=o.create(a,r.type),this.jrDoc.form.addAAToDict(i.GetDict(),e,{trigger:n,field:t.field});let s=o.get(e,this.jrDoc,this.JR);return s.create(r),s.toJson()}}let d=i.GetControlCount();for(let n=0;n<d;n++){let r=i.GetControl(n),o=r.GetWidget();if(!o.IsEmpty()&&(u||"flag"!=e||t&s.Q9.ButtonRadiosInUnison)){if("textColor"==e){let e=r.GetDefaultAppearance();e.text_color=+t,r.SetDefaultAppearance(e)}o.ResetAppearanceStream()}}if(this.label.length>0){i.GetDict().SetAtWString((0,o.n5)(c,"V"),l)}4==i.GetType().value&&(this.label="")},t.setValue=function(e,t=!0){Array.isArray(e)&&(e=e.map((e=>`(${e})`)).join(""));let n=new this.engine.WString(e+"");if(this.engineField.SetValue(n),n.delete(),this.label="",t){let e=this.engineField,t=e.GetType(),n=e.GetValue();if(4==t.value){let t=e.GetOptions();n.toString();for(let n=0,r=t.GetSize();n<r;n++){let r=t.GetAt(n);if(r.selected){e.SetValue(r.option_label);break}}}for(let e=0;e<this.engineField.GetControlCount();e++){let t=this.engineField.GetControl(e).GetWidget();!t.IsEmpty()&&t.ResetAppearanceStream()}4==t.value&&e.SetValue(n)}},t.getValue=function(){let e=this.engineField.GetFlags(),t=this.engineField.GetType().value;if(256==(256&e)&&5===t){let e=this.engineField.GetOptions(),t=[];for(let n=0,r=e.GetSize();n<r;n++){let r=e.GetAt(n);r.selected&&t.push(r.option_value.toString())}return t}return this.engineField.GetValue().toString()},t.getControlsJson=function(){let e=[],t=this.engineField.GetControlCount();for(let n=0;n<t;n++){let t=this.engineField.GetControl(n),r=new i(this.jrDoc,t,this.engine);e.push(r.toJson()),r.destroy()}return Promise.all(e)},t.toJson=function(e){try{let e=this.engineField,t=e.GetAlignment().value,n=e.GetAlternateName().toString(),r=[],a=e.GetControlCount();for(let t=0;t<a;t++){let n=e.GetControl(t);n=new i(this.jrDoc,n,this.engine),r.push(n.toJson()),n.destroy()}return Promise.all(r).then((r=>{let i=e.GetDefaultAppearance(),a=e.GetDefaultValue().toString(),c=0,l=e.GetDict();if(l){let e=(0,o.n5)(this.engine,"Ff"),t=l.GetElement(e);t&&(c=t.GetInteger())}let u=e.GetMappingName().toString(),d=e.GetMaxLength(),h=e.GetName().toString(),f=e.GetValue().toString(),g=e.GetType().value,p=e.GetOptions(),m=[];if(4===g||5===g){let e=[];for(let t=0,n=p.GetSize();t<n;t++){let n=p.GetAt(t);m.push({label:n.option_label.toString(),value:n.option_value.toString(),selected:n.selected,defaultSelected:n.default_selected}),n.selected&&e.push(n.option_value.toString())}5===g&&(f=e.length>0?e.length>1?e:e[0]:"")}let _=e.GetTopVisibleIndex(),y=e.IsEmpty(),S="",b=!1;try{if(!i.font.IsEmpty()){let e=this.engineForm.GetDocument();S=this.JR.getPDFString(i.font.GetName()),b=i.font.IsEmbedded(e)}}catch(e){isNaN(e)||(e=engine.getErrorCode(e)),console.warn(e)}let I={alignment:t,alternateName:n,controls:r,DA:{flags:i.flags,fontName:S,textColor:i.text_color,textSize:i.text_size,isEmbedded:b},defaultValue:a,flag:c,mappingName:u,maxLength:d,name:h,options:m,topVisibleIndex:_,type:g,value:f,isEmpty:y,AA:this.getAAJson()};return g===s.fS.Sign&&this.getSignatureInfo(I),I}))}catch(e){return isNaN(e)||(e=engine.getErrorCode(e)),console.warn(e),{}}},t.getAAJson=function(){let e={},t=this.engineField.GetDict(),n=this.engine,r=t.GetElement((0,o.n5)(n,"AA"));if(r&&r.GetDict()){9==r.GetType().value&&(r=r.GetDirectObject());let t=r.GetDict(),i=new n.AdditionalAction(this.engineForm.GetDocument(),t),o=n.TriggerEvent;for(let t=7;t<17;t++){let n=i.GetAction(o.values[t]);n.IsEmpty()||(e[t]=this.JR.actionManager.get(n,this.jrDoc,this.JR).toJson())}}return e},t.getSignatureInfo=function(e){var t;let n=this.engine,r=this.engineField;e.signatureType=null==(t=r.GetSignatureType())?void 0:t.value;let i=e.isSigned=r.IsSigned(),a=r.GetFieldMDPAction().value,s=(e.lockAction={type:a},e.lockAction.fields=[]);if(a>1){let e=r.GetFieldMDPActionFields();for(let t=0;t<e.GetSize();t++)s.push(e.GetAt(t).toString())}if(!i)return;e.filter=r.GetFilter().toString(),e.subfilter=r.GetSubFilter().toString(),Object.keys(l).forEach((t=>{let i=r.GetKeyValue(n.KeyName[t]).toString();e[l[t]]=i}));let c=r.GetSignTime();c.IsValid()&&(c=c.ToUTCTime(),e.signTime=Date.UTC(c.year,c.month-1,c.day,c.hour,c.minute,c.second,c.milliseconds)),e.apFlag=r.GetAppearanceFlags(),e.isTimeStamp=r.IsTimeStamp();let u=r.GetDict().GetElement((0,o.n5)(n,"V")).GetDict().GetElement((0,o.n5)(n,"ByteRange")).GetArray(),d=e.byteRange=[];if(!u)return;let h=u.GetElementCount();for(let e=0;e<h;e++)d.push(u.GetElement(e).GetInteger())},t.getSignatureBitmap=function(){const e=this.engineField;if(!(e.GetType().value===s.fS.Sign))return null;let t=e.GetBitmap();try{return t.IsEmpty()?null:this.bitmapParseBlob(t)}finally{t.delete()}},t.setLockAction=function(e,t=""){let n=this.engine,r=new n.WStringArray;0!=e?(t.forEach((e=>{r.Add((0,o.Dp)(n,e))})),this.engineField.SetFieldMDPActionFields({value:e},r)):this.engineField.GetDict().RemoveAt((0,o.n5)(n,"Lock"))},t.bitmapParseBlob=function(e){let t=this.engine,n="";if(!e.IsEmpty()){e.ConvertFormat(t.DIBFormat.e_DIBArgb);let r,i=e.GetWidth(),o=e.GetHeight(),a=e.GetBuffer(),s=o*e.GetPitch(),c=a+s;r=t.HEAPU8.buffer.slice?t.HEAPU8.buffer.slice(a,c):new Uint8Array(t.HEAPU8.buffer,a,s).buffer;let l=new Uint8Array(r),u=0,d=0,h=e.GetPitch();for(u=0;u<o;u++)for(d=0;d<i;d++){let e=u*h;[l[4*d+e],l[4*d+2+e]]=[l[4*d+2+e],l[4*d+e]]}n={start:a,size:s,width:i,height:o,buffer:r}}return n},t.VerifySignature=function(e={},t=!0){let n=this.engine,r={};const i=new n.Signature(this.engineField),o=i.GetName().toString();try{let a=(0,c.ew)(n,this.certificateInfo,e,this.JR);if(i.StartVerify(a,0).Continue(),t){let t=i.GetVerifyInfo();const{isIllegalESignCNBehavior:a}=this.isESignCNSignature(),s={isIllegalESignCNBehavior:a};let l=(0,c.O1)(n,t,s,e.trustedCertificateList,this.JR);r[o]={...l}}}catch(e){r[o]={verifyException:!0},console.log(e)}return i.delete(),r},t.isESignCNSignature=function(){return!1},t.verifySignatureLtv=function(e={}){let{is_verify_signature:t=!0,use_expired_tst:n=!0,ignore_doc_info:r=!1,time_type:i=0,isCertTrusted:o,isCertTrustedRoot:a,trustedCertificateList:s=[],isCertifiedMap:l={}}=e,u={},d=this.engine,h=d.TimeType.values[i]||d.TimeType.e_SignatureCreationTime,f=this.jrDoc.doc;try{let e=new d.LTVVerifier(f,t,n,r,h),i=(0,c.dX)(d,o,a,s);e.SetTrustedCertStoreCallback(i),e.SetVerifyMode(d.VerifyMode.e_VerifyModeAcrobat);let g=e.VerifySignature(this.engineField);(0,c.zF)(u,l,d,g),e=null}catch(e){const t=d.getErrorCode(e);console.error(t)}return u},t.getElementFromInheritedElement=function(e,t,n){let r,i=(0,o.n5)(e,"Parent");const a=t.GetElement(i);return a&&a.GetType()===e.PDFObjectType.e_Reference&&a.GetDirectObject()&&a.GetDirectObject().GetDict()&&(r=a.GetDirectObject().GetDict().GetElement(n)),r},t.isSignatureFieldInVisible=function(e,t,n){let r=t.GetDict(),i=((0,o.n5)(e,"Parent"),(0,o.n5)(e,"Rect"));if(r){let t=r.GetElement(i);if(t||(t=this.getElementFromInheritedElement(e,r,i)),t&&t.GetRect().IsEmpty())return!1}return this.isDocTimeStamp(e,r)||n},t.isDocTimeStamp=function(e,t){let n=this.getVDict(e,t);if(n){(0,o.n5)(e,"Parent");let t=(0,o.n5)(e,"Type"),r=n.GetElement(t);if(r||(r=this.getElementFromInheritedElement(e,n,t)),r)return"DocTimeStamp"===r.GetString().toString()}return!1},t.getVDict=function(e,t){let n=null;if(!t)return n;let r=(0,o.n5)(e,"V");if(t.HasKey(r))n=t.GetElement(r).GetDict();else{let i=t.GetElement((0,o.n5)(e,"Parent"));i&&i.GetDirect()&&i.GetDirect().GetDict()&&(n=i.GetDirect().GetDict().GetElement(r).GetDict())}return n},t.getFileSizeOfSignedVersion=function(e,t){if(!e.IsSigned())return 0;let n=0;try{n=e.GetFileSizeOfSignedVersion()}catch(e){n=0;const r=t.getErrorCode(e);console.error(r)}return n},t.getCertificateInfoFromBFS=function(e,t,n){let r={};try{let i=(0,c.F5)(e,t,n,this.JR);if(Object.keys(i).length){let e=i[Object.keys(i)[0]],t=e.map((e=>e.issuerChain[0])),n=e.map((e=>e.issuerInfo)).join(";"),o=e.map((e=>e.subjectChain[0])),a=e.map((e=>e.subjectInfo)).join(";"),s=e.map((e=>e.serialNumber)).join(";"),c=e.map((e=>e.validPeriodFrom)).join(";"),l=e.map((e=>e.validPeriodTo)).join(";");t.forEach(((e,t)=>{e.level=t,e.levelString=`0_${t}`})),o.forEach(((e,t)=>{e.level=t,e.levelString=`0_${t}`,e.isLeafNode=t===o.length-1})),r={issuerChain:t,issuerInfo:n,subjectChain:o,subjectInfo:a,serialNumber:s,validPeriodFrom:c,validPeriodTo:l}}}catch(e){console.warn(e),r={}}return r},t.getCertificateInfo=function(e,t,n){if(!e.IsSigned())return{};let r={};try{let i=e.GetCerts(),o=i.GetSize(),a=this.jrDoc.doc.GetDSSCerts(),s=a.GetSize(),c=new t.StringArray;for(let e=0;e<o-1;e++)c.Add(i.GetAt(e));if(s>0)for(let e=0;e<s;e++)c.Add(a.GetAt(e));let l=n.map((e=>e.uniqueSerialNumber));this.JR.getAllTrustCert(l).forEach((e=>c.Add(e.cert))),r=this.getCertificateInfoFromBFS(t,c,i.GetAt(o-1))}catch(e){r={certificateException:!0};const n=t.getErrorCode(e);console.error(n)}return r},t.GetHashAlgAndSignAlg=function(e,t){let n,r;if(!e.IsSigned())return{hashAlg:n,signAlg:r};try{n=e.GetHashAlg().toString(),r=e.GetSignAlg().toString()}catch(e){n="",r="";const i=t.getErrorCode(e);console.error(i)}return{hashAlg:n,signAlg:r}},t.getDigitalSignatureInfo=function(e=[]){let t={},n=this.engine;try{let r=new n.Signature(this.engineField);t.certificateInfo=this.getCertificateInfo(r,n,e),this.certificateInfo=t.certificateInfo;let{hashAlg:i,signAlg:o}=this.GetHashAlgAndSignAlg(r,n);t.hashAlg=i,t.signAlg=o;const{isESignCNSignature:a}=this.isESignCNSignature();if(t.isESignCNSignature=a,a){let e=this.jrDoc;return Promise.all([e.getByteRangeHash(r),e.getAfterSignFileHash(r)]).then((([e,n])=>(t.byteRnageHash=e,t.afterSignHash=n,r=null,t)))}return r=null,t}catch(e){const t=n.getErrorCode(e);console.error(t)}},t.clearSignature=function(e={}){let t=!1,n=this.engine;try{this.VerifySignature(e,!1);let r=new n.Signature(this.engineField);t=r.ClearSignedData(),r=null}catch(e){const t=n.getErrorCode(e);console.error(t)}return t},t.setSignatureBitmap=function(e){const t=this.engine,n=this.engineField;if(n.GetType().value!==s.fS.Sign)return null;this.jrDoc;let r;r="string"==typeof e?this.JR.createReaderCallback(e):this.JR.createReaderCallbackByBuffer(e);const i=new t.Image(r).GetFrameBitmap(0);return n.SetBitmap2AP(i),n.SetAppearanceFlags(128),n.GenerateSignAppearance(),n.ResetSignAppearance(),!0},e}(),d=n(3219);let h=function(){function e(e,t,n,r){this.jrDoc=e,this.engineForm=t,this.engine=n,this.JR=r,this.fields={},this.changedWidget={}}var t=e.prototype;return t.destroy=function(){this.engine=null,this.JR=null;let e=this.fields;for(let t in e){let n=e[t];0!==Object.keys(n).length&&n.destroy(),e[t]=null}this.fields=null,this.engineForm.delete(),this.engineForm=null},t.removeField=function(e){let t=this.fields[e];0!==Object.keys(t).length&&t.destroy(),this.fields[e]=null,delete this.fields[e]},t.getField=function(e){return this.fields[e]},t.addJRField=function(e,t,n){let r=new u(this.jrDoc,this.engineForm,e,this.engine,this.JR);return this.fields[t||n]=r,r},t.setFieldsValue=function(e,t){for(let n in e)this.fields[n].setValue(e[n],t)},t.getFieldsValue=function(){let e={};for(let t in this.fields)e[t]=this.fields[t].getValue();return e},t.toJson=function(){if(this.json)try{if(this.json.fields.length>0)return Promise.resolve(this.json)}finally{delete this.json}let e=this.engineForm,t=e.NeedConstructAppearances(),n=(0,o.Dp)(this.engine,""),r=e.GetFieldCount(n),i=[];for(let t=0;t<r;t++)try{let r=e.GetField(t,n);if(r.IsEmpty()){i.push({}),this.fields[t]={};continue}7==r.GetType().value&&(r=new this.engine.Signature(r));let o=new u(this.jrDoc,e,r,this.engine,this.JR),a=o.toJson(t);this.fields[r.GetName().toString()||t]=o,i.push(a)}catch(e){i.push({}),this.fields[t]={}}return Promise.all(i).then((n=>{let r=e.GetFieldsInCalculationOrder(),i=[];for(let e=0;e<r.GetSize();e++){let t=r.GetAt(e);i.push(t.GetName().toString())}r.delete();let o=e.GetAlignment().value;return{needConstructAppearances:t,fields:n,calculationOrder:i,alignment:o}}))},t.afterRemovePage=function(e){let t=this.fields;for(let e in t){let n=t[e];0!==Object.keys(n).length&&n.destroy(),t[e]=null}this.fields={};let n=this.engineForm,r=(0,o.Dp)(this.engine,""),i=n.GetFieldCount(r);for(let e=0;e<i;e++)try{let t=n.GetField(e,r);if(t.IsEmpty()){this.fields[e]={};continue}7==t.GetType().value&&(t=new this.engine.Signature(t));let i=new u(this.jrDoc,n,t,this.engine,this.JR);this.fields[t.GetName().toString()||e]=i}catch(t){this.fields[e]={}}},t.updateFormControl=function(e,t,n,r){let i=this.engineForm.GetDocument(),a=i.GetIndirectObject(t).GetDict(),s=(0,o.n5)(this.engine,"F"),c=0;a.GetElement(s)&&(c=a.GetElement(s).GetInteger());let l=this.engine;switch(this.changedWidget[t]=1,n){case"exportValue":{let n=this.getControlByObjNum(e,t);n.SetExportValue((0,o.Dp)(l,r));let i=n.GetField(),a=i.GetControlCount(),s=[];for(let e=0;e<a;e++){let t=i.GetControl(e);s.push(t.GetExportValue().toString())}return s}case"display":switch(r){case 0:c&=-2,c&=-3,c&=-33,c|=4;break;case 1:c&=-2,c&=-33,c|=6;break;case 2:c&=-2,c&=-5,c&=-3,c&=-33;break;case 3:c|=32,c|=4,c&=-3}a.SetAtInteger(s,c);break;case"hidden":r?c|=2:c&=-3,a.SetAtInteger(s,c);break;case"fillColor":case"borderColor":f(l,a,n,r);break;case"action":if(!r.data)break;let u=this.JR.actionManager.create(i,r.data.type);-1==r.trigger?a.SetAtReference((0,o.n5)(l,"A"),u.GetDict(),i):this.addAAToDict(a,u,r),this.JR.actionManager.get(u,i,this.JR).create(r.data);break;case"DA":{let n=this.getControlByObjNum(e,t);if(!n)return;let i,a=JSON.parse(r),s=void 0!==a.fontName?l.DefAPFlags.e_FlagFont.value:0,c=void 0!==a.textColor?l.DefAPFlags.e_FlagTextColor.value:0,u=void 0!==a.textSize?l.DefAPFlags.e_FlagFontSize.value:0;if(a.fontName){let e=(0,d.T2)(a.fontName);if(null!=e){let t=[l.StandardID.e_StdIDCourier,l.StandardID.e_StdIDCourierB,l.StandardID.e_StdIDCourierBI,l.StandardID.e_StdIDCourierI,l.StandardID.e_StdIDHelvetica,l.StandardID.e_StdIDHelveticaB,l.StandardID.e_StdIDHelveticaBI,l.StandardID.e_StdIDHelveticaI,l.StandardID.e_StdIDTimes,l.StandardID.e_StdIDTimesB,l.StandardID.e_StdIDTimesBI,l.StandardID.e_StdIDTimesI,l.StandardID.e_StdIDSymbol,l.StandardID.e_StdIDZapfDingbats];i=new this.engine.Font(t[e])}else{let{charset:e,style:t}=this.JR.getFontInfoByFontName(a.fontName);i=new this.engine.Font((0,o.Dp)(l,a.fontName),t,e,0)}}else i=new this.engine.Font(0);let h=new this.engine.DefaultAppearance(s|c|u,i,a.textSize?a.textSize:0,a.textColor?a.textColor:0);try{n.SetDefaultAppearance(h)}catch(e){return isNaN(e)||(e=l.getErrorCode(e)),void console.warn(e)}}}},t.getControlByObjNum=function(e,t){let n,r=this.fields[e].engineField,i=r.GetControlCount();for(let e=0;e<i;e++){let i=r.GetControl(e);if(t==i.GetDictionaryObjectNumber()){n=i;break}}return n},t.addAAToDict=function(e,t,n,r=!1){let i=this.engine,a=this.engineForm;a.GetDocument();if(this.jrDoc.addAA(e,t,n,r),10===n.trigger){let e=a.GetFieldsInCalculationOrder(),t=(0,o.Dp)(i,n.field),r=a.GetField(0,t);for(let t=0;t<e.GetSize();t++){if(e.GetAt(t).GetName().toString()==r.GetName().toString())return}e.Add(r),a.SetFieldsInCalculationOrder(e)}},t.hasWidgetChanged=function(e){let t=this.changedWidget[e];return delete this.changedWidget[e],t},t.copyControls=function(e,t,n){let r=this.engine,i=this.engineForm,a=(i.GetDocument(),r.TriggerEvent,[]);return n.forEach((e=>{let n=this.getField(e.fieldName),s=n.engineField,{left:c,right:l,top:u,bottom:d}=e.rect,h=new r.CFX_FloatRect(c,d,l,u),f=this.getWidget(s,e.srcObjectNumber);if(!f)return;let g=i.AddControl(t.page,(0,o.Dp)(r,e.fieldName),s.GetType(),h);a.push(n);let p=g.GetWidget();this.copyWidget(f,p)})),t.update(),Promise.all(a.map((e=>e.getControlsJson()))).then((e=>a.map(((t,n)=>({fieldName:t.engineField.GetName().toString(),controlJsons:e[n]})))))},t.getWidget=function(e,t){for(let n=0,r=e.GetControlCount();n<r;n++){if(e.GetControl(n).GetDictionaryObjectNumber()==t)return e.GetControl(n).GetWidget()}},t.copyWidget=function(e,t){let n=this.engine,r=e.GetMKRotation();4!=r.value&&t.SetMKRotation(r);let i=e.GetMKBorderColor();i&&t.SetMKBorderColor(i),i=e.GetMKBackgroundColor(),i&&t.SetMKBackgroundColor(i);let o=e.GetMKNormalCaption();o.toString().length&&t.SetMKNormalCaption(o),o=e.GetMKRolloverCaption(),o.toString().length&&t.SetMKRolloverCaption(o),o=e.GetMKDownCaption(),o.toString().length&&t.SetMKDownCaption(o);let a=e.GetMKNormalIconBitmap();if(a.IsEmpty()||t.SetMKNormalIconBitmap(a),a=e.GetMKRolloverIconBitmap(),a.IsEmpty()||t.SetMKRolloverIconBitmap(a),a=e.GetMKDownIconBitmap(),a.IsEmpty()||t.SetMKDownIconBitmap(a),1===e.GetField().GetType().value){const r=e.GetMKIconFit();void 0!==r.scale_way_type&&r.scale_way_type!==n.ScaleWayType.e_ScaleWayNone||(r.scale_way_type=n.ScaleWayType.e_ScaleWayAlways),t.SetMKIconFit(r)}t.SetMKIconCaptionRelation(e.GetMKIconCaptionRelation());let s=e.GetAppearanceState();s.toString().length&&t.SetAppearanceState(s),t.SetBorderInfo(e.GetBorderInfo());let c=e.GetControl(),l=t.GetControl();l.SetDefaultAppearance(c.GetDefaultAppearance()),t.SetFlags(e.GetFlags());let u=c.GetAlignment();void 0!==u&&l.SetAlignment(u);let d=e.GetAction();d.IsEmpty()||t.SetAction(d);let h=new n.AdditionalAction.CreateFromAnnot(e),f=new n.AdditionalAction.CreateFromAnnot(t);for(let e=11;e<17;e++){let t=n.TriggerEvent.values[e],r=h.GetAction(t);r.IsEmpty()||f.SetAction(t,r)}t.ResetAppearanceStream()},t.duplicateWidget=function(e,t,n){let r=this.getField(t),i=r.engineField,a=this.getWidget(i,n);return e.forEach((e=>{i.GetControlCount(e.page);let n=this.engineForm.AddControl(e.page,(0,o.Dp)(this.engine,t),i.GetType(),a.GetRect()).GetWidget();this.copyWidget(a,n),e.update()})),r.getControlsJson()},t.duplicateField=function(e,t,n,r,i,a){let s=this.engine,c=this.engineForm,l=this.jrDoc,u=this.getField(e),d=this.getWidget(u.engineField,n),h=(0,o.Dp)(s,e);return a.map((({left:e,right:n,top:r,bottom:i})=>{let o=new s.CFX_FloatRect(e,i,n,r);return c.AddControl(t.page,h,u.engineField.GetType(),o)})).map((e=>{let t=e.GetWidget();return this.copyWidget(d,t),e})).splice(0,0,u.engineField.GetControl(0)),delete l.form,this.destroy(),t.update(),l},t.setCO=function(e){let t=this.engine,n=this.engineForm,r=new t.FieldArray;e.forEach((e=>{let i=(0,o.Dp)(t,e);r.Add(n.GetField(0,i))})),n.SetFieldsInCalculationOrder(r)},e}();const f=(e,t,n,r)=>{try{n="fillColor"==n?"BG":"BC";let i=t.GetElement((0,o.n5)(e,"MK"));if(!i)return void console.error("no MK Dictionary");i=i.GetDict();let a=(0,o.n5)(e,n);if(0===r)return void i.RemoveAt(a);let s=i.GetElement(a);if(s){s=s.GetArray();let t=s.GetElementCount();const n=[e.PDFObject.CreateFromFloat(((16711680&r)>>16)/256),e.PDFObject.CreateFromFloat(((65280&r)>>8)/256),e.PDFObject.CreateFromFloat((255&r)/256)];for(let e=0;e<=t-1;e++)n[e]&&s.SetAt(e,n[e])}else s=e.PDFArray.Create(),s.AddFloat(((16711680&r)>>16)/256),s.AddFloat(((65280&r)>>8)/256),s.AddFloat((255&r)/256);i.SetAt(a,s)}catch(e){console.error(e)}};var g=h},4171:function(e,t,n){"use strict";var r=n(1220);let i=function(){function e(e){this.pdfDoc=e,this.doc=e.doc,this.engine=e.engine,this.c_articles=new e.engine.Articles(this.doc),this.articles=this.getArticles()}var t=e.prototype;return t.getArticles=function(){this.engine;const e=this.c_articles.GetArticles(),t=e.GetSize(),n=[];for(let r=0;r<t;r++){const t=e.GetAt(r),i=new o(this.pdfDoc,t,r);n.push(i)}return n},t.toJson=function(){const e=this.articles,t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r.toJson())}return t},t.getThreadInfo=function(e){let t,n=0;this.engine;for(;n<this.articles.length;n++){const r=this.articles[n];if(r.c_thread.GetDict().GetObjNum()===e){t=r,t.index=n;break}}return t},t.insertThread=function({author:e,keywords:t,subject:n,title:r}){const i=new this.engine.Thread(this.doc),a=this.articles.length;let s=this.c_articles.InsertArticle(a,i);if(s){const c=new o(this.pdfDoc,i,a);s=c.update({author:e,keywords:t,subject:n,title:r}),this.articles.push(c)}return s},t.removeThread=function(e){const t=this.getThreadInfo(e);if(!t)return!1;const{index:n,thread:r}=t,i=this.c_articles.RemoveArticle(n);return i&&this.articles.splice(n,1),i},e}(),o=function(){function e(e,t,n){this.pdfDoc=e,this.doc=e.doc,this.engine=e.engine,this.c_thread=t,this.children=this.getChildren(),this.index=n}var t=e.prototype;return t.getChildren=function(){const e=this.c_thread.GetBeads(),t=e.GetSize(),n=[];for(let r=0;r<t;r++){let t=e.GetAt(r);const i=new a(this,t,r);n.push(i)}return n},t.getThreadInfoJson=function(){const e=this.c_thread,t=e.GetDict().GetObjNum(),n=e.GetThreadInfo();return{objNum:t,author:n.author.toString(),keywords:n.keywords.toString(),subject:n.subject.toString(),title:n.title.toString()}},t.toJson=function(){const e=this.getThreadInfoJson();return e.no=this.index+1,e.children=this.children.map((e=>e.toJson())),e},t.update=function({author:e,keywords:t,subject:n,title:i}){const o=this.engine,a=this.c_thread,s=a.GetThreadInfo();void 0!==e&&(s.author=(0,r.Dp)(o,e)),void 0!==t&&(s.keywords=(0,r.Dp)(o,t)),void 0!==n&&(s.subject=(0,r.Dp)(o,n)),void 0!==i&&(s.title=(0,r.Dp)(o,i));const c=a.SetThreadInfo(s);return c?this.getThreadInfoJson():c},t.getBeadInfo=function(e){let t,n=0;this.engine;for(;n<this.children.length;n++){const r=this.children[n];if(r.c_bead.GetDict().GetObjNum()===e){t=r,t.index=n;break}}return t},t.insertBead=function(e=0,{left:t,bottom:n,right:r,top:i},o){const s=this.engine,c=this.c_thread,l=new s.Bead(this.doc);void 0===o&&(o=this.children.length);const u=new a(this,l,o),d=u.update({pageIndex:e,rect:{left:t,bottom:n,right:r,top:i}});let h=c.InsertBead(o,l);return h&&(this.children.splice(o,0,u),this.children.forEach(((e,t)=>{e.index=t}))),h?d:h},t.removeBead=function(e){const t=this.getBeadInfo(e);if(!t)return!1;const{index:n}=t,r=this.c_thread.RemoveBead(n);return r&&(this.children.splice(n,1),this.children.forEach(((e,t)=>{e.index=t}))),r},e}(),a=function(){function e(e,t,n){const r=e.pdfDoc;this.parentThread=e,this.pdfDoc=r,this.doc=r.doc,this.engine=r.engine,this.c_bead=t,this.index=n}var t=e.prototype;return t.toJson=function(){const e=this.c_bead,t=e.GetBeadInfo(),n=[this.parentThread.index+1,this.index+1].join("-"),r=e.GetDict().GetObjNum(),i=t.page_index,{left:o,right:a,bottom:s,top:c}=t.rect;return{objNum:r,no:n,pageIndex:i,rect:{left:o,right:a,bottom:s,top:c}}},t.update=function({pageIndex:e,rect:t}){const n=this.engine,r=this.c_bead,i=r.GetBeadInfo();if(void 0!==e&&(i.page_index=e),void 0!==t){const{left:e,bottom:r,right:o,top:a}=t,s=n.CFX_FloatRect;i.rect=new s(e,r,o,a)}const o=r.SetBeadInfo(i);return o?this.toJson():o},e}();t.Z=i},9774:function(e,t,n){"use strict";n(752),n(6265),n(4043);var r=n(995),i=n(26),o=n(1098),a=n(6483);let s=function(){function e(e,t,n,r,i=-1){this.doc=e,this.engine=e.engine,this.id=t,this.c_bookmark=n,this.c_doc=r,this.title=n.GetTitle().toString();let o=this.c_bookmark.GetColor().toString(16);this.color="#"+o.substr(2);let a=this.c_bookmark.GetStyle();this.isItalic=1&a,this.isBold=2&a,this.dst=n.GetDestination(),this.deep=i;let s=this.dst.IsEmpty();this.children=[],s?(this.pageIndex=null,this.pageTop=0,this.pageLeft=0):(this.pageIndex=this.dst.GetPageIndex(this.c_doc),this.pageTop=this.dst.GetTop(),this.pageLeft=this.dst.GetLeft())}var t=e.prototype;return t.updateDestination=function(e=this.dst||this.c_bookmark.GetDestination()){this.dst=e,e.IsEmpty()?(this.pageIndex=null,this.pageTop=0,this.pageLeft=0):(this.pageIndex=e.GetPageIndex(this.c_doc),this.pageTop=e.GetTop(),this.pageLeft=e.GetLeft())},t.destroy=function(){this.dst.delete(),this.c_bookmark.delete(),this.children.forEach((e=>e.destroy())),this.children=null,this.c_destination=null,this.c_doc=null,this.engine=null,this.c_bookmark=null},t.removeChild=function(e){const t=this.children;for(let n in t){let r=t[n];if(r.id==e)return t.splice(n,1),r;{let t=r.removeChild(e);if(t)return t}}},t.insert=function(t,n,i,o,a){let s=new this.engine.WString(t),c=this.c_bookmark.Insert(s,this.engine.BookmarkPosition.values[o]);(0,r.Z)(s);const l={destination:{pageIndex:n,left:i.left,top:i.top,zoomMode:"ZoomFitHorz"},type:"TypeGoto"};"fitWidth"===a?l.destination.zoomMode="ZoomFitHorz":"fitPage"===a||"fitHeight"===a?l.destination.zoomMode="ZoomFitPage":"fitVisible"===a?l.destination.zoomMode="ZoomFitBHorz":(l.destination.zoomMode="ZoomXYZ",l.destination.zoomFactor=a);const u=this.doc.JR.actionManager,d=u.create(this.c_doc,l.type);c.SetAction(d);u.get(d,this.c_doc,this.doc.JR).create(l);const h=new e(this.doc,c.GetDict().GetObjNum(),c,this.c_doc,this.deep+1);return this.children.push(h),h},t.getBookmarkById=function(e){if(e==this.id)return this;const t=this.children;for(let n in t){let r=t[n].getBookmarkById(e);if(r)return r}},t.remove=function(){let e=this.c_doc.RemoveBookmark(this.c_bookmark);return this.destroy(),e},t.setProperty=function(e){for(let t in e)if("title"==t){let n=new this.engine.WString(e[t]);this.c_bookmark.SetTitle(n),n.delete(),this.title=this.c_bookmark.GetTitle().toString()}else if("style"==t){this.c_bookmark.SetStyle(e[t]);let n=this.c_bookmark.GetStyle();this.isItalic=1&n,this.isBold=2&n}else if("color"==t){this.c_bookmark.SetColor(e[t]);let n=this.c_bookmark.GetColor().toString(16);this.color="#"+n.substr(2)}else if("destination"==t){const n=e[t];let r=new this.engine.Destination.CreateXYZ(this.c_doc,n.pageIndex,n.left,n.top,1);this.c_bookmark.SetDestination(r),this.updateDestination(r)}},t.toJson=function(){if(this.c_bookmark.IsEmpty())return[];let t=[];if(this.children=[],this.c_bookmark.HasChild()){let n=this.c_bookmark.GetFirstChild();for(;!n.IsEmpty();){let r=new e(this.doc,n.GetDict().GetObjNum(),n,this.c_doc,this.deep+1);n=n.GetNextSibling(),t.push(r.toJson()),this.children.push(r)}}return{id:this.id,deep:this.deep,title:this.title,color:this.color,isBold:this.isBold,isItalic:this.isItalic,children:t,page:this.pageIndex,top:this.pageTop,left:this.pageLeft}},t.moveTo=function(e,t){const n=e.c_bookmark;return this.c_bookmark.MoveTo(n,this.engine.BookmarkPosition.values[t])},t.getDestination=function(){const e=new this.engine.String("A");if(this.c_bookmark.GetDict().HasKey(e))return void(0,r.Z)(e);const t=this.c_bookmark.GetDestination();return t.IsEmpty()?void 0:{destination:new o.Z(t,this.doc,this.engine).toJson(),objNumber:null,subAction:[],subActionCount:0,type:"TypeGoto"}},t.setDestination=function(e){const t=this.c_bookmark.GetDict(),n=new this.engine.String("A");t.HasKey(n)&&t.RemoveAt(n),(0,r.Z)(n);const i=o.Z.create(this.engine,this.c_doc,e.destination);return this.c_bookmark.SetDestination(i),this.updateDestination(i),{destination:new o.Z(i,this.doc,this.engine).toJson(),objNumber:null,subAction:[],subActionCount:0,type:"TypeGoto"}},t.getAction=function(){const e=new this.engine.String("Dest");if(this.c_bookmark.GetDict().HasKey(e))return void(0,r.Z)(e);const t=this.c_bookmark.GetAction();return t.IsEmpty()?void 0:this.doc.JR.actionManager.get(t,this.doc,this.doc.JR).toJson()},t.setAction=function(e){const t=this.doc.JR.actionManager,n=t.create(this.c_doc,e.type);let i=this.c_bookmark.GetAction();if(i.IsEmpty())this.c_bookmark.SetAction(n);else{const e=i.GetSubActionCount();i.InsertSubAction(e,n),this.c_bookmark.SetAction(i)}const o=this.c_bookmark.GetDict(),a=new this.engine.String("Dest");o.HasKey(a)&&o.RemoveAt(a),(0,r.Z)(a);t.get(n,this.c_doc,this.doc.JR).create(e)},t.moveAction=function(e){let{action:t,direction:n}=e,r=this.c_bookmark.GetAction(),i=r.GetSubActionCount(),o=this.c_bookmark,a=[r];for(let e=0;e<i;e++)a.push(r.GetSubAction(e));let s=a.findIndex((e=>e.GetDict().GetObjNum()===t.objNumber));if(-1==s)return;let c=n?s+1:s-1;if(0==c||0==s){o.RemoveAction(),a[0].RemoveAllSubActions();let e=0==s?c:s;o.SetAction(a[e]),a.splice(e,1),r=o.GetAction();for(let e=0;e<a.length;e++)r.InsertSubAction(e,a[e])}else{r.RemoveAllSubActions(),[a[s],a[c]]=[a[c],a[s]];for(let e=1;e<a.length;e++)r.InsertSubAction(e,a[e])}},t.removeAction=function(e){if(e){let t=this.c_bookmark.GetAction();return t=(0,i.Z)(this.engine,this.c_doc,t,e.objNumber),e.objNumber&&t?(this.c_bookmark.SetAction(t),!0):this.c_bookmark.RemoveAction()}return this.c_bookmark.RemoveAction()},t.getCanonicalString=function(e,t=!0,n=!0){if(!e)return;let r=new this.engine.WString(e),i=this.engine.TextSearchUtils.CanonicalFindText(r,t,n),o=i.canonical_text?i.canonical_text.toString():"";return r.delete(),o},t.search=function(e,t,n){const r=!t.wholeWordsOnly&&!t.caseSensitive&&t.stemming,i=this.c_bookmark.GetTitle().toString();let o=i,s=null;if(t.isIgnoreDiacritics||t.isIgnoreAsia){let e=new this.engine.WString(o),n=this.engine.TextSearchUtils.CanonicalFindText(e,t.isIgnoreAsia,t.isIgnoreDiacritics);o=n.canonical_text?n.canonical_text.toString():"";const r=n.text_index_of_len_array;let i=[];s=[];for(let e=0;e<=r.GetSize();e++)i[e]=0===e?0:i[e-1]+r.GetAt(e-1),s[i[e]]=e;for(let e=0;e<s.length;e++)void 0===s[e]&&(s[e]=s[e-1]);e.delete()}t.caseSensitive||(o=o.toLowerCase()),e.forEach((e=>{let c=e;t.caseSensitive||(c=c.toLowerCase()),(t.isIgnoreDiacritics||t.isIgnoreAsia)&&(c=this.getCanonicalString(c,t.isIgnoreAsia,t.isIgnoreDiacritics));let l,u=o.indexOf(c,0);if(r){l=(0,a.nT)(this.engine,c,i);const e=l.next();e.done?u=-1:(u=e.value.index,c=e.value.oriWord)}for(;-1!==u;){let d=this.getCanonicalString(o[u-1]),h=this.getCanonicalString(o[u+c.length]),f=r?c.length:e.length;if(t.wholeWordsOnly&&(/[0-9a-zA-Z]/.test(d)&&void 0!==d||/[0-9a-zA-Z]/.test(h)&&void 0!==h)){if(r){const e=l.next();e.done?u=-1:(u=e.value.index,c=e.value.oriWord)}else u=o.indexOf(c,u+1);continue}let g=null,p=null,m=u;s?(g=(0,a.Tg)(i,s[u]),p=(0,a.xF)(i,s[u]+f),m=s[u]):(g=(0,a.Tg)(i,u),p=(0,a.xF)(i,u+f)),n.push({startText:g,endText:p,word:i.substr(m,f),type:"bookmark",index:n.length,id:this.id});break}})),this.children.forEach((r=>r.search(e,t,n)))},e}();t.Z=s},8315:function(e,t,n){"use strict";var r=n(6346);let i=function(){function e(e){this.id=(0,r.Ki)("pdf_object"),this.pdfDoc=e}return e.prototype.toJson=function(){return{id:this.id}},e}();t.Z=i},9956:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(5785),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(7462),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(1656),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(752),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9976),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3356),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3964),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6265),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4043),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7267),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_esnext_string_replace_all_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8320),core_js_modules_esnext_string_replace_all_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_esnext_string_replace_all_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1386),core_js_modules_es_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(278),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5137),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__),_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(6346),_shared_consts__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8972),_PDFPage_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5199),_PDFDictionary_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(8315),_BufferBlock_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6715),_PDFBookmark_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(9774),_PDFLayer_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(329),_pdf_jr_Form_Form__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(8687),_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(481),_shared_keyUsageType__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1816),_object_PDFObject__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(3525),_PDFFontMgr__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(4213),_error_code__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(4463),_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1220),_headerFooter_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(7376),_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(6486),_share_objects_delete_js__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(995),_share_RendererHelper__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(6126),_base_FileSpec__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(8191),_annot_Annot__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(7375),_Attachments__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(9590),_base_Image_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(6976),_share_signature_util__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(9033),_shared_IndexDBCache_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(301),_share_InvalidJRObjectError_ts__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(241),_virtual_VirtualJRPDFPage_ts__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(8399),axios__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(9669),axios__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_35__),_annot_annotType__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(9987),_share_createSummarizeComments_util__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(8186),_PDFArticle__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(4171),_PDFPortfolio__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(1151),_shared_formatDate_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(4127),_engineModule__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(5420),_web_pdf_engine_form_FormConstants_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(3469),_pageEditor_DefaultFont__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(1872),_fxjse_syncMessage__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(7393);function _maybeArrayLike(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return _arrayLikeToArray(t,void 0!==n&&n<r?n:r)}return e(t,n)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}let noop=function(){};const logger=_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.mA.getLogger("pdf-jr.PDFDoc");let continueExport=null;const eSignCNOptType={SELF_SIGN:0,INIT_SIGN:1,FLOW_SIGN:2,FLOW_END_SIGN:3};function rshift(e,t){return Math.floor(e/Math.pow(2,t))}function and(e,t){var n=2147483648,r=2147483647;return(~~(e/n)&~~(t/n))*n+(e&r&(t&r))}let ESignSignatureStore=function(){function e(){this.s=null}var t=e.prototype;return t.setSignature=function(e){this.s=e},t.getSignature=function(){return this.s},e}(),ESignCNAnnotDictStore=function(){function e(){this.annotDicts=[]}var t=e.prototype;return t.setAnnotDict=function({key:e,dict:t}){this.annotDicts.push({key:e,dict:t})},t.getAnnotDict=function({key:e}){const t=this.annotDicts.find((t=>t.key===e));if(t)return t.dict;console.error(`not exist annotDict ${e} in ESignCNAnnotDictStore`)},t.clean=function(){this.annotDicts.length=0},e}();const eSignSignatureStore=new ESignSignatureStore,eSignCNAnnotDictStore=new ESignCNAnnotDictStore;function getPrintRange(e,t){let n=[];if(!e)return n;let r=e.GetElement(t);if(!r)return n;r=r.GetDirectObject().GetArray();for(let e=0;e<r.GetElementCount();e++){const t=r.GetElement(e);n.push(t.GetInteger())}return n}function getAnnotTypeInESignCN(e,t){let n=new t.String("FST"),r=e.GetElement(n);if(r){return r.GetString().toString()}return!1}let PDFDoc=function(){function PDFDoc(e,{getBuffer:t,size:n,release:r=noop,async:i=!1,isCreate:o=!1,isCreatePortfolio:a=!1,initOpenOptions:s={},destroyCallback:c=noop,buffer:l,docId:u,doc:d,ReadBlockOption:h}){this.isLoaded=!1,this.docDeferred=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),this.docPromise=this.docDeferred.promise;let f=n;this.id=u||(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.Ki)("pdf_doc"),this.JR=e;let g,p=this.engine=e.engine;if(this.async=i,this.readerBlockLoading=0,this.initOpenOptions=s,this.destroyCallback=c,this.colors={background:null,foreground:null},this.ReadBlockOption=h,this.mIsDynamicXFA=!1,this.mHasXFALicense=!1,d)this.doc=d,this.docDeferred.resolve(this.doc);else if(o)this.doc=new p.PDFDoc,this.docDeferred.resolve(this.doc);else if(a){const e=p.Portfolio.CreatePortfolio();this.doc=e.GetPortfolioPDFDoc(),this.docDeferred.resolve(this.doc)}else if(l){f=l.byteLength;let e=this.buffer=p._malloc(f);p.HEAPU8.set(new Uint8Array(l),e),this.doc=p.createPDFDocWithBuffer(e,f),this.docDeferred.resolve(this.doc)}else if(this.getBuffer=t,i){let e=0,i=!1,o=0,a=0,s=this.asyncBlock=new _BufferBlock_js__WEBPACK_IMPORTED_MODULE_15__.Z(n);g=p.AsyncReaderCallback.implement({Release:function(){r()},GetSize:function(){return i?a:f},ReadBlock:(e,n,r)=>{if(!s.avail(n,r))return s.checkLoadBuffer(n,r)||(s.loadingBuffer(n,r),this.readerBlockLoading++,t(n,r).then((e=>{s.addBuffer(n,r,e),this.readerBlockLoading--}))),!1;let c=s.getBuffer(n,r);if(!c)return s.checkLoadBuffer(n,r)||(s.loadingBuffer(n,r),this.readerBlockLoading++,t(n,r).then((e=>{s.addBuffer(n,r,e),this.readerBlockLoading--}))),!1;if(i&&(n+=o)+r>a)return!1;let l=new Uint8Array(c,n,r);return p.HEAPU8.set(l,e),!0},IsDataAvail:function(e,t){return s.avail(e,t)},AddDownloadHint:(e,n)=>{let r=2097152,i=e+n+r;return i=i>=f?f-e:n+r,s.checkLoadBuffer(e,n)||s.avail(e,n)||(s.loadingBuffer(e,i),this.readerBlockLoading++,t(e,i).then((t=>{s.addBuffer(e,i,t),this.readerBlockLoading--}))),!0},GetPosition:function(){return i?e-o:e},SetPosition:function(t){i&&(t+=o),e=t},SetRange:function(e,t){o=e,a=t,i=!0},ClearRange:function(){i=!1}}),this.doc=p.createPDFDocWithReaderCallback(g,!0)}else{let e=!1;if(s&&s.isHttp){let n=0,i=!1,o=0,a=0;g=p.AsyncReaderCallback.implement({Release:function(){r()},GetSize:function(){let e=i?a:f;return e>2147483647?(p.SetHighBits(rshift(e,31)),p.SetLowBits(and(e,2147483647)),-1):e},ReadBlock:(e,n,r)=>{let s;if(h&&h.url)return s=this.getDocStreamBuffer(n,r,f,!1),p.HEAPU8.set(s,e),!0;if(i){if((n+=o)+r>a)return!1;s=new Uint8Array(t(n,r),n,r)}else s=new Uint8Array(t(n,r));return p.HEAPU8.set(s,e),!0},IsDataAvail:function(e,t){return!0},AddDownloadHint:(e,t)=>!0,GetPosition:function(){return i?n-o:n},SetPosition:function(e){i&&(e+=o),n=e},SetRange:function(e,t){o=e,a=t,i=!0},ClearRange:function(){i=!1}}),this.doc=p.createPDFDocWithReaderCallback(g,!0),e=this.doc.IsLinearized(),e||(this.doc.delete(),g.delete())}if(!e){let e=0,n=!1,i=0,o=0;g=p.ReaderCallback.implement({Release:function(){r()},GetSize:function(){let e=n?o:f;return e>2147483647?(p.SetHighBits(rshift(e,31)),p.SetLowBits(and(e,2147483647)),-1):e},ReadBlock:(e,r,a)=>{let s;if(h&&h.url)return 0!==a&&(s=this.getDocStreamBuffer(r,a,f,!1),p.HEAPU8.set(s,e),!0);if(n){if((r+=i)+a>o)return!1;s=new Uint8Array(t(r,a),r,a)}else s=new Uint8Array(t(r,a));return p.HEAPU8.set(s,e),!0},GetPosition:function(){return n?e-i:e},SetPosition:function(t){n&&(t+=i),e=t},SetRange:function(e,t){i=e,o=t,n=!0},ClearRange:function(){n=!1}}),this.doc=p.createPDFDocWithReaderCallback(g,!1)}}this.pageCache={},this.pageIndexMap={},this.pageIndexPromise={},this.dictionaryCache={},this.dictionaryMap={},this.blockRanges=[],this.renderFlags=0,this.readerCallback=g,this.destroyHooks=[],this.beforeSaveHooks=[],this.curFileId="",this.taskProgressMap={},this.fixPages=[]}var _proto3=PDFDoc.prototype;return _proto3.getDocStreamBuffer=function(e,t,n,r=!1){const i=this.ReadBlockOption;if(!i||!i.url)return;const{chunk:o=1048576,url:a,headers:s}=i,c=parseInt(e/o),l=parseInt((e+t)/o),u=(e,t)=>{const n=new XMLHttpRequest;n.open("GET",a,r),n.responseType="arraybuffer";for(const e in s)n.setRequestHeader(e,s[e]);let i=`bytes=${e}-${t}`;return"string"==typeof e&&void 0===t&&(i=e),n.setRequestHeader("Range",i),r?new Promise(((e,t)=>{n.onreadystatechange=()=>{4==n.readyState&&e(n.response)},n.send(null)})):(n.send(null),n.response)};if(this.docReadBlockCache||(this.docReadBlockCache={uint8Array:new Uint8Array(this.doc.GetFileSize()),array:[],test:[]}),r){const n=[];let r=[];const i=()=>{const e=r,t=e[e.length-1],i=e[0]*o,a=t*o+o;n.push(u(i,a).then((t=>{e.forEach((e=>{this.docReadBlockCache.array[e]=t.slice(e*o,e*o+o)})),this.docReadBlockCache.uint8Array.set(new Uint8Array(t),i)}))),r=[]};for(let e=c;e<=l;e++){if(!this.docReadBlockCache.array[e]){const t=r[r.length-1];void 0===t||e-t==1?r.push(e):(i(),r=[])}e===l&&(i(),r=[])}Date.now();return Promise.all(n).then((()=>this.docReadBlockCache.uint8Array.slice(e,e+t)))}for(let e=c;e<=l;e++)if(!this.docReadBlockCache.array[e]){const t=e*o,r=u(t,t+o>n?n-1:t+o-1);this.docReadBlockCache.array[e]=r,this.docReadBlockCache.uint8Array.set(new Uint8Array(r),t)}return this.docReadBlockCache.uint8Array.slice(e,e+t)},_proto3.beforeSave=function(e){this.beforeSaveHooks.push(e)},_proto3.addDestroyHook=function(e){this.destroyHooks.push(e)},_proto3.isLinearized=function(){return this.doc.IsLinearized()},_proto3.createCertificateFile=function(e){const t=this.engine;let n=new t.SG_DATASTRUCT;n.cwName=new t.WString(e.cwName||""),n.cwOU=new t.WString(e.cwOU||""),n.cwON=new t.WString(e.cwON||""),n.cwMail=new t.WString(e.cwMail||""),n.csCR=new t.String(e.csCR||""),n.nKA="number"==typeof e.nKA?e.nKA:0,n.nUDF="number"==typeof e.nUDF?e.nUDF:_shared_keyUsageType__WEBPACK_IMPORTED_MODULE_20__.Z.SignatureAndEncryption,n.cwSavePass=new t.WString(e.cwSavePass||"");const r=e=>{let n=0;return t.WriterCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>n,WriteBlock:(r,i,o)=>{n+=o;let a,s=t.HEAPU8.buffer;return a=s.slice?s.slice(r,r+o):new Uint8Array(s,r,o).buffer,e.push(a),!0}})};let i=[],o=r(i),a=r([]);t.CreateOpenSSLCert(n,o,a);const s=new Blob(i,{type:"application/x-pkcs12"});return this.JR.getCertificateInfo(s,e.cwSavePass)},_proto3.getCertificateSerials=function(){const e=this.engine,t=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),n=new Set;let r=e.CertificateSecurityCallback.implement({Release:()=>{t.resolve(Array.from(n))},GetDecryptionKey:(t,r)=>{const i=e.GetSerials(t,r);for(let e=0;e<i.GetSize();e++)n.add(i.GetAt(e).toString());return new e.String("")}}),i=new e.String("Adobe.PubSec");return e.Library.RegisterSecurityCallback(i,r),this.doc.Load(new e.String("")),e.Library.UnregisterSecurityCallback(i),t.promise},_proto3.parseByCertificate=function(e){const t=this.engine,n=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),{pfxFile:r,password:i}=e,o=(new FileReaderSync).readAsArrayBuffer(r),a=t.StreamCallback.implement({GetSize:()=>o.byteLength,GetPosition:()=>0,ReadBlock:(e,n,r)=>{const i=new Uint8Array(o,n,r);return t.HEAPU8.set(i,e),!0}}),s=t.CertificateSecurityCallback.implement({Release:()=>{},GetDecryptionKey:(e,n)=>new t.Envelope.CreateWithDataBuffer(e,n).GetDecryptionKey(a,new t.String(i))}),c=new t.String("Adobe.PubSec");t.Library.RegisterSecurityCallback(c,s);const l=this.doc.Load(new t.String(""));return t.Library.UnregisterSecurityCallback(c),n.resolve({code:l.value}),n.promise},_proto3.parseByPassword=function(e,t={}){if(this.isLoaded)return Promise.resolve({code:0});void 0===e&&(e=this.initOpenOptions.password||""),t=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_43__.Z)({},this.initOpenOptions,t);let n,r=this.engine,i=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),o=()=>{setTimeout((()=>{this.parseByPassword(e,t).then((function(e){i.resolve(e)}))}),200)};if(this.readerBlockLoading)return o(),i.promise;if(this.otherData=t,e){let t=new r.String(e);n=this.doc.Load(t),t.delete()}else if(t.encryptPassword){let e=new r.String(t.encryptPassword);n=this.doc.LoadByAsymmetricEncryption(e),e.delete()}else{let t=new r.String(e);n=this.doc.Load(t),t.delete()}if(n===r.ErrorCode.e_ErrIsAlreadyCDRM&&t.cdrm){let i=new r.String(e),o=new r.String(t.cdrm.appID),a=new r.String(t.cdrm.userToken),s=new r.String(t.cdrm.contentKey),c=t.cdrm.encrptType,l=t.cdrm.hasPermission;void 0===l&&(l=!0),n=this.doc.LoadCDRM(i,o,a,s,c,l),i.delete(),o.delete(),a.delete(),s.delete()}if(n===r.ErrorCode.e_ErrSuccess){this.password=e;let r=Promise.resolve();const o=Array.isArray(t.fdf);if(o||t.fdf&&t.fdf.file){let e=[t.fdf];o&&(e=t.fdf),r=Promise.all(e.map((e=>{let t=e.file,n=e.type;this.importFromFDF(t,n)})))}this.isLoaded=!0,r.then((e=>{this.mHasXFALicense=this.engine.Library.HasModuleLicenseRight({value:2}),this.mIsXFA=this.doc.IsXFA(),0===n.value&&this.mHasXFALicense&&this.mIsXFA,this.mHasXFALicense,this.docDeferred.resolve(this.doc),i.resolve({code:n.value}),0!=n.value||this.isDynamicXFA()||(this.loadForm(),setTimeout((()=>{const e=this.form;e&&e.toJson().then((t=>e.json=t))}),0))}))}else if(n===r.ErrorCode.e_ErrDataNotReady)o();else if(n===r.ErrorCode.e_ErrSecurityHandler){var a;const e=(null==(a=t.webPluginSecurity)?void 0:a.map((e=>e.filter)))||[];let r=formateDictToJson(this.doc.GetEncryptDict());"FoxitDRM"===r.Filter&&t.drm?(this.JR.registerDRMSecurityCallback(),o()):"FOPN_foweb"===r.Filter&&t.fileOpen?(t.fileOpen.$$ptr=this.doc.$$.ptr,this.JR.registerOpenFileSecurityCallback(t.fileOpen),o()):e.includes(r.Filter)?(t.fileOpen={},t.fileOpen.$$ptr=this.doc.$$.ptr,t.fileOpen.fileName=this.oriFile.name,t.fileOpen.webPluginSecurity=t.webPluginSecurity.filter((e=>e.filter===r.Filter))[0],this.JR.registerOpenFileSecurityCallback(t.fileOpen),o()):i.resolve({code:n.value,encryptDict:r})}else this.JR.unRegisterSecurityCallback("FOPN_foweb"),i.resolve({code:n.value});return i.promise},_proto3.createXFADocHandler=function(){return this.engine.DocProviderCallback.implement({Release:()=>{},InvalidateRect:()=>{},DisplayCaret:()=>{},GetPopupPos:()=>{},PopupMenu:()=>{},GetCurrentPage:()=>(0,_fxjse_syncMessage__WEBPACK_IMPORTED_MODULE_44__.Z)(this.JR.id,"GetCurrentPageIndex"),SetCurrentPage:()=>{},GetTitle:()=>{},ExportData:()=>{},ImportData:()=>{},GotoURL:()=>{},Print:()=>{},GetHighlightColor:()=>2139917567,SubmitData:()=>{},SetFocus:()=>{},PageViewEvent:()=>{},SetChangeMark:()=>{},WidgetEvent:()=>{}})},_proto3.customProtectDoc=function(e){if(!this.JR.customWebPluginSecurityCallback)return!1;try{let t=this.engine,n=new t.CustomSecurityHandler,r=new t.CustomEncryptData(!0,new t.String(e),new t.String(" "));return n.Initialize(r,this.JR.customWebPluginSecurityCallback),this.doc.SetSecurityHandler(n),!0}catch(e){return console.err(e),!1}},_proto3.getCurFileSymbolId=function(){return this.curFileId},_proto3.getFadeOutBackground=function(e){const t=this.engine,n=_base_Image_js__WEBPACK_IMPORTED_MODULE_30__.Z.createImage(t,e),r=new t.Image,i=n.GetFrameBitmap(0).FadeOutBackground();r.AddFrame(i);let o=[],a=t.StreamCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>0,WriteBlock:(e,n,r)=>{let i,a=t.HEAPU8.buffer;return i=a.slice?a.slice(e,e+r):new Uint8Array(a,e,r).buffer,o=o.concat(i),!0}});return r.SaveAs(a,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(t,".png")),o},_proto3.getConvertToMono=function(e){const t=this.engine,n=_base_Image_js__WEBPACK_IMPORTED_MODULE_30__.Z.createImage(t,e),r=new t.Image,i=n.GetFrameBitmap(0).ConvertToMono();r.AddFrame(i);let o=[],a=t.StreamCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>0,WriteBlock:(e,n,r)=>{let i,a=t.HEAPU8.buffer;return i=a.slice?a.slice(e,e+r):new Uint8Array(a,e,r).buffer,o=o.concat(i),!0}});return r.SaveAs(a,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(t,".png")),o},_proto3.updatePageCache=function(e){let t=e.id,n=this.pageCache[t];n&&n.destroy(),this.pageCache[t]=e},_proto3.removePageCache=function(e){let t=e.id,n=this.pageCache[t];n&&n.destroy(),n!==e&&e.destroy(),delete this.pageCache[t]},_proto3.updatePageIndexMap=function(e,t){this.pageIndexMap[e]=t},_proto3.getPageById=function(e){return this.pageCache[e]||null},_proto3.getAllLoadedPages=function(){const e=[];for(let t in this.pageCache)e.push(this.pageCache[t]);return e},_proto3.extractPrintPages=function(e){const t=this.engine,{reverse:n,type:r,bleed:i,rangeType:o,docs:a}=e;let s,{range:c}=e;switch(parseInt(r)){case 1:s=t.PrintWhatType.e_PrintWhatDocumentAndMarkups;break;case 2:s=t.PrintWhatType.e_PrintWhatDocumentAndStamps;break;case 3:s=t.PrintWhatType.e_PrintWhatFormFieldsOnly;break;default:s=t.PrintWhatType.e_PrintWhatDocument}let l,u,d,h="",f=0,g=t.WriterCallback.implement({Release:noop,Flush:()=>!0,GetSize:()=>f,WriteBlock:(e,n,r)=>{f+=r;let i,o=t.HEAPU8.buffer;i=o.slice?o.slice(e,e+r):new Uint8Array(o,e,r).buffer;const a=new Uint8Array(i),s=a.byteLength;for(let e=0;e<s;e++)h+=String.fromCharCode(a[e]);return!0}});if("selectedPDF"===o||"allPDF"===o){if(a.length<1)return!1;a.forEach((e=>{if(l){const n=e.oriFile?e.oriFile.name:"temp.pdf",r=new t.WString(n);l.InsertDocument(d,e.doc,t.InsertDocOptions.e_InsertDocOptionAttachments.value|t.InsertDocOptions.e_InsertDocOptionBookmark.value,r)}else l=e.doc;d=l.GetPageCount()})),c=[[0,d-1]]}else l=this.doc,d=l.GetPageCount(),u=this.pdfLayer;const{ranges:p,addCount:m}=this._generateRange(c,t,d),_=new t.ProcessPrintSetting;_.print_what_type=s,_.bleed_marks=!!i,_.reverse_pages=!!n,_.page_index_range=p,u&&(_.layer_context=u.layer_context);let y=null;e.useWorkFlow&&(y=t.PauseCallback.implement({NeedToPauseNow:()=>!0}),postMessage({workflow:"printEx",type:"printEx",msg:{state:"start",progress:0}}));const S=l.StartExtractPrintPages(g,_,y);let b=-1;for(;100!==b;){if(b=S.GetRateOfProgress(),-1===b)return!1;e.useWorkFlow&&postMessage({workflow:"printEx",type:"printEx",msg:{state:100!=b?"progress":"end",progress:b}}),S.Continue()}return _.delete(),h},_proto3.getPageFormat=function(e,t=324,n=392,r="",i=null,o=void 0){const a=this.engine;return this.JR.isInitPageFormat||(a.initPageFormat(),this.JR.isInitPageFormat=!0),this.docPromise.then((s=>{let c;if(this.pageFormat){if(this.pageFormat.utils&&(this.pageFormat.utils.delete(),this.pageFormat.utils=null),this.pageFormat.oldUtils){try{this.pageFormat.oldUtils.delete()}catch(e){}this.pageFormat.oldUtils=null}this.pageFormat.delete(),this.pageFormat=null}const l=this._getPageformatProvider(t,n,r,o);if(i&&(s=i),c=new a.PageFormat(l,s),l.delete(),c.IsEmpty())return c.delete(),{res:-1,old:null};let u;switch(this.pageFormat=c,this.pageFormat.isCurrentDoc=!i,this.pageFormat.localFormat=o,e){case"background":u=a.PageFormatType.e_Background;break;case"watermark":u=a.PageFormatType.e_Watermark;break;case"headerfooter":u=a.PageFormatType.e_HeaderFooter;break;case"batesNumbering":u=a.PageFormatType.e_BatesNumber}if(c.StartCheckExistPageFormat(null,u)===a.PageFormatFindRetCode.e_Found){let t;const n=this._getPageformatUtil(c,e,!0);switch(e){case"background":t=this._getBackground(n);break;case"watermark":t=this._getWatermark(n);break;case"headerfooter":t=this._getHeaderfooter(n);break;case"batesNumbering":t=this._getBatesNumbering(n)}return{res:1,old:t}}return{res:0,old:null}}))},_proto3.getPageFormatThumb=function(e,t,n,r=!1,i=324,o=392,a=0){return this.docPromise.then((t=>{if(!this.pageFormat)return null;this.engine;const i=this.pageFormat,o=this._getPageformatUtil(i,e,r);return o?(this.setPageFormat(e,o,n),null):null}))},_proto3.setPageFormat=function(e,t,n){switch(e){case"background":this._setBackground(t,n);break;case"watermark":this._setWatermark(t,n);break;case"headerfooter":this._setHeaderfooter(t,n);break;case"batesNumbering":this._setBatesNumbering(t,n)}},_proto3.removeAllPageFormat=async function(e){if(!this.pageFormat&&(await this.getPageFormat(e),!this.pageFormat))return-1;const t=this.engine,n=this.pageFormat;let r;switch(e){case"background":r=t.PageFormatType.e_Background;break;case"watermark":r=t.PageFormatType.e_Watermark;break;case"headerfooter":r=t.PageFormatType.e_HeaderFooter;break;case"batesNumbering":r=t.PageFormatType.e_BatesNumber}let i=n.StartRemoveAll(null,r);switch(i){case t.PageFormatOperationRetCode.e_Success:const r=this._getPageformatUtil(n,e,!0);r&&(r.SetPageRange(0,this.doc.GetPageCount()-1),await this._pageFormatRemoveFinished(0,this.doc.GetPageCount()-1)),i=1;break;case t.PageFormatOperationRetCode.e_Failed:i=-2;break;case t.PageFormatOperationRetCode.e_NoChange:i=0}return i},_proto3.addPageFormat=async function(e,t,n=!1){if(!this.pageFormat)return-1;if("batesNumbering"===e)return await this._addBatesNumber(t);const r=this.engine,i=this.pageFormat,o=this._getPageformatUtil(i,e,n);if(!o)return-2;let a,s;switch(this.setPageFormat(e,o,t),e){case"background":s=r.PageFormatType.e_Background;break;case"watermark":s=r.PageFormatType.e_Watermark;break;case"headerfooter":s=r.PageFormatType.e_HeaderFooter}return a=n?i.StartUpdate(null,s):i.StartInsert(null,s),a===r.PageFormatOperationRetCode.e_Success?(await this._pageFormatFinished(o,i.isCurrentDoc),1):a===r.PageFormatOperationRetCode.e_Failed?-3:0},_proto3._addBatesNumber=async function(e){const t=this.engine;let n=this.pageFormat,r=n.isCurrentDoc,i=n.utils,o=n.oldUtils;if(o){const{fileName:a,newDoc:s}=e.sourceDoc,c=this._getPageformatProvider(1,1,a,this.pageFormat.localFormat);let l=null;if(s?(l=s,r=!1):(l=await this.docPromise,r=!0),n=new t.PageFormat(c,l),c.delete(),n.IsEmpty())return n.delete(),-1;i=n.CreateBatesNumberUtils(),i.JoinBatesNumberUtils(o),this._setBatesNumbering(i,e)}const a=n.StartInsert(null,t.PageFormatType.e_BatesNumber);if(a===t.PageFormatOperationRetCode.e_Success){await this._pageFormatFinished(i,r);const e=i.GetRangeString(new t.WString("-")).toString();return this.pageFormat.oldUtils=i,e}return a===t.PageFormatOperationRetCode.e_Failed?-3:0},_proto3._getPageformatUtil=function(e,t,n){let r;if(e.utils&&(n||e.isUtilsCreated))return e.utils;switch(t){case"background":n?r=e.GetBackgroundUtils():(r=e.CreateBackgroundUtils(),e.isUtilsCreated=!0);break;case"watermark":n?r=e.GetWatermarkUtils():(r=e.CreateWatermarkUtils(),e.isUtilsCreated=!0);break;case"headerfooter":n?r=e.GetHeaderFooterUtils():(r=e.CreateHeaderFooterUtils(),e.isUtilsCreated=!0);break;case"batesNumbering":n?r=e.GetBatesNumberUtils():(r=e.CreateBatesNumberUtils(),e.isUtilsCreated=!0)}return r.IsEmpty()?null:(e.utils=r,r)},_proto3._pageFormatRemoveFinished=async function(e,t){for(let n=e;n<=t;n++){const e=await this.getPageByIndex(n);e&&(await e.reParsePage(),e.reloadAnnots())}this.reloadLayer()},_proto3._pageFormatFinished=async function(e,t=!0){if(!t)return;let n=e.GetPageRangeStart(),r=e.GetPageRangeEnd();const i=e.IsUseEvenPages(),o=e.IsUseOddPages();if(!1!==i||!1!==o){-1===n&&(n=0,r=this.doc.GetPageCount()-1,e.SetPageRange(n,r),e.SetEvenOddFlag(!0,!0));for(let e=n;e<=r;e++){if(o!==i){if(i&&(e+1)%2!=0)continue;if(o&&(e+1)%2==0)continue}const t=await this.getPageByIndex(e);t&&(await t.reParsePage(),t.reloadAnnots())}this.reloadLayer()}},_proto3._setWatermark=function(e,t){if(!t)return;const n=this.engine,r=1===t.sourceType?n.PageFormatSourceType.e_Text:n.PageFormatSourceType.e_ImageFile,i=new n.WString(t.text.replaceAll("\n","\r")),o=t.pageStart,a=t.pageEnd,s=t.pageEven,c=t.pageOdd;let l=0;switch(t.unit){case 1:l=n.PageFormatUnitType.e_Inches;break;case 2:l=n.PageFormatUnitType.e_Percent;break;case 3:l=n.PageFormatUnitType.e_Centimeters;break;case 4:l=n.PageFormatUnitType.e_Millimeters;break;case 5:l=n.PageFormatUnitType.e_Picas;break;case 6:l=n.PageFormatUnitType.e_Points}let u=0;switch(t.vFrom){case 1:u=n.PageFormatAlignType.e_Top;break;case 2:u=n.PageFormatAlignType.e_VCenter;break;case 3:u=n.PageFormatAlignType.e_Bottom}let d=0;switch(t.hFrom){case 1:d=n.PageFormatAlignType.e_Left;break;case 2:d=n.PageFormatAlignType.e_HCenter;break;case 3:d=n.PageFormatAlignType.e_Right}if(e.SetSourceType(r),e.SetPageRange(o,a),e.SetEvenOddFlag(s,c),2===t.sourceType){if(t.file){const r=n.ReaderCallback.implement({Release:function(){noop()},GetSize:function(){return t.file.size},ReadBlock:(e,r,i)=>{let o=new Uint8Array(t.file.getBuffer(r,i));return n.HEAPU8.set(o,e),!0}});e.SetImage(r)}else if(t.doc)e.SetPDFDoc(t.doc.doc);else if(t.bitmap){const r=_base_Image_js__WEBPACK_IMPORTED_MODULE_30__.Z.createImage(n,t.bitmap,!0);e.SetImage(r)}e.SetSourcePageNumber(t.pageNumber),t.scaleCkd?e.SetScale(-t.scale/100):e.SetScale(t.absScale/100)}else{const r="number"==typeof t.fontColor?t.fontColor:parseInt(t.fontColor.replace("#","0x"),16),o=new n.WString(t.fontName);e.SetText(i),e.UnderlineText(t.underLine),e.SetTextColor(r),e.SetFontName(o),t.scaleCkd?e.SetScale(-t.scale/100):(e.SetScale(1),e.SetFontSize(parseFloat(t.fontSize)))}t.isMultiline?(e.SetMultiLineFlag(!0),e.SetRowSpace(t.rowSpace),e.SetColumnSpace(t.columnSpace)):(e.SetMultiLineFlag(!1),e.SetPositionUnit(l),e.SetVerticalAlign(u),e.SetHorizontalAlign(d),e.SetVerticalValue(parseFloat(t.vDistance)),e.SetHorizontalValue(parseFloat(t.hDistance))),e.SetOpacity(t.opacity/100),e.SetRotation(parseFloat(t.rotate)),e.SetShowOnTopFlag(2===t.appear),e.SetFixedPrintFlag(t.isKeep),e.SetVisibleForPrintFlag(t.isPrint),e.SetDisplayOnScreenFlag(t.isScreen)},_proto3._setBackground=function(e,t){if(!t)return;const n=this.engine,r=1===t.sourceType?n.PageFormatSourceType.e_Color:n.PageFormatSourceType.e_ImageFile,i=t.pageStart,o=t.pageEnd,a=t.pageEven,s=t.pageOdd;let c=0;switch(t.unit){case 1:c=n.PageFormatUnitType.e_Inches;break;case 2:c=n.PageFormatUnitType.e_Percent;break;case 3:c=n.PageFormatUnitType.e_Centimeters;break;case 4:c=n.PageFormatUnitType.e_Millimeters;break;case 5:c=n.PageFormatUnitType.e_Picas;break;case 6:c=n.PageFormatUnitType.e_Points}let l=0;switch(t.vFrom){case 1:l=n.PageFormatAlignType.e_Top;break;case 2:l=n.PageFormatAlignType.e_VCenter;break;case 3:l=n.PageFormatAlignType.e_Bottom}let u=0;switch(t.hFrom){case 1:u=n.PageFormatAlignType.e_Left;break;case 2:u=n.PageFormatAlignType.e_HCenter;break;case 3:u=n.PageFormatAlignType.e_Right}if(e.SetSourceType(r),e.SetPageRange(i,o),e.SetEvenOddFlag(a,s),2===t.sourceType){if(t.file){const r=n.ReaderCallback.implement({Release:function(){noop()},GetSize:function(){return t.file.size},ReadBlock:(e,r,i)=>{let o=new Uint8Array(t.file.getBuffer(r,i));return n.HEAPU8.set(o,e),!0}});e.SetImage(r)}else t.doc&&e.SetPDFDoc(t.doc.doc);e.SetSourcePageNumber(t.pageNumber),t.scaleCkd?e.SetScale(-t.scale/100):e.SetScale(t.absScale/100)}else{let n=t.backgroundColor;n&&7===n.length&&(n="0x"+n.substr(5,2)+n.substr(3,2)+n.substr(1,2),n=parseInt(n,16),e.SetBackgroundColor(n)),e.SetScale(-t.scale/100)}e.SetPositionUnit(c),e.SetVerticalAlign(l),e.SetHorizontalAlign(u),e.SetVerticalValue(parseFloat(t.vDistance)),e.SetHorizontalValue(parseFloat(t.hDistance)),e.SetOpacity(t.opacity/100),e.SetRotation(parseFloat(t.rotate)),e.SetVisibleForPrintFlag(t.isPrint),e.SetDisplayOnScreenFlag(t.isScreen)},_proto3._setHeaderfooter=function(e,t){if(!t)return;const n=this.engine,r="number"==typeof t.fontColor?t.fontColor:parseInt(t.fontColor.replace("#","0x"),16),i=new n.WString(t.fontName),o=new n.WString(t.leftHeaderText.replaceAll("\n","\r")),a=new n.WString(t.rightHeaderText.replaceAll("\n","\r")),s=new n.WString(t.centerHeaderText.replaceAll("\n","\r")),c=new n.WString(t.leftFooterText.replaceAll("\n","\r")),l=new n.WString(t.centerFooterText.replaceAll("\n","\r")),u=new n.WString(t.rightFooterText.replaceAll("\n","\r"));let d="1";switch(t.pageFormat){case"1":d=n.HeaderFooterPageNumberFormat.e_Number;break;case"1 of n":d=n.HeaderFooterPageNumberFormat.e_NumberOfTotal;break;case"1/n":d=n.HeaderFooterPageNumberFormat.e_NumberSlashTotal;break;case"Page 1":d=n.HeaderFooterPageNumberFormat.e_PageNumber;break;case"Page 1 of n":d=n.HeaderFooterPageNumberFormat.e_PageNumberOfTotal;break;case"Page 1 of n":d=n.HeaderFooterPageNumberFormat.e_BatesNumber}let h="m/d";switch(t.dateFormat){case"m/d":h=n.HeaderFooterDateFormat.e_MSlashD;break;case"m/d/yy":h=n.HeaderFooterDateFormat.e_MSlashDSlashYY;break;case"m/d/yyyy":h=n.HeaderFooterDateFormat.e_MSlashDSlashYYYY;break;case"mm/dd/yy":h=n.HeaderFooterDateFormat.e_MMSlashDDSlashYY;break;case"mm/dd/yyyy":h=n.HeaderFooterDateFormat.e_MMSlashDDSlashYYYY;break;case"d/m/yy":h=n.HeaderFooterDateFormat.e_DSlashMSlashYY;break;case"d/m/yyyy":h=n.HeaderFooterDateFormat.e_DSlashMSlashYYYY;break;case"dd/mm/yy":h=n.HeaderFooterDateFormat.e_DDSlashMMSlashYY;break;case"dd/mm/yyyy":h=n.HeaderFooterDateFormat.e_DDSlashMMSlashYYYY;break;case"mm/yy":h=n.HeaderFooterDateFormat.e_MMSlashYY;break;case"mm/yyyy":h=n.HeaderFooterDateFormat.e_MMSlashYYYY;break;case"m.d.yy":h=n.HeaderFooterDateFormat.e_MDotDDotYY;break;case"m.d.yyyy":h=n.HeaderFooterDateFormat.e_MDotDDotYYYY;break;case"mm.dd.yy":h=n.HeaderFooterDateFormat.e_MMDotDDDotYY;break;case"mm.dd.yyyy":h=n.HeaderFooterDateFormat.e_MMDotDDDotYYYY;break;case"mm.yy":h=n.HeaderFooterDateFormat.e_MMDotYY;break;case"d.m.yyyy":d=n.HeaderFooterDateFormat.e_DDotMDotYYYY;break;case"dd.mm.yy":h=n.HeaderFooterDateFormat.e_DDDotMMDotYY;break;case"dd.mm.yyyy":h=n.HeaderFooterDateFormat.e_DDDotMMDotYYYY;break;case"yy-mm-dd":h=n.HeaderFooterDateFormat.e_YYHyphenMMHyphenDD;break;case"yyyy-mm-dd":h=n.HeaderFooterDateFormat.e_YYYYHyphenMMHyphenDD}const f=t.pageStart,g=t.pageEnd,p=t.pageEven,m=t.pageOdd;e.SetEmbedFontFlag(t.fontEmbed),e.UnderlineText(t.underLine),e.SetTextColor(r),e.SetFontName(i),e.SetFontSize(parseFloat(t.fontSize)),e.SetMargin(n.HeaderFooterMargin.e_Left,t.marginLeft),e.SetMargin(n.HeaderFooterMargin.e_Right,t.marginRight),e.SetMargin(n.HeaderFooterMargin.e_Top,t.marginTop),e.SetMargin(n.HeaderFooterMargin.e_Bottom,t.marginBottom),e.SetText(n.HeaderFooterLocation.e_HeaderLeft,o),e.SetText(n.HeaderFooterLocation.e_HeaderMiddle,s),e.SetText(n.HeaderFooterLocation.e_HeaderRight,a),e.SetText(n.HeaderFooterLocation.e_FooterLeft,c),e.SetText(n.HeaderFooterLocation.e_FooterMiddle,l),e.SetText(n.HeaderFooterLocation.e_FooterRight,u),e.SetDateFormat(h),e.SetPageNumberFormat(d),e.SetPageNumberOffset(t.startPage),e.SetPageRange(f,g),e.SetEvenOddFlag(p,m),e.SetFixedPrintFlag(t.isKeep),e.SetShrinkFlag(t.isShrink)},_proto3._setBatesNumbering=function(e,t){if(!t)return;const n=this.engine,r=parseInt(t.fontColor.replace("#","0x"),16),i=new n.WString(t.fontName),o=new n.WString(t.leftHeaderText.replaceAll("\n","\r")),a=new n.WString(t.rightHeaderText.replaceAll("\n","\r")),s=new n.WString(t.centerHeaderText.replaceAll("\n","\r")),c=new n.WString(t.leftFooterText.replaceAll("\n","\r")),l=new n.WString(t.centerFooterText.replaceAll("\n","\r")),u=new n.WString(t.rightFooterText.replaceAll("\n","\r"));let d="1";switch(t.pageFormat){case"1":d=n.HeaderFooterPageNumberFormat.e_Number;break;case"1 of n":d=n.HeaderFooterPageNumberFormat.e_NumberOfTotal;break;case"1/n":d=n.HeaderFooterPageNumberFormat.e_NumberSlashTotal;break;case"Page 1":d=n.HeaderFooterPageNumberFormat.e_PageNumber;break;case"Page 1 of n":d=n.HeaderFooterPageNumberFormat.e_PageNumberOfTotal;break;case"Bates Number":d=n.HeaderFooterPageNumberFormat.e_BatesNumber}let h="m/d";switch(t.dateFormat){case"m/d":h=n.HeaderFooterDateFormat.e_MSlashD;break;case"m/d/yy":h=n.HeaderFooterDateFormat.e_MSlashDSlashYY;break;case"m/d/yyyy":h=n.HeaderFooterDateFormat.e_MSlashDSlashYYYY;break;case"mm/dd/yy":h=n.HeaderFooterDateFormat.e_MMSlashDDSlashYY;break;case"mm/dd/yyyy":h=n.HeaderFooterDateFormat.e_MMSlashDDSlashYYYY;break;case"d/m/yy":h=n.HeaderFooterDateFormat.e_DSlashMSlashYY;break;case"d/m/yyyy":h=n.HeaderFooterDateFormat.e_DSlashMSlashYYYY;break;case"dd/mm/yy":h=n.HeaderFooterDateFormat.e_DDSlashMMSlashYY;break;case"dd/mm/yyyy":h=n.HeaderFooterDateFormat.e_DDSlashMMSlashYYYY;break;case"mm/yy":h=n.HeaderFooterDateFormat.e_MMSlashYY;break;case"mm/yyyy":h=n.HeaderFooterDateFormat.e_MMSlashYYYY;break;case"m.d.yy":h=n.HeaderFooterDateFormat.e_MDotDDotYY;break;case"m.d.yyyy":h=n.HeaderFooterDateFormat.e_MDotDDotYYYY;break;case"mm.dd.yy":h=n.HeaderFooterDateFormat.e_MMDotDDDotYY;break;case"mm.dd.yyyy":h=n.HeaderFooterDateFormat.e_MMDotDDDotYYYY;break;case"mm.yy":h=n.HeaderFooterDateFormat.e_MMDotYY;break;case"d.m.yyyy":d=n.HeaderFooterDateFormat.e_DDotMDotYYYY;break;case"dd.mm.yy":h=n.HeaderFooterDateFormat.e_DDDotMMDotYY;break;case"dd.mm.yyyy":h=n.HeaderFooterDateFormat.e_DDDotMMDotYYYY;break;case"yy-mm-dd":h=n.HeaderFooterDateFormat.e_YYHyphenMMHyphenDD;break;case"yyyy-mm-dd":h=n.HeaderFooterDateFormat.e_YYYYHyphenMMHyphenDD}const f=t.pageStart,g=t.pageEnd,p=t.pageEven,m=t.pageOdd;e.SetEmbedFontFlag(t.fontEmbed),e.UnderlineText(t.underLine),e.SetTextColor(r),e.SetFontName(i),e.SetFontSize(parseFloat(t.fontSize)),e.SetMargin(n.HeaderFooterMargin.e_Left,t.marginLeft),e.SetMargin(n.HeaderFooterMargin.e_Right,t.marginRight),e.SetMargin(n.HeaderFooterMargin.e_Top,t.marginTop),e.SetMargin(n.HeaderFooterMargin.e_Bottom,t.marginBottom),e.SetText(n.HeaderFooterLocation.e_HeaderLeft,o),e.SetText(n.HeaderFooterLocation.e_HeaderMiddle,s),e.SetText(n.HeaderFooterLocation.e_HeaderRight,a),e.SetText(n.HeaderFooterLocation.e_FooterLeft,c),e.SetText(n.HeaderFooterLocation.e_FooterMiddle,l),e.SetText(n.HeaderFooterLocation.e_FooterRight,u),e.SetDateFormat(h),e.SetPageNumberFormat(d),e.SetPageNumberOffset(t.startPage),e.SetPageRange(f,g),e.SetEvenOddFlag(p,m),e.SetFixedPrintFlag(t.isKeep),e.SetShrinkFlag(t.isShrink)},_proto3._getWatermark=function(e){const t={},n=this.engine;let r=parseInt(e.GetTextColor()).toString(16);if(r.length<6){const e=6-r.length;for(let t=0;t<e;t++)r="0"+r}r="#"+r;const i=e.GetSourceType().value===n.PageFormatSourceType.e_Text.value?1:2;let o=0;switch(e.GetPositionUnit().value){case n.PageFormatUnitType.e_Inches.value:o=1;break;case n.PageFormatUnitType.e_Percent.value:o=2;break;case n.PageFormatUnitType.e_Centimeters.value:o=3;break;case n.PageFormatUnitType.e_Millimeters.value:o=4;break;case n.PageFormatUnitType.e_Picas.value:o=5;break;case n.PageFormatUnitType.e_Points.value:o=6}let a=0;switch(e.GetVerticalAlign().value){case n.PageFormatAlignType.e_Top.value:a=1;break;case n.PageFormatAlignType.e_VCenter.value:a=2;break;case n.PageFormatAlignType.e_Bottom.value:a=3}let s=0;switch(e.GetHorizontalAlign().value){case n.PageFormatAlignType.e_Left.value:s=1;break;case n.PageFormatAlignType.e_HCenter.value:s=2;break;case n.PageFormatAlignType.e_Right.value:s=3}return t.sourceType=i,t.pageNumber=e.GetSourcePageNumber(),t.text=e.GetText().toString().replaceAll("\r","\n"),t.fontSize=parseInt(e.GetFontSize()),t.underLine=e.IsUnderline(),t.fontColor=r,t.fontName=e.GetFontName().toString(),t.opacity=parseInt(100*e.GetOpacity()),t.rotate=e.GetRotation(),t.scale=Math.round(100*e.GetScale()),t.appear=!0===e.IsShowOnTop()?2:1,t.isKeep=e.IsFixedPrint(),t.isPrint=e.IsVisibleForPrint(),t.isScreen=e.IsDisplayOnScreen(),t.unit=o,t.vFrom=a,t.hFrom=s,t.hDistance=parseFloat(e.GetHorizontalValue()),t.vDistance=parseFloat(e.GetVerticalValue()),t.pageStart=e.GetPageRangeStart(),t.pageEnd=e.GetPageRangeEnd(),t.pageEven=e.IsUseEvenPages(),t.pageOdd=e.IsUseOddPages(),t},_proto3._getBackground=function(e){const t={},n=this.engine;let r=parseInt(e.GetBackgroundColor()).toString(16);if(r.length<6){const e=6-r.length;for(let t=0;t<e;t++)r="0"+r}r="#"+r;const i=e.GetSourceType().value===n.PageFormatSourceType.e_Color.value?1:2;let o=0;switch(e.GetPositionUnit().value){case n.PageFormatUnitType.e_Inches.value:o=1;break;case n.PageFormatUnitType.e_Percent.value:o=2;break;case n.PageFormatUnitType.e_Centimeters.value:o=3;break;case n.PageFormatUnitType.e_Millimeters.value:o=4;break;case n.PageFormatUnitType.e_Picas.value:o=5;break;case n.PageFormatUnitType.e_Points.value:o=6}let a=0;switch(e.GetVerticalAlign().value){case n.PageFormatAlignType.e_Top.value:a=1;break;case n.PageFormatAlignType.e_VCenter.value:a=2;break;case n.PageFormatAlignType.e_Bottom.value:a=3}let s=0;switch(e.GetHorizontalAlign().value){case n.PageFormatAlignType.e_Left.value:s=1;break;case n.PageFormatAlignType.e_HCenter.value:s=2;break;case n.PageFormatAlignType.e_Right.value:s=3}return t.sourceType=i,t.pageNumber=e.GetSourcePageNumber(),t.backgroundColor=r,t.opacity=parseInt(100*e.GetOpacity()),t.rotate=e.GetRotation(),t.scale=Math.round(100*e.GetScale()),t.isPrint=e.IsVisibleForPrint(),t.isScreen=e.IsDisplayOnScreen(),t.unit=o,t.vFrom=a,t.hFrom=s,t.hDistance=parseFloat(e.GetHorizontalValue()),t.vDistance=parseFloat(e.GetVerticalValue()),t.pageStart=e.GetPageRangeStart(),t.pageEnd=e.GetPageRangeEnd(),t.pageEven=e.IsUseEvenPages(),t.pageOdd=e.IsUseOddPages(),t},_proto3._getHeaderfooter=function(e){const t={},n=this.engine;let r=parseInt(e.GetTextColor()).toString(16);if(r.length<6){const e=6-r.length;for(let t=0;t<e;t++)r="0"+r}r="#"+r;let i=e.GetPageNumberFormat().value;switch(i){case n.HeaderFooterPageNumberFormat.e_Number.value:i="1";break;case n.HeaderFooterPageNumberFormat.e_NumberOfTotal.value:i="1 of n";break;case n.HeaderFooterPageNumberFormat.e_NumberSlashTotal.value:i="1/n";break;case n.HeaderFooterPageNumberFormat.e_PageNumber.value:i="Page 1";break;case n.HeaderFooterPageNumberFormat.e_PageNumberOfTotal.value:case n.HeaderFooterPageNumberFormat.e_BatesNumber.value:i="Page 1 of n"}let o=e.GetDateFormat().value;switch(o){case n.HeaderFooterDateFormat.e_MSlashD.value:o="m/d";break;case n.HeaderFooterDateFormat.e_MSlashDSlashYY.value:o="m/d/yy";break;case n.HeaderFooterDateFormat.e_MSlashDSlashYYYY.value:o="m/d/yyyy";break;case n.HeaderFooterDateFormat.e_MMSlashDDSlashYY.value:o="mm/dd/yy";break;case n.HeaderFooterDateFormat.e_MMSlashDDSlashYYYY.value:o="mm/dd/yyyy";break;case n.HeaderFooterDateFormat.e_DSlashMSlashYY.value:o="d/m/yy";break;case n.HeaderFooterDateFormat.e_DSlashMSlashYYYY.value:o="d/m/yyyy";break;case n.HeaderFooterDateFormat.e_DDSlashMMSlashYY.value:o="dd/mm/yy";break;case n.HeaderFooterDateFormat.e_DDSlashMMSlashYYYY.value:o="dd/mm/yyyy";break;case n.HeaderFooterDateFormat.e_MMSlashYY.value:o="mm/yy";break;case n.HeaderFooterDateFormat.e_MMSlashYYYY:o="mm/yyyy";break;case n.HeaderFooterDateFormat.e_MDotDDotYY.value:o="m.d.yy";break;case n.HeaderFooterDateFormat.e_MDotDDotYYYY.value:o="m.d.yyyy";break;case n.HeaderFooterDateFormat.e_MMDotDDDotYY.value:o="mm.dd.yy";break;case n.HeaderFooterDateFormat.e_MMDotDDDotYYYY.value:o="mm.dd.yyyy";break;case n.HeaderFooterDateFormat.e_MMDotYY.value:o="mm.yy";break;case n.HeaderFooterDateFormat.e_DDotMDotYYYY.value:o="d.m.yyyy";break;case n.HeaderFooterDateFormat.e_DDDotMMDotYY.value:o="dd.mm.yy";break;case n.HeaderFooterDateFormat.e_DDDotMMDotYYYY.value:o="dd.mm.yyyy";break;case n.HeaderFooterDateFormat.e_YYHyphenMMHyphenDD.value:o="yy-mm-dd";break;case n.HeaderFooterDateFormat.e_YYYYHyphenMMHyphenDD.value:o="yyyy-mm-dd"}return t.fontSize=parseInt(e.GetFontSize()),t.underLine=e.IsUnderline(),t.fontEmbed=e.IsEmbeddedFont(),t.fontColor=r,t.fontName=e.GetFontName().toString(),t.leftHeaderText=e.GetText(n.HeaderFooterLocation.e_HeaderLeft).toString().replaceAll("\r","\n"),t.centerHeaderText=e.GetText(n.HeaderFooterLocation.e_HeaderMiddle).toString().replaceAll("\r","\n"),t.rightHeaderText=e.GetText(n.HeaderFooterLocation.e_HeaderRight).toString().replaceAll("\r","\n"),t.leftFooterText=e.GetText(n.HeaderFooterLocation.e_FooterLeft).toString().replaceAll("\r","\n"),t.centerFooterText=e.GetText(n.HeaderFooterLocation.e_FooterMiddle).toString().replaceAll("\r","\n"),t.rightFooterText=e.GetText(n.HeaderFooterLocation.e_FooterRight).toString().replaceAll("\r","\n"),t.marginLeft=e.GetMargin(n.HeaderFooterMargin.e_Left),t.marginRight=e.GetMargin(n.HeaderFooterMargin.e_Right),t.marginTop=e.GetMargin(n.HeaderFooterMargin.e_Top),t.marginBottom=e.GetMargin(n.HeaderFooterMargin.e_Bottom),t.pageStart=e.GetPageRangeStart(),t.pageEnd=e.GetPageRangeEnd(),t.pageEven=e.IsUseEvenPages(),t.pageOdd=e.IsUseOddPages(),t.isKeep=e.IsFixedPrint(),t.isShrink=e.IsShrink(),t.dateFormat=o,t.pageFormat=i,t.startPage=e.GetPageNumberOffset(),t},_proto3._getBatesNumbering=function(e){const t={},n=this.engine;let r=parseInt(e.GetTextColor()).toString(16);if(r.length<6){const e=6-r.length;for(let t=0;t<e;t++)r="0"+r}r="#"+r;let i=e.GetPageNumberFormat().value;switch(i){case n.HeaderFooterPageNumberFormat.e_Number.value:i="1";break;case n.HeaderFooterPageNumberFormat.e_NumberOfTotal.value:i="1 of n";break;case n.HeaderFooterPageNumberFormat.e_NumberSlashTotal.value:i="1/n";break;case n.HeaderFooterPageNumberFormat.e_PageNumber.value:i="Page 1";break;case n.HeaderFooterPageNumberFormat.e_PageNumberOfTotal.value:case n.HeaderFooterPageNumberFormat.e_BatesNumber.value:i="Page 1 of n"}let o=e.GetDateFormat().value;switch(o){case n.HeaderFooterDateFormat.e_MSlashD.value:o="m/d";break;case n.HeaderFooterDateFormat.e_MSlashDSlashYY.value:o="m/d/yy";break;case n.HeaderFooterDateFormat.e_MSlashDSlashYYYY.value:o="m/d/yyyy";break;case n.HeaderFooterDateFormat.e_MMSlashDDSlashYY.value:o="mm/dd/yy";break;case n.HeaderFooterDateFormat.e_MMSlashDDSlashYYYY.value:o="mm/dd/yyyy";break;case n.HeaderFooterDateFormat.e_DSlashMSlashYY.value:o="d/m/yy";break;case n.HeaderFooterDateFormat.e_DSlashMSlashYYYY.value:o="d/m/yyyy";break;case n.HeaderFooterDateFormat.e_DDSlashMMSlashYY.value:o="dd/mm/yy";break;case n.HeaderFooterDateFormat.e_DDSlashMMSlashYYYY.value:o="dd/mm/yyyy";break;case n.HeaderFooterDateFormat.e_MMSlashYY.value:o="mm/yy";break;case n.HeaderFooterDateFormat.e_MMSlashYYYY:o="mm/yyyy";break;case n.HeaderFooterDateFormat.e_MDotDDotYY.value:o="m.d.yy";break;case n.HeaderFooterDateFormat.e_MDotDDotYYYY.value:o="m.d.yyyy";break;case n.HeaderFooterDateFormat.e_MMDotDDDotYY.value:o="mm.dd.yy";break;case n.HeaderFooterDateFormat.e_MMDotDDDotYYYY.value:o="mm.dd.yyyy";break;case n.HeaderFooterDateFormat.e_MMDotYY.value:o="mm.yy";break;case n.HeaderFooterDateFormat.e_DDotMDotYYYY.value:o="d.m.yyyy";break;case n.HeaderFooterDateFormat.e_DDDotMMDotYY.value:o="dd.mm.yy";break;case n.HeaderFooterDateFormat.e_DDDotMMDotYYYY.value:o="dd.mm.yyyy";break;case n.HeaderFooterDateFormat.e_YYHyphenMMHyphenDD.value:o="yy-mm-dd";break;case n.HeaderFooterDateFormat.e_YYYYHyphenMMHyphenDD.value:o="yyyy-mm-dd"}return t.fontSize=parseInt(e.GetFontSize()),t.underLine=e.IsUnderline(),t.fontEmbed=e.IsEmbeddedFont(),t.fontColor=r,t.fontName=e.GetFontName().toString(),t.leftHeaderText=e.GetText(n.HeaderFooterLocation.e_HeaderLeft).toString().replaceAll("\r","\n"),t.centerHeaderText=e.GetText(n.HeaderFooterLocation.e_HeaderMiddle).toString().replaceAll("\r","\n"),t.rightHeaderText=e.GetText(n.HeaderFooterLocation.e_HeaderRight).toString().replaceAll("\r","\n"),t.leftFooterText=e.GetText(n.HeaderFooterLocation.e_FooterLeft).toString().replaceAll("\r","\n"),t.centerFooterText=e.GetText(n.HeaderFooterLocation.e_FooterMiddle).toString().replaceAll("\r","\n"),t.rightFooterText=e.GetText(n.HeaderFooterLocation.e_FooterRight).toString().replaceAll("\r","\n"),t.marginLeft=e.GetMargin(n.HeaderFooterMargin.e_Left),t.marginRight=e.GetMargin(n.HeaderFooterMargin.e_Right),t.marginTop=e.GetMargin(n.HeaderFooterMargin.e_Top),t.marginBottom=e.GetMargin(n.HeaderFooterMargin.e_Bottom),t.pageStart=e.GetPageRangeStart(),t.pageEnd=e.GetPageRangeEnd(),t.pageEven=e.IsUseEvenPages(),t.pageOdd=e.IsUseOddPages(),t.isKeep=e.IsFixedPrint(),t.isShrink=e.IsShrink(),t.dateFormat=o,t.pageFormat=i,t.startPage=e.GetPageNumberOffset(),t},_proto3._getPageformatProvider=function(e,t,n="",r=void 0){const i=this.engine,o=i.PageformatUndoCallback.implement({CanUndoRedo:()=>!1,OnAddUndo:e=>{},OnUndoRedoBegin:()=>{},OnUndoRedoEnd:()=>{}}),a=i.PageformatProgressBarCallback.implement({Create:()=>0,SetRange:(e,t,n)=>{},SetText:(e,t)=>{},SetCurrentValue:(e,t)=>{},PeekAndPump:e=>{},Destroy:e=>{},GetString:e=>{let t;switch(r||(r={fileName:"File Name",date:"1\\n1 of n\\n1/n\\nPage 1\\nPage 1 of n\\nBates Number",dateLocal:"%d\\n%d of %d\\n%d/%d\\nPage %d\\nPage %d of %d\\nBates Number"}),e){case i.PageFormatProgressBarStringResourceID.e_FileName:t=r.fileName;break;case i.PageFormatProgressBarStringResourceID.e_DateFormat:t="m/d\\nm/d/yy\\nm/d/yyyy\\nmm/dd/yy\\nmm/dd/yyyy\\nd/m/yy\\nd/m/yyyy\\ndd/mm/yy\\ndd/mm/yyyy\\nmm/yy\\nmm/yyyy\\nm.d.yy\\nm.d.yyyy\\nmm.dd.yy\\nmm.dd.yyyy\\nmm.yy\\nd.m.yyyy\\ndd.mm.yy\\ndd.mm.yyyy\\nyy-mm-dd\\nyyyy-mm-dd";break;case i.PageFormatProgressBarStringResourceID.e_PageNumberFormat:t=r.date;break;case i.PageFormatProgressBarStringResourceID.e_PageNumberFormatLocal:t=r.dateLocal;break;default:t=""}return new i.WString(t)}}),s=i.PageformatSysFontCallback.implement({IsStandardFont:e=>!1,GetScriptName:(e,t)=>new i.WString(""),GetFaceName:e=>new i.WString(e.toString()),GetFontTypeName:e=>new i.String(""),GetFontFaceNameBold:(e,t)=>!1,GetFontFaceNameItalic:(e,t)=>!1});let c;const l=i.PageFormatProviderCallback.implement({Release:()=>{},GetPreviewRect:n=>new i.FX_RECT(0,0,e,t),GetPage:(e,t)=>(c=e.GetPage(t),c),OnPageChanged:e=>{},GetDocName:e=>new i.WString(n)}),u=new i.PageFormatProvider(l);return u.SetProgressBarCallback(a),u.SetUndoCallback(o),u.SetSysFontCallback(s),u},_proto3.setAllBoxesByIndexes=function(e,t,n,r,i,o,a){const s=this.engine;return this.docPromise.then((c=>Promise.all(e.map((async e=>{const l=JSON.parse(JSON.stringify(o));let u,d=this.pageIndexMap[e];d?u=d.page||c.GetPage(e):(u=c.GetPage(e),d=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(e,this),d.page=u,this.updatePageIndexMap(e,d),this.updatePageCache(d));let h=d.getBox(0);const f=h.right-h.left,g=h.top-h.bottom,p=["cropBox","artBox","trimBox","bleedBox"];if(a){const e=await d.calcContentBBox(0);p.forEach((t=>{l[t]=e}))}const m="number"==typeof t?t:f,_="number"==typeof n?n:g;m>f||_>g?(h={left:0,right:m,bottom:0,top:_},p.forEach((e=>{const t=l[e];t&&(t.right=m-f+t.right,t.top=_-g+t.top)}))):r=i=0;const y=l.cropBox;if(y&&y.right-y.left>=10&&y.top-y.bottom>=10&&(p.forEach((e=>{if("cropBox"!==e){const t=l[e];if(!t)return;const n=y.right-y.left,r=t.right-t.left,i=y.top-y.bottom,o=t.top-t.bottom;r>n&&(t.left=y.left,t.right=y.right),o>i&&(t.bottom=y.bottom,t.top=y.top),t.left=Math.max(y.left,t.left),t.bottom=Math.max(y.bottom,t.bottom),t.right=Math.min(y.right,t.right),t.top=Math.min(y.top,t.top);const a=t.right-t.left,s=t.top-t.bottom;if(a<=0)throw new Error(`Incorrect ${e} size, width must be greater then 0, but actual ${a}, ${e}: ${JSON.stringify(t)}`);if(s<=0)throw new Error(`Incorrect ${e} size, height must be greater then 0, but actual ${s}, ${e}: ${JSON.stringify(t)}`)}})),l.cropBox&&d.setBox(1,l.cropBox),l.trimBox&&d.setBox(2,l.trimBox),l.artBox&&d.setBox(3,l.artBox),l.bleedBox&&d.setBox(4,l.bleedBox)),d.setBox(0,h),u.Reload(!1),r>0||i>0){let e=new s.Matrix(1,0,0,1,Math.floor(r),Math.floor(i));u.Transform(e,!0),u.StartParse(0,null,!0),e.delete()}return d.toJson()})))))},_proto3.getAllBoxes=function(e){let t={};return this.docPromise.then((function(e){return[e.GetPageCount(),e]})).then((([n,r])=>{let i=0,o=0;for(let a=n;a--;){const n=r.GetPage(a),s=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(a,this);s.page=n;const c=s.getBox(0),l=c.right-c.left,u=c.top-c.bottom;a===e&&(t={mediaBox:c,cropBox:s.getBox(1),trimBox:n.GetBox(this.engine.BoxType.e_TrimBox).IsEmpty()?{}:s.getBox(2),artBox:n.GetBox(this.engine.BoxType.e_ArtBox).IsEmpty()?{}:s.getBox(3),bleedBox:n.GetBox(this.engine.BoxType.e_BleedBox).IsEmpty()?{}:s.getBox(4),width:l,height:u,pdfPage:s}),i=0===i||i>l?l:i,o=0===o||o>u?u:o}return t.minWidth=i,t.minHeight=o,t.pdfPage.calcContentBBox(0)})).then((e=>(t.calcBox=e,delete t.pdfPage,t)))},_proto3.getPDFDocInfo=function(){return this.docPromise.then((function(e){let t=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),n=e.GetInfo();return t.resolve(n),t.promise}))},_proto3.getPageCount=function(){return this.docPromise.then((function(e){return e.GetPageCount()}))},_proto3.getIndirectObject=function(e){return this.docPromise.then((function(t){let n=t.GetIndirectObject(e);return new _object_PDFObject__WEBPACK_IMPORTED_MODULE_45__.Z(t,n)}))},_proto3.getPagesWidthHeight=function(){return this.docPromise.then((function(e){return[e.GetPageCount(),e]})).then((([e,t])=>{let n=[],r=Date.now();for(let r=e;r--;){let e=t.GetPage(r);n[r]={width:e.GetWidth(),height:e.GetHeight()}}Date.now();return n}))},_proto3.getPageByIndex=function(e,t,n){let r=this.pageIndexMap[e];if(r)return t&&(r.id=t,this.updatePageCache(r)),Promise.resolve(r);if(this.pageIndexPromise[e])return this.pageIndexPromise[e];let i=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)();return r=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(e,this),n&&r.preparse(),this.pageIndexPromise[e]=r.c_pagePromise.then((()=>{t&&(r.id=t),this.updatePageIndexMap(e,r),this.updatePageCache(r),delete this.pageIndexPromise[e],i.resolve(r)})).catch((t=>{_share_InvalidJRObjectError_ts__WEBPACK_IMPORTED_MODULE_33__.Z.is(t)?(r=new _virtual_VirtualJRPDFPage_ts__WEBPACK_IMPORTED_MODULE_34__.ZP(e,this),this.updatePageIndexMap(e,r),this.updatePageCache(r),delete this.pageIndexPromise[e],i.resolve(r)):i.reject(t)})),i.promise},_proto3.hasAnnots=function(e){return this.getPageByIndex(e).then((e=>e.hasAnnots()))},_proto3.getAllPageAnnotCount=async function(){const e=await this.getPageCount();return Promise.all(Array(e).fill(0).map((async(e,t)=>(await this.getPageByIndex(t)).hasAnnots())))},_proto3.getAllAnnotsData=async function(){const e=(e,t)=>{let n=e.page.GetAnnot(t);return n.IsEmpty()?null:this.JR.annotManager.get(n,e,t)},t=(await this.docPromise).GetPageCount();return Promise.all(Array(t).fill(0).map((async(t,n)=>{try{const t=await this.getPageByIndex(n,null,!1);if(!t)return[];const r=t.page.GetAnnotCount();if(0===r)return[];const i=new Array(r).fill(1).map(((n,r)=>e(t,r)));let o=((e,t)=>{var n;const r=t.map((e=>e.getId()));return r.reduceRight(((e,t,n)=>(r.indexOf(t)!==n&&e.push(n),e)),[]).forEach((e=>{t[e].destroy(),t.splice(e,1)})),(n=e._needDestroyAnnots).push.apply(n,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,t)),t})(t,i.filter((e=>"unknowntype"!=e.getType())));return this.getAnnotsData(o,t)}catch(e){let t=this.engine.getErrorCode(e);console.error(t)}})))},_proto3.getAnnotsData=function(e,t){let n={};e.map(((e,t)=>{let r=e.annot;if(0===r.GetType().value)return!1;let i=r.GetDict(),o=i.GetObjNum(),a=n[o]=n[o]||{},s=o;a.index=t,a.id=s,a.objectNumber=s;let c=e.engine,l=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(c,"IRT");if(i.HasKey(l)){let e=i.GetElement(l).GetDict().GetObjNum(),o=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(c,"RT"),u=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(c,"State"),d=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(c,"StateModel"),h=n[e]=n[e]||{};if(i.HasKey(u)&&i.HasKey(d)){let e=i.GetElement(d).GetString().toString(),n=r.GetModifiedDateTime(),o=0;switch(n.IsValid()&&(n=n.ToUTCTime(),o=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.milliseconds)),e){case"Marked":(h.markedStates=h.markedStates||[]).push({index:t,id:s,time:o,objectNumber:s});break;case"Review":(h.reviewStates=h.reviewStates||[]).push({index:t,id:s,time:o,objectNumber:s})}}else if(i.HasKey(o)){if("Group"===i.GetElement(o).GetString().toString()){h.isGroupHeader=!0,h.isGroup=!0,(h.groupElements=h.groupElements||[]).push({index:t,id:s,objectNumber:s}),a.isGroup=!0,a.groupHeader=h}else{h.hasReplies=!0,(h.replies=h.replies||[]).push({index:t,id:s,content:r.GetContent().toString(),objectNumber:s})}}else{h.hasReplies=!0,(h.replies=h.replies||[]).push({index:t,id:s,content:r.GetContent().toString(),objectNumber:s})}}}));let r=e.map((e=>{if(0!==e.annot.GetType().value)return e&&e.toJson(n)})).filter(Boolean);return t&&!t.isVirtual&&r.push.apply(r,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,t.getFakeAnnots())),r},_proto3.getPage=function(e){},_proto3.getPDFPageByPageIndex=function(e){},_proto3.getPermission=function(){return this.stdCipherOptions?this.stdCipherOptions.permission:this.doc.GetUserPermissions()},_proto3.getMetadata=function(){const e=this.engine;let t=new e.Metadata(this.doc);const n={Title:getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"Title")),Author:getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"Author")),Subject:getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"Subject")),Keywords:getMetadataValue(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"Keywords")),Creator:getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"Creator")),Producer:getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"Producer")),Trapped:getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"Trapped")),CreationDate:formatMetadataDate(getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"CreationDate"))),ModDate:formatMetadataDate(getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"ModDate"))),pdfaid:getMetadataValues(t,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,"pdfaid")),isTagged:this.doc.IsTaggedPDF(),isLinearized:this.doc.IsLinearized(),version:this.doc.GetFileVersion(),count:this.doc.GetPageCount()},r={};let i=t.GetCustomerKeys();for(let e=0;e<i.GetSize();e++){const n=i.GetAt(e),o=t.GetValues(n),a=o.GetSize()>0?o.GetAt(0).toString():"";r[n.toString()]=a}let o={},a=t.GetAllRdfXMLKeys();for(let n=0;n<a.GetSize();n++){const r=a.GetAt(n).toString().split(":");if(!["CreateDate","Keywords","ModifyDate","Producer"].includes(r[1])){const n=t.GetRdfXMLString((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,r[0]),(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,r[1]));o[r[1]]=n.toString()}}return t.delete(),t=null,n.allXMLKey=o,n.custom=r,n},_proto3.setMetadataValue=function(e,t){let n=this.engine;const r=new n.WString(e.toString());let i;i="CreationDate"===e||"ModDate"===e?this.ToDateTime(t):new n.WString(t.toString());let o=new n.Metadata(this.doc);if("CreationDate"===e)o.SetCreationDateTime(i);else if("ModDate"===e)o.SetModifiedDateTime(i);else{let e=o.GetValues(r);e.RemoveAll(),e.Add(i),o.SetValues(r,e)}o.delete(),o=null},_proto3.ToDateTime=function(e){const t=new Date(e);let n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds(),l=-t.getTimezoneOffset()/60;return new this.engine.DateTime(n,r,i,o,a,s,c,l,0)},_proto3.movePageTo=function(e,t){let n=this;return this.docPromise.then((function(r){let i=n.getPageById(e);return i.parsedPage().then((e=>{let o=i.index,a=r.MovePageTo(e,t);if(a){let e,r,i;o<t?(e=o,r=t,i=!1):(e=t,r=o,i=!0),n.updatePageIndex(e,r,i,!0)}return a}))}))},_proto3.insertPage=function(e,t,n){let r=this;return this.docPromise.then((function(i){let o=i.InsertPage(e,t,n);if(!o)return!1;let a,s=o.GetIndex(),c=a=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(s,r);a.page=o;let l=i.GetPageCount()-1;return r.updatePageIndex(s+1,l,!0,!1),r.updatePageIndexMap(s,c),r.updatePageCache(a),a.toJson()}))},_proto3.removePage=function(e){let t=this;const n=this.touchup,r=t.doc.GetPageCount();return this.JR.asyncOperation((()=>this.doc.RemovePage(e))).then((i=>{if(i){if(n&&delete n.editPages[e],t.pageIndexMap[e]){let n=t.pageIndexMap[e];delete t.pageIndexMap[e],delete t.pageIndexPromise[e],t.removePageCache(n)}let i=r-1-1;t.updatePageIndex(e,i)}return i}))},_proto3.showNameTreePageAtTheEnd=function(){return this.docPromise.then((e=>{const t=e.GetPageCount()-1,n=e.GetPage(t),r=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(t,this);return r.page=n,this.updatePageIndexMap(t,r),this.updatePageCache(r),r.toJson()}))},_proto3.hideNameTreePage=function(e){let t=this.doc.GetPageCount(),n=e;if(e<0&&(n=t),this.pageIndexMap[n]){let e=this.pageIndexMap[n];delete this.pageIndexMap[n],delete this.pageIndexPromise[n],this.removePageCache(e)}return e>=0&&this.updatePageIndex(e,t-1),this.form&&this.form.afterRemovePage(e),!0},_proto3.updatePageIndex=function(e,t,n,r){if(r)if(n){let r=this.pageIndexMap[t];delete this.pageIndexMap[t],this.updatePageIndex(e+1,t,n,!1),r&&(this.pageIndexMap[e]=r,this.pageIndexMap[e].index=e)}else{let r=this.pageIndexMap[e];delete this.pageIndexMap[e],this.updatePageIndex(e,t-1,n,!1),r&&(this.pageIndexMap[t]=r,this.pageIndexMap[t].index=t)}else if(n)for(let n=t;n>=e;n--)this.pageIndexMap[n-1]&&(this.pageIndexMap[n]=this.pageIndexMap[n-1],delete this.pageIndexMap[n-1],delete this.pageIndexPromise[n-1],this.pageIndexMap[n].index=n);else for(let n=e;n<=t;n++)n<0||!this.pageIndexMap[n+1]||(this.pageIndexMap[n]=this.pageIndexMap[n+1],delete this.pageIndexMap[n+1],delete this.pageIndexPromise[n+1],this.pageIndexMap[n].index=n)},_proto3.destroy=function(){this.beforeSaveHooks=[];let e=this.pageCache,t=[];for(let n in e)t.push(e[n].destroy()),delete e[n];this.destroyHooks.forEach((e=>e())),this.form&&this.form.destroy(),this.form=null,this.pdfLayer&&this.pdfLayer.delete(),this.pdfLayer=null,this.attachments=null,this.asyncBlock&&this.asyncBlock.destroy(),this.password=null,this.stdCipherOptions=null,this.passwordType=null,this.JR.unRegisterSecurityCallback("FOPN_foweb"),this.destroyCallback(),this.docPromise=null,this.docDeferred.promise=null,this.otherData=null;let n=this.rootBookmark;n&&n.destroy(),this.rootBookmark=null,this.buffer&&this.engine._free(this.buffer),this.buffer=null,this.getBuffer=null;let r=Promise.all(t).then((e=>{let t=this.doc;try{t.ClearRenderCache()}catch(e){}t&&t.delete(),this.doc=null,this.readerCallback&&this.readerCallback.delete(),this.readerCallback=null}));return this.destroyHooks=[],(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.EY)(),r},_proto3.destroyPage=function(e){let t=this.getPageById(e);t&&(t.destroy(),delete this.pageCache[e])},_proto3.getInfos=function(){return{fileSize:this.doc.GetFileSize()}},_proto3.toJson=function(){let e,t=this.doc,n=this.engine,r=t.GetPageCount(),i=t.GetFileSize(),o=this.doc.GetOpenAction();o.IsEmpty()||(o=this.JR.actionManager.get(o,this.doc,this.JR),e=o.toJson(),o.destroy());let a=[],s=t.GetTrailer();if(s){let e=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"ID"),t=s.GetElement(e);if(t){let e=t.GetArray();for(let t=0,n=2;t<n;t++){let n=e.GetElement(t).GetString().GetBuffer(),r="";for(let e=0,t=16;e<t;e++){let t=this.engine.HEAP8[n+e]>>>0&255;t=t.toString(16),t.length<2&&(t="0"+t),r+=t}a.push(r)}}}let c=t.GetUserPermissions(),l=!0,u=n.PasswordType.e_PwdNoPassword;try{let e=t.GetSecurityHandler();if(e.IsEmpty())l=!0;else{let r=n.EncryptType;switch(e.GetSecurityType()){case r.e_EncryptNone:l=!0;break;case r.e_EncryptPassword:u=t.GetPasswordType(),l=u==n.PasswordType.e_PwdOwner;break;case r.e_EncryptFoxitDRM:case r.e_EncryptCDRM:l=t.GetDRMEncryptData().is_owner;break;case r.e_EncryptCertificate:l=!!(2&c);break;case r.e_EncryptCustom:case r.e_EncryptRMS:case r.e_EncryptUnknown:default:l=!0}}}catch(e){l=!1}let d=t.IsXFA()?1:0,h=this.isDynamicXFA(),f={},g=t.GetCatalog(),p=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"Names"),m=g.HasKey(p);h?d=2:m&&(f=this.getNameTree(2));let _=[];if(m){let e=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"AP"),t=g.GetElement(p).GetDict(),r=t&&t.GetElement(e);if(r&&r.GetDirectObject()){let e=r.GetDirectObject().GetDict().GetElement(p);if(e){let t=e.GetArray(),n=t.GetElementCount();for(let e=0;e<n;e+=2){let n,r=t.GetElement(e).GetString();try{n=r.toString()}catch(e){let t="",i=r.GetBuffer();for(let e=0,n=r.GetLength();e<n;e++){let n=this.engine.HEAP8[i+e]>>>0&255;t+=String.fromCharCode(n)}n=this.JR.pdfNameDecoding(t)}let i=t.GetElement(e+1).GetDirectObject();i&&_.push({name:n,objNum:i.GetObjNum()})}}}}let y=!0,S=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"AcroForm");if(g.HasKey(S)){let e=g.GetElement(S).GetDirectObject();if(e.GetType()==n.PDFObjectType.e_Dictionary){let t=e.GetDict(),r=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"SigFlags");if(t.HasKey(r)){let e=t.GetElement(r).GetInteger();1&e||2&e||(y=!1)}}}let b=[];if(y){let e=t.GetSignatureCount();for(let n=0;n<e;n++){let e=t.GetSignature(n);if(!e.IsSigned())continue;l=!1;let r=4294963392;switch(e.GetDocPermission().value){case 0:r=4294967292;break;case 1:r=4294965972;break;case 2:r=4294966740;break;case 3:r=4294966772}b.push(r)}}8&c&&(c=(1024|c)>>>0),this.isOwner=l;let I=t.GetUserPermissions();if(this.canGetXFA()){let e=2064;this.isOwner=!1,l=!1,c&=e,I&=e,r=this.xfaDoc.GetPageCount()}const A=new n.Metadata(this.doc),D=getMetadataValues(A,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(n,"pdfaid"));A.delete();return{curFileSymbolId:this.curFileId,id:this.id,fileSize:i,sigPerms:b,fileID:a,pageCount:r,userPermissions:c,oriPerm:I,action:e,jsNameTree:f,isOwner:l,passwordType:u.value,icons:_,isTagged:t.IsTaggedPDF(),isPortfolio:t.IsPortfolio(),isCompareDoc:false,pdfaid:D,fileType:d}},_proto3.getStream=function({writeStream:e,endAllOperations:t=!0},n){this.beforeSaveHooks.forEach((e=>e(t)));let r=this.engine;return this.docPromise.then((function(t){let i=0,o=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),a=r.WriterCallback.implement({Release:()=>{a.delete()},Flush:()=>(o.resolve(i),!0),GetSize:()=>i,WriteBlock:(t,n,o)=>{i=Math.max(n+o,i);let a,s=r.HEAPU8.buffer;return a=s.slice?s.slice(t,t+o):new Uint8Array(s,t,o).buffer,e(a,n,o),!0}});return r.saveDoc(t,a,n),o.promise}))},_proto3.importFromFDF=function(e,t=3,n=null){n||(n=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)());let r=new this.engine.Range(0,this.doc.GetPageCount()-1,this.engine.RangeFilter.e_All);try{this.JR.setFontCacheEnabled(!1);let i=this.doc.ImportFromFDF(e,t,r);this.JR.setFontCacheEnabled(!0),n.resolve(i)}catch(r){if(17==(r=this.engine.getErrorCode(r)).value)return void setTimeout((()=>{this.importFromFDF(e,t,n)}),200);console.warn(r)}finally{r.delete(),r=null,logger.info("ImportFromFDF","finally")}return n.promise},_proto3.getBookmarks=function(){return this.docPromise.then((e=>{let t=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)();if(this.rootBookmark)return t.resolve(this.rootBookmark.toJson()),t.promise;let n,r=e.GetRootBookmark();if(r.IsEmpty())n=null;else{let t=new _PDFBookmark_js__WEBPACK_IMPORTED_MODULE_16__.Z(this,r.GetDict().GetObjNum(),r,e);n=t.toJson(),this.rootBookmark=t}return t.resolve(n),t.promise}))},_proto3.getBlankPageIndexes=function(){return this.docPromise.then((e=>{let t=e.GetBlankPageIndexes();const n=[];for(let e=t.GetSize();e--;)n[e]=t.GetAt(e);return n}))},_proto3.createRootBookmark=function(){let e=this;return this.docPromise.then((function(t){if(!e.rootBookmark){let n=t.CreateRootBookmark(),r=new _PDFBookmark_js__WEBPACK_IMPORTED_MODULE_16__.Z(e,n.GetDict().GetObjNum(),n,t);e.rootBookmark=r}return e.rootBookmark.toJson()}))},_proto3.addBookmarksFromStructureRoles=function(e,t){return this.docPromise.then((n=>{let r=n.GetRootBookmark();!0===r.IsEmpty()&&(r=n.CreateRootBookmark());const i=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(this.engine,t),o=r.Insert(i,this.engine.BookmarkPosition.e_PosLastChild),a=new this.engine.WStringArray;for(const t of e)a.Add((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(this.engine,t));return o.AddBookmarksFromStructureRoles(a,null),o.GetDict().GetObjNum()}))},_proto3.insertBookmark=function(e,t,n,r,i=0,o,a){return this.rootBookmark.getBookmarkById(e).insert(t,n,{top:r,left:i},o,a).toJson()},_proto3.setBookmarkProperty=function(e,t){let n=this.rootBookmark.getBookmarkById(e);return n.setProperty(t),n.toJson()},_proto3.removeBookmark=function(e){let t;return this.rootBookmark.id==e?(t=this.rootBookmark,this.rootBookmark=null):t=this.rootBookmark.removeChild(e),t&&t.remove()},_proto3.getLayerNodes=function(){let e=this.engine,t=this;return this.docPromise.then((function(n){let r=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),i=new _PDFLayer_js__WEBPACK_IMPORTED_MODULE_17__.Z(n,e);t.pdfLayer&&t.pdfLayer.delete(),t.pdfLayer=i;let o=i.toJson();return r.resolve(o),r.promise}))},_proto3.getRootLayerNodeChildrenCount=async function(){const e=this.engine,t=await this.docPromise,n=new e.LayerTree(t);if(n.IsEmpty())return 0;const r=n.GetRootNode();try{return r.GetChildrenCount()}finally{n.delete(),r.delete()}},_proto3.createLayerNodes=function(e){return new _PDFLayer_js__WEBPACK_IMPORTED_MODULE_17__.Z(this.doc,this.engine,e)},_proto3.getRedaction=function(){let e=this.engine,t=this;return this.docPromise.then((function(n){if(!e.Library.HasModuleLicenseRight({value:3}))return Promise.reject(_error_code__WEBPACK_IMPORTED_MODULE_22__.v.noRedactionLicense);if(!t.c_redaction)try{t.c_redaction=new e.Redaction(n)}catch(t){isNaN(t)||(t=e.getErrorCode(t)),console.warn(t)}return t.c_redaction}))},_proto3.applyRedaction=function(){let e={},t={},n=[];for(let e=0;e<this.doc.GetPageCount();e++)n.push(this.getPageByIndex(e).then((e=>(t[e.index]=e,e.getAnnots()))));return Promise.all(n).then((t=>{for(let n in this.pageCache){let r=this.pageCache[n];e[r.index]||(e[r.index]={}),t[r.index].forEach((t=>{let n=t.annot.GetDict().GetObjNum();n&&(e[r.index][n]=t)}))}return this.getRedaction().then((e=>{let t=[];if(!e.Apply())return!1;for(let e in this.pageCache){let n=this.pageCache[e];t.push(n.update())}return Promise.all(t)})).then((t=>{let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=i.index,a=e[o],s=[];for(let e in a){let t=a[e];(-1===i.annotIds.indexOf(Number(e))||t.annot.IsEmpty())&&s.push(e)}n.push({pageIndex:o,removedAnnotIds:s})}return n})).catch((e=>(-6===e.error||isNaN(e)||(e=this.engine.getErrorCode(e)),Promise.reject(e))))}))},_proto3.exportToFDF=function(e,t,n){let r=this.engine,i=new r.FDFDoc(e);if(0==Object.keys(n).length){let e=new r.Range(0,this.doc.GetPageCount(),r.RangeFilter.e_All);this.doc.ExportToFDF(i,t,e),e.delete(),e=null}else for(let e in n){let t=this.getPageById(e);if(!t)throw new Error("page not loaded: "+e);n[e].forEach((e=>{let n=t._getAnnotIndexById(e),r=t.page.GetAnnot(n);!r.IsEmpty()&&r.IsMarkup()&&this.doc.ExportAnnotToFDF(r,i)}))}let o=0,a=[],s=r.WriterCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>o,WriteBlock:(e,t,n)=>{o+=n;let i,s=r.HEAPU8.buffer;return i=s.slice?s.slice(e,e+n):new Uint8Array(s,e,n).buffer,a.push(i),!0}});return i.SaveAs(s),new Blob(a,{type:["application/vnd.adobe.fdf","application/vnd.xfdf"][e]})},_proto3.exportToStardardXml=function(e,t){const n=this.engine,r=this.doc;let i,o=null,a=n.ExportToImageCallback.implement({Release:noop,GetPDFProducer:()=>new n.WString(""),GetPDFDocAuthor:()=>new n.WString(""),GetStreamCallbackForImage:e=>{let r=e.toString();-1!=r.indexOf("\\")&&(r=r.replace("\\","/")),0==r.indexOf("/")&&(r=r.substr(1,r.length-1)),o&&o.byteLength>0&&t({fileName:r,imgBuffer:o,percent:i?i.GetRateOfProgress():0}),o=new ArrayBuffer;return n.StreamCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>o.byteLength,ReadBlock:(e,t,r)=>{if(o&&o.byteLength>0){let i=new Uint8Array(o,t,r);return n.HEAPU8.set(i,e),!0}return!1},WriteBlock:(e,t,r)=>{if(o.byteLength<t+r){let e=o;if(o=new ArrayBuffer(t+r),0!==e.byteLength){const t=new Uint8Array(e);new Uint8Array(o).set(t)}}const i=new Uint8Array(o,t,r),a=n.HEAPU8.subarray(e,e+r);return i.set(a),!0}})}}),s=0,c=[],l=n.WriterCallback.implement({Release:noop,Flush:()=>!0,GetSize:()=>s,WriteBlock:(e,t,r)=>{s+=r;let i,o=n.HEAPU8.buffer;return i=o.slice?o.slice(e,e+r):new Uint8Array(o,e,r).buffer,c.push(i),!0}}),u=new n.WString(e),d=new n.WString(e),h=n.PauseCallback.implement({NeedToPauseNow:()=>!0});i=r.StartExportToXML(l,d,u,a,h),t({percent:i.GetRateOfProgress()}),continueExport={exportImageCallback:a,pauseCallback:h};let f=n.ProgressiveState.e_ToBeContinued;for(;continueExport&&f===n.ProgressiveState.e_ToBeContinued;)f=i.Continue(),t({percent:i.GetRateOfProgress()});t({imgBuffer:o,xmlBuffer:c,fileName:e,percent:100}),this.cancelExport()},_proto3.exportToTxt=function(e,t,n){const r=this.engine;let i=new r.Range;if(t&&t.string){const{string:e,filter:n}=t;e.split(",").filter((e=>!!e)).forEach((e=>{if(e.indexOf("-")>=0){const[t,o]=e.split("-");i.AddSegment(Number(t)-1,Number(o)-1,{all:r.RangeFilter.e_All,even:r.RangeFilter.e_Odd,odd:r.RangeFilter.e_Even}[n])}else i.AddSingle(Number(e)-1)}))}let o,a=new r.ExportProvider,s=0,c=[];const l=r.StreamCallback.implement({Release:()=>{l.delete()},Flush:()=>!0,GetSize:()=>s,ReadBlock:()=>!0,WriteBlock:(e,t,n)=>{s+=n;let i,o=r.HEAPU8.buffer;return i=o.slice?o.slice(e,e+n):new Uint8Array(o,e,n).buffer,c.push(i),!0}});"convert-pdf-to-accessible-txt"===e?(o=r.ExportAccessibilityTextCallback.implement({Release:()=>{},GetEntryKey:()=>new r.WString(""),GetTxtFileStream:()=>l}),a.SetExportAccessibilityTextCallback(o)):(o=r.ExportTextCallback.implement({Release:()=>{},GetTxtFileStream:()=>l}),a.SetExportTextCallback(o));let u=r.PauseCallback.implement({NeedToPauseNow:()=>!0}),d=new r.ExportMgr(a,this.doc),h=d.StartExportPDFToText(i,u);continueExport={range:i,exportTextCallback:o,pauseCallback:u,exportProvider:a,exportMgr:d};let f=r.ProgressiveState.e_ToBeContinued;for(;continueExport&&f===r.ProgressiveState.e_ToBeContinued;)f=h.Continue(),n({percent:h.GetRateOfProgress()});n({buffer:c,percent:100}),this.cancelExport()},_proto3.generateImageExportSetting=function(e,t,n){let r=null;const i=e=>{if(["png","jpeg","jpeg2000","tiff","bmp"].indexOf(t.format)<0)return;e.SetImageColorSpace({value:t.imageColorSpace});const n=[0,72,96,150,300,600,1200,2400].indexOf(t.imageResolution);n>=0?e.SetImageResolution({value:n}):(e.SetImageResolution({value:-1}),e.SetCustomResolution(t.imageResolution)),"tiff"===t.format&&e.SetImageConvertType({value:t.imageConvertType})};switch(t.format){case"png":r=new e.PNGExportSetting,r.SetInterlace({value:t.pngInterlace}),i(r);break;case"jpeg":case"jpeg2000":r=new e.JPEGExportSetting("jpeg2000"===t.format),r.SetImageGrayscaleQuality({value:t.imageGrayscaleQuality}),r.SetImageColorQuality({value:t.imageColorQuality}),"jpeg2000"===t.format&&r.SetImageTile(t.imageTile),i(r);break;case"tiff":r=new e.TIFFExportSetting,r.SetMonochromeCompressType({value:t.monochromeCompressType}),r.SetGrayscaleCompressType({value:t.grayscaleCompressType}),r.SetColorCompressType({value:t.colorCompressType}),i(r);break;case"bmp":r=new e.BMPExportSetting,i(r)}if(r){if(n)return r.SetImageSettingType(e.ImageSettingType.e_PageToImage),r;switch(t.type){case"pageToImage":r.SetImageSettingType(e.ImageSettingType.e_PageToImage);break;case"imageObjsOfPage":r.SetImageSettingType(e.ImageSettingType.e_ImageObjsOfPage),r.SetImageMinInch({value:t.imageMinInch})}return r}},_proto3.exportToImage=function(e,t,n,r){const i=this.engine;let o=this.generateImageExportSetting(i,e),a=new i.Range;if(n&&n.string){const{string:e,filter:t}=n;e.split(",").filter((e=>!!e)).forEach((e=>{if(e.indexOf("-")>=0){const[n,r]=e.split("-");a.AddSegment(Number(n)-1,Number(r)-1,{all:i.RangeFilter.e_All,even:i.RangeFilter.e_Odd,odd:i.RangeFilter.e_Even}[t])}else a.AddSingle(Number(e)-1)}))}let s=null,c=null;const l=i.ExportImageCallback.implement({Release:()=>{},GetDeviceCapsX:()=>e.dpi&&e.dpi.x||96,GetDeviceCapsY:()=>e.dpi&&e.dpi.y||96,CallBackError:()=>!0,GetImageFileStream:(e,n)=>{s&&s.byteLength>0&&r({fileName:c,buffer:s,percent:f?f.GetRateOfProgress():0}),s=new ArrayBuffer;const o=t.lastIndexOf("."),a=t.substr(0,o),l=t.substr(o);c=n<=0?a+"_Page"+e.toString()+l:a+"_Page"+e.toString()+"_Image"+n.toString()+l;return i.StreamCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>s.byteLength,ReadBlock:(e,t,n)=>{if(s&&s.byteLength>0){let r=new Uint8Array(s,t,n);return i.HEAPU8.set(r,e),!0}return!1},WriteBlock:(e,t,n)=>{if(s.byteLength<t+n){let e=s;if(s=new ArrayBuffer(t+n),0!==e.byteLength){const t=new Uint8Array(e);new Uint8Array(s).set(t)}}const r=new Uint8Array(s,t,n),o=i.HEAPU8.subarray(e,e+n);return r.set(o),!0}})}});let u=i.PauseCallback.implement({NeedToPauseNow:()=>!0}),d=new i.ExportProvider;d.SetExportImageCallback(l);let h=new i.ExportMgr(d,this.doc),f=h.StartExportPDFToImage(o,a,u);r({percent:f.GetRateOfProgress()}),continueExport={imageExportSetting:o,engineRange:a,exportImageCallback:l,pauseCallback:u,exportProvider:d,exportMgr:h};let g=i.ProgressiveState.e_ToBeContinued;for(;continueExport&&g===i.ProgressiveState.e_ToBeContinued;)g=f.Continue(),r({percent:f.GetRateOfProgress()});r({buffer:s,fileName:c,percent:100}),this.cancelExport()},_proto3.exportImageObjectToImage=async function(e,t,n,r){const i=this.engine;let o=this.generateImageExportSetting(i,t,e),a=this.doc.GetPage(e.index),s=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(e.index,this),c=(await s.getGraphicsObjectAtPoint(e.selectPosition,0,3)).graphicsObject,l=null;const u=i.ExportImageCallback.implement({Release:()=>{},GetDeviceCapsX:()=>t.dpi&&t.dpi.x||96,GetDeviceCapsY:()=>t.dpi&&t.dpi.y||96,CallBackError:()=>!0,GetImageFileStream:()=>{l&&l.byteLength>0&&r({fileName:n,buffer:l,percent:g?g.GetRateOfProgress():0}),l=new ArrayBuffer;const e=i.StreamCallback.implement({Release:()=>{e.delete()},Flush:()=>!0,GetSize:()=>l.byteLength,ReadBlock:(e,t,n)=>{if(l&&l.byteLength>0){let r=new Uint8Array(l,t,n);return i.HEAPU8.set(r,e),!0}return!1},WriteBlock:(e,t,n)=>{if(l.byteLength<t+n){let e=l;if(l=new ArrayBuffer(t+n),0!==e.byteLength){const t=new Uint8Array(e);new Uint8Array(l).set(t)}}const r=new Uint8Array(l,t,n),o=i.HEAPU8.subarray(e,e+n);return r.set(o),!0}});return e}});let d=i.PauseCallback.implement({NeedToPauseNow:()=>!0}),h=new i.ExportProvider;h.SetExportImageCallback(u);let f=new i.ExportMgr(h,this.doc),g=f.StartExportImageObjToImage(c,a,o,d);r({percent:g.GetRateOfProgress()}),continueExport={imageExportSetting:o,exportImageCallback:u,pauseCallback:d,exportProvider:h,exportMgr:f};let p=i.ProgressiveState.e_ToBeContinued;for(;continueExport&&p===i.ProgressiveState.e_ToBeContinued;)p=g.Continue(),r({percent:g.GetRateOfProgress()});r({buffer:l,fileName:n,percent:100}),this.cancelExport()},_proto3.cancelExport=function(){if(continueExport){for(const e in continueExport)continueExport[e]=null;continueExport=null}},_proto3.loadForm=function(){if(this.form)return this.form;let e=this.engine,t=new e.Form(this.doc);return this.form=new _pdf_jr_Form_Form__WEBPACK_IMPORTED_MODULE_18__.Z(this,t,e,this.JR),this.form},_proto3.destroyForm=function(){this.form&&(this.form.destroy(),this.form=null)},_proto3.setOpenAction=function(e,t){let n=this.JR.actionManager.create(this.doc,e);return this.doc.SetOpenAction(n),n=this.JR.actionManager.get(n,this.doc,this.JR),n.create(t),n.toJson()},_proto3.getSecurityType=function(){return this.doc.GetSecurityHandler().GetSecurityType().value},_proto3.setCertificateAndPermission=function(e,t,n){const r=this.engine,i=new FileReaderSync;let o=new r.EnvelopeArray;e.forEach((e=>{const{cerFile:t,permission:n}=e,a=i.readAsArrayBuffer(t),s=r.StreamCallback.implement({GetSize:()=>a.byteLength,GetPosition:()=>0,ReadBlock:(e,t,n)=>{const i=new Uint8Array(a,t,n);return r.HEAPU8.set(i,e),!0}});let c=null;if(n){const{print:e,change:t,accessibility:i,copy:o}=n;c=new r.CertPermission,c.bEnableCopy=o,c.bEnableTextAccess=i,c.printPer={value:e},c.changePer={value:t}}let l=new r.Envelope(s,c);o.Add(l)}));let a=r.CipherType.e_CipherNone;t===_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES128||t===_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES256?a=r.CipherType.e_CipherAES:t===_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.RC4&&(a=r.CipherType.e_CipherRC4);let s=new r.CertificateSecurityHandler;return s.Initialize(o,a,n),this.doc.SetSecurityHandler(s),!0},_proto3.setPasswordAndPermission=function(e,t,n,r,i){let o=this.engine;return this.docPromise.then((a=>{let s,c;if(r==_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.None)s=o.CipherType.e_CipherNone,c=0;else if(r==_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.RC4)s=o.CipherType.e_CipherRC4,c=16;else if(r==_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES128)s=o.CipherType.e_CipherAES,c=16;else{if(r!=_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES256)throw new Error("cipher error");s=o.CipherType.e_CipherAES,c=32}const l=a.GetEncryptionType();let u,d,h=a.GetSecurityHandler(),f=h.GetSecurityType();try{l!==o.EncryptType.e_EncryptNone&&1===f.value?(d=a.GetStdEncryptData(),d.cipher=s,d.is_encrypt_metadata=i,d.key_length=c,d.user_permissions=n,u=new o.StdSecurityHandler(h)):(d=new o.StdEncryptData(i,n,s,c),u=new o.StdSecurityHandler)}catch(e){d=new o.StdEncryptData(i,n,s,c),u=new o.StdSecurityHandler}if(r==_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES256){let n,r;u.SetAES256ModifyFlags(7),-1===e?(n=new o.WString(""),r=new o.WString(t),u.InitializeW(d,n,r)):(n=new o.WString(e),r=new o.WString(t),u.InitializeW(d,n,r)),n.delete(),r.delete()}else{let n,r;n=new o.String(-1===e?"":e),r=new o.String(t),u.Initialize(d,n,r),n.delete(),r.delete()}let g=a.SetSecurityHandler(u);return g&&(this.stdCipherOptions={isEncryptMetadata:i,permission:n,cipherType:r}),d.delete(),u.delete(),g}))},_proto3.removeSecurity=function(){return this.docPromise.then((e=>(this.registerDRMSecurityCallback=!1,e.RemoveSecurity())))},_proto3.checkPassword=function(e){let t=this.engine;return this.docPromise.then((n=>{let r=new t.String(e),i=n.CheckPassword(r);return r.delete(),this.isOwner=3==i.value,i.value}))},_proto3.getStdCipherOptions=function(){return this.docPromise.then((e=>{if(this.stdCipherOptions)return this.stdCipherOptions;var t={};let n=e.GetSecurityHandler();if(!n||n.IsEmpty())return t;if(1==n.GetSecurityType().value){let n=e.GetStdEncryptData();t.isEncryptMetadata=n.is_encrypt_metadata,t.permission=n.user_permissions,0===n.cipher.value?t.cipherType=_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.None:1===n.cipher.value?t.cipherType=_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.RC4:2===n.cipher.value&&(16===n.key_length?t.cipherType=_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES128:t.cipherType=_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES256)}return t}))},_proto3.getUserPassword=function(e){let t,n=this.engine;return this.docPromise.then((e=>(t=e,this.getStdCipherOptions()))).then((({cipherType:r})=>{if(r===_shared_cipherType__WEBPACK_IMPORTED_MODULE_19__.Z.AES256)return this.password||"";let i,o=new n.String(e);try{i=t.GetUserPassword(o).toString()}catch(e){i=this.password||""}return o.delete(),i}))},_proto3.getFileVersion=function(){return this.docPromise.then((e=>e.GetFileVersion()))},_proto3.setRenderFlag=function(e){this.renderFlags=e},_proto3.getRenderFlags=function(){return this.renderFlags},_proto3.drmEncrypt=function(e){let t=this.engine;return this.docPromise.then((e=>{let n=e.GetSecurityHandler();if(n&&!n.IsEmpty()){let e=n.GetSecurityType();if(e!==t.EncryptType.e_EncryptUnknown&&e!==t.EncryptType.e_EncryptNone){const e=new Error("This document has been encrypted and cannot be encrypted again!");return e.error=-1,Promise.reject(e)}}return e})).then((n=>{let r=new t.String(e.subFilter),i=new t.DRMEncryptData(e.isEncryptMetadata,r,t.CipherType.values[e.cipher],e.keyLength,e.isOwner,e.userPermissions);r.delete();let o=new t.DRMSecurityHandler;if(e.values){let n=e.values;for(var a in n){let e=new t.String(a),r=new t.WString(n[a]);o.SetDRMValue(e,r)}}if(o.Initialize(i,new t.String(e.fileId),new t.String(e.initialKey)))return i.delete(),[n,o];{i.delete();const e=new Error("Document encryption failed!");return e.error=2,Promise.reject(e)}})).then((([e,t])=>e.SetSecurityHandler(t)))},_proto3.getTemplates=function(){let e=this.doc.GetCatalog();if(!e)return null;let t=this.engine,n=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,"Names"),r=e.GetElement(n);if(!r)return null;let i=r.GetDict();if(!i)return null;var o=new Array;let a=i.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,"Templates"));if(a){let e=a.GetDict();if(e){let t=e.GetElement(n);if(t){let e=t.GetArray();if(e){let t=e.GetElementCount();for(let n=0;n<t;n+=2){let r=e.GetElement(n).GetString(),i=this.JR.getPDFString(r);if(i&&""!==i&&n+1<t){let t=e.GetElement(n+1);t.GetType()===this.engine.PDFObjectType.e_Reference&&(t=t.GetDirectObject());let r={name:i,objNum:t.GetObjNum()};o.push(r)}}}}}}var s=[];let c=i.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,"Pages"));if(c){let e=c.GetDict();if(e){let t=e.GetElement(n);if(t){let e=t.GetArray();if(e){let t=e.GetElementCount();for(let n=0;n<t;n+=2){let r=e.GetElement(n).GetString(),i=this.JR.getPDFString(r);if(i&&""!==i&&n+1<t){let t=e.GetElement(n+1);t.GetType()===this.engine.PDFObjectType.e_Reference&&(t=t.GetDirectObject());let r={name:i,objNum:t.GetObjNum()};s.push(r)}}}}}}return{visibleArr:s,invisibleArr:o}},_proto3.removeTemplate=function(e){let t=this.doc.GetCatalog();if(!t)return!0;let n=this.engine,r=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"Names"),i=t.GetElement(r);if(!i)return!0;let o=i.GetDict();if(!o)return!0;let a=o.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"Templates")),s=a?a.GetDict():null;if(s){let t=s.GetElement(r);if(t){let n=t.GetArray();if(n){let t=n.GetElementCount();for(let r=0;r<t;r+=2){let i=n.GetElement(r).GetString().toString();if(i&&""!==i&&i===e&&r+1<t){n.RemoveAt(r),n.RemoveAt(r);break}}}}}let c=o.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"Pages")),l=c?c.GetDict():null;if(l){let t=l.GetElement(r);if(t){let n=t.GetArray();if(n){let t=n.GetElementCount();for(let r=0;r<t;r+=2){let i=n.GetElement(r).GetString().toString();if(i&&""!==i&&i===e&&r+1<t){n.RemoveAt(r),n.RemoveAt(r);break}}}}}return!0},_proto3.hideTemplate=function(e,t){let n=this.doc.GetCatalog();if(!n)return!1;let r=this.engine,i=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)("Names"),o=n.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(r,"Names"));if(!o)return!1;let a=o.GetDict();if(!a)return!1;let s=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(r,"Templates"),c=a.GetElement(s),l=c?c.GetDict():null;l||(l=this.engine.PDFDictionary.Create(),a.SetAtReference(s,l,this.doc));let u=l.GetElement(i);u||(u=this.engine.PDFArray.Create(),l.SetAt(i,u));let d=u.GetArray(),h=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(r,"Pages"),f=a.GetElement(h),g=f?f.GetDict():null;g||(g=this.engine.PDFDictionary.Create(),a.SetAtReference(h,g,this.doc));let p=g.GetElement(i);p||(p=this.engine.PDFArray.Create(),g.SetAt(i,p));let m=p.GetArray(),_=m,y=d,S="Page";t&&(_=d,y=m,S="Template");let b=new this.engine.WString(e.name);_.AddString(b),b.delete();let I=this.engine.PDFObject.CreateReference(this.doc,e.objNum);_.AddElement(I);let A=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(r,"Type"),D=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(r,S),v=y.GetElementCount();for(let t=0;t<v;t+=2){let n=y.GetElement(t).GetString().toString();if(n&&""!==n&&n===e.name&&t+1<v){let n=y.GetElement(t+1);if(n.GetType()===this.engine.PDFObjectType.e_Reference&&(n=n.GetDirectObject()),n.GetObjNum()===e.objNum){n=n.GetDict(),n.SetAtName(A,D),y.RemoveAt(t),y.RemoveAt(t);break}}}},_proto3.spawnPage=function(e,t,n,r,i){let{name:o}=t,a=this.doc.GetPageCount();(-1===n||n>a)&&(n=a);let s=new this.engine.WString(o);if(this.doc.SpawnPage(s,n,r,i)){let e,t=e=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(n,this);e.page=this.doc.GetPage(n);let r=this.doc.GetPageCount()-1;return this.updatePageIndex(n+1,r,!0,!1),this.updatePageIndexMap(n,t),this.updatePageCache(e),e.toJson()}},_proto3.hasForm=function(){try{let e=this.engine,t=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"AcroForm"),n=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"Fields");return this.doc.GetCatalog().GetElement(t).GetDict().GetElement(n).GetDirectObject().GetArray().GetElementCount()>0}catch(e){return!1}},_proto3.reloadPageAnnots=function(e){e.forEach((e=>{this.pageIndexMap[e]&&this.pageIndexMap[e].reloadAnnots()}))},_proto3.getFontBufferByName=function(e){let t=this.doc.GetFontCount();for(let n=0;n<t;n++){let t=this.doc.GetFont(n);if(t.GetName().toString()==e)return _PDFFontMgr__WEBPACK_IMPORTED_MODULE_21__.Z.getWoffDataBuffer(t.GetWoffData(this.doc),this.engine)}},_proto3.getStructureRoles=async function(){const e=this.doc;if(!e.IsTaggedPDF())return;const t=[],n=e.GetStructureRoles(),r=n.GetSize();for(let e=0;e<r;e++){const r=n["operator[]"](e).toString();t.push(r)}return t},_proto3.getPageSizes=function(e,t){if(this.canGetXFA())return this.getXFAPageSizes(e,t);let n={},r=this.engine,i=this.doc,o=r.ErrorCode.e_ErrDataNotReady;function a(e,t){let n,s=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)();try{n=i.GetPageBasicInfo(t)}catch(c){let l=r.getErrorCode(c);if(l===r.ErrorCode.e_ErrUnknown)n={width:_virtual_VirtualJRPDFPage_ts__WEBPACK_IMPORTED_MODULE_34__.tJ,height:_virtual_VirtualJRPDFPage_ts__WEBPACK_IMPORTED_MODULE_34__.$h,rotation:{value:0}};else{if(l===o)return setTimeout((()=>{a(e,t).then(s.resolve,s.reject)}),30),s.promise;{let e;try{if(e=i.GetPage(t),e.IsEmpty())return e.delete(),s.reject(l.value),s.promise;n={width:e.GetWidth(),height:e.GetHeight(),rotation:{value:e.GetRotation&&e.GetRotation().value||0}}}catch(t){return s.reject(l.value),e&&e.delete(),s.promise}}}}return e[t]={width:n.width,height:n.height,rotation:n.rotation.value},s.resolve(),s.promise}var s=[];for(let r=e;r<e+t;r++)s.push(a(n,r));return Promise.all(s).then((function(){return n}))},_proto3.getXFAPageSizes=function(e,t){let n={},r=this.engine,i=this.xfaDoc,o=r.ErrorCode.e_ErrDataNotReady;function a(e,t){let n,s,c=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)();try{s=i.GetPage(t),s.IsEmpty()||(n={width:s.GetWidth(),height:s.GetHeight(),rotation:{value:0}})}catch(i){let l=r.getErrorCode(i);if(l!==r.ErrorCode.e_ErrUnknown)return l!==o?(c.reject(l.value),s&&s.delete(),c.promise):(setTimeout((()=>{a(e,t).then(c.resolve,c.reject)}),30),c.promise);n={width:_virtual_VirtualJRPDFPage_ts__WEBPACK_IMPORTED_MODULE_34__.tJ,height:_virtual_VirtualJRPDFPage_ts__WEBPACK_IMPORTED_MODULE_34__.$h,rotation:{value:0}}}return e[t]={width:n.width,height:n.height,rotation:n.rotation.value},c.resolve(),c.promise}var s=[];for(let r=e;r<e+t;r++)s.push(a(n,r));return Promise.all(s).then((function(){return n}))},_proto3._generateRange=function(e,t,n){let r,i=0;return e.forEach((e=>{if(1===e.length){let o=e[0];(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.U)(o)||(o=0),o<0?o=0:o>n-1&&(o=n-1),i++,r?r.AddSingle(o):r=new t.Range(o)}else if(2===e.length){let o=e[0];(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.U)(o)||(o=0),o<0?o=0:o>n-1&&(o=n-1);let a=e[1];(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.U)(a)||(a=0),a<0?a=0:a>n-1&&(a=n-1),o>a&&(o=+a,a=o-a,o-=a),r?o===a?(i++,r.AddSingle(o)):(i+=a-o+1,r.AddSegment(o,a,0)):o===a?(i++,r=new t.Range(o)):(i+=a-o+1,r=new t.Range(o,a,0))}})),{ranges:r,addCount:i}},_proto3.copyPages=function(e,t){const n=this.engine,r=this.doc,i=r.GetPageCount();(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.U)(t)||(t=0);const{ranges:o,addCount:a}=this._generateRange(e,n,i),s=[],c=new n.String(""),l=r.StartImportPages(t,r,0,c,o);c.delete();const u=[];for(let e=0;e<a;e++)u.push(t+e);return 100===l.GetRateOfProgress()&&u.map((e=>{let t,n=r.GetPage(e),i=n.GetIndex(),o=t=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(i,this);t.page=n,this.updatePageIndex(i+1,r.GetPageCount()-1,!0,!1),this.updatePageIndexMap(i,o),this.updatePageCache(t),s.push(t.toJson())})),o&&o.delete(),s},_proto3.saveCopyPagesData=function(e){const t=this.engine,n=this.doc;this.pageEditor&&this.pageEditor.generateContent();const r=n.GetPageCount();let i=0,o=[],a=t.WriterCallback.implement({Release:noop,Flush:()=>!0,GetSize:()=>i,WriteBlock:(e,n,r)=>{i+=r;let a,s=t.HEAPU8.buffer;return a=s.slice?s.slice(e,e+r):new Uint8Array(s,e,r).buffer,o.push(a),!0}}),{ranges:s,addCount:c}=this._generateRange(e,t,r),l=t.ExtractPagesOptions.e_ExtractPagesOptionAnnotation.value|t.ExtractPagesOptions.e_ExtractPagesOptionOCProperties.value,u=n.StartExtractPages(a,l,s,null),d=-1;for(;100!==d;){if(d=u.GetRateOfProgress(),-1===d)return;u.Continue()}let h=new Uint8Array(i),f=0;for(let e=0,t=o.length;e<t;e++){let t=o[e];h.set(new Uint8Array(t),f),f+=t.byteLength}h=h.slice(0),getDB().set("COPY_PAGES_BUFFERS",h)},_proto3.pastePages=async function(e){const t=this.engine,n=await getDB().get("COPY_PAGES_BUFFERS"),r=(n.byteLength,new PDFDoc(this.JR,{buffer:n})),i=new t.String("");if(r.doc.Load(i)!==t.ErrorCode.e_ErrSuccess)throw"pastePages fail: source doc load error";const o=new t.String(""),a=new t.Range,s=r.doc.GetPageCount();for(let e=0;e<s;e++)a.AddSingle(e);if(this.doc.StartImportPages(e,r.doc,0,o,a).GetErrorCode()===t.ErrorCode.e_ErrFormat)throw"format error";const c=this.doc.GetPageCount()-1;return Array.from(Array(s).keys(),(t=>{const n=t+e,r=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(n,this);return r.page=this.doc.GetPage(n),this.updatePageIndex(n+1,c,!0,!1),this.updatePageIndexMap(n,r),this.updatePageCache(r),r.toJson()}))},_proto3._renderThumbnailToBitmap=function(e,t=3){const n=this.engine;e.IsParsed()||e.StartParse(0,null,!1);const{x:r,y:i}=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.EF)();let o=76.5*r/72+.5>>0,a=99*i/72+.5>>0,s=new n.Bitmap(o,a,n.DIBFormat.e_DIBArgb,0,0),c=new n.Renderer(s,!1);c.SetRenderContentFlags(t);let l=e.GetDisplayMatrix(0,0,o,a,{value:0});return c.StartRender(e,l,null).Continue(),c.delete(),s},_proto3._calcStep=function(e){let t=10;return e>1e3?t=e/100:e>100&&(t=e/10),t},_proto3.embedAllPageThumbnail=function*(){this._embedCancel=!1;const e=this.doc,t=e.GetPageCount(),n=e.GetPage(0).LoadThumbnail().IsEmpty(),r=this._calcStep(t);let i=0;for(let o=0;o<t;o++){if(this._embedCancel)throw{msg:"cancel",status:n};const a=e.GetPage(o),s=this._renderThumbnailToBitmap(a);a.SetThumbnail(s),s.delete(),(i<=o+1||t===o+1)&&(i+=r,yield(o+1)/t)}return n},_proto3.removeEmbeddedPageThumbnail=function*(){this._removeEmbeddedCancel=!1;const e=this.doc,t=e.GetPageCount(),n=e.GetPage(0).LoadThumbnail().IsEmpty(),r=this._calcStep(t);let i=0;for(let o=0;o<t;o++){if(this._removeEmbeddedCancel)throw{msg:"cancel",status:!n};e.GetPage(o).RemoveThumbnail(),(i<=o+1||t===o+1)&&(i+=r,yield(o+1)/t)}return!n},_proto3.cancelEmbedAllPageThumbnail=function(){this._embedCancel=!0},_proto3.cancelRemoveEmbeddedPageThumbnail=function(){this._removeEmbeddedCancel=!0},_proto3._isFullPage=function(e,t=this){const n=t.doc.GetPageCount();return e.length===n&&_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,Array(n).keys()).every((t=>t===e[t]))},_proto3.importPagesFromPDFDocs=async function(e,t=[],n=""){const r=this.engine,i=new r.String(n),{successfulCount:o,errs:a}=t.reverse().reduce((({successfulCount:t,errs:o},{srcDoc:a,srcPages:s})=>{const c=(a.oriFile?a.oriFile.name:void 0)||"temp.pdf";const l=new r.Range,u=a.doc.GetPageCount();s.sort(((e,t)=>e>t?1:-1));new Set(s).size!==u&&s.forEach((e=>l.AddSingle(e)));const d=new r.LayerTree(a.doc);let h=0;if(!d.IsEmpty()){const e=d.GetRootNode();e.GetChildrenCount()>0&&n&&(h=r.ImportPageFlags.e_ImportFlagWithLayers.value),e.delete()}d.delete();let f=a.doc.GetPage(0);f.IsParsed()||f.StartParse(0,null,!1);const g=this.doc.StartImportPages(e,a.doc,h,i,l);let p=-1;for(;p<100;){if(p=g.GetRateOfProgress(),-1===p)return{successfulCount:t,errs:[].concat(_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,o),[{name:c,err:"rate of progress is -1"}])};g.Continue()}return{successfulCount:t+s.length,errs:o}}),{successfulCount:0,errs:[]});i.delete();const s=Array.from(Array(o).keys()).map((t=>t+e)).map((e=>{const t=this.doc.GetPage(e),n=t.GetIndex(),r=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(n,this);return r.page=t,this.updatePageIndex(n+1,this.doc.GetPageCount()-1,!0,!1),this.updatePageIndexMap(n,r),this.updatePageCache(r),r.toJson()}));return{bookmarks:await this.getBookmarks(),pagesJson:s,errs:a}},_proto3.exportPagesToPDFDocs=function(e,t=[],n="",r=""){const i=this.engine,o=new i.String(n),a=new i.WString(r),s=this._isFullPage(e);let c=null;s||(c=new i.Range,e.forEach((e=>c.AddSingle(e))));const l=t.reverse().map((({destDoc:e,destIndex:t})=>{const n=e.oriFile?e.oriFile.name:"temp.pdf";if(s)try{return e.doc.InsertDocument(t,this.doc,i.InsertDocOptions.e_InsertDocOptionAttachments.value|i.InsertDocOptions.e_InsertDocOptionBookmark.value,a),{name:n,doc:e}}catch(e){return{name:n,err:e}}const r=e.doc.StartImportPages(t,this.doc,0,o,c);let l=-1;for(;l<100;){if(l=r.GetRateOfProgress(),-1===l)return{name:n,err:"rate of progress is -1"};r.Continue()}return{name:n,doc:e}}));return o.delete(),a.delete(),l},_proto3.startImportPages=function(e,{size:t,getBuffer:n},r=_shared_consts__WEBPACK_IMPORTED_MODULE_12__.cm,i,o,a=0,s){const c=this.engine;let l=c.ReaderCallback.implement({Release:function(){release()},GetSize:function(){return t},ReadBlock:(e,t,r)=>{let i=new Uint8Array(n(t,r));return c.HEAPU8.set(i,e),!0}}),u=c.createPDFDocWithReaderCallback(l,!1),d=new c.String(r);u.Load(d);let h=u.GetPageCount(),f=h-1,g=this.doc.GetPageCount();(a=Math.min(f,a))<0&&(a=(a+h)%h),(s=Math.min(f,s))<0&&(s=(s+h)%h);let p=Math.min(a,s),m=Math.max(a,s),_=new c.String(o),y=new c.Range(p,m,0);e<0&&(e=e%g+g),e=Math.max(0,Math.min(g,e));let S=this.doc.StartImportPages(e,u,i,_,y),b=[];for(let t=0;t<=m-p;t++)b.push(e+t);let I=[];return 100===S.GetRateOfProgress()&&b.map((e=>{let t,n=this.doc.GetPage(e),r=n.GetIndex(),i=t=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(r,this);t.page=n,this.updatePageIndex(r+1,this.doc.GetPageCount()-1,!0,!1),this.updatePageIndexMap(r,i),this.updatePageCache(t),I.push(t.toJson())})),I},_proto3.extractPages=function(e,{writeStream:t},n,r=_shared_consts__WEBPACK_IMPORTED_MODULE_12__.cm){const i=this.engine;let o=new i.PDFDoc,a=new i.String("");o.Load(a);let s,c=this.doc;n&&(s=i.ReaderCallback.implement({Release:function(){release()},GetSize:function(){return n.size},ReadBlock:(e,t,r)=>{let o=new Uint8Array(n.getBuffer(t,r));return i.HEAPU8.set(o,e),!0}}),c=i.createPDFDocWithReaderCallback(s,!1),a=new i.String(r||""),c.Load(a));let l=c.GetPageCount(),u=new i.String("");e.reverse().forEach((e=>{if(1===e.length){if(e[0]>=l||isNaN(e[0]))return;e[0]<0&&(e[0]=e[0]%l+l);let t=new i.Range((e[0]+l)%l);o.StartImportPages(0,c,0,u,t)}else if(2===e.length){if(isNaN(e[0])||isNaN(e[1]))return;let t=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);if(t<0&&(t=t%l+l),n<0&&(n=n%l+l),t>=l)return;n=Math.min(n,l-1);let r=new i.Range((t+l)%l,(n+l)%l,0);o.StartImportPages(0,c,0,u,r)}}));let d=0,h=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)();return o.GetPageCount()>0?i.saveDoc(o,i.WriterCallback.implement({Release:()=>{},Flush:()=>(h.resolve(d),!0),GetSize:()=>d,WriteBlock:(e,n,r)=>{d+=r;let o,a=i.HEAPU8.buffer;return o=a.slice?a.slice(e,e+r):new Uint8Array(a,e,r).buffer,t(o,n,r),!0}}),i.SaveFlags.e_SaveFlagNormal.value):h.reject(new Error("Cannot extract pages on none page document")),h.promise},_proto3.getHeaderFooter=function(e){e||(e=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)());try{if(!this.doc.HasHeaderFooter())return e.resolve(null);let t=this.doc.GetEditableHeaderFooter(),n=t.page_range,r={start:n.start_number,end:n.end_number,filter:n.filter.value},i=t.content,o={TopLeft:i.header_left_content.toString(),TopCenter:i.header_center_content.toString(),TopRight:i.header_right_content.toString(),BottomLeft:i.footer_left_content.toString(),BottomCenter:i.footer_center_content.toString(),BottomRight:i.footer_right_content.toString()},a=t.page_margin;e.resolve({font:this.JR.getPDFString(t.font.GetBaseFontName(this.doc)),textSize:t.text_size,textColor:t.text_color,hasTextShrinked:t.has_text_shrinked,hasFixedSized:t.has_fixedsize_for_print,ranges:r,margin:{left:a.left,right:a.right,top:a.top,bottom:a.bottom},startPageNumber:t.start_page_number,contents:o,contentFormats:{},underline:t.is_underline})}catch(t){isNaN(t)||(t=this.engine.getErrorCode(t)),t.value&&17==t.value?setTimeout((()=>{this.getHeaderFooter(e)}),200):e.reject(t)}return e.promise},_proto3.addHeaderFooter=function(e,t){let n=this.doc;t||(t=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)());try{let r=(0,_headerFooter_js__WEBPACK_IMPORTED_MODULE_24__.Z)(this.engine,n,e);n.AddHeaderFooter(r),r.delete(),this.getHeaderFooter(t)}catch(n){isNaN(n)||17!=this.engine.getErrorCode(n).value?t.reject(n):setTimeout((()=>{this.addHeaderFooter(e,t)}),200)}return t.promise},_proto3.updateHeaderFooter=function(e,t){let n=this.doc;t||(t=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)());try{let r=(0,_headerFooter_js__WEBPACK_IMPORTED_MODULE_24__.Z)(this.engine,n,e);n.UpdateHeaderFooter(r),this.getHeaderFooter(t)}catch(n){if("number"==typeof n){let r=this.engine.getErrorCode(n).value;if("number"==typeof r&&17==r)return void setTimeout((()=>{this.updateHeaderFooter(e,t)}),200)}t.reject(n)}return t.promise},_proto3.removeHeaderFooter=function(e){e||(e=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)());try{this.doc.RemoveAllHeaderFooters(),e.resolve()}catch(t){if(17!=this.engine.getErrorCode(t).value)throw t;setTimeout((()=>{this.removeHeaderFooter(e)}),200)}return e.promise},_proto3.getAnnotsRawData=function(e){try{let t=this.engine,n=[];for(let t in e){let r=e[t];n.push(this.getPageByIndex(r.page))}return Promise.all(n).then((t=>{let n=[];for(let t in e){let r=e[t],i=r.page=this.pageIndexMap[r.page];r.iterator=n.length,n.push(i.getAnnotById(r.index))}return Promise.all(n)})).then((n=>{let r=[];for(let i in e){let o=n[e[i].iterator].annot,a=o.GetDict(),s={};switch(o.GetType().value){case 13:let e=a.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,"AP"));if(e){let n=e.GetDirectObject().GetDict().GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,"N"));n&&(s.N=retriveDict(t,s,"",n.GetDirectObject()))}break;case 17:let n=a.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,"FS"));n&&(s.FS=retriveDict(t,s,"",n.GetDirectObject()));break;case 18:let r=a.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,"Sound"));r&&(s.Sound=retriveDict(t,s,"",r.GetDirectObject()))}r.push({index:i,raw:s})}return r}))}catch(e){throw console.error(engine.getErrorCode(e)),new Error(e)}},_proto3.generateHashData=function({data:e}){const t=function(e,t){let n=new e.String,r=e._malloc(t.length);return e.HEAPU8.set(t,r),n.Load(r,t.length),n}(this.engine,e);return this.engine.Library.GenerateHashData(this.engine.CryptType.e_Crypt_SHA256,t,t.GetLength()).toString()},_proto3.sign=function(e,t){let n,r=this.engine,i=r.KeyName,o=!1,a=Promise.resolve(),s=e.flag||256;if(e.fieldName){const t=this.loadForm();n=t.getField(e.fieldName).engineField;if(n.GetSignatureType()===this.engine.SignatureType.e_SignatureTypePagingSeal)n=n.GetPagingSealSignature(),s=e.flag||128;else{let e=n.GetFieldMDPAction().value;if(e===r.FieldMDPAction.e_FieldMDPActionAll.value)Object.values(t.fields).forEach((e=>{e.update("flag",1)}));else if(e===r.FieldMDPAction.e_FieldMDPActionInclude.value){const e=n.GetFieldMDPActionFields();for(let n=0;n<e.GetSize();n++){t.getField(e.GetAt(n).toString()).update("flag",1)}}else if(e===r.FieldMDPAction.e_FieldMDPActionExclude.value){const e=n.GetFieldMDPActionFields();let r=[];for(let t=0;t<e.GetSize();t++)r.push(e.GetAt(t).toString());Object.keys(t.fields).forEach((e=>{-1===r.indexOf(e)&&t.getField(e).update("flag",1)}))}}let i=n.GetControl(0).GetWidget().GetPage().GetIndex();a=this.getPageByIndex(i)}let c=!this.isOwner;return a.then((a=>{if(!n){if(e.pagingSigConfig){const{pagingSig:t}=this.addPagingSealSignature({pagingSigConfig:e.pagingSigConfig});n=t,s=e.flag||128}else{let t=this.doc.GetPage(e.pageIndex);if(t.IsEmpty())return"NoPage";let i=new r.WString(e.fieldName),o=e.rect;n=t.AddSignature(new r.CFX_FloatRect(o.left,o.bottom,o.right,o.top),i,{value:0},c)}o=!0}n.CreateSigVDict(new r.String(e.filter),new r.String(e.subfilter)),n.SetFilter(new r.String(e.filter)),n.SetSubFilter(new r.String(e.subfilter)),e.signer&&n.SetKeyValue(i.e_KeyNameSigner,new r.WString(e.signer)),e.reason&&n.SetKeyValue(i.e_KeyNameReason,new r.WString(e.reason)),e.email&&n.SetKeyValue(i.e_KeyNameContactInfo,new r.WString(e.email)),e.distinguishName&&n.SetKeyValue(i.e_KeyNameDN,new r.WString(e.distinguishName)),e.location&&n.SetKeyValue(i.e_KeyNameLocation,new r.WString(e.location));let l,u=e.text||e.signer;0!=e.flag&&u&&256&s&&n.SetKeyValue(i.e_KeyNameText,new r.WString(u)),l=void 0!==e.signTime&&e.signTime>0?new Date(e.signTime):new Date;let d,h=new r.DateTime(l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds(),-l.getTimezoneOffset()/60,0);if(n.SetSignTime(h),e.timeFormat){const{format:t,timeZoneOptions:i}=e.timeFormat;n.SetTimeDescription((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(r,(0,_shared_formatDate_js__WEBPACK_IMPORTED_MODULE_39__.Z)(l,t,i)))}if((d=t&&t.image||e.inkSign)&&640&s&&("object"==typeof d&&(d=d.url),d.length>0)){let e=this.JR.createReaderCallback(d),t=new r.Image(e).GetFrameBitmap(0);n.SetBitmap(t),s|=128}n.SetDocPermission({value:e.docPermission||0});const f=new this.engine.SignatureAppearanceOptions;if(f.showLogo=!!(!0&s),n.SetSignatureAppearanceOptions(f),n.SetAppearanceFlags(s),e.defaultContentsLength&&n.SetDefaultContentsLength(e.defaultContentsLength),e.native){let t=(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Xd)(r,{path:e.certificate}),i=(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Xd)(r),o=n.StartSign_new(t,new r.WString(e.certPWD),{value:e.hashAlgorithm},i,0,null);if(o.Continue(),-1==o.GetRateOfProgress())throw new Error("Sign Error");return i.GetBlob()}let g=(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.cP)(this.engine,n,e.hashAlgorithm,e.filter,e.subfilter);if(o){if(e.pagingSigConfig){let t=[];for(let n=e.pagingSigConfig.pageRange[0]-1;n<e.pagingSigConfig.pageRange[1];n++)t.push(this.getPageByIndex(n).then((e=>{if(e)return e.reParsePage().then((()=>{e.reloadAnnots()}))})));return Promise.all(t).then((e=>(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Kq)(g)))}return this.getPageByIndex(e.pageIndex).then((e=>e.reloadAnnots())).then((e=>(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Kq)(g)))}{let e=(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Kq)(g);return Promise.resolve(e)}}))},_proto3.setValueForSign=function(e,t,n,r){const i=!!t.config.pagingSigConfig;let o,a,s,c=e.KeyName,l=!1,u=Promise.resolve();s=t.fields[n].signType,i||(a=t.fields[n].fieldId);let d=Promise.resolve();if(!i&&a){let e=t.fields[n].pageIndex;d=this.getPageByIndex(e).then((e=>e.getAnnotById(a))).then((e=>e.annot.GetField().GetName().toString()))}return d.then((a=>{if(!i&&(a=a||t.fields[n].fieldName)){o=this.loadForm().getField(a).engineField,o.GetSignatureType()===this.engine.SignatureType.e_SignatureTypePagingSeal&&(o=o.GetPagingSealSignature());let e=t.fields[n].rect;if(e){const{left:t,bottom:n,right:r,top:i}=e;t+n+r+i===0&&o.SetDocPermission(this.engine.DocPermission.Annot)}let r=o.GetControl(0).GetWidget().GetPage().GetIndex();u=this.getPageByIndex(r)}return u.then((u=>{let d=t.config.flag||256;if(i){let e;if(t.config.pagingSigConfig.pagingSigObjNum)e=t.config.pagingSigConfig.pagingSigObjNum;else{const{pagingSigObjNum:n}=this.addPagingSealSignature({pagingSigConfig:t.config.pagingSigConfig});e=n}o=this.getPagingSealSignature({sigObjNum:e})}else{if(!o){let r=this.doc.GetPage(t.fields[n].pageIndex),i=new e.WString(a),s=t.fields[n].rect;o=r.AddSignature(new e.CFX_FloatRect(s.left,s.bottom,s.right,s.top),i,{value:0},!0),l=!0}let i=o.GetDict(),s=new e.String("V");0===n&&(eSignSignatureStore.setSignature(o),r=o.CreateSigVDict((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,""),(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"")),this.doc.AddIndirectObject(r));let c=t.fields[n].inkSign?t.fields[n].inkSign:t.config.inkSign;if(c&&128&d){let t;t="string"==typeof c?this.JR.createReaderCallback(c):this.JR.createReaderCallbackByBuffer(c);let r=new e.Image(t).GetFrameBitmap(0);o.SetBitmap2AP(r),o.SetAppearanceFlags(d);const i=new this.engine.SignatureAppearanceOptions;i.showLogo=!1,o.SetSignatureAppearanceOptions(i),0===n&&o.GenerateSignAppearance()}0!==n&&(i.SetAtReference(s,r,this.doc),o.ResetSignAppearance());if(!(t.fields.length===n+1))return this.setValueForSign(e,t,n+1,r);o=eSignSignatureStore.getSignature()}if(t.config.signer||t.config.phone){const n=t.config.signer||t.config.phone;o.SetKeyValue(c.e_KeyNameSigner,new e.WString(n))}t.config.reason=t.config.reason?t.config.reason:"",o.SetKeyValue(c.e_KeyNameReason,new e.WString(t.config.reason));const h=t.config.signer||t.config.phone||"";o.SetKeyValue(c.e_KeyNameContactInfo,new e.WString(h)),t.config.distinguishName&&o.SetKeyValue(c.e_KeyNameDN,new e.WString(t.config.distinguishName)),t.config.location=t.config.location?t.config.location:"",o.SetKeyValue(c.e_KeyNameLocation,new e.WString(t.config.location));let f=t.config.text||t.config.signer;f&&256&d&&o.SetKeyValue(c.e_KeyNameText,new e.WString(f));let g=new Date,p=new e.DateTime(g.getFullYear(),g.getMonth()+1,g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds(),-g.getTimezoneOffset()/60,0);if(o.SetSignTime(p),o.SetAppearanceFlags(d),o.SetFilter(new e.String(t.config.filter)),o.SetSubFilter(new e.String(t.config.subfilter)),t.config.docPermission&&o.SetDocPermission({value:t.config.docPermission}),!t.config.signer&&!t.config.phone)return void console.error("pdf-jr/PDFDoc.js signForESignCN error: signer can't be null",t.config);let m={signerName:t.fields[n].signerName,operatorName:t.fields[n].operatorName,authType:t.fields[n].authType,email:t.config.signer,phone:t.config.phone,authTime:t.fields[n].authTime,signType:t.fields[n].signType,willAuthType:t.fields[n].willAuthType,willAuthTime:t.fields[n].willAuthTime,signId:t.config.signId};"in"===s&&(m=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_43__.Z)(m,{companyId:t.fields[n].companyId,companyName:t.fields[n].companyName,samlResponse:t.fields[n].samlResponse})),t.config.optType===eSignCNOptType.SELF_SIGN&&this.setESignCNSelfSignMode(),this.addAuditTrail(o,m);let _=(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.cP)(this.engine,o,t.config.hashAlgorithm,t.config.filter,t.config.subfilter);if(l){const e=[];return t.fields.forEach(((t,n)=>{const r=t.pageIndex;if(r){const t=this.getPageByIndex(r).then((e=>e.reloadAnnots()));e[n]=t}else e[n]=Promise.resolve()})),Promise.all(e).then((e=>(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Kq)(_)))}return(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Kq)(_)}))}))},_proto3.signForESignCN=function(e){let t=this.engine;const n=this.getAllPagingSealSignatures(),r=e.fields.findIndex((e=>n.includes(e.fieldId)));if("number"==typeof r&&r>-1){const t=e.fields.splice(r,1)[0];e.fields.unshift(t)}return this.setValueForSign(t,e,0,0).then((e=>e))},_proto3.setESignCNSelfSignMode=function(){let e=this.doc.GetCatalog(),t=new this.engine.String("ESignSelfMode"),n=new this.engine.String("1");e.SetAtString(t,n)},_proto3.setESignCNFlowSignMode=function(e){let t;switch(e){case 1:t="external";break;case 2:t="internal";break;default:t=""}if(!t)throw Error("invalid modeValue");let n=this.doc.GetCatalog(),r=new this.engine.String("ESignMode"),i=new this.engine.String(t);return n.SetAtString(r,i),!0},_proto3.getESignCNFlowSignMode=function(){let e=this.doc.GetCatalog(),t=new this.engine.String("ESignMode"),n=e.GetElement(t);return n&&n.GetString().toString()},_proto3.getESignCNMode=function(e){let t=e.GetSignatureDict(),n=new this.engine.String("Signer"),r=t.GetElement(n);if(!r)return"";let i,o=new this.engine.String("AuthMethod");r.GetType()===this.engine.PDFObjectType.e_Reference&&(r=r.GetDirectObject()),i=r.GetDict();let a=i.GetElement(o),s=new this.engine.String("Subtype"),c="out";if(a.GetType()===this.engine.PDFObjectType.e_Array){let e=a.GetArray(),t=e.GetElementCount();for(let n=0;n<t;n++){let t=e.GetElement(n);if(t&&(t.GetType()===this.engine.PDFObjectType.e_Reference&&(t=t.GetDirectObject()),t.GetType()===this.engine.PDFObjectType.e_Dictionary&&(t=t.GetDict()),"SAML_Response"===t.GetElement(s).GetString().toString())){c="in";break}}}return c},_proto3.addPagingSealSignature=function({pagingSigConfig:e,refresh:t=!0}){let n,{inkSign:r,pageRange:i,width:o,height:a,sealPosition:s=this.engine.PagingSealPosition.e_PagingSealPositionRight,sealOffset:c,firstPagePercent:l,isOnPerforation:u=!1}=e,d=!this.isOwner;switch(s){case"right":default:n=this.engine.PagingSealPosition.e_PagingSealPositionRight;break;case"left":n=this.engine.PagingSealPosition.e_PagingSealPositionLeft;break;case"top":n=this.engine.PagingSealPosition.e_PagingSealPositionTop;break;case"bottom":n=this.engine.PagingSealPosition.e_PagingSealPositionBottom}const h=new this.engine.Range(i[0],i[1],0);let f=this.doc.AddPagingSealSignature(h,o,a,d);const g=new this.engine.PagingSealConfig(n,c,l,u);f.SetPagingSealConfig(g);const p=f.GetDict().GetObjNum();if(r&&this.setSignatureAP({pagingSig:f,inkSignBuffer:r}),f.GenerateAppearance(),t)for(let e=i[0]-1;e<i[1];e++)this.getPageByIndex(e).then((e=>(e.reParsePage(),e))).then((t=>{t.reloadAnnots(),e===i[1]-1&&this.reloadLayer()}));return{pagingSigObjNum:p,addedObjNums:this.getAllPagingSealSignatures(p),pagingSig:f}},_proto3.getAllPagingSealSignatures=function(e){const t=this.doc.GetSignatureCount();if(!t)return[];if(e){let n={};for(let e=0;e<t;e++){const t=this.doc.GetSignature(e);if(t.GetSignatureType()!==this.engine.SignatureType.e_SignatureTypePagingSeal)continue;const r=t.GetPagingSealSignature().GetDict().GetObjNum();let i=n[r]||[];i.push(t.GetDict().GetObjNum()),n[r]=i,t.delete()}const r=Object.values(n).find((t=>t.includes(e)));return Array.from(new Set(r))}{let e=[];for(let n=0;n<t;n++){const t=this.doc.GetSignature(n);t.GetSignatureType()===this.engine.SignatureType.e_SignatureTypePagingSeal&&e.push(t.GetDict().GetObjNum()),t.delete()}return Array.from(new Set(e))}},_proto3.getPageObjNumOfSig=function(e){const t=new this.engine.String("P");let n=e.GetDict().GetElement(t);n.GetType()===this.engine.PDFObjectType.e_Reference&&(n=n.GetDirectObject()),n.GetType()===this.engine.PDFObjectType.e_Dictionary&&(n=n.GetDict());const r=n.GetObjNum();return t.delete(),r},_proto3.getAllPagingSigsInfo=function(e){const t=this.doc.GetSignatureCount(),n=(()=>{const e=t=>{let r=[];t.GetType()==n.PDFObjectType.e_Reference&&(t=t.GetDirectObject()),t.GetType()==n.PDFObjectType.e_Dictionary&&(t=t.GetDict());const i=t.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"Kids"));if(i.GetType()===n.PDFObjectType.e_Array){let t=i.GetArray(),o=t.GetElementCount();for(let i=0;i<o;i++){let o=t.GetElement(i);if(!o)continue;o.GetType()==n.PDFObjectType.e_Reference&&(o=o.GetDirectObject()),o.GetType()==n.PDFObjectType.e_Dictionary&&(o=o.GetDict());const a=o.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"Type")).GetString().toString();"Page"===a?r.push(o.GetObjNum()):"Pages"===a?r=[].concat(_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,r),_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,e(o))):console.error("invalid kidDict type",a)}}return r},t=this.doc,n=this.engine;let r=t.GetCatalog().GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"Pages"));return e(r)})();if(!t)return[];let r={};for(let e=0;e<t;e++){const t=this.doc.GetSignature(e),i=this.getPageObjNumOfSig(t),o=n.indexOf(i);if(t.GetSignatureType()!==this.engine.SignatureType.e_SignatureTypePagingSeal)continue;const a=t.GetPagingSealSignature().GetDict().GetObjNum();let s=r[a]||[];const c={objNum:t.GetDict().GetObjNum(),pageIndex:o};s.push(c),r[a]=s}r=Object.values(r),e&&(r=r.filter((t=>t.some((t=>t.objNum===e)))));let i=[];return r.filter((e=>e.filter((e=>{const t=`${e.pageIndex}-${e.objNum}`;return-1===i.indexOf(t)&&(i.push(t),!0)}))))},_proto3.updatePagingSealSignature=function({pagingSigObjNum:e,pagingSigConfig:t}){const{removedObjNums:n}=this.removePagingSealSignature({pagingSigObjNum:e,refresh:!1}),{pagingSigObjNum:r,addedObjNums:i}=this.addPagingSealSignature({pagingSigConfig:t,refresh:!1});for(let e=0;e<this.doc.GetPageCount();e++)this.getPageByIndex(e).then((e=>(e.reParsePage(),e))).then((t=>{t.reloadAnnots(),e===this.doc.GetPageCount()-1&&this.reloadLayer()}));return{pagingSigObjNum:r,removedObjNums:n,addedObjNums:i}},_proto3.removePagingSealSignature=function({pagingSigObjNum:e,refresh:t=!0}){const n=this.getAllPagingSealSignatures(e),r=this.getPagingSealSignature({sigObjNum:e});if(this.doc.RemoveSignature(r),t)for(let e=0;e<this.doc.GetPageCount();e++)this.getPageByIndex(e).then((e=>(e.reParsePage(),e))).then((t=>{t.reloadAnnots(),e===this.doc.GetPageCount()-1&&this.reloadLayer()}));return{removedObjNums:n}},_proto3.getPagingSealSignature=function({sigObjNum:e}){let t;const n=this.doc.GetSignatureCount();if(n)for(let r=0;r<n;r++){const n=this.doc.GetSignature(r);if(n.GetDict().GetObjNum()===e&&n.GetSignatureType()===this.engine.SignatureType.e_SignatureTypePagingSeal){t=n.GetPagingSealSignature();break}}return t},_proto3.isESignCNFile=function(){let e,t=this.doc.GetCatalog(),n=new this.engine.String("ESignMode"),r=t.GetElement(n),i=!!r&&r.GetString().toString();const o=this.doc.GetPageCount();for(let t=0;t<o;t++){let n=this.doc.GetPage(t),r=n.GetAnnotCount();for(let t=0;t<r;t++){let r=n.GetAnnot(t);if(!r)continue;let i=r.GetType();if(this.engine.AnnotType.e_Widget!=i)continue;let o=r.GetDict();if(!o)continue;let a=this.getSignatureFTValue(o);if(!a)continue;if("Sig"!=a.GetString().toString())continue;let s=!1;const c=new this.engine.String("V");let l=o.GetElement(c);if(l&&l.GetType()===this.engine.PDFObjectType.e_Reference&&l.GetDirectObject()&&(l=l.GetDirectObject().GetDict(),s=!!l),!s)continue;let u=new this.engine.String("Signer");if(e=!!l.GetElement(u),e)break}}return i||e},_proto3.assignSignerForESignCN=function({fieldId:e,email:t,phoneNumber:n,nameValue:r,company:i="",color:o,pageId:a,fieldType:s,companyId:c="",companyName:l="",signMode:u,docStore:d,processId:h,taskName:f,isFirst:g,isLast:p}){let m="outer"===u?1:2;return this.setESignCNFlowSignMode(m),this.getPageById(a).getAnnotById(e).then((e=>{let a=e.annot,m=this.doc,_=a.GetDict();const y=new this.engine.String(i),S=new this.engine.String(c),b=new this.engine.String(l),I=new this.engine.String("Company"),A=new this.engine.String("EnterpriseId"),D=new this.engine.String("Enterprise"),v=new this.engine.String(o),w=new this.engine.String("Color");t=new this.engine.String(t);let P,F=new this.engine.String(n),T=new this.engine.String(r),C=new this.engine.String(s),G=m.GetCatalog(),E=new this.engine.String("DocESign"),R=new this.engine.String("Signers"),x=new this.engine.String("Name"),M=new this.engine.String("AuthMethod"),O=new this.engine.String("AuthType"),N=new this.engine.String("ID"),k=new this.engine.String("Subtype"),B=G.GetElement(E),L=!0,j=new this.engine.String("Signer");if(B){B.GetType()==this.engine.PDFObjectType.e_Reference&&(B=B.GetDirectObject());let e=B.GetDict().GetElement(R);if(e.GetType()==this.engine.PDFObjectType.e_Array){let n=e.GetArray(),r=n.GetElementCount();for(let e=0;e<r;e++){let r=n.GetElement(e);if(!r)continue;r.GetType()==this.engine.PDFObjectType.e_Reference&&(r=r.GetDirectObject()),r.GetType()==this.engine.PDFObjectType.e_Dictionary&&(r=r.GetDict());let i=r.GetElement(O),o=r.GetElement(M),a=i.GetString();if(["Email","Phone","Company","All"].includes(a.toString())&&o.GetType()==this.engine.PDFObjectType.e_Array){let e=o.GetArray(),n=e.GetElementCount();for(let i=0;i<n;i++){let n=e.GetElement(i);if(!n)continue;n.GetType()==this.engine.PDFObjectType.e_Reference&&(n=n.GetDirectObject()),n.GetType()==this.engine.PDFObjectType.e_Dictionary&&(n=n.GetDict());let o=n.GetElement(N);L=!0,t.toString()&&"Email"===o.GetString().toString()&&o.GetString().toString()!==t.toString()&&(L=!1),F.toString()&&"Phone"===o.GetString().toString()&&o.GetString().toString()!==F.toString()&&(L=!1),y.toString()&&"Company"===o.GetString().toString()&&o.GetString().toString()!==F.toString()&&(L=!1),L&&(P=r)}}}}}if(L){let e=new this.engine.String("Type"),r=new this.engine.String("Email"),o=new this.engine.String("Phone"),a=null;t.toString()&&(a=new this.engine.PDFDictionary.Create,a.SetAtString(e,M),a.SetAtName(k,r),a.SetAtString(N,t),m.AddIndirectObject(a));let s=null;F.toString()&&(s=new this.engine.PDFDictionary.Create,s.SetAtString(e,M),s.SetAtName(k,o),s.SetAtString(N,F),m.AddIndirectObject(s));let l=null;y.toString()&&(l=new this.engine.PDFDictionary.Create,l.SetAtString(e,M),l.SetAtName(k,I),l.SetAtString(N,y),m.AddIndirectObject(l));let d=null,h=null;"inner"===u&&(S.toString()&&(d=new this.engine.PDFDictionary.Create,d.SetAtString(e,M),d.SetAtName(k,A),d.SetAtString(N,S),m.AddIndirectObject(d)),b.toString()&&(h=new this.engine.PDFDictionary.Create,h.SetAtString(e,M),h.SetAtName(k,D),h.SetAtString(N,b),m.AddIndirectObject(h)));let f,g=new this.engine.PDFArray.Create;a&&g.AddReference(a,m),s&&g.AddReference(s,m),l&&g.AddReference(l,m),d&&g.AddReference(d,m),h&&g.AddReference(h,m),P=new this.engine.PDFDictionary.Create,P.SetAtName(e,j),P.SetAtString(x,T),P.SetAtString(w,v),P.SetAt(M,g),t&&(f="Email"),n&&(f="Phone"),i&&(f="Company"),c&&(f="EnterpriseId");[t,n,i,c].filter((e=>!!e)).length>1&&(f="All"),P.SetAtName(O,new this.engine.String(f)),m.AddIndirectObject(P)}let U,W=new this.engine.String("FST");if(_.SetAtString(W,C),_.SetAtReference(j,P,m),"number"!=typeof d||!h)return void console.error("invalid docStore or processId");g?(U=new this.engine.PDFDictionary.Create,eSignCNAnnotDictStore.setAnnotDict({key:"init_sign_config_info_dict",dict:U})):U=eSignCNAnnotDictStore.getAnnotDict({key:"init_sign_config_info_dict"});let H=new this.engine.String("DocStore");U.SetAtInteger(H,d);let z=new this.engine.String("ProcessID"),K=new this.engine.String(h);if(U.SetAtString(z,K),f){let e=new this.engine.String("TaskName"),t=new this.engine.String(f);U.SetAtString(e,t)}m.AddIndirectObject(U);let J=new this.engine.String("FlowSignConfigInfo");if(_.SetAtReference(J,U,m),B){let e=B.GetDict().GetElement(R);if(e.GetType()==this.engine.PDFObjectType.e_Array&&L){e.GetArray().AddReference(P,m)}}else{let e=new this.engine.PDFArray.Create;e.AddReference(P,m);let t=new this.engine.PDFDictionary.Create,n=new this.engine.String("Type"),r=new this.engine.String("Ordered");t.SetAtString(n,E),t.SetAt(R,e),t.SetAtBoolean(r,!0),m.AddIndirectObject(t),G.SetAtReference(E,t,m)}return p&&eSignCNAnnotDictStore.clean(),!0}))},_proto3.getSignatureFTValue=function(e){let t=new this.engine.String("FT"),n=new this.engine.String("Parent"),r=e.GetElement(t);if(!r){const i=e.GetElement(n);i&&i.GetType()===this.engine.PDFObjectType.e_Reference&&i.GetDirectObject()&&i.GetDirectObject().GetDict()&&(r=i.GetDirectObject().GetDict().GetElement(t))}return r},_proto3.addAuditTrail=function(e,t){t.authTime=t.authTime?t.authTime:"",t.authType=t.authType?t.authType:"",t.signerName=t.signerName?t.signerName:"",t.operatorName=t.operatorName?t.operatorName:"",t.phone=t.phone?t.phone:"";let n=this.doc;const r=e.GetSignatureDict();return this.add_doc_audit_trail(n,r,t),!0},_proto3.updatePropAuthDictForESignCN=function({fieldName:e,willingnessInfo:t}){const n=this.loadForm().getField(e).engineField.GetDict();let r=new this.engine.String("Prop_Auth"),i=n.GetElement(r);if(i&&i.GetType()===this.engine.PDFObjectType.e_Reference&&(i=i.GetDirectObject(),i.GetType()===this.engine.PDFObjectType.e_Dictionary)){i=i.GetDict();let e=new this.engine.String("AuthAddData"),n=JSON.stringify(t),r=new this.engine.WString(n);i.SetAtWString(e,r)}},_proto3.add_new_enents_to_prop_events=function(e,t,n){const{realName:r}=n;let i=new this.engine.String("Prop_Events"),o=t.GetElement(i);if(o&&o.GetType()==this.engine.PDFObjectType.e_Array){new this.engine.String("EventType"),new this.engine.String("Message");let t=new this.engine.String("Time"),n=o.GetArray();if(n){let i=new this.engine.String("EventType"),o=new this.engine.String("Message"),a=(new this.engine.PDFArray.Create,new this.engine.PDFDictionary.Create),{year:s,month:c,day:l,hour:u,minute:d,second:h,milliseconds:f}=function(e,t=!0){const n=e?new Date(e):new Date,r=n.getFullYear(),i=t?`0${n.getMonth()+1}`.slice(-2):n.getMonth()+1,o=t?`0${n.getDate()}`.slice(-2):n.getDate(),a=t?`0${n.getHours()}`.slice(-2):n.getHours(),s=t?`0${n.getMinutes()}`.slice(-2):n.getMinutes(),c=t?`0${n.getSeconds()}`.slice(-2):n.getSeconds(),l=n.getMilliseconds();return{year:r,month:i,day:o,hour:a,minute:s,second:c,milliseconds:l}}(),g=new this.engine.DateTime(s,parseInt(c),parseInt(l),parseInt(u),parseInt(d),parseInt(h),f,0,0),p=new this.engine.String("Info"),m=new this.engine.WString(`${r}${s}-${c}-${l} ${u}:${d}:${h}XXX`);a.SetAtDateTime(t,g),a.SetAtString(i,p),a.SetAtWString(o,m),e.AddIndirectObject(a),n.AddReference(a,e)}}},_proto3.getSignatureSignTimeStamp=function(e){const t=e=>`0${e}`.slice(-2),n=e.GetSignTime(),r=`${n.year}-${t(n.month)}-${t(n.day)} ${t(n.hour)}:${t(n.minute)}:${t(n.second)}`;return new Date(r).getTime()},_proto3.add_doc_audit_trail=function(e,t,n){const r={INDIVIDUAL_TELECOM_3_FACTOR:"",INDIVIDUAL_BANKCARD_4_FACTOR:"",INDIVIDUAL_ARTIFICIAL:"",FACEAUTH_ZMXY:"",FACEAUTH_TECENT_CLOUD:"",FACEAUTH_ESIGN:"e",FACEAUTH_DING_TALK:"",FACEAUTH_WE_CHAT_FACE:"",ORGANIZATION_INFO_AUTH:"",ORGANIZATION_TRANSFER_RANDOM_AMOUNT:"",ORGANIZATION_REVERSE_PAYMENT:"",ORGANIZATION_ZMXY:"",LEGAL_REP_SIGN_AUTHORIZE:"",LEGAL_REP_AUTH:""},i={CODE_SMS:"",FACE_ZHIMA_XY:"",FACE_TECENT_CLOUD_H5:"",FACE_FACE_LIVENESS_RECOGNITION:"e",VIDEO_AUDIO_VIDEO_DUAL:"",EMAIL:""},{signerName:o,operatorName:a,authType:s,authTime:c,willAuthType:l,willAuthTime:u,email:d,phone:h,signType:f,samlResponse:g,companyId:p,companyName:m,signId:_}=n;let y,S,b=r[s]?r[s]:s,I=l&&i[l]?i[l]:l,A=new this.engine.String("Signer"),D=new this.engine.String("AuthMethod"),v=new this.engine.String("AuthName"),w=new this.engine.String("OperatorName"),P=new this.engine.String("Email"),F=new this.engine.String("Phone"),T=new this.engine.String("EnterpriseId"),C=new this.engine.String("Enterprise"),G=new this.engine.String("SAML_Response"),E=(new this.engine.String("SignID"),new this.engine.String("Type")),R=new this.engine.String("Name"),x=new this.engine.String("Subtype"),M=new this.engine.String("ID"),O=new this.engine.String(o),N=a?new this.engine.String(a):null,k=d?new this.engine.String(d):null,B=h?new this.engine.String(h):null,L=g?new this.engine.String(g):null,j=p?new this.engine.String(p):null,U=m?new this.engine.String(m):null,W=t.GetElement(A);if(W){W.GetType()===this.engine.PDFObjectType.e_Reference&&(W=W.GetDirectObject()),S=W.GetDict();let e=S.GetElement(D);e&&e.GetType()===this.engine.PDFObjectType.e_Array&&(y=e.GetArray())}else{let n=new this.engine.PDFDictionary.Create;n.SetAtName(E,A),n.SetAtString(R,O),y=new this.engine.PDFArray.Create,n.SetAt(D,y),e.AddIndirectObject(n),t.SetAtReference(A,n,e)}let H=new this.engine.PDFDictionary.Create;if(H.SetAtString(E,D),H.SetAtName(x,v),H.SetAtString(M,O),e.AddIndirectObject(H),y.AddReference(H,e),N){let t=new this.engine.PDFDictionary.Create;t.SetAtString(E,D),t.SetAtName(x,w),t.SetAtString(M,N),e.AddIndirectObject(t),y.AddReference(t,e)}if(d){let t=new this.engine.PDFDictionary.Create;t.SetAtString(E,D),t.SetAtName(x,P),t.SetAtString(M,k),e.AddIndirectObject(t),y.AddReference(t,e)}if(h){let t=new this.engine.PDFDictionary.Create;t.SetAtString(E,D),t.SetAtName(x,F),t.SetAtString(M,B),e.AddIndirectObject(t),y.AddReference(t,e)}if(L){let t=new this.engine.PDFDictionary.Create;t.SetAtString(E,D),t.SetAtName(x,G),t.SetAtString(M,L),e.AddIndirectObject(t),y.AddReference(t,e)}if(j){let t=new this.engine.PDFDictionary.Create;t.SetAtString(E,D),t.SetAtName(x,T),t.SetAtString(M,j),e.AddIndirectObject(t),y.AddReference(t,e)}if(U){let t=new this.engine.PDFDictionary.Create;t.SetAtString(E,D),t.SetAtName(x,C),t.SetAtString(M,U),e.AddIndirectObject(t),y.AddReference(t,e)}let z=new this.engine.PDFDictionary.Create,K=new this.engine.PDFDictionary.Create,J=new this.engine.PDFArray.Create,V=new this.engine.String("R"),Y=new this.engine.String("TrustedMode"),Z=new this.engine.String("OS"),q=new this.engine.String("Foxit PDF Editor Cloud"),X=new this.engine.String("alpine-release:3.11.6");K.SetAtName(R,q),K.SetAtInteger(V,30913),K.SetAtBoolean(Y,!0),J.AddName(X),K.SetAt(Z,J);let Q=new this.engine.String("App");if(e.AddIndirectObject(K),z.SetAtReference(Q,K,e),_){let t=new this.engine.PDFDictionary.Create,n=new this.engine.String("SignId"),r=new this.engine.String(_);t.SetAtString(n,r);const i=new this.engine.String("Evidence");e.AddIndirectObject(t),z.SetAtReference(i,t,e)}e.AddIndirectObject(z);let $=new this.engine.PDFDictionary.Create,ee=new this.engine.String("Method"),te=new this.engine.String("Time"),ne=new this.engine.String("AuthAddData"),re=b,ie=new this.engine.String(re);$.SetAtName(ee,ie);let oe=c?new this.engine.String(c):null;if(oe&&$.SetAtString(te,oe),I){let e=JSON.stringify({willingnessType:I,willingnessDate:u,status:""}),t=new this.engine.WString(e);$.SetAtWString(ne,t)}e.AddIndirectObject($);let ae=new this.engine.String("Prop_Build");t.SetAtReference(ae,z,e);let se=new this.engine.String("Prop_Auth");t.SetAtReference(se,$,e)},_proto3.getSignIdForEvidence=function(){let e=[];const t=this.doc;let n=[],r=t.GetSignatureCount();const i=[];for(let e=0;e<r;e++){let r=t.GetSignature(e);if(!r.IsSigned())continue;const o=r.GetSignatureDict();let a=new this.engine.String("Signer"),s=new this.engine.String("Name"),c=o.GetElement(a);if(!c)continue;if(c.GetType()===this.engine.PDFObjectType.e_Reference&&(c=c.GetDirectObject()),!c.GetDict().GetElement(s))continue;if("out"!==this.getESignCNMode(r))continue;const l=o.GetObjNum();i.includes(l)||(n.push(r),i.push(l))}try{n.sort(((e,t)=>e.GetFileSizeOfSignedVersion()-t.GetFileSizeOfSignedVersion()))}catch(e){console.error("pdf-jr/PDFDoc.js getDocAuditTrail  s.GetFileSizeOfSignedVersion error:",e),n.sort(((e,t)=>this.getSignatureSignTimeStamp(e)-this.getSignatureSignTimeStamp(t)))}let o=new this.engine.String("DocESign");return!!t.GetCatalog().GetElement(o)&&(n=n.slice(1)),n.forEach((t=>{let n={};n.fieldId=t.GetDict().GetObjNum();const r=t.GetSignatureDict(),i=new this.engine.String("Prop_Build"),o=new this.engine.String("Evidence"),a=new this.engine.String("SignId");let s=r.GetElement(i);if(s){s.GetType()==this.engine.PDFObjectType.e_Reference&&(s=s.GetDirectObject());let e=s.GetDict();if(e){let t=e.GetElement(o);if(!t)return;if(t.GetType()==this.engine.PDFObjectType.e_Reference&&(t=t.GetDirectObject()),t.GetType()==this.engine.PDFObjectType.e_Dictionary&&(t=t.GetDict()),t){let e=t.GetElement(a);if(e){let t=e.GetString().toString();n.signId=t}}}}e.push(n)})),e},_proto3.isESignCNSignature=function(e,t){return this.getPageByIndex(t).then((t=>t.getAnnotById(e))).then((e=>{let t,n,r={};const i=e.annot.GetDict();let o=new this.engine.String("Signer");const a=!!i.GetElement(o),s=new this.engine.Signature(this.doc,i);n=s.IsSigned();const c=s.GetSignatureDict();if(a?r=n?{isESignCNSignature:!!c.GetElement(o),isSigned:n}:{isESignCNSignature:!0,isSigned:n}:(t=!!n&&!!c.GetElement(o),r={isESignCNSignature:t,isSigned:n}),r.isESignCNSignature){const e=s.GetSignatureType();r.isPagingSig=e===this.engine.SignatureType.e_SignatureTypePagingSeal}return r}))},_proto3.getDocAuditTrail=async function(e,t){const n=this.doc,r=[],i=[],o=[];let a=n.GetSignatureCount();const s=[];for(let e=0;e<a;e++){let t=n.GetSignature(e);if(!t.IsSigned())continue;const r=t.GetSignatureDict();let a=new this.engine.String("Signer"),c=new this.engine.String("Name"),l=r.GetElement(a);if(!l)continue;if(l.GetType()===this.engine.PDFObjectType.e_Reference&&(l=l.GetDirectObject()),!l.GetDict().GetElement(c))continue;o.push(t.GetDict().GetObjNum());const u=r.GetObjNum();s.includes(u)||(i.push(t),s.push(u))}try{i.sort(((e,t)=>e.GetFileSizeOfSignedVersion()-t.GetFileSizeOfSignedVersion()))}catch(e){console.error("pdf-jr/PDFDoc.js getDocAuditTrail  s.GetFileSizeOfSignedVersion error:",e),i.sort(((e,t)=>this.getSignatureSignTimeStamp(e)-this.getSignatureSignTimeStamp(t)))}for(let t=0;t<i.length;t++){let o=i[t];const a={};try{a.fileSizeOfSignedVersion=o.GetFileSizeOfSignedVersion()}catch(e){console.error("pdf-jr/PDFDoc.js getDocAuditTrail  s.GetFileSizeOfSignedVersion error:",e),a.fileSizeOfSignedVersion=this.getSignatureSignTimeStamp(o)}if(a.hash="",0===t){const t=c(this.engine,o.GetSignatureDict());if(t){const n=l(e,t),r=this.generateDocHash(new Uint8Array(n));a.hash=r}}const s=await this.getByteRangeHash(o),u=await this.getAfterSignFileHash(o);a.byteRangeHash=s,a.signedHash=u;const d=o.GetSignatureDict(),h=o.GetDict();a.fieldId=h.GetObjNum();const f={};let g,p=new this.engine.String("AuthMethod"),m=new this.engine.String("Signer"),_=d.GetElement(m);if(!_)return;_.GetType()===this.engine.PDFObjectType.e_Reference&&(_=_.GetDirectObject()),g=_.GetDict();let y=g.GetElement(p),S=new this.engine.String("Subtype"),b=new this.engine.String("ID");if(y.GetType()===this.engine.PDFObjectType.e_Array){let e=y.GetArray(),t=e.GetElementCount();for(let n=0;n<t;n++){let t=e.GetElement(n);if(!t)continue;t.GetType()===this.engine.PDFObjectType.e_Reference&&(t=t.GetDirectObject()),t.GetType()===this.engine.PDFObjectType.e_Dictionary&&(t=t.GetDict());let r=t.GetElement(S).GetString();if("AuthName"===r.toString()){let e=t.GetElement(b);f.signerName=e.GetString().toString()}if("OperatorName"===r.toString()){let e=t.GetElement(b);f.operatorName=e.GetString().toString()}else if("EnterpriseId"===r.toString()){let e=t.GetElement(b);f.companyId=e.GetString().toString()}else if("Enterprise"===r.toString()){let e=t.GetElement(b);f.companyName=e.GetString().toString()}else if("SAML_Response"===r.toString()){let e=t.GetElement(b);f.SAMLResponse=e.GetString().toString()}else if("Email"===r.toString()){let e=t.GetElement(b);f.email=e.GetString().toString()}else if("Phone"===r.toString()){let e=t.GetElement(b);f.phone=e.GetString().toString()}}}a.signer=f;let I=new this.engine.String("Prop_Build"),A=d.GetElement(I);if(A){const e={};let t=n.GetPageCount();e.pageNumbers=t,A.GetType()==this.engine.PDFObjectType.e_Reference&&(A=A.GetDirectObject());let r=A.GetDict();if(r){let t=new this.engine.String("App"),i=r.GetElement(t);if(!i)return;if(i.GetType()==this.engine.PDFObjectType.e_Reference&&(i=i.GetDirectObject()),i.GetType()==this.engine.PDFObjectType.e_Dictionary&&(i=i.GetDict()),i){let t=new this.engine.String("Name"),r=new this.engine.String("R"),o=new this.engine.String("TrustedMode"),a=new this.engine.String("OS"),s=i.GetElement(t);s&&(e.name=s.GetString().toString());let c=i.GetElement(r);c&&(e.version=c.GetInteger());let l=i.GetElement(o);l&&(e.trustedModeValue=l.GetBoolean());let u=i.GetElement(a);if(u){let t=u.GetArray(),n=t.GetElementCount();for(let r=0;r<n;r++){let n=t.GetElement(r);n&&(e.os=n.GetString().toString())}}let d=new this.engine.String("DocESign"),h=n.GetCatalog().GetElement(d);e.type=h?"signFlow":"signSelf"}}a.build=e}let D=new this.engine.String("Prop_Auth"),v=d.GetElement(D);if(v){const e={};v.GetType()==this.engine.PDFObjectType.e_Reference&&(v=v.GetDirectObject()),v.GetType()==this.engine.PDFObjectType.e_Dictionary&&(v=v.GetDict());let t=new this.engine.String("Method"),n=new this.engine.String("Time"),r=new this.engine.String("AuthAddData"),i=v.GetElement(t);i&&(e.method=i.GetString().toString());let s=v.GetElement(n);s&&(e.time=s.GetString().toString());let c=v.GetElement(r);if(e.additionalInfo=null,c)try{e.additionalInfo=JSON.parse(c.GetWideString().toString())}catch(e){console.error("pdf-jr/PDFDoc.js getDocAuditTrail error:",e)}e.mode=this.getESignCNMode(o),a.auth=e}a.certfile=this.getcertfileinfo(o),a.auth.serialNumber=a.certfile.serialNumber,r.push(a)}return((e,t,r,i)=>{if(e.length<1)return null;let o=[],a=new i.String("DocESign");!!n.GetCatalog().GetElement(a)&&t.forEach(((e,t)=>{if(r.indexOf(e.id)<0){const n={fieldId:e.id,pageIndex:e.pageIndex,assignUserName:e.company?`${e.company}${e.assignUserName}`:e.assignUserName,assignUserEmail:e.assignUserEmail,flowSignOrder:t+1};o.push(n)}}));let s=[];return o.length>0&&o.forEach((e=>{let t=this.getPageByIndex(e.pageIndex).then((t=>{t.getAnnotById(e.fieldId).then((t=>{e.signatureName=t.annot.GetField().GetName().toString()}))}));s.push(t)})),Promise.all(s).then((()=>{let t={};return t.base={pageNumbers:e[0].build.pageNumbers,hash:e[0].hash||"",type:e[0].build.type},t.auth=e.map((e=>{let t={...e.certfile,...e.auth,signerName:e.signer.signerName,operatorName:e.signer.operatorName,companyId:e.signer.companyId,companyName:e.signer.companyName,fileSizeOfSignedVersion:e.fileSizeOfSignedVersion,fieldId:e.fieldId,SAMLResponse:e.signer.SAMLResponse,email:e.signer.email,phone:e.signer.phone,byteRangeHash:e.byteRangeHash,signedHash:e.signedHash};return e.assignUserName&&(t.assignUserName=e.assignUserName),e.assignUserEmail&&(t.assignUserEmail=e.assignUserEmail),t})),t.certfile=e.map(((e,t)=>{let n={...e.auth,...e.certfile,signerName:e.signer.signerName,operatorName:e.signer.operatorName,fileSizeOfSignedVersion:e.fileSizeOfSignedVersion,fieldId:e.fieldId,byteRangeHash:e.byteRangeHash,signedHash:e.signedHash};return e.assignUserName&&(n.assignUserName=e.assignUserName),e.assignUserEmail&&(n.assignUserEmail=e.assignUserEmail),n})),"signFlow"===e[0].build.type&&(t.base.startSignDate=e[0].certfile.signDate,t.base.endSignDate=e[e.length-1].certfile.signDate),t.illegalSignatures=o,t}))})(r,t,o,this.engine);function c(e,t){let n=t.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"ByteRange")).GetArray(),r=[];if(!n)return;let i=n.GetElementCount();for(let e=0;e<i;e++)r.push(n.GetElement(e).GetInteger());return r}function l(e,t){let n=Array.from(e),r=[];for(let e=0;e<t.length;e+=2){let i=t[e],o=t[e+1];r=r.concat(n.slice(i,i+o))}return r}},_proto3.getByteRangeHash=function(e){let t;const n=e.GetSignatureDict(),r=((e,t)=>{let n=t.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"ByteRange")).GetArray(),r=[];if(!n)return;let i=n.GetElementCount();for(let e=0;e<i;e++)r.push(n.GetElement(e).GetInteger());return r})(this.engine,n);let i=Promise.resolve();return r&&(i=this.getOriginalStream()),i.then((e=>{if(!e)return;const n=((e,t)=>{let n=Array.from(e),r=[];for(let e=0;e<t.length;e+=2){let i=t[e],o=t[e+1];r=r.concat(n.slice(i,i+o))}return r})(e,r);return t=this.generateDocHash(new Uint8Array(n)),t}))},_proto3.getAfterSignFileHash=function(e){if(!e.IsSigned())return;const t=e.GetFileSizeOfSignedVersion();return this.getOriginalStream().then((e=>{const n=new Uint8Array(e).slice(0,t);return this.generateDocHash(new Uint8Array(n))}))},_proto3.getcertfileinfo=function(e){const t={};if(t.signatureName=e.GetName().toString(),this.doc&&e){let r=new this.engine.String("SerialNumber"),i=new this.engine.String("Subject"),o=new this.engine.String("Issuer"),a=new this.engine.String("ValidPeriodFrom"),s=new this.engine.String("ValidPeriodTo"),c=new this.engine.String(";");t.format="",t.serialNumber="";try{let n=e.GetCertificateInfo(r).toString().split(c);if(n){let e=n.pop();t.serialNumber=e.toString()}t.format="X.509"}catch(e){console.error("getcertfileinfo error: ",e)}t.subject="";try{let n=e.GetCertificateInfo(i).toString().split(c);if(n){let e=n.pop();e.toString().split(",").forEach((e=>{const n=e.split("=");"CN"==n[0]&&(t.subject=n[1].toString())}))}}catch(e){console.error("getcertfileinfo error: ",e)}t.issuer="";let l="",u="";try{let n=e.GetCertificateInfo(o).toString().split(c);if(n){let e=n.pop();e.toString().split(",").forEach((e=>{const t=e.split("=");if("O"==t[0].trim()){let e=/\"/g;u=t[1].toString().replace(e,"")}if("CN"==t[0].trim()){let e=/\"/g;l=t[1].toString().replace(e,"")}})),t.issuer=l||u}}catch(e){console.error("getcertfileinfo error: ",e)}t.validPeriodFrom="";try{let n=e.GetCertificateInfo(a).toString().split(c);if(n){let e=n.pop();t.validPeriodFrom=e.toString()}}catch(e){console.error("getcertfileinfo error: ",e)}t.valid_period_to="";try{let n=e.GetCertificateInfo(s).toString().split(c);if(n){let e=n.pop();t.validPeriodTo=e.toString()}}catch(e){console.error("getcertfileinfo error: ",e)}const d=e.GetSignTime();t.signDate=`${d.year}-${n(d.month)}-${n(d.day)} ${n(d.hour)}:${n(d.minute)}:${n(d.second)}`,t.mode=this.getESignCNMode(e)}return t;function n(e){return`0${e}`.slice(-2)}},_proto3.getAssignInfoForESignCN=function(){let e=this.JR,t=this.doc;const n=[];if(t){let e=t.GetPageCount();for(let t=0;t<e;t++){const e=this.getPageByIndex(t).then((e=>e.getAnnots())).then((e=>{const n=[],i=t;e=e.filter((e=>{let t=e.annot,n=t.GetType();if(this.engine.AnnotType.e_Widget!==n)return!1;let r=t.GetDict();if(!r)return!1;if(!this.getSignatureFTValue(r))return!1;if(!getAnnotTypeInESignCN(r,this.engine))return!1;let i=new this.engine.String("Signer"),o=r.GetElement(i);if(!o)return!1;let a=o.GetDict(),s=new this.engine.String("AuthType");if(!a.GetElement(s))return!1;let c=new this.engine.String("AuthMethod");return!!a.GetElement(c)}));let o=[];return e.forEach((e=>{let t=e.annot;const a=e.getId(),s={};let c=t.GetDict();const l=getAnnotTypeInESignCN(c,this.engine);let u=new this.engine.String("FlowSignConfigInfo");const d=new this.engine.String("DocStore"),h=new this.engine.String("ProcessID"),f=new this.engine.String("TaskName");let g=c.GetElement(u);if(g){g.GetType()===this.engine.PDFObjectType.e_Reference&&(g=g.GetDirectObject());let e=g.GetDict();if(e){const t=e.GetElement(d).GetInteger(),n=e.GetElement(h).GetString().toString(),r=e.GetElement(f),i=r&&r.GetString().toString();s.docStore=t,s.processId=n,i&&(s.taskName=i)}}let p=new this.engine.String("Signer"),m=new this.engine.String("AuthMethod"),_=new this.engine.String("AuthType"),y=new this.engine.String("Name");const S=new this.engine.String("Color");let b=new this.engine.String("ID"),I=new this.engine.String("Subtype"),A=c.GetElement(p);if(!A)return;A.GetType()===this.engine.PDFObjectType.e_Reference&&(A=A.GetDirectObject());let D=A.GetDict(),v=D.GetElement(y);const w=D.GetElement(S);let P=D.GetElement(_),F=D.GetElement(m),T=P.GetString();if(["Email","Phone","Company","All"].includes(T.toString())&&F.GetType()===this.engine.PDFObjectType.e_Array){let e=F.GetArray(),t=e.GetElementCount();for(let n=0;n<t;n++){let t=e.GetElement(n);if(!t)continue;t.GetType()===this.engine.PDFObjectType.e_Reference&&(t=t.GetDirectObject()),t.GetType()===this.engine.PDFObjectType.e_Dictionary&&(t=t.GetDict());let r=t.GetElement(b),i=t.GetElement(I);if("All"===T.toString()||i.GetString().toString()===T.toString()){let e;if("Phone"===i.GetString().toString()&&(e="phoneNumber"),"Email"===i.GetString().toString()&&(e="email"),"Company"===i.GetString().toString()&&(e="company"),"EnterpriseId"===i.GetString().toString()&&(e="EnterpriseId"),"Enterprise"===i.GetString().toString()&&(e="Enterprise"),s[e]=r.GetString().toString(),s.userName=v.GetString().toString(),s.company=s.company?s.company:"",s.color=w.GetString().toString(),!s.phoneNumber&&!s.email)continue}}s.uniqueKey=`${s.email}_${s.phoneNumber}_${s.company}`;const u=n.findIndex((e=>e.uniqueKey===s.uniqueKey));let d=Promise.resolve({isESignCNSignature:null});"FullSignature"===l&&(d=this.isESignCNSignature(a,i)),d.then((e=>{const{isESignCNSignature:t,isPagingSig:o}=e,d=r(l,c,o,this.engine);if(u>-1){if(!n[u].annots.map((e=>e.id)).includes(a)){const e={id:a,fieldStatus:d,type:l,pageIndex:i,isESignCNSignature:t};e.isPagingSig=o,n[u].annots.push(e)}}else{const e={id:a,fieldStatus:d,type:l,pageIndex:i,isESignCNSignature:t};e.isPagingSig=o,s.annots=[e],n.push(s)}})),o.push(d)}})),Promise.all(o).then((()=>n))}));n.push(e)}}return Promise.all(n);function r(t,n,r,i){let o=0;if("FullSignature"===t){const e=["AP","N","Resources","XObject","FXX1","Resources","XObject","FXX2","Subtype"],t=["AP","Resources","XObject"],a=["N","FXX1","FXX2","FoxitSigAPN","IMG","Img"],s=["Subtype"],c=(e,n,r)=>n.reduce(((e,n)=>{if(!e)return null;const i=new r.String(n);let o,c;if(t.includes(n)?c="Dictionary":a.includes(n)?c="Stream":s.includes(n)&&(c="String"),"Dictionary"===c){let t=e.GetElement(i);return t&&t.GetType()===r.PDFObjectType.e_Reference&&(t=t.GetDirectObject()),t&&t.GetType()===r.PDFObjectType.e_Dictionary&&(t=t&&t.GetDict()),t}return"Stream"===c?(o=e.GetElement(i),o&&o.GetType()===r.PDFObjectType.e_Reference&&(o=o.GetDirectObject().GetStream()),o&&o.GetType()===r.PDFObjectType.e_Stream&&(o=o&&o.GetDictionary())):"String"===c&&(o=e.GetElement(i),o&&(o=o.GetString().toString())),i.delete(),o}),e);o=r?c(n,["AP","N","Resources","XObject","FoxitSigAPN","Resources","XObject","IMG"],i)?1:0:"Image"===c(n,e,i)?1:0}let a=new i.String("Parent"),s=new i.String("V"),c=n.GetElement(s);if(!c){const e=n.GetElement(a);e&&e.GetType()===i.PDFObjectType.e_Reference&&e.GetDirectObject()&&e.GetDirectObject().GetDict()&&(c=e.GetDirectObject().GetDict().GetElement(s))}return c&&("FullSignature"===t||e.getPDFString(c.GetString()).toString())&&(o=2),a.delete(),s.delete(),o}},_proto3.getOrderOfSignFlowFile=function(){let e=new this.engine.String("DocESign");const t=new this.engine.String("Signers");new this.engine.String("AuthType");let n=new this.engine.String("AuthMethod"),r=new this.engine.String("ID"),i=new this.engine.String("Subtype"),o=this.doc.GetCatalog().GetElement(e);const a=[];if(o){o.GetType()==this.engine.PDFObjectType.e_Reference&&(o=o.GetDirectObject());let e=o.GetDict().GetElement(t);if(e.GetType()==this.engine.PDFObjectType.e_Array){let t=e.GetArray(),o=t.GetElementCount();for(let e=0;e<o;e++){let o=t.GetElement(e);if(!o)continue;o.GetType()==this.engine.PDFObjectType.e_Reference&&(o=o.GetDirectObject()),o.GetType()==this.engine.PDFObjectType.e_Dictionary&&(o=o.GetDict());let s,c=o.GetElement(n),l={};if(c.GetType()==this.engine.PDFObjectType.e_Array){let e=c.GetArray(),t=e.GetElementCount();for(let n=0;n<t;n++){let t=e.GetElement(n);if(!t)continue;t.GetType()==this.engine.PDFObjectType.e_Reference&&(t=t.GetDirectObject()),t.GetType()==this.engine.PDFObjectType.e_Dictionary&&(t=t.GetDict());const o=t.GetElement(i).GetString().toString();if(!["Email","Phone","Company"].includes(o))continue;let a=t.GetElement(r),s=a&&a.GetString().toString();l[o]=s}}s=`${l.Email?l.Email:""}${l.Phone?l.Phone:""}${l.Company?l.Company:""}`,a.push(s)}}}return Array.from(new Set(a))},_proto3.setSignatureAP=function({pageIndex:e,annotId:t,inkSignBuffer:n,pagingSig:r,pagingSigObjNum:i}){const o=(e,t)=>{const n=this.JR.createReaderCallbackByBuffer(t);let r=new this.engine.Image(n).GetFrameBitmap(0);return e.SetBitmap(r),e.GenerateAppearance(),!0};return i&&(r=this.getPagingSealSignature({sigObjNum:i})),r?o(r,n):this.getPageByIndex(e).then((e=>e.getAnnotById(t))).then((e=>{const t=e.annot.GetField().GetName().toString(),r=this.loadForm().getField(t).engineField;let i=this.JR.createReaderCallbackByBuffer(n),o=new this.engine.Image(i).GetFrameBitmap(0);r.SetBitmap2AP(o),r.SetAppearanceFlags(128);const a=new this.engine.SignatureAppearanceOptions;return a.showLogo=!1,r.SetSignatureAppearanceOptions(a),r.ResetSignAppearance(),!0})).catch((e=>{console.error("setSignatureAP",e)}))},_proto3.getFlowSignInfo=function(){const e=this.doc,t={initiator:{email:null,phone:null,name:null}},n=[];let r=e.GetSignatureCount();for(let t=0;t<r;t++){let r=e.GetSignature(t);if(!r.IsSigned())continue;let i=e.GetCatalog(),o=new this.engine.String("DocESign");if(!i.GetElement(o))continue;const a=r.GetSignatureDict();let s=new this.engine.String("Signer"),c=new this.engine.String("Name"),l=a.GetElement(s);l&&(l.GetType()===this.engine.PDFObjectType.e_Reference&&(l=l.GetDirectObject()),l.GetDict().GetElement(c)&&n.push(r))}try{n.sort(((e,t)=>e.GetFileSizeOfSignedVersion()-t.GetFileSizeOfSignedVersion()))}catch(e){console.error("pdf-jr/PDFDoc.js getDocAuditTrail  s.GetFileSizeOfSignedVersion error:",e),n.sort(((e,t)=>this.getSignatureSignTimeStamp(e)-this.getSignatureSignTimeStamp(t)))}if(n&&n.length>0){const e=n[0].GetSignatureDict();let r=new this.engine.String("Signer"),i=new this.engine.String("AuthMethod"),o=new this.engine.String("ID"),a=new this.engine.String("Subtype"),s=e.GetElement(r);if(!s)return;s.GetType()===this.engine.PDFObjectType.e_Reference&&(s=s.GetDirectObject());let c=s.GetDict().GetElement(i);if(c.GetType()===this.engine.PDFObjectType.e_Array){let e=c.GetArray(),n=e.GetElementCount();for(let r=0;r<n;r++){let n=e.GetElement(r);if(!n)continue;n.GetType()===this.engine.PDFObjectType.e_Reference&&(n=n.GetDirectObject()),n.GetType()===this.engine.PDFObjectType.e_Dictionary&&(n=n.GetDict());let i=n.GetElement(o),s=n.GetElement(a);"Phone"===s.GetString().toString()&&(t.initiator.phone=i.GetString().toString()),"Email"===s.GetString().toString()&&(t.initiator.email=i.GetString().toString()),"AuthName"===s.GetString().toString()&&(t.initiator.name=i.GetString().toString()),"SAML_Response"===s.GetString().toString()&&(t.initiator.samlResponse=i.GetString().toString()),"EnterpriseId"===s.GetString().toString()&&(t.initiator.companyId=i.GetString().toString())}}}return t},_proto3.attachFile=function(e){},_proto3.getFontsInfo=function(){let e=this.doc,t=[];for(let n=0,r=e.GetFontCount();n<r;n++){const r=e.GetFont(n),i=r.GetFontType(e).value;t.push({isEmbedded:r.IsEmbedded(e),isBold:r.IsBold(),isItalic:r.IsItalic(),baseFontName:this.JR.getPDFString(r.GetBaseFontName(e)),fontType:1===i?"Type1":2===i?"TrueType":3===i?"Type3":4===i?"TrueType(CID)":"",name:this.JR.getPDFString(r.GetName()),familyName:this.JR.getPDFString(r.GetFamilyName()),index:n,docId:this.id,encodingType:r.getEncodingType(e).toString(),actualFontName:r.getActualFontName(e).toString(),actualFontStyle:r.getActualFontStyle(e).toString()})}return t},_proto3.getAdditionalActions=function(){let e=this.engine,t=this.doc.GetCatalog().GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"AA")),n={};if(!t)return n;let r=new e.AdditionalAction(this.doc,t.GetDict()),i=e.TriggerEvent;for(let e=2;e<7;e++){let t=r.GetAction(i.values[e]);t.IsEmpty()||(n[e]=this.JR.actionManager.get(t,this,this.JR).toJson())}return(0,_share_objects_delete_js__WEBPACK_IMPORTED_MODULE_47__.Z)(r),n},_proto3.syncDataCache=function(e){let t=[];for(let n in e)t.push(this.getPageByIndex(e[n],n));return Promise.all(t)},_proto3.setColors=function(e){(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_43__.Z)(this.colors,e)},_proto3.setPageDisplayPreferences=function(e){this.pageDisplayPreferences=e},_proto3.setOriginalStream=function(e){this.oriFile=e},_proto3.getOriginalStream=function(){let e=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)();if("string"==typeof this.oriFile.url){let t=this.oriFile,n=new XMLHttpRequest;if(n.open(t.type||"GET",t.url,!0,t.user,t.password),n.responseType="arraybuffer",t.headers){let e=t.headers;for(let t in e)n.setRequestHeader(t,e[t])}n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?e.resolve(n.response):e.reject(n))},n.send(t.data)}else if(this.oriFile instanceof Blob){let t=new FileReaderSync;(function(e){return e.slice(0,5).text().then((e=>!e||"\0\0\0\0\0"===e))})(this.oriFile).then((n=>{if(n){const t=[];this.getStream({writeStream:function(e){t.push(e)}},0).then((n=>{let r=new Uint8Array(n),i=0;for(let e=0,n=t.length;e<n;e++){let n=t[e];r.set(new Uint8Array(n),i),i+=n.byteLength}r=r.slice(0),e.resolve(r)}))}else{const n=t.readAsArrayBuffer(this.oriFile),r=new Uint8Array(n);e.resolve(r)}}))}else e.resolve(new Uint8Array(this.oriFile).slice(0).buffer);return e.promise},_proto3.moveAnnotsToPage=function(e,t,n){return Promise.all([this.getPageById(e),this.getPageById(t)]).then((([e,t])=>t.isVirtual?[]:Promise.all([e.parsedPage(),t.parsedPage()]).then((([r,i])=>{let o=this.engine,a=r.GetRotation().value,s=i.GetRotation().value-a,c=getAnnotsArray(o,r),l=getAnnotsArray(o,i),u={};for(let t in n){let i=e._getAnnotIndexById(Number(t)),a=r.GetAnnot(i),c=n[t].rect,d=a.GetDict(),h=d.GetObjNum();if(Object.keys(c).length){let e=new o.CFX_FloatRect(c.left,c.bottom,c.right,c.top),t=a.GetRect(),n=t.Width()/2,r=t.Height()/2,i=new o.Matrix;i.Translate(-t.left-n,-t.bottom-r,!1),i.Rotate(-s*Math.PI/2,!1),i.Translate(t.left+n,t.bottom+r,!1),i.SetReverse(i);let l=a.GetRect();i.TransformRect(l),e.right=e.left+l.Width(),e.top=e.bottom+l.Height();let u=a.GetType().value,h=c.left-l.left,f=c.bottom-l.bottom;switch(u){case 3:{let t=(360+90*s)%360,n=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"Rotate"),r=d.GetElement(n),c=0;c=r?r.GetInteger():0,d.SetAt(n,o.PDFObject.CreateFromInteger((c+t)%360));let l=new o.FreeText(a);if("FreeTextCallout"==l.GetIntent().toString()){let t=l.GetCalloutLinePoints();for(let e=0,n=t.GetSize();e<n;e++){let n=t.GetAt(e);n=i.TransformPoint(n.x,n.y),n.x+=h,n.y+=f,t.SetAt(e,n)}l.SetCalloutLinePoints(t);let n=l.GetInnerRect();i.TransformRect(n),n.left+=h,n.right+=h,n.top+=f,n.bottom+=f;let r=new o.CFX_FloatRect(n.left-e.left,n.bottom-e.bottom,e.right-n.right,e.top-n.top);d.SetAtRect((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"RD"),r),d.SetAtRect((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"Rect"),e),a.ResetAppearanceStream()}break}case 4:{let e=new o.Line(a),t=e.GetStartPoint();t=i.TransformPoint(t.x,t.y),t.x+=h,t.y+=f,e.SetStartPoint(t);let n=e.GetEndPoint();n=i.TransformPoint(n.x,n.y),n.x+=h,n.y+=f,e.SetEndPoint(n)}break;case 7:case 8:[o.PolyLine,o.Polygon].find(((e,t)=>{if(7==u&&0==t)return!1;let n=new e(a);const r=n.GetPath();if(r.GetPointCount()>0){const e=new this.engine.Path,t=r.GetPointCount();e.IncreasePointCount(t);for(let n=0;n<t;n++){const t=r.GetPoint(n),o=i.TransformPoint(t.x,t.y);o.x+=h,o.y+=f,e.SetPoint(n,o,r.GetPointType(n))}n.SetPath(e)}else{let e=n.GetVertexes();for(let t=0,n=e.GetSize();t<n;t++){let n=e.GetAt(t);n=i.TransformPoint(n.x,n.y),n.x+=h,n.y+=f,e.SetAt(t,n)}n.SetVertexes(e)}return!0}));break;case 9:case 10:case 11:case 12:{let e=new o.TextMarkup(a),t=e.GetQuadPoints(),n=new o.QuadPointsArray;for(let e=0,r=t.GetSize();e<r;e++){let r=t.GetAt(e),a=new o.QuadPoints;[r.first,r.second,r.third,r.fourth].forEach(((e,t)=>{let n=i.TransformPoint(e.x,e.y);switch(n.x+=h,n.y+=f,t){case 0:a.first=n;break;case 1:a.second=n;break;case 2:a.third=n;break;case 3:a.fourth=n}})),n.Add(a)}e.SetQuadPoints(n)}break;case 15:{let e=new o.Ink(a),t=e.GetInkList(),n=t.GetPointCount();for(let e=0;e<n;e++){let n=t.GetPoint(e),r=i.TransformPoint(n.x,n.y);r.x+=h,r.y+=f;let o=t.GetPointType(e);t.SetPoint(e,r,o)}e.SetInkList(t)}break;case 13:{let e=(360+90*s)%360,t=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"Rotate"),n=d.GetElement(t),r=0;r=n?n.GetInteger():0,new o.Stamp(a).SetRotation(((-r-e)%360+360)%360)}break;case 17:{let e=a.GetFlags();a.SetFlags(24|e)}break;case 20:{let e=(4+s)%4,t=new o.Widget(a),n=t.GetMKRotation().value;4===n&&(n=0);let r=4-((-n-e)%4+4)%4,i=o.Rotation.e_Rotation0;switch(r){case 1:i=o.Rotation.e_Rotation90;break;case 2:i=o.Rotation.e_Rotation180;break;case 3:i=o.Rotation.e_Rotation270}t.SetMKRotation(i)}}26!==u&&d.SetAtRect((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"Rect"),e),a.ResetAppearanceStream()}d.RemoveAt((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"P")),l.AddElement(o.PDFObject.CreateReference(this.doc,h)),u[h]=t}for(let e in u){let e=c.GetElementCount();for(let t=0;t<e;t++){let e=c.GetElement(t).GetDirectObject().GetDict(),n=e.GetObjNum();if(u[n]){c.RemoveAt(t);break}let r=e.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"NM")),i=r&&r.GetString().toString();if(u[n]==i&&r){c.RemoveAt(t);break}}}return e.page.UpdateAnnotList(),t.page.UpdateAnnotList(),e.reloadAnnots(),t.reloadAnnots(),t.getAnnots(null,u).then((e=>(e.forEach((e=>{e.updateModifyTime()})),e)))}))))},_proto3.setTabOrder=function(e,t){const n=Object.freeze({none:"e_None",row:"e_Row",column:"e_Column",structure:"e_Structure"});return this.getPageByIndex(e).then((e=>{if(e.isVirtual)return[];let r=this.engine.OrderType[n[t]||n.none],i=new this.engine.TabOrderMgr(e.page);i.SetOrderType(r),i.Reload();e.page.GetAnnotCount();let o=i.GetFirstAnnot(),a=[];for(;!o.IsEmpty();)a.push(o.GetDict().GetObjNum()),o=i.GetNextAnnot(o);return a}))},_proto3.getTabOrder=function(e){const t=this.engine;return this.getPageByIndex(e).then((e=>{if(e.isVirtual)return"e_None";let n=new this.engine.TabOrderMgr(e.page).GetOrderType();switch(n){case t.OrderType.e_Row:n="e_Row";break;case t.OrderType.e_Column:n="e_Column";break;case t.OrderType.e_Structure:n="e_Structure";break;default:n="e_None"}return n}))},_proto3.setStructureOrder=function(e,t){const n=this.engine;return this.getPageByIndex(e).then((e=>e.isVirtual?[]:e.getAnnots(t).then((t=>{const r=new this.engine.TabOrderMgr(e.page),i=new n.AnnotArray;return t.forEach((e=>{i.Add(e.annot)})),r.AdjustStructureOrder(i),e.reloadAnnots()}))))},_proto3.renderTemplatesByObjNum=function(e){const t=this.engine;let n=this.doc.GetTemplateSize(e);const r=new t.Bitmap(n.x,n.y,t.DIBFormat.e_DIBRgb32,0,0);r.FillRect(4294967295,null);let i=(0,_share_RendererHelper__WEBPACK_IMPORTED_MODULE_26__.I)(t,r);return i.RenderTemplates(this.doc,e,r),(0,_share_RendererHelper__WEBPACK_IMPORTED_MODULE_26__.v)(t,r,i)},_proto3.getPageIndexByObjNum=function(e){return this.doc.GetPageIndex(e)},_proto3.getNameTree=function(e){const t={value:e},n=this.doc,r=this.engine;let i={},o=new r.PDFNameTree(n,t);for(let e=0,a=o.GetCount();e<a;e++){let a=o.GetName(e);if(!a.GetLength())continue;let s=o.GetObj(a);if(!s)continue;let c=a.toString();if(t.value===r.PDFNameTreeType.e_JavaScript.value){let e=new r.Action(n,s.GetDict());if(e.IsEmpty())continue;let t=new r.JavaScriptAction(e),o=t.GetScript();i[c]=o.toString(),e=null,t=null,o=null}else if(4===t.value||5===t.value){let e=s.GetDict().GetObjNum();i[c]=e,e=null}else if(t.value===r.PDFNameTreeType.e_EmbeddedFiles.value){let e=new r.FileSpec(n,s),t=new _base_FileSpec__WEBPACK_IMPORTED_MODULE_27__.Z(e,this);i[c]=t.toJson(),t=null}a.delete(),a=null}return o.delete(),o=null,i},_proto3.addNameTreeObj=function(e,t,n){const r=this.engine,i=this.doc;let o=new r.PDFNameTree(i,{value:e}),a=new r.WString(t),s=i.GetIndirectObject(n).GetDirectObject();const c=o.Add(a,s);return a.delete(),a=null,c},_proto3.removeNameTreeObj=function(e,t){const n=this.engine,r=this.doc;let i=new n.PDFNameTree(r,{value:e}),o=new n.WString(t);const a=i.RemoveObj(o);return o.delete(),o=null,a},_proto3.replaceNameTreeObj=function(e,t,n){const r=this.engine,i=this.doc;let o=new r.PDFNameTree(i,{value:e}),a=new r.WString(t),s=i.GetIndirectObject(n).GetDirectObject();const c=o.SetObj(a,s);return a.delete(),a=null,c},_proto3.renameNameTreeObj=function(e,t,n){const r=this.engine,i=this.doc;let o=new r.PDFNameTree(i,{value:e}),a=new r.WString(t),s=new r.WString(n);const c=o.Rename(a,s);return a.delete(),a=null,s.delete(),s=null,c},_proto3.nameTreeTemplatesToPages=function(e){const t=this.engine,n=this.doc;let r=new t.WString(e);const i=n.InsertPageFromTemplate(r);return r.delete(),r=null,i},_proto3.nameTreePagesToTemplates=function(e){const t=this.engine,n=this.doc;let r=new t.WString(e);return n.RemovePageFromTemplate(r),r.delete(),r=null,!0},_proto3.addFileSpec=function(e,t,n){const r=this.engine,i=this.doc,o=_base_FileSpec__WEBPACK_IMPORTED_MODULE_27__.Z.createFile(r,i,t);let a=new r.WString(e);return o.SetFileName(a),a.delete(),a=null,o.SetModifiedDateTime(_annot_Annot__WEBPACK_IMPORTED_MODULE_28__.Z.ToDateTime(r,n)),o.GetDict().GetObjNum()},_proto3.setFileSpecDesc=function(e,t){const n=this.engine,r=this.doc;if(!t)return!0;let i=new n.FileSpec(r,r.GetIndirectObject(t));if(!i.IsEmpty()){let t=new n.String(e);i.SetDescription(t),t.delete(),t=null}return!0},_proto3.getArticle=function(e=!1){return!e&&this.article||(this.article=new _PDFArticle__WEBPACK_IMPORTED_MODULE_37__.Z(this)),this.article},_proto3.getFileSpecStream=function(e,t){const n=this.engine,r=this.doc;let i=new n.FileSpec(r,r.GetIndirectObject(e));if(i.IsEmpty())return Promise.reject();{let e=new _base_FileSpec__WEBPACK_IMPORTED_MODULE_27__.Z(i,this);const n=e.getStream(t);return e=null,n}},_proto3.addEmbeddedFile=function(e,t){return this.attachments.addEmbeddedFileEx(e,t)},_proto3.setEmbeddedFile=function(e,t){return this.attachments.setEmbeddedFileEx(e,t)},_proto3.getEmbeddedFile=function(e){return this.attachments.getEmbeddedFile(e,this)},_proto3.getFormControlPage=function(e){let t=[];for(let e=0;e<this.doc.GetPageCount();e++)t.push(this.getPageByIndex(e));return Promise.all(t).then((t=>{for(let n=0;n<t.length;n++){let t=this.pageIndexMap[n].page.GetDict().GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(this.engine,"Annots"));if(!t)continue;if(t=t.GetDirectObject(),!t)continue;let r=t.GetArray();for(let t=0;t<r.GetElementCount();t++){let i=r.GetElement(t);if(i&&(i=i.GetDirectObject(),i&&i.GetDict().GetObjNum()==e))return n}}}))},_proto3.getPDFDictInfo=function(){let e=this.dictionaryMap[this.id];if(e)return e.toJson();let t=this;return this.docPromise.then((function(e){let n=e.GetInfo(),r=new _PDFDictionary_js__WEBPACK_IMPORTED_MODULE_14__.Z(t);return t.updateDictCache(n,r),t.updateDictMap(t.id,r),r.toJson()}))},_proto3.getPageLabels=function(e=[]){let t=this,n=this.engine;return this.docPromise.then((function(e){return e.GetPageCount()})).then((t=>Promise.all(e.map((n=>{if(n>0&&n<t)return this.getPageByIndex(n).then((t=>{if(t.isVirtual){const t=e.indexOf(n);e.split(t,1)}}))}))))).then((()=>this.docPromise)).then((function(r){t.pageLabels=t.pageLabels||new n.PageLabels(r);let i=[],o=r.GetPageCount();if(!e||!e.length){for(let e=0;e<o;e++){let n=t.pageLabels.GetPageLabelTitle(e);i.push(n.toString())}return i}return e.forEach((e=>{if(e<0||e>=o)i.push("");else{let n=t.pageLabels.GetPageLabelTitle(e);i.push(n.toString())}})),i}))},_proto3.startFormDesignerAssit=function(){this.isDesignerMode=!0;for(const e in this.pageCache){this.pageCache[e].resetBitmapCache()}},_proto3.stopFormDesignerAssit=function(){this.isDesignerMode=!1;for(const e in this.pageCache){this.pageCache[e].resetBitmapCache()}},_proto3.updateDictCache=function(e,t){let n=t.id;this.dictionaryCache[n]=e},_proto3.updateDictMap=function(e,t){this.dictionaryMap[e]=t},_proto3.hasKey=function(e,t){let n=this.dictionaryCache[e];if(!n)return!1;let r=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(this.engine,t);return n.HasKey(r)},_proto3.setAt=function(e,t,n){let r=this.dictionaryCache[e],i=this.engine,o=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(i,t);switch(typeof n){case"string":return r.SetAtString(o,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(i,n)),!0;case"number":return n%1==0?(r.SetAtInteger(o,n),!0):!isNaN(n)&&(r.SetAtFloat(o,n),!0);case"boolean":return r.SetAtBoolean(o,n),!0}return!1},_proto3.getAt=function(e,t){let n=this.dictionaryCache[e],r=this.engine;try{let e=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(r,t),i=n.GetElement(e);switch(i.GetType().value){case 1:return i.GetBoolean();case 2:return i.GetFloat();case 3:return i.GetString().toString()}}catch(e){throw new Error("The specified key does not exist in the dictionary or the value type is unaccepted")}},_proto3.autoRecognitionForm=function(){const e=this.doc.AutoRecognitionForm(!1);let t=[];return this.getAllLoadedPages().forEach((e=>{t.push(e.index)})),this.reloadPageAnnots(t),e},_proto3.isStaticXFA=function(){return this.doc.IsStaticXFA()},_proto3.isXFA=function(){return this.doc.IsXFA()},_proto3.removeXFA=function(){return this.doc.RemoveXFA()},_proto3.reversePages=function(e=[]){const t=this.engine;return this.docPromise.then((n=>{if(!Array.isArray(e))return[];if(e.length<2)return[];if(!e.every((e=>"number"==typeof e)))return[];const r=(e,t,n,r)=>{const i=new t.Range;return i.AddSingle(n),e.MovePagesTo(i,r)};for(let i=0,o=e.length-1;i<o;i++,o--){let e=r(n,t,i,o);if(e&&(e=r(n,t,o-1,i)),e){const e=this.pageIndexMap[i],t=(e,t)=>{let n;return e instanceof _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z&&(e.index=t,n=e.id),this.pageIndexMap[t]=e,n};t(this.pageIndexMap[o],i),t(e,o)}}return e}))},_proto3.movePagesTo=function(e,t){const n=this.engine,r=new n.Range;return e.forEach((e=>{"object"!=typeof e?r.AddSingle(e):1===e.length?r.AddSingle(e[0]):2===e.length&&r.AddSegment(e[0],e[1],n.RangeFilter.e_All)})),this.docPromise.then((n=>{const i=n.GetPageCount();let o=t;e[0]<t&&(o=t-1),o<0&&(o=0),o>=i&&(o=i-1);let a=n.MovePagesTo(r,o);if(!a)return a;Math.max.apply(Math,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,e).concat([t]));for(let e=0;e<i;e++)this.pageIndexMap[e]||(this.pageIndexMap[e]={});const s=Object.values(this.pageIndexMap);let c;return e.map((e=>s[e])).forEach(((e,n)=>{const r=s.indexOf(e);if(s.splice(r,1),0===n)r<t?s.splice(t-1,0,e):s.splice(t,0,e);else{const t=s.indexOf(c);s.splice(t+1,0,e)}c=e})),a=[],s.forEach(((e,t)=>{let n;e instanceof _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z?(e.index=t,n=e.id):e=null,a.push(n),this.pageIndexMap[t]=e})),a}))},_proto3.startReplacePages=function(e,t,n,r){const i=this.engine,o=new i.Range,a=this.doc;a.GetPageCount();r.forEach((e=>{"object"!=typeof e?o.AddSingle(e):1===e.length?o.AddSingle(e[0]):2===e.length&&o.AddSegment(e[0],e[1],i.RangeFilter.e_All)}));const s=[],c=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)();let l=0,u="";const d=i.StreamCallback.implement({Release:()=>{},Flush:()=>(c.resolve(l),!0),GetSize:()=>l,WriteBlock:(e,t,n)=>{l+=n;const r=i.HEAPU8.buffer;let o;return o=r.slice?r.slice(e,e+n):new Uint8Array(r,e,n).buffer,s.push(o),!0},ReadBlock:(e,t,n)=>{let r=(new FileReaderSync).readAsArrayBuffer(new Blob(s).slice(t,t+n));return r=new Uint8Array(r),i.HEAPU8.set(r,e),!0}});let h,f=i.PauseCallback.implement({NeedToPauseNow:()=>!1});try{h=a.StartReplacePages(e,t,n.doc,o,d,f)}catch(e){u=e}if(u)return{error:u};const g=r.length;for(let n=0;n<t;n++){let t=n+e;if(this.pageIndexMap[t]){let e=this.pageIndexMap[t];delete this.pageIndexMap[t],delete this.pageIndexPromise[t],delete this.pageCache[e.id]}}t!==g&&Object.keys(this.pageIndexMap).reverse().map(((n,r)=>{+n>=e+t-1&&(this.pageIndexMap[+n+g-t]=this.pageIndexMap[+n],this.pageIndexMap[+n+g-t].index=+n+g-t,delete this.pageIndexMap[+n])}));const p=new Array(g).fill(0).map(((t,n)=>e+n)).map((e=>{const t=a.GetPage(e),n=t.GetIndex(),r=new _PDFPage_js__WEBPACK_IMPORTED_MODULE_13__.Z(n,this);return r.page=t,this.updatePageIndexMap(n,r),this.updatePageCache(r),r.toJson()}));return o&&o.delete(),p},_proto3.setPageTransition=function(e,t,n,r){const i=this.JR.engine;let o=new i.PDFDictionary.Create;let a=new i.String("S"),s=new i.String(e);if(o.SetAtName(a,s),"Split"===e){let e=new i.String("Dm"),n=new i.String("M"),r=new i.String("H"),a=new i.String("V"),s=new i.String("I"),c=new i.String("O");"Horizontal Inward"===t?(o.SetAtName(e,r),o.SetAtName(n,s)):"Horizontal Outward"==t?(o.SetAtName(e,r),o.SetAtName(n,c)):"Vertical Inward"==t?(o.SetAtName(e,a),o.SetAtName(n,s)):(o.SetAtName(e,a),o.SetAtName(n,c)),e.delete(),n.delete(),r.delete(),a.delete(),s.delete(),c.delete()}else if("Blinds"===e){let e=new i.String("Dm"),n=new i.String("H"),r=new i.String("V");"Horizontal"===t?o.SetAtName(e,n):o.SetAtName(e,r),e.delete(),n.delete(),r.delete()}else if("Box"==e){let e=new i.String("M"),n=new i.String("I"),r=new i.String("O");"Inward"===t?o.SetAtName(e,n):o.SetAtName(e,r),e.delete(),n.delete(),r.delete()}else if("Wipe"===e||"Glitter"===e||"Cover"===e||"Uncover"===e){let e=new i.String("Di"),n=0;n="Right"===t?0:"Right Up"===t?1:"Up"===t?2:"Left Up"===t?3:"Left"===t?4:"Left Down"===t?5:"Down"===t?6:7,o.SetAtInteger(e,45*n),e.delete()}else if("Push"==e){let e=new i.String("Di"),n=0;n="Right"===t?0:"Up"===t?1:"Left"===t?2:3,o.SetAtInteger(e,45*n),e.delete()}else if("Fly"===e){let e=new i.String("Di"),n=0;n="Right"===t?0:"Up"===t?1:"Left"===t?2:3,o.SetAtInteger(e,90*n),e.delete()}let c=new i.String("D");"Fast"===n?o.SetAtFloat(c,.333328):"Medium"===n&&o.SetAtFloat(c,.666656);const l=this.doc;let u=new i.String("Trans");if(l.AddIndirectObject(o),"NoTransition"!==e)for(let e=0;e<r.length;e++){l.GetPage(r[e]).GetDict().SetAtReference(u,o,l)}else for(let e=0;e<r.length;e++){l.GetPage(e).GetDict().RemoveAt(u)}return a.delete(),s.delete(),c.delete(),u.delete(),!0},_proto3.getPageTransitionByIndex=function(e){const t=this.JR.engine;let n,r=this.doc.GetPage(e).GetDict(),i="NoTransition",o=new t.String("Trans"),a=r.GetElement(o);if(null===a)return{transName:"NoTransition",direction:"",speed:""};a.GetType()===t.PDFObjectType.e_Reference&&(a=a.GetDirectObject()),a.GetType()==t.PDFObjectType.e_Dictionary&&(n=a.GetDict());let s=new t.String("S"),c=n.GetElement(s);c&&(i=c.GetString().toString(),"R"===i&&(i="NoTransition"));let l="",u=new t.String("Dm"),d=n.GetElement(u);if("Split"===i){let e=new t.String("M"),r=n.GetElement(e);l=d&&"V"===d.GetString().toString().toLocaleUpperCase()?r&&"O"===r.GetString().toString().toLocaleUpperCase()?"Vertical Outward":"Vertical Inward":r&&"O"===r.GetString().toString().toLocaleUpperCase()?"Horizontal Outward":"Horizontal Inward",e.delete()}else if("Blinds"===i)l=d&&"V"===d.GetString().toString().toLocaleUpperCase()?"Vertical":"Horizontal";else if("Box"===i){let e=new t.String("M"),r=n.GetElement(e);l=r&&"O"===r.GetString().toString().toLocaleUpperCase()?"Outward":"Inward",e.delete()}else if("Wipe"==i||"Glitter"==i||"Cover"==i||"Uncover"==i){let e=new t.String("Di");const r=n.GetElement(e);if(null===r)l="Right";else{switch(r.GetInteger()/45%8){case 0:l="Right";break;case 1:l="Right Up";break;case 2:l="Up";break;case 3:l="Left Up";break;case 4:l="Left";break;case 5:l="Left Down";break;case 6:l="Down";break;case 7:l="Right Down"}}e.delete()}else if("Push"===i){let e=new t.String("Di");const r=n.GetElement(e);if(null===r)l="Right";else{switch(r.GetInteger()/45%8){case 0:l="Right";break;case 1:default:l="Up";break;case 2:l="Left";break;case 3:l="Down"}}e.delete()}else if("Fly"==i){let e=new t.String("Di");const r=n.GetElement(e);if(null===r)l="Right";else{switch(r.GetInteger()){case 0:l="Right";break;case 90:default:l="Up";break;case 180:l="Left";break;case 270:l="Down"}}e.delete()}let h="";if("NoTransition"!==i){let e=new t.String("D");if(null===n.GetElement(e))h="Slow";else{let t=n.GetElement(e).GetFloat();h=t-.333328<.001&&t-.333328>-.001?"Fast":t-.666656<.001&&t-.666656>-.001?"Medium":"Slow"}e.delete()}return o.delete(),s.delete(),u.delete(),{transName:i,direction:l,speed:h}},_proto3.removePages=function(e){const t=pageRangeTwoDimensionToOne(e).sort(((e,t)=>t-e));try{let e=[];return t.forEach((t=>{e.push(this.removePage(t))})),syncPromisesTask(e).then((e=>!0))}catch(e){return console.warn(e),!1}},_proto3.insertBlankPages=function(e,t,n){const r=pageRangeTwoDimensionToOne(e).sort(((e,t)=>e-t)),i=[];return r.forEach(((e,r)=>{i.push(this.insertPage(e+r,t,n))})),syncPromisesTask(i)},_proto3.insertBlankPages2=async function(e,t,n){const r=pageRangeTwoDimensionToOne(e).sort(((e,t)=>e-t)),i=[];for(const e of r){const r=await this.insertPage(e,t,n);i.push(r)}return i},_proto3.rotatePages=function(e,t){const n=pageRangeTwoDimensionToOne(e);let r=[];return pageIndexesToPages(this,n).then((e=>(e.forEach((e=>{r.push(e.setRotation(t))})),Promise.all(r))))},_proto3.moveBookmark=function(e,t,n){const r=this.rootBookmark.getBookmarkById(e),i=this.rootBookmark.getBookmarkById(t);return this.rootBookmark=null,r.moveTo(i,n)},_proto3.getFolioTreeRoot=function(){if(!this.doc.IsPortfolio())return;let e,t=this.engine.Portfolio.CreatePortfolio(this.doc),n=t.GetRootNode();if(n.IsEmpty())return void t.delete();let r=n.GetNodeType();return r==this.engine.PortfolioNodeType.e_TypeFolder&&(n=new this.engine.PortfolioFolderNode(n),e=this.portfolioFolderNodeToJSON(n)),r==this.engine.PortfolioNodeType.e_TypeFile&&(n=new this.engine.PortfolioFileNode(n),e=this.portfolioFileNodeToJSON(n)),t.delete(),e},_proto3.getFolioFileInfo=function(){if(!this.doc.IsPortfolio())return{};let e=this.engine.Portfolio.CreatePortfolio(this.doc);try{return{initialFileSpecKeyName:e.GetInitialFileSpecKeyName().toString(),initialViewMode:e.GetInitialViewMode().value}}finally{e.delete()}},_proto3.getPortfolioFileStream=function(e,{writeStream:t}){let n=this.JR.GetJSObjectFromPtr(e);return new _base_FileSpec__WEBPACK_IMPORTED_MODULE_27__.Z(n.GetFileSpec(),this).getStream(t)},_proto3.getPortfolioSubNodes=function(e){let t=[],n=this.JR.GetJSObjectFromPtr(e);if(!n)throw new Error("Nonexistent portfolio folder node!");let r=n.GetNodeType();if(r!==this.engine.PortfolioNodeType.e_TypeFolder)return t;let i=n.GetSortedSubNodes(),o=i.GetSize();for(let e=0;e<o;e++){let n=i.GetAt(e);r=n.GetNodeType(),r==this.engine.PortfolioNodeType.e_TypeFolder&&(n=new this.engine.PortfolioFolderNode(n),t.push(this.portfolioFolderNodeToJSON(n))),r==this.engine.PortfolioNodeType.e_TypeFile&&(n=new this.engine.PortfolioFileNode(n),t.push(this.portfolioFileNodeToJSON(n)))}return t},_proto3.removeSubNode=function(e,t){const n=this.JR.GetJSObjectFromPtr(e);if(!n)throw new Error("Nonexistent portfolio folder node!");if(n.GetNodeType()!==this.engine.PortfolioNodeType.e_TypeFolder)return!1;const r=this.JR.GetJSObjectFromPtr(t);if(!r)throw new Error("Nonexistent portfolio node!");n.RemoveSubNode(r)},_proto3.portfolioFolderNodeToJSON=function(e){const t=gsdkDateToLocal(e.GetCreationDateTime()),n=gsdkDateToLocal(e.GetModifiedDateTime());return{type:1,fileName:e.GetName().toString(),description:e.GetDescription().toString(),creationDateTime:t?t.getTime():-1,modifiedDateTime:n?n.getTime():t,handle:this.JR.SetJSObjectRef(e)}},_proto3.portfolioFileNodeToJSON=function(e){const t=e.GetFileSpec(),n=gsdkDateToLocal(t.GetCreationDateTime()),r=gsdkDateToLocal(t.GetModifiedDateTime()),i=e.GetKeyName().toString();return{type:0,fileName:t.GetFileName().toString(),fileSize:t.GetFileSize(),description:t.GetDescription().toString(),creationDateTime:n?n.getTime():-1,modifiedDateTime:r?r.getTime():n,subtype:t.GetSubtype().toString(),keyName:i,handle:this.JR.SetJSObjectRef(e)}},_proto3.removeSubNode=function(e,t){const n=this.JR.GetJSObjectFromPtr(e);if(!n)throw new Error("Nonexistent portfolio folder node!");if(n.GetNodeType()!==this.engine.PortfolioNodeType.e_TypeFolder)return!1;const r=this.JR.GetJSObjectFromPtr(t);if(!r)throw new Error("Nonexistent portfolio node!");n.RemoveSubNode(r)},_proto3.isCPDF=function(){return this.doc.IsCPDF()},_proto3.getDocURI=function(){return this.isCPDF()?this.doc.GetDocURI().toString():null},_proto3.getVersionID=function(){return this.isCPDF()?this.doc.GetVersionID().toString():null},_proto3.convertToCPDF=async function(e,t,n,r){if([e,t,n,r].some((e=>"string"!=typeof e||0===e.length)))throw"[ERROR] All arguments must be string.";const i=this.engine,o={endPoint:new i.String(t)};let a;const s=async(e,t,n)=>{const r=(e=>{const t=e.GetURL().toString(),n=e.GetHTTPHeader().toString().split("\r\n").reduce(((e,t)=>{const n=t.split(": ");return 2===n.length&&(e[n[0]]=n[1]),e}),{});switch(e.GetUsageType()){case i.RequestUsageType.e_RequestUsagePOST:return{url:t,headers:n,method:"post",data:e.GetRequestData().toString()};case i.RequestUsageType.e_RequestUsagePUT:return{url:t,headers:n,method:"put",data:e.GetRequestData().toString()};case i.RequestUsageType.e_RequestUsageGET:return{url:t,headers:n,method:"get",params:e.GetRequestData().toString()};case i.RequestUsageType.e_RequestUsageNone:default:throw"[ERROR] Not valid request."}})(t),o=await axios__WEBPACK_IMPORTED_MODULE_35___default().request(r),a=new i.ResponseParser,s=e=>e!==i.ErrorCode.e_ErrSuccess;if(o.data&&210007===o.data.ret&&"TOKEN_ERROR"===o.data.message)throw new Error("Token Error");let c;if(c=a.Parse(new i.String(JSON.stringify(o.data)),n),s(c))throw`[ERROR] Fail to parse response for ${e}`;if(c=a.GetResultStatus(),s(c))throw`[ERROR] Response result status: ${c.value.toString()}`;return a};if(this.isCPDF())throw"[ERROR] Already a ConnectedPDF file, so no need to do conversion.";let c;if(c=i.ConnectedPDF.GenerateRequestToCheckEndpoint(o.endPoint),a=await s("CheckEndPoint",c,i.ResponsePurposeType.e_ResponsePurposeCheckServer),!a.IsValidCPDFServer())throw`[FAILED] ${o.endPoint} is not a valid CPDF server.`;const l=new i.ConnectedPDFClientInfo;l.device_id=new i.String("Device ID"),l.device_name=new i.String("Device Name"),l.device_model=new i.String("Device Model"),l.mac_address=new i.String("MAC Address"),l.os=new i.String("OS"),l.product_name=new i.String("Product Name"),l.product_vendor=new i.String("Product Vendor"),l.product_version=new i.String("1.0.0.0"),l.product_language=new i.String("en-us"),c=i.ConnectedPDF.GenerateRequestToGetClientID(l),a=await s("GetClientID",c,i.ResponsePurposeType.e_ResponsePurposeClientID);const u=a.GetClientID(),d=new i.ConnectedPDF(u,new i.String(n),new i.String(""),i.CPDFEncryptType.e_CPDFEncryptTypeAES,this.doc);if(c=d.GenerateRequestToConvertToCPDF(o.endPoint,new i.String(r),new i.WString(e)),a=await s("ConvertToCPDF",c,i.ResponsePurposeType.e_ResponsePurposeCommon),!d.UpdateInfoToPDFDoc(c))throw"[FAILED] Fail to convert to Connected PDF file."},_proto3.removeCDocId=async function(e,t,n,r){if([e,t,n,r].some((e=>"string"!=typeof e||0===e.length)))throw"[ERROR] All arguments must be string.";let i;const o=this.engine,a={endPoint:new o.String(t)},s=async(e,t,n)=>{const r=(e=>{const t=e.GetURL().toString(),n=e.GetHTTPHeader().toString().split("\r\n").reduce(((e,t)=>{const n=t.split(": ");return 2===n.length&&(e[n[0]]=n[1]),e}),{});switch(e.GetUsageType()){case o.RequestUsageType.e_RequestUsagePOST:return{url:t,headers:n,method:"post",data:e.GetRequestData().toString()};case o.RequestUsageType.e_RequestUsagePUT:return{url:t,headers:n,method:"put",data:e.GetRequestData().toString()};case o.RequestUsageType.e_RequestUsageGET:return{url:t,headers:n,method:"get",params:e.GetRequestData().toString()};case o.RequestUsageType.e_RequestUsageNone:default:throw"[ERROR] Not valid request."}})(t),i=await axios__WEBPACK_IMPORTED_MODULE_35___default().request(r),a=new o.ResponseParser,s=e=>e!==o.ErrorCode.e_ErrSuccess;let c;if(c=a.Parse(new o.String(JSON.stringify(i.data)),n),s(c))throw`[ERROR] Fail to parse response for ${e}`;if(c=a.GetResultStatus(),s(c))throw`[ERROR] Response result status: ${c.value.toString()}`;return a};let c;if(c=o.ConnectedPDF.GenerateRequestToCheckEndpoint(a.endPoint),i=await s("CheckEndPoint",c,o.ResponsePurposeType.e_ResponsePurposeCheckServer),!i.IsValidCPDFServer())throw`[FAILED] ${a.endPoint} is not a valid CPDF server.`;const l=new o.ConnectedPDFClientInfo;l.device_id=new o.String("Device ID"),l.device_name=new o.String("Device Name"),l.device_model=new o.String("Device Model"),l.mac_address=new o.String("MAC Address"),l.os=new o.String("OS"),l.product_name=new o.String("Product Name"),l.product_vendor=new o.String("Product Vendor"),l.product_version=new o.String("1.0.0.0"),l.product_language=new o.String("en-us"),c=o.ConnectedPDF.GenerateRequestToGetClientID(l),i=await s("GetClientID",c,o.ResponsePurposeType.e_ResponsePurposeClientID);const u=i.GetClientID(),d=new o.ConnectedPDF(u,new o.String(n),new o.String(""),o.CPDFEncryptType.e_CPDFEncryptTypeAES,this.doc);d.RemoveDocumentID(),d.RemoveVersionID()},_proto3.saveAsReload=function(){let e=[];return this.getStream({writeStream:function(t){e.push(t)}},0).then((t=>{let n=new Uint8Array(t),r=0;for(let t=0,i=e.length;t<i;t++){let i=e[t];n.set(new Uint8Array(i),r),r+=i.byteLength}n=n.slice(0);let i=new PDFDoc(this.JR,{buffer:n,docId:this.id});return i.parseByPassword(""),i}))},_proto3.getAllPages=function(){return this.getPageCount().then((e=>{const t=[];for(let n=0;n<e;n++)t.push(this.getPageByIndex(n).then((e=>(e.page.IsParsed()||e.parsedPage(),e))));return Promise.all(t)}))},_proto3.getDestinationsArray=function(){return this.docPromise.then((e=>{const t=new this.engine.CNP_Destinations(e),n=new this.engine.WStringArray,r=new this.engine.Int32Array,i=new this.engine.Int32Array;t.GetAllDestinations(n,r,i);let o=[];for(let e=0;e<n.GetSize();e++){let t=n.GetAt(e),i=r.GetAt(e),a={title:t.toString(),page:i};o.push(a)}return o}))},_proto3.removeMetadata=function(e){const t=this.engine;let n=new t.WString(e.toString()),r=new t.Metadata(this.doc);const i=r.RemoveCustomerKey(n);return n=null,r=null,i},_proto3.setViewPreference=function(e,t){let n=this.engine,r=this.doc.GetCatalog(),i=this.getVPDict(),o=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,e),a=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,t+"");switch(e){case"PageMode":"FullScreen"===(s=getDictName(this.JR,n,r,"PageMode","UseNone"))?i.SetAtName((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"NonFullScreenPageMode"),a):r.SetAtString(o,a);break;case"PageLayout":"Default"==t?r.RemoveAt(o):r.SetAtString(o,a);break;case"Lang":"none"==t?r.RemoveAt(o):r.SetAtString(o,a);break;case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":i.SetAtBoolean(o,t);break;case"PrintScaling":case"Duplex":case"Direction":i.SetAtName(o,a);break;case"NumCopies":if("Default"==t)i.RemoveAt(o);else{let e=+t;i.SetAtInteger(o,e)}break;case"PrintPageRange":{let e=n.PDFArray.Create(),r=new Set;(t=t.replace(/ /g,"")).split(",").forEach((e=>{if(e.indexOf("-")>0){let t=e.split("-"),n=Math.min.apply(Math,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,t))-1,i=Math.max.apply(Math,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,t))-1;for(let e=n;e<=i;e++)r.add(e)}else""!==e&&(e=+e-1,r.add(e))})),r.forEach((t=>{t>=0&&e.AddInteger(t)})),i.SetAt(o,e)}break;case"FullScreen":const e=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"PageMode"),c=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"NonFullScreenPageMode");if(t){var s=getDictName(this.JR,n,r,"PageMode","UseNone");r.SetAtString(e,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"FullScreen")),i.SetAtName(c,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,s))}else{const t=getDictName(this.JR,n,i,"NonFullScreenPageMode");r.SetAtString(e,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,t)),i.RemoveAt(c)}}},_proto3.getVPDict=function(){let e=this.engine,t=this.doc.GetCatalog(),n=t.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"ViewerPreferences"));return n?n=n.GetDict():(n=e.PDFDictionary.Create(),t.SetAt((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"ViewerPreferences"),n)),n},_proto3.getViewerPreference=function(){this.initPage0||setTimeout((()=>{this.getPageByIndex(0,void 0,!0).then((e=>{if(!e.isVirtual)return e.parsedPage()})).catch(),this.initPage0=1}),0);let e=this.engine,t=this.doc.GetCatalog(),n=getDictName(this.JR,e,t,"PageLayout"),r=getDictName(this.JR,e,t,"PageMode","UseNone"),i=getDictName(this.JR,e,t,"Lang","en-us"),o={},a=t.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"ViewerPreferences"));return a&&(a=a.GetDict()),[["HideToolbar",!1],["HideMenubar",!1],["HideWindowUI",!1],["FitWindow",!1],["CenterWindow",!1],["DisplayDocTitle",!1],["NonFullScreenPageMode"],["PickTrayByPDFSize",!1],["PrintScaling","AppDefault"],["Duplex","Simplex"],["NumCopies"],["Direction","L2R"]].forEach((([t,n])=>{o[t]=getDictName(this.JR,e,a,t,n)})),o.PrintPageRange=getPrintRange(a,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"PrintPageRange")),{pageLayout:n,uiLayout:r,language:i,viewerPreference:o}},_proto3.getEmbeddedFontData=function(){const e=this.doc.GetEmbeddedFontData(),t=e.nonstandard_font_name_array,n=e.standard_font_name_array,r=[],i=[];for(let e=0;e<t.GetSize();e++){const n=t.GetAt(e);i.push(n.toString())}for(let e=0;e<n.GetSize();e++){const t=n.GetAt(e);r.push(t.toString())}return{standard:r,nostandard:i}},_proto3.computeAuditSpace=function(){this.doc;const e=this.engine,t=new e.FX_AuditSpaceSize,n=(e.Optimizer.ComputeAuditSpace(this.doc,t),{});for(let e in t){const r=t[e];"function"!=typeof r&&(n[e]=r)}return n},_proto3.getStreamBySpecifiedDoc=function(e,t){const n=this.engine;let r=Promise.resolve(e);return e||(r=this.docPromise),r.then((function(e){let r=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),i=new ArrayBuffer,o=0,a=!1,s=0,c=0,l=n.WriterCallback.implement({Release:()=>{l.delete()},Flush:()=>(r.resolve(i),!0),GetSize:()=>a?c:i.byteLength,WriteBlock:(e,t,r)=>{if(a&&(t+=s),i.byteLength<t+r){let e=i;if(i=new ArrayBuffer(t+r),0!==e.byteLength){const t=new Uint8Array(e);new Uint8Array(i).set(t)}}var o=new Uint8Array(i,t,r),c=n.HEAPU8.subarray(e,e+r);return o.set(c),!0},GetPosition:function(){return a?o-s:o},SetPosition:function(e){a&&(e+=s),o=e},IsEOF:function(){let e=a?c:i.byteLength;return o===e},ReadBlock:function(e,t,r){if(a&&(t+=s)+r>c)return!1;var o=new Uint8Array(i,t,r);return n.HEAPU8.set(o,e),!0},SetRange:function(e,t){s=e,c=t,a=!0},ClearRange:function(){a=!1}});return n.saveDoc(e,l,t),r.promise}))},_proto3.optimizer=function optimizer(option,portfolioNodeHandle){let doc=this.doc;portfolioNodeHandle&&this.pdfPortfolio&&(doc=this.pdfPortfolio.getPDFDocByNodeHandle(portfolioNodeHandle));const engine=this.engine,opSetting=new engine.OptimizerSettings;if(option.DC_Algorithm){const e=new engine.ImageSettings;e.SetStretchMode(engine.ImageStretchMode[option.DC_Algorithm]),e.SetCompressionMode(engine.ImageCompressMode.e_ImageCompressjpeg2000),e.SetQuality(engine.ImageCompressQuality[option.CC_Level]),e.SetImageDPI(+option.DC_DPISet),e.SetImageDPILimit(+option.DC_DPIAbove),"e_ImageCompressjpeg2000"===option.CC_Algorithm&&e.SetTitleSize(+option.compressiontileSize),opSetting.SetColorGrayImageSettings(e)}if(option.DM_Algorithm){const e=new engine.MonoImageSettings;e.SetCompressionMode(engine.MonoImageCompressMode.e_ImageCompressjbig2),e.SetStretchMode(engine.MonoStretchMode[option.DM_Algorithm]),e.SetImageDPI(+option.DM_DPISet),e.SetImageDPILimit(+option.DM_DPIAbove),-1===["e_ImageCompressjbig2","e_ImageCompressHigh"].indexOf(option.CM_Algorithm)&&(option.CM_Level=""),"e_ImageCompressQualityLossless"===option.CM_Level||"e_ImageCompressQualityLossy"===option.CM_Level?e.SetQuality(engine.MonoImageCompressQuality[option.CM_Level]):option.CM_Level&&e.SetQuality(engine.ImageCompressQuality[option.CM_Level]),opSetting.SetMonoImageSettings(e)}if(option.unembededFonts&&option.unembededFonts.length>0){const e=new engine.UnembeddedFontSettings,t=new this.engine.WStringArray;option.unembededFonts.forEach((e=>{t.Add((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(engine,e))})),e.SetUnembeddedFontNameArray(t),opSetting.SetUnembeddedFontSettings(e)}if(option.D_IntList){let D_IntList_Arr=option.D_IntList.split(",")||[];D_IntList_Arr=D_IntList_Arr.map((e=>engine.DiscardObjectsOptions[e].value)),D_IntList_Arr=D_IntList_Arr.join("|"),D_IntList_Arr=eval(D_IntList_Arr),opSetting.SetDiscardObjectsOptions(D_IntList_Arr)}if(option.D_IntList_User){let D_IntList_User_Arr=option.D_IntList_User.split(",")||[];D_IntList_User_Arr=D_IntList_User_Arr.map((e=>engine.DiscardUserDataOptions[e].value)),D_IntList_User_Arr=D_IntList_User_Arr.join("|"),D_IntList_User_Arr=eval(D_IntList_User_Arr),opSetting.SetDiscardUserDataOptions(D_IntList_User_Arr)}let isSaveFlagLinearized=doc.IsLinearized();if(option.CL_IntList){let CL_IntList_Arr=option.CL_IntList.split(",")||[];isSaveFlagLinearized=CL_IntList_Arr.indexOf("e_SaveFlagLinearized")>-1,CL_IntList_Arr.splice(CL_IntList_Arr.indexOf("e_SaveFlagLinearized"),1),CL_IntList_Arr=CL_IntList_Arr.map((e=>engine.CleanUpOptions[e].value)),CL_IntList_Arr=CL_IntList_Arr.join("|"),CL_IntList_Arr=eval(CL_IntList_Arr),CL_IntList_Arr&&opSetting.SetCleanUpOptions(CL_IntList_Arr)}const streamCallback=engine.ImageCompressionCallback.implement({Release:()=>{},GetTempFileStream:()=>{let e=0;const t=engine.StreamCallback.implement({Release:()=>{t.delete()},Flush:()=>!0,GetSize:()=>e,ReadBlock:(e,t,n)=>!1,WriteBlock:(t,n,r)=>(e+=r,!0)});return t}}),pauseCallback=engine.PauseCallback.implement({NeedToPauseNow:function(){return!0}}),progressive=engine.Optimizer.Optimize(doc,opSetting,streamCallback,pauseCallback);for(var optimize_state=engine.ProgressiveState.e_ToBeContinued;optimize_state===engine.ProgressiveState.e_ToBeContinued;)optimize_state=progressive.Continue();const linearizedFlag=engine.SaveFlags.e_SaveFlagLinearized.value|engine.SaveFlags.e_SaveFlagRemoveRedundantObjects.value;return this.getStreamBySpecifiedDoc(doc,isSaveFlagLinearized?linearizedFlag:engine.SaveFlags.e_SaveFlagRemoveRedundantObjects.value).then((e=>[e]))},_proto3.optimizeScannedPDF=function({pageRange:e,scannedImageCompressMode:t="e_ImageCompressHigh",quality:n=80,scannedMonoImageCompressMode:r="e_MonoImageCompressjbig2LossLess"},i){const o=this.doc,a=this.engine,s=new a.OptimizeScannedPDFSettings;if(e.length>0){const t=new a.Range;e.forEach((e=>t.AddSingle(e))),s.SetOptimizedPages(t)}s.SetColorGrayImageCompressionMode(a.ScannedImageCompressMode[t]),["e_ImageCompressjpeg","e_ImageCompressHigh"].indexOf(t)>-1&&s.SetColorGrayImageCompressionQuality(n),s.SetMonoImageCompressionMode(a.ScannedMonoImageCompressMode[r]);const c=a.ImageCompressionCallback.implement({Release:()=>{},GetTempFileStream:()=>{let e=new ArrayBuffer;const t=a.StreamCallback.implement({Release:()=>{t.delete()},Flush:()=>!0,GetSize:()=>e.byteLength,ReadBlock:(t,n,r)=>{var i=new Uint8Array(e,n,r);return a.HEAPU8.set(i,t),!0},WriteBlock:(t,n,r)=>{if(e.byteLength<n+r){let t=e;if(e=new ArrayBuffer(n+r),0!==t.byteLength){const n=new Uint8Array(t);new Uint8Array(e).set(n)}}var i=new Uint8Array(e,n,r),o=a.HEAPU8.subarray(t,t+r);return i.set(o),!0}});return t}}),l=a.PauseCallback.implement({NeedToPauseNow:function(){return!0}});try{const e=a.Optimizer.OptimizeScannedPDF(o,s,c,l);let t=-1,n=0;for(;t<100;){if(t=e.GetRateOfProgress(),i&&i(t),3===n)return!1;if(-1===t)throw new Error("optimizeScannedPDF error");0===t?n+=1:e.Continue()}return this.getStreamBySpecifiedDoc(o,0).then((e=>[e]))}catch(e){return!1}},_proto3.importAsLayer=function({sourcePdfDoc:e,sourceFileName:t,sourcePageIndex:n=0,importType:r="e_ImportToCreateNewLayer",newLayerName:i,targetLayerName:o,targetPageIndex:a=0,targetFileName:s,rotateAngle:c=0,isAbsoluteScale:l=!1,scale:u=1,verticalOffsetFrom:d="e_OffsetFromCenter",horizontalOffsetFrom:h="e_OffsetFromCenter",verticalOffset:f=0,horizontalOffset:g=0,opacity:p=100,appearBehindTarget:m=!1}){const _=this.engine;this.doc.GetInfo();d=_.OffsetFrom[d],h=_.OffsetFrom[h],r=_.ImportAsLayerOperationType[r];const y=new _.ImportAsLayerSetting(r,new _.WString(i),new _.WString(o),c,l,u,d,f,h,g,p,m);try{this.doc.ImportAsLayer(a,new _.WString(s),e,new _.WString(t),n,y),this.getPageByIndex(a).then((e=>{e.reParsePage()}));const r=this.pdfLayer.layer_context,i=this.pdfLayer.layer_tree.IsEmpty();let o=new _PDFLayer_js__WEBPACK_IMPORTED_MODULE_17__.Z(this.doc,_);return i||o.layer_context.CopyStates(r),this.pdfLayer=o,this.pdfLayer.toJson()}catch(e){throw new Error("ImportAsLayer error: "+e)}},_proto3.previewImportLayer=function({sourcePdfDoc:e,sourcePageIndex:t=0,importType:n="e_ImportToCreateNewLayer",targetPageIndex:r=0,rotateAngle:i=0,isAbsoluteScale:o=!1,scale:a=1,verticalOffsetFrom:s="e_OffsetFromCenter",horizontalOffsetFrom:c="e_OffsetFromCenter",verticalOffset:l=0,horizontalOffset:u=0,opacity:d=100,appearBehindTarget:h=!1}){const f=this.engine;let g=this.doc.GetPage(r);g.StartParse(f.ParseFlags.e_ParsePageNormal.value,null,!0);let p=g.GetWidth(),m=g.GetHeight(),_=f.DIBFormat.e_DIBArgb,y=new f.Bitmap(p,m,_,0,0);y.FillRect(0,null);let S=f.Rotation.e_Rotation0,b=g.GetDisplayMatrix(0,0,p,m,S),I=new f.Renderer(y,!0),A=f.ContentFlag.e_RenderPage.value|f.ContentFlag.e_RenderAnnot.value;if(!e){const e=this.pdfLayer;return I.SetLayerContext(e.layer_context),I.SetRenderContentFlags(A),I.StartRender(g,b,null),(0,_share_RendererHelper__WEBPACK_IMPORTED_MODULE_26__.v)(f,y,I)}s=f.OffsetFrom[s],c=f.OffsetFrom[c],n=f.ImportAsLayerOperationType[n];let D=new f.ImportAsLayerSetting(n,new f.WString(""),new f.WString,i,o,a,s,l,c,u,d,h),v=e.GetPage(t);v.StartParse(f.ParseFlags.e_ParsePageNormal.value,null,!1);let w=g.GetBox(f.BoxType.e_MediaBox),P=v.GetBox(f.BoxType.e_MediaBox),F=new f.Matrix(1,0,0,1,0,0),T=3.14*D.rotate_angle/180,C=new f.Matrix(1,0,0,1,0,0);C.Rotate(T,!1),C.TransformRect(P),F.Concat(C.a,C.b,C.c,C.d,C.e,C.f,!1);let G=new f.Matrix(1,0,0,1,0,0);if(0==D.is_absolute_scale){let e=w.Width()/P.Width(),t=w.Height()/P.Height(),n=parseFloat(e)<parseFloat(t)?e:t;G.Scale(n,n,!1)}G.Scale(D.scale,D.scale,!1),G.TransformRect(P),F.Concat(G.a,G.b,G.c,G.d,G.e,G.f,!1);let E=new f.PointF,R=new f.PointF,x=D.horizontal_offset;switch(D.horizontal_offset_from){case f.OffsetFrom.e_OffsetFromLeft:E.x=P.left,R.x=w.left;break;case f.OffsetFrom.e_OffsetFromCenter:E.x=P.left+P.Width()/2,R.x=w.left+w.Width()/2;break;case f.OffsetFrom.e_OffsetFromRight:E.x=P.right,R.x=w.right,x=0-D.horizontal_offset}let M=D.vertical_offset;switch(D.vertical_offset_from){case f.OffsetFrom.e_OffsetFromTop:E.y=P.top,R.y=w.top,M=0-D.vertical_offset;break;case f.OffsetFrom.e_OffsetFromCenter:E.y=P.top-P.Height()/2,R.y=w.top-w.Height()/2;break;case f.OffsetFrom.e_OffsetFromBottom:E.y=P.bottom,R.y=w.bottom}F.Translate(R.x-E.x+x,R.y-E.y+M,!1);let O=F;return O.Concat(b.a,b.b,b.c,b.d,b.e,b.f,!1),I.SetRenderContentFlags(f.ContentFlag.e_RenderPage.value),I.SetRenderLayer(!1),I.StartRender(v,O,null),(0,_share_RendererHelper__WEBPACK_IMPORTED_MODULE_26__.v)(f,y,I)},_proto3.isCompareDoc=function(){const e=this.doc.GetCatalog();if(!e)return!1;if(!e.HasKey(new this.engine.String("PieceInfo")))return!1;const t=e.GetElement(new this.engine.String("PieceInfo"));return!!t&&(t.GetDict()&&t.GetDict().HasKey(new this.engine.String("ComparePDF")))},_proto3.reloadLayer=function(){return this.pdfLayer&&this.pdfLayer.delete(),this.pdfLayer=new _PDFLayer_js__WEBPACK_IMPORTED_MODULE_17__.Z(this.doc,this.engine),!0},_proto3.exportMeasureData=function({label:e="label",type:t="type",value:n="value",unit:r="unit",distance:i="distance",perimeter:o="perimeter",area:a="area"}){const s=this.doc,c=this.engine,l=new c.ExportMeasureSetting;l.label_colunm_name=new c.WString(e),l.type_colunm_name=new c.WString(t),l.value_colunm_name=new c.WString(n),l.unit_colunm_name=new c.WString(r),l.type_distance_name=new c.WString(i),l.type_perimeter_name=new c.WString(o),l.type_area_name=new c.WString(a);let u=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),d=0,h=[];const f=c.WriterCallback.implement({Release:()=>{f.delete(),u.resolve(h)},Flush:()=>(u.resolve(h),!0),GetSize:()=>d,WriteBlock:(e,t,n)=>{d+=n;let r,i=c.HEAPU8.buffer;return r=i.slice?i.slice(e,e+n):new Uint8Array(i,e,n).buffer,h.push(r),!0}}),g=c.PauseCallback.implement({NeedToPauseNow:function(){return!0}}),p=s.StartExportMeasureDataToCSV(l,f,g);let m=p.GetRateOfProgress(),_=c.ProgressiveState.e_ToBeContinued;for(;c.ProgressiveState.e_ToBeContinued==_;)_=p.Continue(),m=p.GetRateOfProgress().toString();return u.promise},_proto3.setRenderConfigLineWeight=function(e){this.renderConfigLineWeight=e},_proto3.searchBookmark=function(e,t){return this.getBookmarks().then((n=>{if(!this.rootBookmark)return[];const r=[];return this.rootBookmark.search(e,t,r),r}))},_proto3.searchDoc=function(e,t,n,r){if("number"==typeof e)return-1==e?this.searchBookmark(t,n):this.getPageByIndex(e).then((e=>e.search(t,n,r)));const i=[];return e.forEach((e=>{if(-1==e)return i.push(this.searchBookmark(t,n));i.push(this.getPageByIndex(e).then((e=>e.search(t,n,r))))})),Promise.all(i).then((t=>t.reduce(((t,n,r)=>(t[e[r]]=n,t)),{})))},_proto3.convertToTextMarkup=function(e){const t=[],n={};return e.forEach((e=>{if("form"===e.type)return;const r=this.pageIndexMap[e.pageIndex];n[e.pageIndex]=1,t.push(r.addAnnot({flags:4,type:"highlight",rect:{left:0,right:0,top:0,bottom:0},coords:e.rects}))})),Promise.all(t).then((e=>Object.keys(n)))},_proto3.generateDocHash=function(e){const t=function(e,t){let n=new Uint8Array(t),r=new e.String,i=e._malloc(n.length);return e.HEAPU8.set(n,i),r.Load(i,n.length),r}(this.engine,e);return this.engine.Library.GenerateHashData(this.engine.CryptType.e_Crypt_SHA256,t,t.GetLength()).toString()},_proto3.redactSearch=function(e,t,n,r,i){const o=[],a=[];return e.forEach((e=>{if(!e.isMetaData){t<0&&(t+=e.word.length);const s=e.charIndex+t,c=-1==n?e.word.length:n;let l="";r.find((t=>{if(t.word.toLowerCase()==e.word.toLowerCase())return l=t.overlay,!0})),a.push(e.pageIndex);const u=this.pageIndexMap[e.pageIndex];"form"===e.type?o.push(u.markRedactByAnnotId(e.id,s,c,l,i)):o.push(u.markRedact(s,c,l,i))}})),Promise.all(o).then((e=>a))},_proto3.removePDFAID=function(){return new this.engine.Metadata(this.doc).RemovePDFAID()},_proto3.isScannedDoc=function(){return this.getAllPages().then((e=>{for(let t=0;t<e.length;t++){const n=e[t].page,r=n.GetGraphicsObjectCount();for(let e=0;e<r;e++){const t=n.GetGraphicsObjectBI(e).GetType().value;if(2!==t&&3!==t)return!1}}return!0}))},_proto3.createSummarizeComments=function({writeStream:e=(()=>{})},t={}){let n=(0,_foxitsoftware_web_common__WEBPACK_IMPORTED_MODULE_11__.dD)(),{layoutType:r,commentType:i,paperSizeType:o,fontSizeType:a,sortCommentsByType:s,pagesContainingNoComments:c,pageIndexes:l,color:u,opacity:d,fileName:h,annotTypesInfo:f,summarizeCommentsShowInfo:g={}}=t,p=this.engine,m=(0,_share_createSummarizeComments_util__WEBPACK_IMPORTED_MODULE_36__.jj)(p,r),_=(0,_annot_annotType__WEBPACK_IMPORTED_MODULE_48__.M)(p,i),y=(0,_share_createSummarizeComments_util__WEBPACK_IMPORTED_MODULE_36__.Ii)(p,a),S=(0,_share_createSummarizeComments_util__WEBPACK_IMPORTED_MODULE_36__.MW)(p,s),b=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(p,h),[I,A=I]=l;try{let t=new p.AnnotationSummary(this.doc),a=new p.AnnotationSummarySettings;a.SetSummaryLayout(m);let s="All"===i;a.SetAnnotType(_,s);let l=(0,_share_createSummarizeComments_util__WEBPACK_IMPORTED_MODULE_36__.ZX)(o),h=new p.CFX_FloatRect(0,0,l[0],l[1]);a.SetPageRect(h),h.delete(),a.SetFontSize(y),a.SetSortType(S),a.SetStartPage(I),a.SetEndPage(A),a.EnableOutputNoAnnotationPage(c),"SeparatePagesWithLine"!==r&&"SinglePageWithLine"!==r||(a.SetConnectorLineColor(u),a.SetConnectorLineOpacity(d)),a.SetFileTitle(b),f.forEach((({type:e,annotThumbnail:t})=>{let n=(0,_annot_annotType__WEBPACK_IMPORTED_MODULE_48__.M)(p,e);const r=(0,_share_createSummarizeComments_util__WEBPACK_IMPORTED_MODULE_36__.Yh)(p,t,this.JR);a.SetAnnotThumbnail(n,r)}));let D=p.AnnotationSummaryCallback.implement({Release:()=>{D.delete()},GetCurrentLocaleID:()=>p.LocaleID.e_LocaleIDUnspecified.value,GetLocalFontName:()=>new _share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp(p,"Helvetica"),LoadString:e=>(0,_share_createSummarizeComments_util__WEBPACK_IMPORTED_MODULE_36__.SU)(p,e,g)});t.SetCallback(D);let v=0,w=p.WriterCallback.implement({Release:()=>{w.delete()},Flush:()=>(n.resolve(v),!0),GetSize:()=>v,WriteBlock:(t,n,r)=>{v=Math.max(n+r,v);let i,o=p.HEAPU8.buffer;return i=o.slice?o.slice(t,t+r):new Uint8Array(o,t,r).buffer,e(i,n,r),!0}}),P=p.PauseCallback.implement({NeedToPauseNow:()=>!1});t.StartSummarize(w,a,P),t.delete(),a.delete()}catch(e){const t=this.engine.getErrorCode(e);console.error(t)}return n.promise},_proto3.addAA=function(e,t,n,r=!1){const i=this.doc,o=this.engine;let a,s=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(o,"AA"),c=e.GetElement(s);if(c){let e=c.GetDict();a=new o.AdditionalAction(i,e)}else{let t=o.PDFDictionary.Create();e.SetAt(s,t),a=new o.AdditionalAction(i,t)}let l=o.TriggerEvent.values[n.trigger],u=a.GetAction(l);if(r&&!u.IsEmpty()){let e=u.GetSubActionCount();u.InsertSubAction(e,t)}else a.SetAction(l,t)},_proto3.hasOwnerPassword=function(){return this.doc.HasOwnerPassword()},_proto3.getText=function(e,t,{taskProgress:n}){const r=this.engine;let i=new r.PDFDoc,o=new r.String("");i.Load(o);const a=this.doc;let s=a.GetPageCount(),c=new r.String("");e.forEach(((e,t)=>{let n=new r.Range((e+s)%s);i.StartImportPages(t,a,0,c,n)})),this.taskProgressMap[t]=!1;let l="",u=0;const d=(o=0)=>{if(this.taskProgressMap[t])return delete this.taskProgressMap[t],n({percent:u,content:l});const a=i.GetPage(o),s=r.FlattenOptions.e_FlattenAll.value;a.Flatten(!0,s);let c=r.ParseFlags.e_ParsePageNormal.value;a.StartParse(c,null,!1);let h=r.TextParseFlags.e_ParseTextNormal.value,f=new r.TextPage(a,h),g=r.TextOrderFlag.e_TextDisplayOrder;a.HasVertWritingFont()&&(g=r.TextOrderFlag.e_TextStreamOrder);let p=f.GetText(g).toString();e[o];if(l+=p,f.delete(),u=Math.round((o+1)/e.length*1e4)/100,o>=e.length-1)return delete this.taskProgressMap[t],n({percent:100,content:l});n({percent:u,content:l}),d(++o)};d()},_proto3.cancelTaskProgress=function(e){this.taskProgressMap.hasOwnProperty(e)&&(this.taskProgressMap[e]=!0)},_proto3.verifyDocSignature=function(e={}){let{is_verify_signature:t=!0,use_expired_tst:n=!0,ignore_doc_info:r=!1,time_type:i=0,isCertTrusted:o,isCertTrustedRoot:a,trustedCertificateList:s=[],isCertifiedMap:c={}}=e,l={},u=this.engine,d=u.TimeType.values[i]||u.TimeType.e_SignatureCreationTime;try{let e=new u.LTVVerifier(this.doc,t,n,r,d),i=(0,_share_signature_util__WEBPACK_IMPORTED_MODULE_31__.dX)(u,o,a,s);e.SetTrustedCertStoreCallback(i),e.SetVerifyMode(u.VerifyMode.e_VerifyModeAcrobat);let h=e.Verify();(0,_share_signature_util__WEBPACK_IMPORTED_MODULE_31__.zF)(l,c,u,h),e=null}catch(e){const t=u.getErrorCode(e);console.error(t)}return l},_proto3.clearAllDesignerAssistCache=function(){const e=this.pageIndexMap;for(const t in e){const e=this.pageIndexMap[t];e&&e.clearDesignerAssitCache()}},_proto3.getStringHashSHA256Data=function(e){const t=this.engine,n=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,e);return t.Library.GenerateHashData(t.CryptType.e_Crypt_SHA256,n,n.GetLength()).toString().toLowerCase()},_proto3.signForESignUS=function(e={},t=[]){const n=this.engine,r=this.doc,i=n.KeyName;let o,a;t.forEach(((t,i)=>{const{rect:s,pageIndex:c,buffer:l,FoxitSignSubtype:u}=t,{documentID:d,FoxitSignFT:h,FoxitSignTxnID:f,showLogo:g}=e,p=r.GetPage(c),m=new n.WString(`Foxit_eSign_Signature_Field${r.GetSignatureCount()}_DOCUMENTID_${this.getStringHashSHA256Data(d+"")}`),_=p.AddSignature(new n.CFX_FloatRect(s.left,s.bottom,s.right,s.top),m,{value:0},!0);let y;y="string"==typeof l?this.JR.createReaderCallback(l):this.JR.createReaderCallbackByBuffer(l);const S=new n.Image(y).GetFrameBitmap(0);_.SetBitmap2AP(S),_.SetAppearanceFlags(128);const b=new n.SignatureAppearanceOptions;b.showLogo=g,_.SetSignatureAppearanceOptions(b),_.GenerateSignAppearance(),_.ResetSignAppearance();const I=_.GetDict(),A=new n.String("V");0===i?(a=_,o=_.CreateSigVDict((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,""),(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"")),r.AddIndirectObject(o),o.SetAtString((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"FoxitSignTxnID"),(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,f))):I.SetAtReference(A,o,r),I.SetAtName((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"FoxitSignFT"),(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,h)),I.SetAtName((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"FoxitSignSubtype"),(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,u))}));let s=r.GetCatalog(),c=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"AcroForm");if(s.HasKey(c)){let t=s.GetElement(c).GetDirectObject();if(t.GetType()==n.PDFObjectType.e_Dictionary){let i=t.GetDict(),o=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"FoxitSign");if(!i.HasKey(o)){let t=new n.PDFDictionary.Create;const{FoxitSignEndpoint:a,FoxitSignVersion:s}=e;r.AddIndirectObject(t),i.SetAtReference(o,t,r),t.SetAtString((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"FoxitSignEndpoint"),(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,a)),t.SetAtInteger((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(n,"FoxitSignVersion"),s)}}}const{email:l,phone:u,reason:d,distinguishName:h,location:f,text:g,filter:p,subfilter:m}=e;(l||u)&&a.SetKeyValue(i.e_KeyNameSigner,new n.WString(l||u)),d&&a.SetKeyValue(i.e_KeyNameReason,new n.WString(d)),h&&a.SetKeyValue(i.e_KeyNameDN,new n.WString(h)),a.SetKeyValue(i.e_KeyNameLocation,new n.WString(f||""));const _=new Date,y=new n.DateTime(_.getFullYear(),_.getMonth()+1,_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds(),_.getMilliseconds(),-_.getTimezoneOffset()/60,0);a.SetSignTime(y),a.SetFilter(new n.String(p)),a.SetSubFilter(new n.String(m));const S=(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.cP)(this.engine,a,0,p,m);return(0,_signature_callback_ts__WEBPACK_IMPORTED_MODULE_25__.Kq)(S)},_proto3.getFontCount=function(){return this.doc?this.doc.GetFontCount():null},_proto3.getFont=function(e){if(!this.doc)return null;if(e>=this.doc.GetFontCount()||e<0)return null;const t=this.doc.GetFont(e);return{isEmpty:t.IsEmpty(),name:t.GetName().toString(),familyName:t.GetFamilyName().toString(),isBold:t.IsBold(),isItalic:t.IsItalic(),ascent:t.GetAscent(),descent:t.GetDescent()}},_proto3.drawTextString=function(e){let{text:t,name:n,size:r=12,color:i,width:o=200,height:a=100,offsetX:s=0,offsetY:c=0}=e;if(!t)return;const l=this.doc,u=this.engine;let d=o,h=a;t=new u.WString(t);const f=(new _pageEditor_DefaultFont__WEBPACK_IMPORTED_MODULE_42__.Z)._getStandardID(n,u),g=new u.Font(f),p=new u.Bitmap(d,h,u.DIBFormat.e_DIBArgb,0,0);p.FillRect(0,null);const m=new u.Matrix(1,0,0,-1,0,h),_=new u.Renderer(p,!1),y=new u.GraphState;_.DrawTextString(l,t,y,Math.max(s,0),c||r,g,r,m,i||4294901760,0);return function(e,t,n,r=!0){let i=t.GetWidth(),o=t.GetHeight(),a=new e.Image;a.AddFrame(t);let s=[],c=e.StreamCallback.implement({Release:()=>{c.delete()},Flush:()=>!0,GetSize:()=>0,WriteBlock:(t,n,r)=>{let i,o=e.HEAPU8.buffer;return i=o.slice?new Uint8Array(o.slice(t,t+r)):new Uint8Array(o,t,r),s.push(i),!0}});a.SaveAs(c,(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.Dp)(e,".png")),r&&(a.delete(),t.delete(),n.delete());let l="image/png";return{type:l,blob:new Blob(s,{type:l}),width:i,height:o}}(u,p,_)},_proto3.getLastSaveFlags=function(){return this.doc.GetLastSaveFlags()},_proto3.addAnnots=function(e=[],t=(()=>{})){let n={};e.forEach((function(e){const t=e.page;(n[t]=n[t]||[]).push(e)}));let r=0,i=Promise.resolve(),o=[],a=Object.keys(n),s=25/(a.length+1);return a.forEach((e=>{i=i.then((()=>this.getPageByIndex(e).then((i=>{let a=n[e],c=e,l=Promise.resolve(),u=[],d=[],h=!1;return r+=s,t(r),a.forEach((e=>{let t;const n=e.groupElements||[];n.length?l=l.then((()=>i.addAnnotGroup([e].concat(_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,n)),0))).then((e=>{t=e[0],u.push.apply(u,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,e))})):e.type&&e.rect?l=l.then((()=>i.addAnnot(e))).then((e=>{t=e[0],u.push.apply(u,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,e))})):h||(l=l.then((()=>i.getAnnots())).then((e=>{d=e,h=!0}))),l.then((()=>{let n=t||u.find((t=>t.getName()===e.name))||d.find((t=>t.getName()===e.name));if(!n)return;const r=e.replies;r&&n.addReply&&u.push.apply(u,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,r.map((e=>n.addReply(e)))));const i=e.states;if(i&&n.addStateFromJSON){const e=[_shared_consts__WEBPACK_IMPORTED_MODULE_12__.R3.MARKED,_shared_consts__WEBPACK_IMPORTED_MODULE_12__.R3.UNMARKED];u.push.apply(u,_maybeArrayLike(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_46__.Z,i.map((t=>{let r=(t.state||t).toLowerCase();return e.includes(r)?n.addMarkedState(t):n.addReviewState(t)}))))}}))})),l.then((()=>{r+=s,t(r),o.push({page:c,annots:u.map((e=>e.getId()))})}))}))))})),i.then((()=>o))},_proto3.isDynamicXFA=function(){return this.mIsDynamicXFA},_proto3.hasXFALicense=function(){return this.mHasXFALicense},_proto3.canGetXFA=function(){return!1},(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_49__.Z)(PDFDoc,[{key:"attachments",get:function(){return this._attachments||(this._attachments=new _Attachments__WEBPACK_IMPORTED_MODULE_29__.Z(this.engine,this.doc)),this._attachments},set:function(e){this._attachments=e}},{key:"pdfPortfolio",get:function(){if(this.doc.IsPortfolio())return this._pdfPortfolio||(this._pdfPortfolio=new _PDFPortfolio__WEBPACK_IMPORTED_MODULE_38__.Z(this,this.engine)),this._pdfPortfolio},set:function(e){this._pdfPortfolio=e}}]),PDFDoc}();async function getRange(e,t){e||(e={});const n=await t.getPageCount();return{from:getByDefault(e.from,0),end:getByDefault(e.end,n-1)}}function initComparisonOptions(e,t){const n=new t.ComparisonOptions;if(!e)return n;const{textOnly:r,compareTable:i,detectPage:o,lineThickness:a,markingColor:s,opacity:c}=e;if(n.bIsText=getByDefault(r,!1),n.bIsCompareTable=getByDefault(i,!1),n.bDetectPage=getByDefault(o,!1),a){const{delete:e,insert:t,replace:r}=a,i=e=>e>0&&isFinite(e);i(e)&&(n.nDeleteThickness=getByDefault(e,2)),i(t)&&(n.nInsertThickness=getByDefault(t,2)),i(r)&&(n.nReplaceThickness=getByDefault(r,2))}if(s){const{delete:e,insert:t,replace:r}=s,i=e=>e>=0&&e<=16777215;i(e)&&(n.deleteColor=e),i(t)&&(n.insertColor=t),i(r)&&(n.replaceColor=r)}if(c){const e=e=>e>=0&&e<=100,{delete:t,insert:r,replace:i}=c;e(t)&&(n.nDeleteOpacity=Math.round(t)),e(r)&&(n.nInsertOpacity=Math.round(r)),e(t)&&(n.nReplaceOpacity=Math.round(i))}return n}function getByDefault(e,t){return null==e?t:e}function getDictName(e,t,n,r,i="Default"){if(!n)return i;let o=n.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(t,r));return o?1===o.GetType().value?o.GetBoolean():e.getPDFString(o.GetString()):i}function getAnnotsArray(e,t){var n=t.GetDict();let r=(0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"Annots"),i=n.GetElement(r);return i||(i=e.PDFArray.Create(),n.SetAt(r,i)),i.GetDirectObject().GetArray()}function getTemplateObject(e,t,n){let r=CString(t.engine,"Names"),i=e.GetElement(r),o=null;if(i){let e=i.GetArray(),r=e.GetElementCount();for(let i=0;i<r;i+=2){let a=e.GetElement(i).GetString();if(n===t.JR.getPDFString(a)&&i+1<r){o=e.GetElement(i+1);break}}}return o}function getMetadataValues(e,t){let n=e.GetValues(t),r="";for(let e=0,t=n.GetSize();e<t;e++)r=n.GetAt(e).toString();return r}function getMetadataValue(e,t){if(e.GetValue)return e.GetValue(t).toString()}function formateDictToJson(e){let t={};if(e){let n=0;for(;n=e.MoveNext(n);){let r=e.GetKey(n).toString(),i=formatDictObjToJson(e.GetValue(n));t[r]=i}}return t}function formatDictObjToJson(e){let t;switch(e.GetType().value){case 1:t=e.GetBoolean();break;case 2:t=e.GetFloat();break;case 3:t=e.GetString().toString();break;case 4:t=e.GetName().toString();break;case 5:let n=e.GetArray(),r=[];for(let e=n.GetElementCount();e--;)r[e]=formatDictObjToJson(n.GetElement(e));t=r;break;case 6:t=formateDictToJson(e.GetDict());break;case 8:t=null;break;default:t=e.toString()}return t}function retriveDict(e,t,n,r){let i,o="",a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];switch(r.GetType().value){case 1:return r.GetString().toString();case 2:let s=r.GetString().toString();return Math.abs(parseInt(s)-parseFloat(s))<.001?parseInt(s):parseFloat(s);case 3:{let t=r.GetString(),n=t.GetBuffer();o="<";for(let r=0;r<t.GetLength();r++){let t=e.HEAPU8[n+r];o+=a[(240&t)>>4],o+=a[15&t]}return o+=">",o}case 4:return"/"+r.GetName().toString();case 5:{o=[];let i=r.GetArray(),a=i.GetElementCount();for(let r=0;r<a;r++)o.push(retriveDict(e,t,n,i.GetElement(r)));return o}case 7:{o={};let t=r.GetStream();i=t.GetDictionary();let n=t.GetDataSize(!0);if(n){let t=e._malloc(n);r.GetStream().GetData(!0,n,t);let i="";for(let r=t;r<t+n;r++){let t=e.HEAP8[r];i+=a[(240&t)>>4],i+=a[15&t]}e._free(t),o.stream=i}}case 6:{o=o||{},i||(i=r.GetDict()),i||(i=r);let n=i.GetElement((0,_share_constants_string_js__WEBPACK_IMPORTED_MODULE_23__.n5)(e,"Type"));if(n&&"OCG"==n.GetString().toString())return{};let a=i.MoveNext(0);for(;a;){let n=i.GetKey(a),r=i.GetElement(n);o[n.toString()]=retriveDict(e,t,n.toString(),r),a=i.MoveNext(a),n.delete()}return o}case 8:return null;case 9:{let i=r.GetDirectObject().GetObjNum();return o=i+"R",t[i]=retriveDict(e,t,n,r.GetDirectObject()),o}}return o}function getPDFNameTree(e,t,n){let r={},i=new t.PDFNameTree(n,e);for(let o=0,a=i.GetCount();o<a;o++){let a=i.GetName(o);if(!a.GetLength())continue;let s=i.GetObj(a);if(!s)continue;let c=a.toString();if(e.value===t.PDFNameTreeType.e_JavaScript.value){let e=new t.Action(n,s.GetDict());if(e.IsEmpty())continue;let i=new t.JavaScriptAction(e),o=i.GetScript();r[c]=o.toString(),e=null,i=null,o=null}else if(4===e.value||5===e.value){let e=s.GetDict().GetObjNum();r[c]=e,e=null}a.delete(),a=null}return r}function pageRangeTwoDimensionToOne(e){return e.reduce(((e,t)=>{if(2===t.length){let e=[];for(let n=t[0];n<t[1];n++)e.push(n);t=e}return e.concat(t)}),[])}function pageIndexesToPages(e,t){let n=[];return t.forEach((t=>{n.push(e.getPageByIndex(t))})),Promise.all(n)}function syncPromisesTask(e){let t=[];return e.reduce(((n,r,i)=>n.then((n=>r.then((n=>(t[i]=n,i==e.length-1?t:r)))))),Promise.resolve())}function getDB(){if(getDB._db)return getDB._db;const e="CopyPages_cache",t=new _shared_IndexDBCache_js__WEBPACK_IMPORTED_MODULE_32__.Z(e,"FoxitPDFSDKForWeb_"+e);return t.clear(),getDB._db=t,t}function formatMetadataDate(e,t){return e?-1!=e.indexOf("D:")?e:(0,_shared_formatDate_js__WEBPACK_IMPORTED_MODULE_39__.K)(e):e}function createVDict(e,t,n,r){if(n.GetElement(e))return;let i=new t.PDFDictionary.Create,o=new t.String("ByteRange"),a=new t.String("Contents"),s=new t.String("A123456789012345678901234567890123B");i.SetAtName(o,s);let c=new t.String(generateBlankContent());i.SetAtString(a,c);const l=r.AddIndirectObject(i);return n.SetAtReference(e,i,r),l}function generateBlankContent(){let e="";for(let t=0;t<31768;t++)e+="0";return e}__webpack_exports__.Z=PDFDoc},4213:function(e,t,n){"use strict";n(752),n(9976),n(3356);t.Z={addFont:function(e,t){let n;if(e instanceof Uint8Array)n=e.buffer;else{if(e.GetLength()<1)return;let r=e.GetBuffer(),i=e.GetLength(),o=r+i;n=t.HEAPU8.buffer.slice?t.HEAPU8.buffer.slice(r,o):new Uint8Array(t.HEAPU8.buffer,r,i).buffer}return{buffer:n}},revokeAllURL:function(){},getWoffDataBuffer:function(e,t){if(e.GetLength()<1)return;let n,r=e.GetBuffer(),i=e.GetLength(),o=r+i;return n=t.HEAPU8.buffer.slice?t.HEAPU8.buffer.slice(r,o):new Uint8Array(t.HEAPU8.buffer,r,i).buffer,{buffer:n}}}},329:function(e,t,n){"use strict";var r=n(7462),i=(n(4043),n(3964),n(7267),n(1220));let o,a,s=function(){function e(e,t,n="e_UsageView"){if(this.c_doc=e,this.c_engine=o=t,this.layer_tree=a=new t.LayerTree(e),this.layer_context=new t.LayerContext(e,t.UsageType[n]),!this.layer_tree.IsEmpty()){let e=this.layer_tree.GetRootNode();this.rootLayerNode=new l("",e,this.layer_context,-1)}}var t=e.prototype;return t.setLayerNodeVisiable=function(e,t){let n=this.getLayerNodeById(e);const r=this.layer_context.SetVisible(n.layer_node,t);return r&&(n.visible=t),r},t.getLayerNodeByIdBAK=function(e){let t=(e=e.toString()).split("-");try{let e=this.rootLayerNode;for(let n=0;n<t.length;n++)e=e.children[t[n]];return e}catch(e){return null}},t.getLayerNodeById=function(e,t){let n;if(t||(t=this.rootLayerNode),t.id===e+"")n=t;else if(t.children&&t.children.length>0)for(let r=0;r<t.children.length;r++){const i=t.children[r];if(n=this.getLayerNodeById(e,i),n)break}return n},t.toJson=function(){return this.layer_tree.IsEmpty()?[]:this.rootLayerNode.toJson()},t.delete=function(){this.layer_tree.delete(),this.layer_context.delete(),this.rootLayerNode&&this.rootLayerNode.delete()},t.removeLayerNode=function(e,t,n=!0){const r=this.getLayerNodeById(e);if(!r)return!1;const i=r.parent;if(!i)return!1;const o=i.removeChild(e);let a=Promise.resolve(o);return o&&r.hasLayer&&(a=this.getPagesByLayer(r,t).then((e=>(e.forEach((e=>{const t=e.page;r.removeGraphics(t,n)})),o)))),a},t.getLayersByPage=function(e){const t=[],n=r=>{if(r.hasLayer&&r.isInPage(e.page)&&t.push(r),r.children&&r.children.length>0)for(let e=0;e<r.children.length;e++){const t=r.children[e];n(t)}};return n(this.rootLayerNode),t},t.setLayerName=function(e,t){return this.getLayerNodeById(e).setName(t)},t.setLayerDefaultState=function(e,t){const n=this.getLayerNodeById(e),r=this.layer_tree.setLayerDefaultState(n.layer_node,this.c_doc,+t);return r&&(n.state=t),r},t.setLayerLocked=function(e,t){const n=this.getLayerNodeById(e);return this.layer_tree.setLayerLocked(n.layer_node,this.c_doc,t?1:0),n.isLocked=t,!0},t.setLayerIntent=function(e,t,n=!0){const r=this.getLayerNodeById(e),i=new this.c_engine.StringArray;i.Add(new this.c_engine.String(0==t?"View":"Design"));const o=r.layer_node.SetIntent(i,n);return o&&(r.intent=t),o},t.setLayerViewUsage=function(e,t){return this.getLayerNodeById(e).setViewUsage(t)},t.setLayerPrintUsage=function(e,t){return this.getLayerNodeById(e).setPrintUsage(t)},t.setLayerExportUsage=function(e,t){return this.getLayerNodeById(e).setExportUsage(t)},t.flattenLayers=function(e){const t=[],n=function(e){if(e&&e.hasLayer&&!1===e.visible&&t.push(e),e.children&&e.children.length>0)for(let t=0;t<e.children.length;t++)n(e.children[t])};return n(this.rootLayerNode),e.getAllPages().then((e=>{e.forEach((e=>{const n=e.page;t.forEach((e=>{e.getGraphicsObjects(n).forEach((e=>{n.RemoveGraphicsObject(e)})),e.removeGraphics(n)})),n.GenerateContent()}))})),this.rootLayerNode.removeAllChild(),e.doc.GetCatalog().RemoveAt(new o.String("OCProperties")),!0},t.mergeLayers=function(e,t,n){const r=this.getLayerNodeById(n),i=t.map((e=>this.getLayerNodeById(e)));return e.getAllPages().then((t=>(t.forEach((e=>{const t=e.page;i.forEach((e=>{const n=e.getGraphicsObjects(t);n&&n.length>0&&n.forEach((n=>{r.addGraphics(t,n),e.layer_node.RemoveGraphicsObject(n)}))})),t.GenerateContent()})),i.forEach((t=>{t.getRelatedAnnots().forEach((e=>e.SetRelatedLayerNode(r.layer_node))),this.removeLayerNode(t.id,e,!1)})),!0)))},t.getPagesByLayer=function(e,t){return t.getAllPages().then((t=>{const n=[];return t.forEach((t=>{const r=t.page;e.isInPage(r)&&n.push(t)})),n}))},t.moveTo=function(e,t,n){const r=this.getLayerNodeById(e),i=this.getLayerNodeById(t);return r.layer_node.MoveTo(i.layer_node,n)},e}();const c={0:"e_StateON",1:"e_StateOFF",2:"e_StateUnchanged",3:"e_StateUndefined"};let l=function(){function e(e,t,n,r){this.id=e,this.layer_node=t,this.name=t.GetName().toString(),this.hasLayer=t.HasLayer(),this.deep=r,this.layer_context=n,this.visible=n.IsVisible(t),this.isLocked=t.IsLocked(),this.children=this.getChildren()}var t=e.prototype;return t.getChildren=function(){let t=[],n=this.layer_node.GetChildrenCount();for(let r=0;r<n;r++)try{let n,i=this.layer_node.GetChild(r);n=""!==this.id?this.id+"-"+r:r+"";let o=new e(n,i,this.layer_context,this.deep+1);o.parent=this,t.push(o)}catch(e){console.warn(e)}return t},t.removeChild=function(e){let t,n,r=!1;for(let r=0;r<this.children.length;r++){const i=this.children[r];if(i.id===e){t=i,n=r;break}}return t&&(r=this.layer_node.RemoveChild(n),r&&this.children.splice(n,1)),r},t.removeAllChild=function(){const e=this.layer_node;this.children.forEach(((t,n)=>{e.RemoveChild(0)})),this.children=[]},t.removeGraphics=function(e,t=!0){const n=this.layer_node,r=(this.parent.layer_node,n.GetGraphicsObjects(e)),i=function(e,t){const n=o.GraphicsObjectType.e_TypeAll,r=o.GraphicsObjectType.e_TypeFormXObject;for(let o=e.GetFirstGraphicsObjectPosition(n);o;o=e.GetNextGraphicsObjectPosition(o,n)){const n=e.GetGraphicsObject(o);if(n===t||n.$$.ptr===t.$$.ptr)return e;if(n.GetType()===r){const e=n.GetFormXObject(),r=i(e.GetGraphicsObjects(),t);if(r)return r}}},a=[];let s,c;for(let t=0;t<r.GetSize();t++){const n=r.GetAt(t);if(s&&c.indexOf(n.$$.ptr)>-1){s.RemoveGraphicsObject(n);continue}const l=i(e,n);l.RemoveGraphicsObject(n),-1===a.indexOf(l)&&a.push(l),s=l,c=[];const u=o.GraphicsObjectType.e_TypeAll;o.GraphicsObjectType.e_TypeFormXObject;for(let e=s.GetFirstGraphicsObjectPosition(u);e;e=s.GetNextGraphicsObjectPosition(e,u)){const t=s.GetGraphicsObject(e);c.push(t.$$.ptr)}}e.GenerateContent(),a.forEach((e=>e.GenerateContent()))},t.addGraphics=function(e,t){return this.layer_node.AddGraphicsObject(e,t)},t.getGraphicsObjects=function(e){const t=[],n=this.layer_node.GetGraphicsObjects(e);for(let e=0;e<n.GetSize();e++){const r=n.GetAt(e);t.push(r)}return t},t.isInPage=function(e){return this.layer_node.IsInPage(e)},t.setName=function(e){if(!e)return!1;const t=this.layer_node.SetName(new o.WString(e));return t&&(this.name=e),t},t.setViewUsage=function(e){let t=c[e];return!!t&&this.layer_node.SetViewUsage(o.UsageState[t])},t.setPrintUsage=function(e){let t=c[e];if(!t)return!1;const n=this.layer_node.GetPrintUsage(),r=n.subtype;return n.Set(r,o.UsageState[t]),this.layer_node.SetPrintUsage(n)},t.setExportUsage=function(e){let t=c[e];return!!t&&this.layer_node.SetExportUsage(o.UsageState[t])},t.getRelatedAnnots=function(){if(!this.hasLayer)return[];const e=this.layer_node;try{const t=e.GetRelatedAnnots(),n=[];for(let e=0;e<t.GetSize();e++){const r=t.GetAt(e);n.push(r)}return n}catch(e){}return[]},t.toJson=function(){const e=this.layer_node,t=this.layer_context,n=t.IsVisible(e);if(e.IsEmpty())return[];let s=[],c=this.children.length;for(let e=0;e<c;e++){let t=this.children[e];s.push(t.toJson())}const l={id:this.id,name:this.name,deep:this.deep,hasLayer:this.hasLayer,isLocked:this.isLocked,children:s,visible:n};if(this.hasLayer){let n;const s=e.GetIntent();n=s.GetSize()>0?s.GetAt(0).toString():e.HasIntent((0,i.n5)(o,"View"))?"View":"Design",n="View"===n?0:1;const c=a.getDefaultState(e),u=e.GetPrintUsage().print_state.value,d=e.GetViewUsage().value,h={min:e.GetZoomUsage().min_factor,max:e.GetZoomUsage().max_factor},f=e.GetExportUsage().value,g=t.GetUsageType().value,p=e.GetDict().GetObjNum(),m=e.isOCMD(),_=[];let y;if(1===m){y=e.getOCMDTypeP().toString();if(e.hasVE()){const t=e.GetDict().GetElement((0,i.n5)(o,"VE")).GetArray(),n=e=>{let t=[];for(let r=0;r<e.GetElementCount();r++){let i=e.GetElement(r);switch(i.GetType().value){case 5:t.push(n(i.GetArray()));break;case 9:t.push(i.GetDirectObject().GetObjNum());break;default:t.push(i.GetString().toString())}}return t},r=e=>{var t,n=e[0];return"Or"===n?t="||":"Not"===n?t="!":"And"===n&&(t="&&"),"("+e.join(t).replace(/(Or\|\|)|(Not)|(And\&\&)/,"")+")"};let a=n(t);a=a.map((e=>e instanceof Array?r(e):e)),y=a=r(a)}else{const t=e.getOCMDLayersP();for(let e=0;e<t.GetSize();e++){const n=t.GetAt(e);_.push(n)}"AllOn"===y?y=_.join("&&"):"AnyOn"===y&&(y=_.join("||"))}}(0,r.Z)(l,{intent:n,state:c?1:0,printUsage:u,viewUsage:d,zoomUsage:h,exportUsage:f,usageType:g,objNum:p,isOcmd:m,ocmdType:y,ocmdLayers:_})}return l},t.delete=function(){this.layer_node.delete(),this.children.forEach((e=>{e.delete()})),this.children=[]},e}();t.Z=s},5199:function(e,t,n){"use strict";n.d(t,{Z:function(){return W}});var r=n(9611);var i=n(7462),o=n(5785),a=n(1656),s=(n(752),n(3964),n(6265),n(1386),n(9976),n(3356),n(278),n(5847),n(4043),n(5137),n(7267),n(8320),n(2003),n(6544),n(6346));function c(e,t,n){let r=e.Continue();for(;r===t;)r=e.Continue();return e.delete(),r===n}var l=n(9987);function u(e,t){return new(0,e.CFX_FloatRect)(t.left,t.bottom,t.right,t.top)}var d=n(8755),h=n(6976);let f=function(){function e(){}return e.createTextWatermark=function(e,t,n,r,i){let o=new e.WString(n),a=new e.Watermark(t,o,r,i);return o.delete(),a},e.createBitmapWatermark=function(e,t,n,r){let i=h.Z.createImage(e,n).GetFrameBitmap(0);return new e.Watermark(t,i,r)},e}(),g=function(){function e(){}return e.createWatermarkSettings=function(e,t,n,r,i,o,a,s,c){let l=e.Position,u=e.WatermarkSettingsFlags,d={TopLeft:l.e_PosTopLeft,TopCenter:l.e_PosTopCenter,TopRight:l.e_PosTopRight,CenterLeft:l.e_PosCenterLeft,Center:l.e_PosCenter,CenterRight:l.e_PosCenterRight,BottomLeft:l.e_PosBottomLeft,BottomCenter:l.e_PosBottomCenter,BottomRight:l.e_PosBottomRight},h={0:u.e_FlagASPageContents,1:u.e_FlagASAnnot,2:u.e_FlagOnTop,4:u.e_FlagNoPrint,8:u.e_FlagInvisible};return new e.WatermarkSettings(d[t],n,r,h[i].value,o,a,s,c)},e}(),p=function(){function e(){}return e.createWatermarkTextProperties=function(e,t,n,r,i,o,a){let s=e.StandardID,c=[s.e_StdIDCourier,s.e_StdIDCourierB,s.e_StdIDCourierBI,s.e_StdIDCourierI,s.e_StdIDHelvetica,s.e_StdIDHelveticaB,s.e_StdIDHelveticaBI,s.e_StdIDHelveticaI,s.e_StdIDTimes,s.e_StdIDTimesB,s.e_StdIDTimesBI,s.e_StdIDTimesI,s.e_StdIDSymbol,s.e_StdIDZapfDingbats],l={normal:e.FontStyle.e_FontStyleNormal,underline:e.FontStyle.e_FontStyleUnderline},u={left:e.Alignment.e_AlignmentLeft,center:e.Alignment.e_AlignmentCenter,right:e.Alignment.e_AlignmentRight},d=new e.Font(c[t]),h=new e.WatermarkTextProperties(d,n,r,l[i.toLocaleLowerCase()],o,u[a.toLocaleLowerCase()]);return d.delete(),h},e}();var m=n(1220),_=n(995),y=n(8972),S=n(7375),b=n(1357),I=n(8315),A=n(6126);let D=function(){function e(e){this.page=e,this.modified=!0,this.currentRotate=0,this.currentScale=1}var t=e.prototype;return t.reset=function(){this.currentBitmapPromise&&(this.currentBitmapPromise.then((e=>{e.bitmap.delete()})),this.currentBitmapPromise=void 0),this.modified=!0},t.setCurrentRotate=function(e){this.currentRotate=e},t.setCurrentScale=function(e){this.currentScale=e},t.getCurrentImageData=function(){return!this.modified&&this.currentBitmapPromise||(this.currentBitmapPromise=this.page.getBitmap(this.currentScale,this.currentRotate,void 0,["page","annot"],"print","",!1,{hotAnnot:0,hideAnnots:[],dpr:1}).then((e=>(e.renderer.delete(),e.progressive.delete(),delete e.renderer,delete e.progressive,e))),this.modified=!1),this.currentBitmapPromise},e}();var v,w=n(26);!function(e){e.EndPoint="end-point",e.MidPoint="mid-point",e.IntersectionPoint="intersection-point",e.NearestPoint="nearest-point"}(v||(v={}));n(6729);var P,F=n(241),T=n(6483),C=n(3219),G=n(2426),E=n(9402);!function(e){e.EDIT_GRAPHICS_OBJECT="edit-graphics-object"}(P||(P={}));var R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const x=s.mA.getLogger("jr-pdf-page-batch-processor");let M=function(){function e(e){this.page=e,this.startedKind=new Set}var t=e.prototype;return t.onObtainsNativePage=function(e){e.GenerateContent=s.GO.on(e.GenerateContent).around(((e,t,n)=>{if(!this.isStarted(P.EDIT_GRAPHICS_OBJECT))return t.apply(e,n);x.debug("Ignore GenerateContent method calls in batch operations")})).extract()},t.start=function(e){this.startedKind.add(e)},t.flush=function(e){return R(this,void 0,void 0,(function*(){const t=yield this.page.c_pagePromise;e===P.EDIT_GRAPHICS_OBJECT&&t.GenerateContent()}))},t.end=function(e){return R(this,void 0,void 0,(function*(){this.isStarted(e)&&this.flush(e)}))},t.isStarted=function(e){return this.startedKind.has(e)},e}();function O(){O=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,o){var a=new RegExp(e,i);return t.set(a,o||t.get(e)),(0,r.Z)(a,n.prototype)}function i(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[n]=e[i[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(i(e,a)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},O.apply(this,arguments)}function N(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}const k="bitmap render fail",B=256,L=s.mA.getLogger("pdf-jr.PDFPage"),j={None:0,phone:1,date:2,security:3,email:4,credit:5,bank:6,driving:7},U={"United States":0,China:1,"Hong Kong/Taiwan":2,France:3,Germany:4,Japan:5,Korea:6,Brazil:7,Spain:8,Turkey:9,Canada:10,Norway:11,Denmark:12,Finland:13,Iceland:14,Sweden:15,"United Kingdom":16,Ireland:17};var W=function(){function e(e,t){this.isVirtual=!1,this.id=(0,s.Ki)("pdf_page"),this.index=e,this.pdfDoc=t,this.doc=t.doc,this.xfaDoc=t.xfaDoc;let n=this.JR=t.JR;this.annotManager=n.annotManager;let r=this.engine=t.engine;this.progressiveContinueState=r.ProgressiveState.e_ToBeContinued,this.progressiveFinishState=r.ProgressiveState.e_Finished,this.isCPageDeleted=!0,this.isCPageParsed=!1,this.fullyBitmap=new D(this),this.annotationIDArray=[],this.isAnnotLoaded=!1,this.jrAnnots=[],this.preparsed=!1,this.fakeAnnots=[],this.batchProcessor=new M(this),this._needDestroyAnnots=[],this.needReParse=!1}var t=e.prototype;return t.fixPageFields=function(e,t){if(void 0!==this.pdfDoc.fixPages[this.index])return!1;if(!t.some((e=>e&&"widget"==e.getType()&&e.engineWidget.GetField().IsEmpty())))return this.pdfDoc.fixPages[this.index]=!1,!1;let n=this.pdfDoc.loadForm().engineForm,r=n.GetControlCount(e);if(!this.pdfDoc.needFixPageFields){let e=0;for(let n=0;n<t.length;n++)t[n]instanceof E.Z&&e++;e!=r&&(this.pdfDoc.needFixPageFields=!0)}if(!this.doc.HasForm()||this.pdfDoc.needFixPageFields){let e=!1;for(let n=0;n<t.length;n++)if(t[n]instanceof E.Z){e=!0,this.pdfDoc.needFixPageFields=!0;break}if(this.pdfDoc.fixPages=this.pdfDoc.fixPages||[],e&&!this.pdfDoc.fixPages[this.index])return n.FixPageFields(this.index),this.pdfDoc.fixPages[this.index]=!0,!0}return this.pdfDoc.fixPages[this.index]=!1,!1},t.preparse=function(){this.preparsed=!0,this.preparseJsonPromise=this.parsedPage().then((()=>this.toJson()),(e=>{if(!F.Z.is(e))throw e}))},t.addJRAnnot=function(e,t){this.jrAnnots[t]&&this._needDestroyAnnots.push(this.jrAnnots[t]),this.jrAnnots[t]=e,this.annotationIDArray[t]=e.getId()},t.clearEnginePage=function(){const e=[];return this.isCPageDeleted||(e.push(this._c_pagePromise.then((e=>{if(e.delete(),this.jrAnnots.forEach((e=>{e.destroy()})),this.jrAnnots[void 0]){try{this.jrAnnots[void 0].destroy()}catch(e){}delete this.jrAnnots[void 0]}this.jrAnnots.length=0,this.page=null}))),this.c_pagePromise=null),this.isCPageParsed&&(this.parsedPagePromise=null),this.fullyBitmap.reset(),Promise.all(e)},t._getPage=function(e){if(this.pdfDoc.canGetXFA())return this._getXFAPage(e);let t,n,r=(0,s.dD)(),i=this.engine.ErrorCode.e_ErrDataNotReady;try{t=this.doc.GetPage(e)}catch(e){if(n=this.engine.getErrorCode(e),n!==i)return r.reject(n.value),r.promise}return this.pdfDoc.readerBlockLoading||n===i?(t&&t.delete(),setTimeout((()=>{this._getPage(e).then((function(e){r.resolve(e)}),(function(e){r.reject(e)}))}),100),r.promise):(t.IsEmpty()?(t.delete(),r.reject(new F.Z("Cannot get page by index: "+e))):r.resolve(t),r.promise.then((e=>(this.batchProcessor.onObtainsNativePage(e),e))))},t._getXFAPage=function(e){let t,n,r=(0,s.dD)(),i=this.engine.ErrorCode.e_ErrDataNotReady;try{t=this.xfaDoc.GetPage(e)}catch(e){if(n=this.engine.getErrorCode(e),n!==i)return r.reject(n.value),r.promise}return this.pdfDoc.readerBlockLoading||n===i?(t&&t.delete(),setTimeout((()=>{this._getXFAPage(e).then((function(e){r.resolve(e)}),(function(e){r.reject(e)}))}),100),r.promise):(t.IsEmpty()?(t.delete(),r.reject(new F.Z("Cannot get page by index: "+e))):r.resolve(t),r.promise)},t._prepareAnnotations=function(e=this.page){return this.isAnnotLoaded=!0,this._getAnnotationIdArray(e)},t.reloadAnnots=function(){this.page.UpdateAnnotList(),this.annotationIDArray=this._prepareAnnotations()},t._getAnnotIndexById=function(e){return this.annotationIDArray.indexOf(Number(e))},t.hasAnnot=function(e){return this._getAnnotIndexById(e)>-1},t._setAnnotIdAt=function(e,t){if(t>=this.annotationIDArray.length){if(this.annotationIDArray.indexOf(e)>-1)throw new Error("Duplicated annotation id: "+e)}this.annotationIDArray[t]=e},t.parsedPage=function(){return this.parsedPagePromise},t.doParsePage=function(){return this.c_pagePromise.then((e=>{if(this.pdfDoc.canGetXFA())return e;if(!this.needReParse&&(!e.IsParsed||e.IsParsed()))return e;try{let t=e.StartParse(0,null,this.needReParse);if(this.needReParse=!1,!c(t,this.progressiveContinueState,this.progressiveFinishState))throw e.delete(),new Error("parse page fail")}catch(t){throw e.delete(),new Error("parse page fail")}return this.pdfDoc.mIsXFA&&!this.pdfDoc.hasXFALicense()||(this.annotationIDArray=this._prepareAnnotations(e)),e}))},t.reParsePage=function(){return this.parsedPagePromise=this.c_pagePromise.then((e=>{if(!c(e.StartParse(0,null,!0),this.progressiveContinueState,this.progressiveFinishState))throw e.delete(),new Error("parse page fail");return e}))},t.getIndex=function(){},t.getObjNumber=function(){},t.getWidth=function(){return this.c_pagePromise.then((function(e){return e.GetWidth()}))},t.getHeight=function(){return this.c_pagePromise.then((function(e){return e.GetHeight()}))},t.getAnnotsImageDataByTile=function(e=[],t,n,r,i,o=1,a=0){},t.hasAnnots=function(){return this.c_pagePromise.then((e=>0!==e.GetAnnotCount()))},t.getAnnots=function(e,t,n){return this.getAnnotsEx(e,t,n,!1)},t.getAnnotsEx=function(e,t,n,r){if(this.pdfDoc.canGetXFA())return Promise.resolve([]);const i=e=>{var t;const n=e.map((e=>e.getId()));return n.reduceRight(((e,t,r)=>(n.indexOf(t)!==r&&e.push(r),e)),[]).forEach((t=>{e[t].destroy(),e.splice(t,1)})),(t=this._needDestroyAnnots).push.apply(t,N(o.Z,e)),e};return this.c_pagePromise.then((o=>{let a=o.GetAnnotCount();return 0===a?[]:this.parsedPage().then((o=>{if(!n&&this.isAnnotLoaded||this.reloadAnnots(),!e){const n=new Array(a).fill(1).map(((e,n)=>this._getAnnotByIndex(o,n,t)));let s=!1;return!r&&(s=this.fixPageFields(o,n),s)?this.getAnnotsEx(e,t,!0,!0):t&&Object.keys(t).length?i(n.filter((e=>!!e))):i(n.filter((e=>"unknowntype"!=e.getType())))}let s=e.map((e=>{const n=this._getAnnotIndexById(e);return-1===n?null:this._getAnnotByIndex(o,n,t)})).filter((e=>!!e&&"unknowntype"!=e.getType()));return i(s)}))}))},t.setAction=function(e,t){const n=this.JR,r={17:n.engine.TriggerEvent.e_TriggerPageOpened,18:n.engine.TriggerEvent.e_TriggerPageClosed},i=n.engine,o=r[e],a=i.AdditionalAction.CreateFromPage(this.page),s=n.actionManager,c=s.create(this.doc,t.type);let l=a.GetAction(o);if(l.IsEmpty())a.SetAction(o,c);else{const e=l.GetSubActionCount();l.InsertSubAction(e,c),a.SetAction(o,l)}s.get(c,this.doc,n).create(t)},t.getAction=function(e){const t=this.JR,n={open:t.engine.TriggerEvent.e_TriggerPageOpened,close:t.engine.TriggerEvent.e_TriggerPageClosed};if(!Object.keys(n).includes(e))throw new Error(`trigger type must be ${Object.keys(n).toSting()}`);const r=t.engine.AdditionalAction.CreateFromPage(this.page).GetAction(n[e]);return!r.IsEmpty()&&t.actionManager.get(r,this.doc,t).toJson()},t.removeAction=function(e,t){const n=this.JR,r=n.engine,i={17:n.engine.TriggerEvent.e_TriggerPageOpened,18:n.engine.TriggerEvent.e_TriggerPageClosed}[e],o=r.AdditionalAction.CreateFromPage(this.page);if(t){const e=o.GetAction(i),n=(0,w.Z)(this.engine,this.doc,e,t.objNumber);return t.objNumber&&n?(o.SetAction(i,n),!0):o.RemoveAction(i)}return o.RemoveAction(i)},t.moveAction=function(e){let{trigger:t,action:n,direction:r}=e;const i=this.JR,o=i.engine,a={17:i.engine.TriggerEvent.e_TriggerPageOpened,18:i.engine.TriggerEvent.e_TriggerPageClosed},s=o.AdditionalAction.CreateFromPage(this.page),c=a[t];let l=s.GetAction(c),u=l.GetSubActionCount(),d=[l];for(let e=0;e<u;e++)d.push(l.GetSubAction(e));let h=d.findIndex((e=>e.GetDict().GetObjNum()===n.objNumber));if(-1==h)return;let f=r?h+1:h-1;if(0==f||0==h){s.RemoveAction(c),d[0].RemoveAllSubActions();let e=0==h?f:h;s.SetAction(c,d[e]),d.splice(e,1),l=s.GetAction(c);for(let e=0;e<d.length;e++)l.InsertSubAction(e,d[e])}else{l.RemoveAllSubActions(),[d[h],d[f]]=[d[f],d[h]];for(let e=1;e<d.length;e++)l.InsertSubAction(e,d[e])}},t.getAnnotIDList=function(){return this.annotationIDArray},t._getAnnotByIndex=function(e,t,n){let r=e.GetAnnot(t);return r.IsEmpty()||n&&!(r.GetDict().GetObjNum()in n)?null:this.annotManager.get(r,this,t)},t.getAnnotById=function(e){return this.getNativeAnnotById(e).then((e=>e.IsEmpty()?null:this.annotManager.get(e,this,e.GetIndex())))},t.getThumb=function(e=0,t=1){return this.c_pagePromise.then((n=>{let r=n.GetWidth(),i=n.GetHeight();switch(e){case 90:case 270:[r,i]=[i,r]}const o=y.pj/r,a=y.YP/i,s=Math.min(o,a)*t;return this.getImageData(s,e,s,0,0,this.getWidth(),this.getHeight(),0,0,!0)}))},t.getMediaBoxBitmap=function(e,t){let n=this.page,r=this.engine,i=n.GetBox(r.BoxType.e_MediaBox);i.Normalize(),i.IsEmpty()&&(i=new RectF(0,0,612,792));let o=i.right-i.left,a=i.top-i.bottom,s=0,c=0,l=n.GetBox(r.BoxType.e_CropBox);l.Normalize();let u=o,d=a;l.IsEmpty()||(s=Math.max(s,l.left-i.left),c=Math.max(c,i.top-l.top),u=l.right-l.left,d=l.top-l.bottom);let h=o/u,f=a/d;return this.getImageData(h,0,f,s/h/(u/e),c/f/(d/t),e/h,t/f,u/h/(u/e),d/f/(d/t))},t.getNativeAnnotById=function(e){const t=this._getAnnotIndexById(e);if(-1==t)throw new Error(`Annotation not found: ${e}`);return this.parsedPage().then((e=>e.GetAnnot(t)))},t.getImageDataByTile=function(e,t,n,r,i=1,o=0,a){let s,c,l=this.engine,u=(this.progressiveContinueState,this.progressiveFinishState,this);return Promise.all([this.getWidth(),this.getHeight()]).then((([e,t])=>{s=e*i,c=t*i})).then((()=>this.parsedPage())).then((e=>(e=this.xfaPage||this.page,[z(l,n,r,V(e)),e,l]))).then((([e,t,n])=>{let r=(0,A.I)(n,e);return r.SetRenderEnhanceThinLines(!0),u.pdfDoc.pdfLayer&&u.pdfDoc.pdfLayer.layer_context&&r.SetLayerContext(u.pdfDoc.pdfLayer.layer_context),[r,e,t,n]})).then((([n,r,i,l])=>(K({x:-e,y:-t,width:s,height:c,rotate:o,pdfDoc:u.pdfDoc},l,i,r,n,a,!0,this.JR.getJPXDownSample()),[n,r,l]))).then((([e,t,n])=>(0,A.v)(n,t,e)))},t.getImageData=function(e=1,t=0,n=e,r=0,i=0,o=this.getWidth(),a=this.getHeight(),s=0,l=0,u=!1){let d=this.engine,h=this.progressiveContinueState,f=this.progressiveFinishState;return Promise.all([this.parsedPage(),o,a]).then((function([r,i,o]){let a=Math.max(1,i*e),s=Math.max(1,o*n);switch(t){case 90:case 270:{const e=a;a=s,s=e}}let c=V(r),l=null;if(l=c?new d.Bitmap(a,s,d.DIBFormat.e_DIBArgb,0,0):new d.Bitmap(a,s,d.DIBFormat.e_DIBRgb32,0,0),l.FillRect(c?16777215:4294967295,null),l.IsEmpty())throw l.delete(),r.delete(),new Error("create bitmap fail");return[l,r,d]})).then((function([e,t,n]){let r=new n.Renderer(e,!0);if(r.IsEmpty())throw r.delete(),e.delete(),t.delete(),new Error("render bitmap fail");return u&&r.SetRenderAnnotsForThumbnail(!0),[r,e,t,n]})).then((([e,n,o,a])=>{const u=(0,b.q)(a,t);let d=(o=this.xfaPage||this.page).GetDisplayMatrix(r,i,s||n.GetWidth(),l||n.GetHeight(),u);if(!c(this.pdfDoc.canGetXFA()?e.StartRenderXFAPage(o,d,!1,null):e.StartRender(o,d,null),h,f))throw e.delete(),n.delete(),o.delete(),new Error("render page image fail");return[e,n,o,a]})).then((function([e,t,n,r]){let i,o=t.GetBuffer(),a=t.GetWidth(),s=t.GetHeight(),c=s*t.GetPitch(),l=o+c;return i=r.HEAPU8.buffer.slice?r.HEAPU8.buffer.slice(o,l):new Uint8Array(r.HEAPU8.buffer,o,c).buffer,e.delete(),t.delete(),{buffer:i,width:a,height:s}}))},t.getRotation=function(){return this.c_pagePromise.then((e=>e.GetRotation().value))},t.setRotation=function(e){return this.c_pagePromise.then((t=>Promise.all([t.SetRotation(this.engine.Rotation[["e_Rotation0","e_Rotation90","e_Rotation180","e_Rotation270"][e]||"e_Rotation0"]),t]))).then((([e,t])=>t.GetRotation().value))},t.getPageImage=function(e=1){},t.getVisibleContentBox=function(){},t.getPureTexts=function(e){return this.doParsePage().then((t=>{if(e){const e=[];let n=t.ExportDataForChatGPT();for(let t=0;t<n.GetSize();t++){let r=n.GetAt(t);if(0==r.is_table){const t=r.rect,n={left:t.left,right:t.right,top:t.top,bottom:t.bottom},i=r.text_content.toString();e.push({rects:[n],isTable:!1,text:i})}else{let t={rows:[],isTable:!0};for(let e=0;e<r.table_data.GetSize();e++){let n=r.table_data.GetAt(e);const i=[];for(let e=0;e<n.cell_array.GetSize();e++){let t=n.cell_array.GetAt(e);const r=t.rect;i.push({text:t.content.toString(),rect:{left:r.left,right:r.right,top:r.top,bottom:r.bottom}})}t.rows.push(i)}e.push(t)}}return e}return this.getNormalTextPageSync().GetText(0).toString()}))},t.getPageTexts=function(e,t,n="\r\n"){const r=this.engine.PDF2TextFlags,i={normal:r.e_PDF2TextFlagsNormal.value,autoRotate:r.e_PDF2TextFlagsAutoRotate.value,autoWidth:r.e_PDF2TextFlagsAutoWidth.value,keepColumn:r.e_PDF2TextFlagsKeepColumn.value,noHyphen:r.e_PDF2TextFlagsNoHyphen.value,decomposeLigature:r.e_PDF2TextFlagsDecomposeLigature.value};let o=i.normal;Object.keys(e).forEach((t=>{!0===e[t]&&(o|=i[t])}));const a=this.page.GetPageText(o,t),s=[];for(let e=0;e<a.GetSize();e++)s.push(a.GetAt(e)+"");return s.join(n)},t.getImages=function(){},t.getShapes=function(){},t.getShadings=function(){},t.destroy=function(){return this.doc=null,this.pdfDoc=null,this.isCPageDeleted?Promise.resolve():this.c_pagePromise.then((e=>{if(this.c_pagePromise=null,this.jrAnnots.forEach((function(e){try{e.destroy()}catch(e){}})),this.jrAnnots[void 0]){try{this.jrAnnots[void 0].destroy()}catch(e){}delete this.jrAnnots[void 0]}this.jrAnnots=[],this._needDestroyAnnots.forEach((function(e){try{e.destroy()}catch(e){}})),this._needDestroyAnnots=[];try{if(!e.IsEmpty())return e.ClearRenderCache&&e.ClearRenderCache(),e.delete()}catch(e){}return Promise.resolve()}))},t.resetBitmapCache=function(){this.fullyBitmap.reset()},t.toJson=function(){if(this.pdfDoc.canGetXFA())return this.toXFAJson();let e=this.page,t=this.engine,n=this.engine.CFX_FloatRect,r=e.GetBox(t.BoxType.e_MediaBox);r.Normalize(),r.IsEmpty()&&(r=new n(0,0,612,792));let i,o=!1,a=e.GetBox(t.BoxType.e_CropBox);a.Normalize(),a.IsEmpty()?i=r:(i=a,i.Intersect(r),o=!0);let s,c=t.Rotation;switch(e.GetRotation()){case c.e_Rotation0:s=new t.Matrix(1,0,0,1,-i.left,-i.bottom);break;case c.e_Rotation90:s=new t.Matrix(0,-1,1,0,-i.bottom,i.right);break;case c.e_Rotation180:s=new t.Matrix(-1,0,0,-1,i.right,i.top);break;case c.e_Rotation270:s=new t.Matrix(0,1,-1,0,i.top,-i.left);break;default:s=new t.Matrix}let l,u=e.GetDict().GetObjNum(),d={};try{l=e.GetDict().GetElement((0,m.n5)(t,"AA"))}catch(e){L.info(t.getErrorCode(e))}if(l&&l.GetDict()){let e=new t.AdditionalAction(this.doc,l.GetDict());if(!e.IsEmpty()){[this.engine.TriggerEvent.e_TriggerPageOpened,this.engine.TriggerEvent.e_TriggerPageClosed].forEach((t=>{try{let n=e.GetAction(t);n.IsEmpty()||(d[t.value]=this.JR.actionManager.get(n,this.doc,this.JR).toJson())}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}}))}e.delete()}let h,f=[s.GetA(),s.GetB(),s.GetC(),s.GetD(),s.GetE(),s.GetF()];return s.delete(),h=this.pdfDoc.mIsXFA&&!this.pdfDoc.hasXFALicense()?0:e.GetAnnotCount(),{id:this.id,index:e.GetIndex(),width:e.GetWidth(),height:e.GetHeight(),rotation:e.GetRotation().value,annotCount:h,matrix:f,objectNumber:u,AA:d,mediaWidth:r.Width(),mediaHeight:r.Height(),isCropped:o,cropBox:{left:i.left,right:i.right,top:i.top,bottom:i.bottom}}},t.toXFAJson=function(){let e=this.xfaPage,t=e.GetWidth(),n=e.GetHeight();return{id:this.id,index:e.GetIndex(),width:t,height:n,rotation:0,annotCount:0,matrix:[1,0,0,1,0,0],objectNumber:-1,AA:{},mediaWidth:t,mediaHeight:n,isCropped:!1,cropBox:{left:0,right:t,top:n,bottom:0}}},t.getBitmap=function(e=1,t=0,n,r=["page"],i="view",o,a=!1,s={hotAnnot:0,hideAnnots:[],dpr:1}){let c=0,l=-1!==r.indexOf("page");"view"===i&&l&&(this.fullyBitmap.setCurrentRotate(t),this.fullyBitmap.setCurrentScale(e));let u=this.engine,d={page:u.ContentFlag.e_RenderPage.value,annot:u.ContentFlag.e_RenderAnnot.value,form:B,noHighlight:8,onlyHighlight:4,hideMarkup:16};for(let e=0,t=r.length;e<t;e++)c|=d[r[e]];let h,f,g,p,m,_=n?n.x:0,y=n?n.y:0,S=(this.progressiveContinueState,this.progressiveFinishState,this);return this.parsedPage().then((r=>{if(m=r,!this.pdfDoc.isOwner&&!this.pdfDoc.canGetXFA()){let e=m.GetDocument();if(e.GetPasswordType()==u.PasswordType.e_PwdUser){0==(e.GetUserPermissions()&(u.UserPermissions.e_PermFillForm.value|u.UserPermissions.e_PermAnnotForm.value))&&(c|=B)}e.delete()}let d=r.GetWidth(),b=r.GetHeight();if(g=d*e,p=b*e,n)h=n.width,f=n.height;else switch(t){case 90:case 270:h=p,f=g;break;default:h=g,f=p}let I=V(m);l||(I=8&c?1:!(4&c)),h=parseInt(h),f=parseInt(f);let D="view"===i&&"number"==typeof this.pdfDoc.colors.background&&"number"==typeof this.pdfDoc.colors.foreground,v=z(u,h,f,I,D&&l?this.pdfDoc.colors.background:void 0),w=(0,A.I)(u,v);w.SetRenderEnhanceThinLines(!0);const P=S.pdfDoc.pdfLayer;if("print"===i){let e=this.pdfDoc.createLayerNodes("e_UsagePrint");P&&P.layer_context&&e.layer_context.MergeStates(P.layer_context),w.SetLayerContext(e.layer_context)}else P&&P.layer_context&&w.SetLayerContext(P.layer_context);let F,T,C,G;w.SetForceHalftone(!0),D&&(w.SetColorMode(this.engine.ColorMode.e_ColorModeCustom),w.SetMappingModeColors(J(this.pdfDoc.colors.background),J(this.pdfDoc.colors.foreground)));const E=K({x:-_,y:-y,width:g,height:p,rotate:t,usage:i,pdfDoc:S.pdfDoc},u,this.xfaPage||this.page,null,w,c,o,this.JR.getJPXDownSample(),!l);if(F=E[0],T=E[1],C=E[2],l)G=F.GetRateOfProgress();else{let e=this.page,t=e.GetAnnotCount();w.SetScreenDPIScale(s.dpr||1);let n=[],r=[],i=[],o=[];for(let a=0;a<t;a++){const t=e.GetAnnot(a);let s=t.GetType();s===u.AnnotType.e_Screen?r.push(t):s===u.AnnotType.e_Link?i.push(t):s===u.AnnotType.e_Widget?o.push(t):n.push(t)}o.length&&(n=n.concat(o)),i.length&&(n=n.concat(i)),r.length&&(n=n.concat(r));for(let t=0;t<n.length;t++){const r=n[t];try{let t=r.GetType().value,n=r.GetFlags();if(0===t)continue;if(2&n||32&n||20==t)continue;if(8&c&&9==t)continue;if(4&c&&9!==t)continue;if(-1!==s.hideAnnots.indexOf(r.GetDict().GetObjNum()))continue;let i=!0;if(9!==t){let t=r.GetAppearanceGraphicsObjects(u.AppearanceType.e_AppearanceTypeNormal);if(!t.IsEmpty()){if(t.GetMaxBlendType()>u.BlendMode.e_BlendNormal.value){i=!1,w.SetRenderContentFlags(1|-257&c);let t=r.GetRect();C.TransformRect(t);let n=new u.FX_RECT(t.left,t.bottom,t.right,t.top);v.FillRect(4294967295,n),w.SetClipRect(n),w.StartRender(e,C,null),w.SetRenderContentFlags(-257&c),w.ClearClips()}}}i&&w.RenderAnnot(r,C)}catch(e){isNaN(e)||(e=u.getErrorCode(e)),console.warn(e)}}n.forEach((function(e){e.delete()})),G=100,T=2,F={delete:()=>{}}}if((100==G||2==T)&&!this.pdfDoc.canGetXFA()&&((l||"print"==i)&&this.renderAnnots(w,i,C,c),s.hotAnnot)){const e=s.hotAnnot;let t=(0,A.I)(u,v);t.SetRenderAnnotAppearanceType(u.AppearanceType.e_AppearanceTypeRollover);const n=this._getAnnotIndexById(e),r=this.page.GetAnnot(n);0;t.RenderAnnot(r,C);r.delete(),t.delete()}let R=this.pdfDoc.canGetXFA()?0:m.GetRotation().value,x=(0,A.v)(u,v,w,!1);return x.rate=2==T?100:G,x.x=_,x.y=y,x.scale=e,a||(x.isFirst=Math.abs(this.scale-e)>1e-6||this.rotate!=t||this.pageRotation!=R,this.scale=e,this.rotate=t,this.pageRotation=R),{image:x,getBitmapBuffer:A.v,engine:u,bitmap:v,renderer:w,usage:i,matrix:C,renderFlags:c,page:this,x:_,y:y,progressive:F}}))},t.getBitmapByMatrix=function(e,t,n){},t.renderAnnots=function(e,t,n,r){let i=this.page,o=i.GetAnnotCount();for(let a=0;a<o;a++){const o=i.GetAnnot(a);try{let i=o.GetType().value;if("print"==t){let t=o.GetFlags();if(2&t||!(4&t)||18==i)continue;if(!(2&r)&&20!=i)continue;e.SetRenderFormField(!0),e.RenderAnnot(o,n)}else{-1!=[0,16,19,22,23,25].indexOf(i)&&e.RenderAnnot(o,n)}}catch(e){isNaN(e)||(e=engine.getErrorCode(e)),console.warn(e)}o.delete()}},t.getPageAndHighlightBitmap=function(e=1,t=0,n,r){let i,o,a,s,l,u=this.engine,d=n?n.x:0,h=n?n.y:0,f=this.progressiveContinueState,g=this.progressiveFinishState,p=this;return this.parsedPage().then((e=>(l=e,Promise.all([this.getWidth(),this.getHeight()])))).then((([t,r])=>{a=t*e,s=r*e,i=n?n.width:a,o=n?n.height:s})).then((()=>[z(u,i,o,V(l)),l,u])).then((([e,t,n])=>{let r=(0,A.I)(n,e);return r.SetRenderEnhanceThinLines(!0),p.pdfDoc.pdfLayer&&p.pdfDoc.pdfLayer.layer_context&&r.SetLayerContext(p.pdfDoc.pdfLayer.layer_context),[r,e,t,n]})).then((([e,n,i,o])=>(function({x:e,y:t,width:n,height:r,rotate:i},o,a,s,l,u,d,h=[]){const f=(0,b.q)(o,i);switch(i){case 270:case 90:{let e=n;n=r,r=e}}let g=a.GetDisplayMatrix(e,t,n,r,f);l.SetRenderContentFlags(o.ContentFlag.e_RenderPage.value);let p=1;if(p=c(l.StartRender(a,g,null),u,d),!p)throw l.delete(),s.delete(),new Error(k);{let e=o.AnnotType.e_Highlight;for(var m=0,_=a.GetAnnotCount();m<_;m++){let t=a.GetAnnot(m),n=t.GetType();n!==e&&0!=n.value||-1!==h.indexOf(t.GetUniqueID().toString())||l.RenderAnnot(t,g)}}}({x:-d,y:-h,width:a,height:s,rotate:t},o,this.xfaPage||this.page,n,e,f,g,r),i.ClearRenderCache&&i.ClearRenderCache(),[e,n,o]))).then((function([e,t,n]){return(0,A.v)(n,t,e)}))},t.getAnnotBitmap=function(e,t,n,r,i,o){let a,s,c,l,u,d,h,f=this.engine,g=r?r.x:0,p=r?r.y:0;return this.parsedPage().then((t=>(a=t,Promise.all([this.getWidth(),this.getHeight(),this.getNativeAnnotById(e)])))).then((([e,n,r])=>{if(l=e*t,u=n*t,r.IsEmpty())throw r.delete(),new Error("annot is empty");return d=r})).then((()=>{if(20==d.GetType().value){let e=d.GetRect(),n=0;return s=Math.max(r?r.width+n:(e.right-e.left)*t,1),c=Math.max(r?r.height+n:(e.top-e.bottom)*t,1),{bitmap:z(f,s,c,!0),renderer:{delete:()=>{}},progressive:{delete:()=>{}}}}return this.getBitmap(t,n,r,["noHighlight"])})).then((e=>{h=e;const t=e.bitmap;let n=(0,A.I)(f,t);if(i===y.Qk.ROLLOVER){o||d.GetFlags();d.SetEnableToggleNoView(!!(256&o))}return i&&n.SetRenderAnnotAppearanceType(f.AppearanceType[i===y.Qk.ROLLOVER?"e_AppearanceTypeRollover":i===y.Qk.DOWN?"e_AppearanceTypeDown":"e_AppearanceTypeNormal"]),[n,t,d]})).then((([e,t,r])=>{switch(n){case 90:case 270:{let e;e=l,l=u,u=e}}const i=this.pdfDoc.pdfLayer;if(i&&i.layer_context&&!i.layer_tree.IsEmpty()){r.GetRelatedLayerNode();e.SetLayerContext(i.layer_context)}let o=a.GetDisplayMatrix(-g,-p,l,u,(0,b.q)(f,n));if(!e.RenderAnnot(r,o))return e.delete(),{buffer:new ArrayBuffer(0),width:0,height:0,x:g,y:p};const s=(0,A.v)(f,t,e);return s.x=g,s.y=p,h.renderer.delete(),h.progressive.delete(),s}))},t.getAnnotBitmapByRange=function(e,t,n,r){let i,o,a,s,c,l=this.engine,u=r?r.x:0,d=r?r.y:0;return this.parsedPage().then((e=>(i=e,Promise.all([this.getWidth(),this.getHeight()])))).then((([e,n])=>(s=e*t,c=n*t,o=r?r.width:s,a=r?r.height:c,[o,a,s,c]))).then((([e,t,n,r])=>[z(l,e,t,!0),n,r])).then((([e,t,n])=>{let r=(0,A.I)(l,e);return r.SetRenderEnhanceThinLines(!0),[r,e,t,n]})).then((([t,r,o,a])=>{let s=i.GetDisplayMatrix(-u,-d,o,a,this.transformRotateValue(l,n)),c=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];if(n instanceof Array)for(let e=n[0],t=n[1];e<=t;e++)c.push(i.GetAnnot(e));else c.push(i.GetAnnot(n))}for(let e=0,n=c.length;e<n;e++){let n=c[e];t.RenderAnnot(n,s)}return(0,A.v)(l,r,t)}))},t.getAnnotIdAtPoint=function(e,t,n=0){return this.parsedPage().then((r=>{let i=new this.engine.PointF(e,t),o=r.GetAnnotAtPoint(i,n);return i.delete(),o.IsEmpty()?-1:o.GetUniqueID().toString()}))},t.getAnnotIdAtDevicePoint=function(e,t,n=0,r){return this.parsedPage().then((i=>{let o=this.engine,a=new o.Matrix;r&&a.Set(r[0],r[1],r[2],r[3],r[4],r[5]);let s=new o.PointF(e,t),c=i.GetAnnotAtDevicePoint(s,n,a);return(0,_.Z)(s,a),c.IsEmpty()?-1:c.GetUniqueID().toString()}))},t.getAnnotObjectNumAtPoint=function(e,t,n=0){return this.parsedPage().then((r=>{let i=new this.engine.PointF(e,t),o=r.GetAnnotAtPoint(i,n);return i.delete(),o.IsEmpty()?-1:o.GetDict().GetObjNum()}))},t.getAnnotObjectNumAtDevicePoint=function(e,t,n=0,r){return this.parsedPage().then((i=>{let o=this.engine,a=new o.Matrix;r&&a.Set(r[0],r[1],r[2],r[3],r[4],r[5]);let s=new o.PointF(e,t),c=i.GetAnnotsAtDevicePoint(s,n,a),l=c.GetSize();if(0===l)return-1;let u=-1;for(let e=0;e<l;e++){let t=c.GetAt(e);if(!t.IsEmpty()){if(t.GetType()==this.engine.AnnotType.e_Link)return t.GetDict().GetObjNum();if(t.GetType()==this.engine.AnnotType.e_Watermark)continue;-1===u&&(u=t.GetDict().GetObjNum())}}return u}))},t.getCharInfoAtPoint=function(e,t,n=0){return this.getNormalTextPage().then((r=>{let i=r.GetIndexAtPos(e,t,n);if(-1===i)return null;if(!r.GetTextRectCount(i,1))return null;let o=r.GetTextRect(0),a=r.GetBaselineRotation(0),s=this.getSelectedRectArray(r,i,i);return s.length&&(0===a.value||2===a.value?(o.top=s[0].top,o.bottom=s[0].bottom):(o.left=s[0].left,o.right=s[0].right)),{charIndex:i,left:o.left,right:o.right,top:o.top,bottom:o.bottom,rotation:a.value}}))},t.getNormalTextPage=function(e){return this.parsedPage().then((t=>{let n=this.engine;return new n.TextPage(this.page,e||n.TextParseFlags.e_ParseTextNormal.value)}))},t.getNormalTextPageSync=function(){let e=this.engine;return new e.TextPage(this.page,e.TextParseFlags.e_ParseTextNormal.value)},t.removeAnnotById=function(e){return this.getNativeAnnotById(e).then((e=>!(!e||e.GetType()===this.engine.AnnotType.e_Widget)&&this.parsedPage().then((t=>!!t.RemoveAnnot(e)&&this.update().then((e=>!0))))))},t.removeAllAnnot=function(){return this.parsedPage().then((e=>{for(var t=e.GetAnnotCount();t--;){const n=e.GetAnnot(t);n.GetType()!==this.engine.AnnotType.e_Widget&&e.RemoveAnnot(n)}return this.update()}))},t._getAnnotationIdArray=function(e){const t=e.GetAnnotCount();return Array(t).fill(void 0).map(((t,n)=>{const r=e.GetAnnot(n);try{return r.IsEmpty()?null:r.GetDict().GetObjNum()}finally{r.delete()}})).filter((e=>!!e))},t.normalize=function(){return this.parsedPage().then((e=>{const t=e.GetAnnotCount(),n=Array(t).fill(void 0).map(((t,n)=>e.GetAnnot(n))),r=n.map((e=>{if(!e.IsEmpty())return e.GetUniqueID().toString()}));r.forEach(((e,t)=>{if(e&&r.indexOf(e,t+1)>-1){n[t].SetUniqueID((0,d.Z)())}}))}))},t.getAnnotObjNumByNM=function(e){return this.parsedPage().then((t=>{const n=t.GetAnnotCount();for(let r=0;r<n;r++){const n=t.GetAnnot(r);if(!n.IsEmpty()&&n.GetUniqueID().toString()===e)return n.GetDict().GetObjNum()}return 0}))},t.addImage=function(e,t,n,r,i){let o=this.engine,a=h.Z.createImage(o,e);if(!a||a.IsEmpty())return Promise.resolve();let s=new o.PointF(t.x,t.y);return this.parsedPage().then((e=>{let c=e.GetRotation().value;switch(c){case 1:case 3:let e=r;r=n,n=e}let l;e.AddImage(a,0,s,n,r,!0);this.notifyTouchup(e),e.StartParse(0,null,!0);let u=e.GetLastGraphicsObjectPosition(o.GraphicsObjectType.e_TypeImage);if(l=e.GetGraphicsObject(u),0!==c||0!==i){const n=c*Math.PI/2+i/180*Math.PI;let r=l.GetRect(),a={x:(r.right+r.left)/2,y:(r.top+r.bottom)/2},s=l.GetMatrix();s.RotateAt(n,-a.x,-a.y,0),l.SetMatrix(s),r=l.GetRect(),s.Translate(t.x-r.left,t.y-r.bottom,0),l.SetMatrix(s),e.GenerateContent(),e.StartParse(0,null,!0),s.delete(),u=e.GetLastGraphicsObjectPosition(o.GraphicsObjectType.e_TypeImage),l=e.GetGraphicsObject(u)}return l&&this.JR.graphicsObjectManager.get(l,e,this)}))},t.notifyTouchup=function(e){if(this.pdfDoc.touchup){const t=new this.engine.TouchupEditorPageArray,n=this.engine.TUEditorPage.Create(e,100);t.Add(n),this.pdfDoc.touchup.jrMgr.OnPageContentChange(t),n.delete(),t.delete()}},t.markRedactAnnot=function(e,t){let n=this.engine;return this.pdfDoc.getRedaction().then((r=>this.c_pagePromise.then((e=>[r,e])).then((r=>{let i,o=r[0],a=r[1];try{let r=new n.RectFArray;for(let t=0,i=e.length;t<i;t++){let i=e[t],o=new n.CFX_FloatRect(i.left,i.bottom,i.right,i.top);r.Add(o),o.delete()}if(i=o.MarkRedactAnnot(a,r),t){let e,{name:r,color:o,applyFillColor:a,isAutoFontSize:s,textColor:c,textSize:l,fontName:u,justification:h,isRepeat:f,overlayText:g,redactionCode:p,defaultAppearance:_}=t;r||(r=(0,d.Z)()),i.SetUniqueID((0,m.Dp)(n,r)),void 0!==o&&i.SetBorderColor(o),void 0!==a&&i.SetApplyFillColor(a),void 0!==s&&i.SetAutoFontSize(s);const y=[n.StandardID.e_StdIDCourier,n.StandardID.e_StdIDCourierB,n.StandardID.e_StdIDCourierBI,n.StandardID.e_StdIDCourierI,n.StandardID.e_StdIDHelvetica,n.StandardID.e_StdIDHelveticaB,n.StandardID.e_StdIDHelveticaBI,n.StandardID.e_StdIDHelveticaI,n.StandardID.e_StdIDTimes,n.StandardID.e_StdIDTimesB,n.StandardID.e_StdIDTimesBI,n.StandardID.e_StdIDTimesI,n.StandardID.e_StdIDSymbol,n.StandardID.e_StdIDZapfDingbats];if(void 0!==u){const t=(0,C.T2)(u);e=t?new n.Font(y[t]):new n.Font((0,m.Dp)(n,u),0,n.Charset.e_CharsetANSI,0)}else e=new n.Font(n.StandardID.e_StdIDHelvetica);c=void 0===c?_.textColor:c,l=void 0===l?_.textSize:parseFloat(l);const S=e?n.DefAPFlags.e_FlagFont.value:0,b=n.DefAPFlags.e_FlagTextColor.value,I=S|b|(l>0?n.DefAPFlags.e_FlagFontSize.value:0),A=new n.DefaultAppearance(I,e,l,c||16711680);if(i.SetDefaultAppearance(A),"0"===h&&i.SetOverlayTextAlignment(n.Alignment.e_AlignmentLeft),"1"===h&&i.SetOverlayTextAlignment(n.Alignment.e_AlignmentCenter),"2"===h&&i.SetOverlayTextAlignment(n.Alignment.e_AlignmentRight),void 0!==f&&i.SetRepeat(f),void 0!==g&&i.SetOverlayText((0,m.Dp)(n,g)),p){const e=new n.Int32Array;p.forEach((t=>e.Add(t))),i.SetOverlayCode(e)}else i.RemoveOverlayCode()}else i.SetUniqueID((0,m.Dp)(n,(0,d.Z)()));S.Z.updateModifyTime(n,i),i.SetTitle((0,m.Dp)(n,this.JR.userName)),i.ResetAppearanceStream(),r.delete()}catch(e){return isNaN(e)||(e=n.getErrorCode(e)),console.log(e),[]}let s=i.GetPopup();return[this.annotManager.get(i,this,i.GetIndex()),this.annotManager.get(s,this,s.GetIndex())]})).then((e=>this.update().then((t=>(e.forEach((e=>{this._setAnnotIdAt(e.getId(),e.getIndex())})),e)))))))},t.addAnnotGroup=function(e,t){return this.parsedPage().then((n=>{let r=this.engine,i=new r.MarkupArray,o=[];return e.forEach(((e,a)=>{a!==t&&(e.noPopup=!0);let s=(0,l.M)(r,e.type),c=u(r,e.rect),d=n.AddAnnot(s,c),h=new r.Markup(d);i.Add(h),h.delete();let f=this.annotManager.get(d,this,d.GetIndex());o=o.concat(f.create(e))})),n.SetAnnotGroup(i,t),i.delete(),o})).then((e=>(e.forEach((e=>{this._setAnnotIdAt(e.getId(),e.getIndex())})),e)))},t.getTextRects=function(e){return Promise.all(e.map((e=>this.getTextRectsAtRect(e)))).then((e=>e.reduce(((e,t)=>e.concat(t)),[])))},t.getTextRectsAtRect2=function(e){return e.right-e.left<.5||e.top-e.bottom<.5?Promise.resolve([]):this.parsedPage().then((t=>{try{let t=this.engine.CFX_FloatRect,n=this.getNormalTextPageSync(),r=[],i=n.GetIndexAtPos((e.right+e.left)/2,(e.bottom+e.top)/2+2,2),o=n.GetTextRectCount(i,2),a=0;o>0&&(a=n.GetBaselineRotation(0).value);let s=n.GetTextInRect(new t(e.left,e.bottom,e.right,e.top)).toString();return r.push({left:e.left,right:e.right,top:e.top,bottom:e.bottom,rotation:a,text:s,texts:s}),n.delete(),r}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}}))},t.getTextRectsAtRect=function(e){return e.right-e.left<.5||e.top-e.bottom<.5?Promise.resolve([]):this.parsedPage().then((t=>{try{let t=this.engine.CFX_FloatRect,n=this.getNormalTextPageSync(),r=n.GetTextRectArrayByRect(new t(e.left,e.bottom,e.right,e.top)),i=[],o=[];const a=4,s=r.GetSize();if(0==s)return n.delete(),i;for(let e=0;e<s;e++){let t=r.GetAt(e),s=t.left,c=t.right,l=n.GetIndexAtPos((t.right+t.left)/2,(t.bottom+t.top)/2+2,2),u=n.GetTextRectCount(l,2),d=0;u>0&&(d=n.GetBaselineRotation(0).value);let h=n.GetIndexAtPos(s,t.top,a),f=n.GetIndexAtPos(c,t.bottom,a);-1===f&&(f=n.GetIndexAtPos(t.right,t.bottom,a));const g=n.GetChars(h,f-h+1).toString();o.push(g),i.push({left:t.left,right:t.right,top:t.top,bottom:t.bottom,rotation:d,text:g})}return i.length>0&&(i[0].texts=o.join("\r\n")),n.delete(),i}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}}))},t.getTextContinuousRectsAtRect=function(e){return e.right-e.left<.5||e.top-e.bottom<.5?Promise.resolve([]):this.getTextRectsAtRect(e).then((e=>{try{let t=e.length;if(t<2)return e;let n=e[0],r=e[t-1],i=this.engine,o=this.getNormalTextPageSync(),a=3,s=Math.min((n.top-n.bottom)/2,a),c=new i.PointF(n.left+s,n.top-s),l=o.GetIndexAtPos(c.x,c.y,s);if(c.delete(),l<0)return o.delete(),e;let u,d=Math.min((r.top-r.bottom)/2,a),h=new i.PointF(r.right-d,r.bottom+d),f=o.GetIndexAtPos(h.x,h.y,d);if(h.delete(),f<0)return o.delete(),e;f<l&&(u=l,l=f,f=u);let g=[];for(let e=0,t=o.GetTextRectCount(l,f-l+1);e<t;e++){let t=o.GetTextRect(e);g[e]={left:t.left,top:t.top,right:t.right,bottom:t.bottom,rotation:o.GetBaselineRotation(e).value}}return o.delete(),g}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}}))},t.getTextByIndex=function(e,t){return this.parsedPage().then((n=>{let r=this.getNormalTextPageSync();e=e<0?0:e;let i=-1==t?-1:t-e+1;return-1!=t&&e>t&&(i=e-t+1,e=t),r.GetChars(e,i).toString()}))},t.getTextContinuousRectsAtPoints=function(e,t,n,r=-1,i=-1,o=!1){return this.pdfDoc.canGetXFA()?Promise.resolve([]):this.parsedPage().then((a=>{let s=this.getNormalTextPageSync(),c=s.GetIndexAtPos(e[0],e[1],n);-1!==c&&(r=c);let l=s.GetIndexAtPos(t[0],t[1],n);if(-1!==l&&(i=l),-1===i&&-1===r){let n={};return n.left=Math.min(e[0],t[0]),n.right=Math.max(e[0],t[0]),n.top=Math.max(e[1],t[1]),n.bottom=Math.min(e[1],t[1]),s.delete(),this.getTextRectsAtRect(n)}-1!==r&&-1===i&&(i=r),-1!==i&&-1===r&&(r=i),o&&(r=s.CharIndexFromTextIndex(r),i=s.CharIndexFromTextIndex(i));let u=this.getResultArrayFromTextStartAndEnd(s,r,i);return s.delete(),u}))},t.getTextIndexAtPoint=function(e,t){return this.parsedPage().then((n=>{let r=this.getNormalTextPageSync();const i=r.GetIndexAtPos(e[0],e[1],t);return r.delete(),i}))},t.getTextRectsByIndexes=function(e,t){return this.parsedPage().then((n=>{const r=this.getNormalTextPageSync(),i=[],o=-1==t?-1:t-e+1,a=r.GetTextRectCount(e,o);for(let e=0;e<a;e++){const t=r.GetTextRect(e),{left:n,top:o,right:a,bottom:s}=t;i.push({left:n,top:o,right:a,bottom:s,rotation:r.GetBaselineRotation(e).value})}return i.length&&(i[0].start=e,i[0].end=t,i[0].text=r.GetChars(e,o).toString()),r.delete(),i}))},t.getTextContinuousCharsAtRect=function(e,t){return this.getTextRectsAtRect(e).then((n=>{let r=n.length;if(!r)return"";let i=n[0],o=n[r-1],a=this.engine;const s=this.getNormalTextPageSync();try{if(t){let t=new a.CFX_FloatRect(e.left,e.bottom,e.right,e.top),n=s.GetTextInRect(t).toString();return t.delete(),n}let n=3;const r=Math.min((i.top-i.bottom)/2,n),c=i.left+r,l=i.top-r;let u=s.GetIndexAtPos(c,l,r);if(u<0)return"";const d=Math.min((o.top-o.bottom)/2,n),h=o.right-d,f=o.bottom-d;let g,p=s.GetIndexAtPos(h,f,d);return p<0&&(p=s.GetIndexAtPos(h,f+d,d)),p<0?"":(p<u&&(g=u,u=p,p=g),s.GetChars(u,p-u+1).toString())}finally{s.delete()}}))},t.getResultArrayFromTextStartAndEnd=function(e,t,n){let r=[];const i=t,o=n;n<t&&([t,n]=[n,t]);let a=e.GetTextRectCount(t,n-t+1);for(let t=0;t<a;t++){let n=e.GetTextRect(t),{left:i,top:o,right:a,bottom:s}=n;r.push({left:i,top:o,right:a,bottom:s,rotation:e.GetBaselineRotation(t).value})}let s=this.getSelectedRectArray(e,t,n);if(r.length&&s.length&&r.length===s.length)for(let e=0;e<r.length;e++)0==r[e].rotation||2==r[e].rotation?(r[e].top=s[e].top,r[e].bottom=s[e].bottom):(r[e].left=s[e].left,r[e].right=s[e].right);return r.length&&(r[0].start=i,r[0].end=o,r[0].text=e.GetChars(t,n-t+1).toString()),r},t.getSelectedRectArray=function(e,t,n){let r=[],i=t;for(;i<n+1;){let t=e.GetLineStart(i),o=e.GetLineEnd(i);-1===t&&(t=i),-1===o&&(o=i);let a=e.GetRectArray(t,o-t+1),s=o;s>n&&(s=n);let c=e.GetRectArray(i,s-i+1);if(a.GetSize()){let e=a.GetAt(0);for(let t=0;t<c.GetSize();t++){let n=c.GetAt(t),{left:i,top:o,right:a,bottom:s}=n;o=e.top,s=e.bottom,r.push({left:i,top:o,right:a,bottom:s})}}i=s+1}return r},t.getDoubleClickTextRectAtPoint=function(e,t){return this.parsedPage().then((n=>{let r=[];try{let n=this.getNormalTextPageSync(),[i,a]=e,s=n.GetWordAtPos(i,a,t);if(!s.IsEmpty()){let e=s.GetSegmentCount();for(let t=0;t<e;t++){let e=s.GetSegmentStart(t),i=s.GetSegmentEnd(t);r.push.apply(r,N(o.Z,this.getResultArrayFromTextStartAndEnd(n,e,i)))}}n.delete(),n=null}catch(e){const t=this.engine.getErrorCode(e);console.error(t)}return r}))},t.getTextSearch=function(e,t){return this.parsedPage().then((n=>{try{let n=this.engine;t=t||n.SearchFlags.e_SearchNormal.value;let r=this.getNormalTextPageSync(),i=new n.WString(e),o=new n.TextSearch(r);return o.SetPattern(i),o.SetSearchFlags(t),{textSearch:o,textPage:r,strPattern:i}}catch(e){var r=e instanceof this.engine.ErrorCode?e:this.engine.getErrorCode(e);L.error(r)}}))},t.getAnnotTextSearch=function(e,t,n){return this.parsedPage().then((r=>{try{let r=this.engine;n=n||r.SearchFlags.e_SearchNormal.value;let i=new r.WString(t);return this.getNativeAnnotById(e).then((e=>{let t=new r.TextSearch.CreateFromAnnot(e);return t.SetPattern(i),t.SetSearchFlags(n),{textSearch:t,strPattern:i}}))}catch(e){var i=e instanceof this.engine.ErrorCode?e:this.engine.getErrorCode(e);L.error(i)}}))},t.update=function(){return this.resetBitmapCache(),this.c_pagePromise.then((e=>(this.notifyTouchup(e),this.annotationIDArray=this._prepareAnnotations(this.page),{index:this.index,annotIds:this.annotationIDArray})))},t.flatten=function(e){const t=this.engine,n=this.pdfDoc.touchup;return this.c_pagePromise.then((r=>{const i=r.GetAnnotCount();let o=[];for(let e=0;e<i;e++){let t=r.GetAnnot(e);20==t.GetType().value&&o.push(t.GetDict().GetObjNum())}if(3==e&&(e=0),n&&r.IsParsed()){r.GenerateContent();const e=new t.TouchupEditorPageArray,i=t.TUEditorPage.Create(r,100);e.Add(i),n.jrMgr.OnPageContentChange(e)}return r.Flatten(!0,e),this.reParsePage(),this.annotationIDArray=this._prepareAnnotations(r),o}))},t.getGraphicsObjectAtPoint_s=function([e,t],n,r){return this.parsedPage().then((i=>{let o=this.engine,a=o.GraphicsObjectType,s=new o.PointF(e,t),c=Promise.all([i.GetGraphicsObjectAtPoint(s,n,a.values[r]),i]);return s.delete(),c})).then((([i,o])=>{if(i){let a=this.JR.graphicsObjectManager.get(i,o,this);if(5===i.GetType().value)return a.getGraphicsObjectAtPoint(e,t,r,this.JR.graphicsObjectManager);if(0===r){if(2!==i.GetType().value)return a;if(a.isPointInLine(e,t,n))return a}}}))},t.getGraphicsObjectsCount=function(){return this.parsedPage().then((e=>e.GetGraphicsObjectCount()))},t.getGraphicsObjectByIndex=function(e){return this.parsedPage().then((t=>{if(e>=t.GetGraphicsObjectCount())return null;let n=t.GetGraphicsObjectBI(e);return this.JR.graphicsObjectManager.get(n,t,this)}))},t.getGraphicsObjectsInRect=function(e,t,n){let r=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);r.Inflate(t,t);let i=[],a=this.JR.graphicsObjectManager;return this.parsedPage().then((e=>{for(let t=0,s=e.GetGraphicsObjectCount();t<s;t++){let s=e.GetGraphicsObjectBI(t),c=s.GetRect();s=a.get(s,e,this);let l=s.getType();if(-1!==l&&((n==l||0==n||5==l)&&r.Contains(c))){if(0==n&&l<4){i.push(s);continue}if(0==n&&l>3)continue;5!=n&&5==l?i.push.apply(i,N(o.Z,s.getGraphicsObjectsInRect(r,n,a))):i.push(s)}}return r.delete(),i}))},t.getGraphicsObjectsByRect=function(e,t,n,r=!0){const i=[],a=this.JR.graphicsObjectManager;return this.parsedPage().then((s=>{for(let c=0,l=s.GetGraphicsObjectCount();c<l;c++){const l=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);l.Inflate(t,t);let u=s.GetGraphicsObjectBI(c);const d=u.GetRect();u=a.get(u,s,this);const h=u.getType();if(-1===h)continue;if(n!=h&&0!=n&&5!=h)continue;let f=!1;if(r?f=l.Contains(d):(l.Intersect(d),f=d.Contains(l)),f){if(0==n&&h<=4){i.push(u);continue}if(0==n&&h>3)continue;5!=n&&5==h?i.push.apply(i,N(o.Z,u.getGraphicsObjectsInRect(l,n,a))):i.push(u)}l.delete()}return i}))},t.getGraphicsObjectAtPoint=function([e,t],n,r){return this.parsedPage().then((i=>{let o=this.engine,a=o.GraphicsObjectType,s=new o.PointF(e,t),c=Promise.all([i.GetGraphicsObjectsAtPoint(s,n,a.values[r]),i]);return s.delete(),c})).then((i=>this.checkPathObjects(i,e,t,r,n)))},t.checkPathObjects=function([e,t],n,r,i,o){if(e){let a,s;e instanceof Array?(a=e.length,s=t=>e[t]):(a=e.GetSize(),s=n=>this.JR.graphicsObjectManager.get(e.GetAt(n),t,this));for(let e=a-1;e>=0;e--){let a=s(e);if(5===a.getType()){let e=this.checkPathObjects([a.getGraphicsObjectsAtPoint(n,r,i,o,this.JR.graphicsObjectManager),t],n,r,o);if(e)return e}else{if(2!==a.getType())return a;if(a.isPointInLine(n,r,o))return a}}}},t.addWatermark=function(e={}){let t,n,r=this.engine,o=this.doc,a=e.type,s=e.watermarkSettings;s=(0,i.Z)({position:"Center",offsetX:0,offsetY:0,flags:2,scaleX:1,scaleY:1,rotation:45,opacity:100},s);let c=s&&g.createWatermarkSettings(r,s.position,s.offsetX,s.offsetY,s.flags,s.scaleX,s.scaleY,s.rotation,s.opacity);if("bitmap"===a.toLocaleLowerCase())t=f.createBitmapWatermark(r,o,e.bitmap,c);else if("text"===a.toLocaleLowerCase()){let a=e.watermarkTextProperties;a=(0,i.Z)({font:0,fontSize:20,color:0,fontStyle:"normal",lineSpace:10,alignment:"center"},a),n=a&&p.createWatermarkTextProperties(r,a.font,a.fontSize,a.color,a.fontStyle,a.lineSpace,a.alignment),t=f.createTextWatermark(r,o,e.text,n,c)}return this.parsedPage().then((e=>{try{let n;return t&&t.InsertToPage(e),1===s.flags&&(this.annotationIDArray=this._prepareAnnotations(e),n=this.annotManager.get(e.GetAnnot(0),this,0)),this.reParsePage().then((r=>(e.GenerateContent(),1===s.flags?n.toJson():t)))}catch(e){isNaN(e)||(e=r.getErrorCode(e)),console.warn(e)}}))},t.pasteAnnot=function(e,t){let n=this.engine,r=e.GetRect(),i=r.Width(),o=r.Height();r.left=t.x,r.top=t.y,r.right=t.x+i,r.bottom=t.y-o;let a=e.GetType(),s=this.page.GetWidth(),c=this.page.GetHeight();r.right>s&&(r.right=s-1,r.left=r.right-i),r.top>c&&(r.top=c-1,r.bottom=r.top-o);let l=this.page.AddAnnot(a,r),u=(0,m.n5)(n,"AP");e.GetDict().GetElement(u)||e.ResetAppearanceStream(),n.copyAnnot(l,e,this.doc);let h=this.JR.annotManager.get(l,this,l.GetIndex());l=h.annot,S.Z.updateModifyTime(n,l),h.setCreateDateTime&&h.setCreateDateTime(new Date);let f=[h];if(l.IsMarkup()){let t=new n.Markup(e);H(h,t,f),t.delete()}let g=n.AnnotType,p=l.GetType();if(l.IsMarkup()&&p!=g.e_FreeText&&p!=g.e_Sound){let e=this.page.AddAnnot(g.e_Popup,l.GetRect()),t=new n.Markup(l),r=new n.Popup(e);t.SetPopup(r),f.push(this.JR.annotManager.get(e,this,e.GetIndex())),r.delete(),t.delete()}if(f.forEach((e=>e.setUniqueId((0,d.Z)()))),a==g.e_FreeText){let t=new n.FreeText(e),r=new n.FreeText(l);r.SetDefaultAppearance(t.GetDefaultAppearance()),r.delete(),t.delete()}return this.reloadAnnots(),f},t.calcContentBBox=function(e){return this.parsedPage().then((t=>{let n={},r=t.CalcContentBBox(e);return r&&(r.Normalize(),n={left:r.left,bottom:r.bottom,right:r.right,top:r.top}),n}))},t.setSize=function(e,t){this.page.SetSize(e,t)},t.setBox=function(e,t){const n=this.engine,r=new(0,n.CFX_FloatRect)(t.left,t.bottom,t.right,t.top);this.page.SetBox(n.BoxType.values[e],r)},t.getBox=function(e){const t=this.engine.BoxType;let n,r=this.page.GetBox(t.e_MediaBox);if(e===t.e_MediaBox.value)n=r;else{let i=this.page.GetBox(t.e_CropBox);if(i=i.IsEmpty()?r:i,e===t.e_CropBox.value)n=i;else if(e===t.e_TrimBox.value){let e=this.page.GetBox(t.e_TrimBox);e=e.IsEmpty()?i:e,n=e}else if(e===t.e_ArtBox.value){let e=this.page.GetBox(t.e_ArtBox);e=e.IsEmpty()?i:e,n=e}else if(e===t.e_BleedBox.value){let e=this.page.GetBox(t.e_BleedBox);e=e.IsEmpty()?i:e,n=e}}return n?(n.Normalize(),{left:n.left,bottom:n.bottom,right:n.right,top:n.top}):{}},t.getBox=function(e){let t,n=this.page.GetBox(this.engine.BoxType.e_MediaBox);if(e===this.engine.BoxType.e_MediaBox.value)t=n;else{let r=this.page.GetBox(this.engine.BoxType.e_CropBox);if(r=r.IsEmpty()?n:r,e===this.engine.BoxType.e_CropBox.value)t=r;else if(e===this.engine.BoxType.e_TrimBox.value){let e=this.page.GetBox(this.engine.BoxType.e_TrimBox);e=e.IsEmpty()?r:e,t=e}else if(e===this.engine.BoxType.e_ArtBox.value){let e=this.page.GetBox(this.engine.BoxType.e_ArtBox);e=e.IsEmpty()?r:e,t=e}else if(e===this.engine.BoxType.e_BleedBox.value){let e=this.page.GetBox(this.engine.BoxType.e_BleedBox);e=e.IsEmpty()?r:e,t=e}}return t?(t.Normalize(),{left:t.left,bottom:t.bottom,right:t.right,top:t.top}):{}},t.getAnnotsByObjectNumber=function(e){},t.addAnnot=function(e){let t=(0,s.dD)(),n=e;return this.parsedPage().then((t=>{let n=this.engine,r=(0,l.M)(n,e.type),i=u(n,e.rect),o=t.AddAnnot(r,i),a=this.annotManager.get(o,this,t.GetAnnotCount()-1).create(e);return a||(t.RemoveAnnot(o),a=[]),a})).then((e=>{let t=[];return e.forEach((e=>{n.isCutPasteCreate&&e.getType()===n.type&&this._setAnnotInfoForCutPaste(e,n,t),this._setAnnotIdAt(e.getId(),e.getIndex())})),e.push.apply(e,t),e}),(e=>(isNaN(e)||(e=this.engine.getErrorCode(e)),t.reject(e),t.promise)))},t._setAnnotInfoForCutPaste=function(e,t={},n){["borderColor","borderInfo","content","iconName","intent","opacity","subject","title"].forEach((n=>{const r=`set${n[0].toUpperCase()}${n.substr(1)}`;e[r]&&e[r](t[n])}));let{customEntries:r={},repliesSummary:i=[]}=t;if(Object.keys(r).length)for(const t in r)Object.hasOwnProperty.call(r,t)&&e.setDictionaryEntry&&e.setDictionaryEntry(t,r[t]);i&&i.length&&i.forEach((t=>{if(e.addReplyContent){let r=e.addReplyContent(t.content);n.push(r)}}))},t.getAnnotIdArrayByOrder=function(){return this.parsedPage().then((e=>{let t=[];const n=new this.engine.TabOrderMgr(e);n.Reload();let r=n.GetFirstAnnot();for(;!r.IsEmpty();)t.push(r.GetDict().GetObjNum()),r=n.GetNextAnnot(r);return t}))},t.getPageDictionary=function(){let e=this.pdfDoc.dictionaryMap[this.id];if(e)return e.toJson();let t=this;return this.parsedPage().then((e=>{let n=e.GetDict(),r=new I.Z(t.pdfDoc);return t.pdfDoc.updateDictCache(n,r),t.pdfDoc.updateDictMap(t.id,r),r.toJson()}))},t.createWebLinks=function(e){const t=new this.engine.CDP_WebLinksTransferLayer;let n=0;const r=[];for(let i of e){let e=t.CreateWebLinks(this.doc,i);e>0&&r.push(i),n+=e}return r.reduce(((e,t)=>e.then((()=>this.pdfDoc.getPageByIndex(t))).then((e=>e.parsedPage().then((t=>{t.UpdateAnnotList(),e.reloadAnnots()}))))),Promise.resolve()).then((()=>n))},t.removeWebLinks=function(e){const t=new this.engine.CDP_WebLinksTransferLayer;let n=0;const r=[];for(let i of e){let e=t.RemoveAllLinksInPage(this.doc,i);e>0&&r.push(i),n+=e}return r.reduce(((e,t)=>e.then((()=>this.pdfDoc.getPageByIndex(t))).then((e=>e.parsedPage().then((t=>{t.UpdateAnnotList(),e.reloadAnnots()}))))),Promise.resolve()).then((()=>n))},t.deleteDestination=function(e){const t=new this.engine.CNP_Destinations(this.doc),n=(0,m.Dp)(this.engine,e);return t.Delete(n),t.delete(),this.pdfDoc.getDestinationsArray()},t.renameDestination=function(e,t){const n=new this.engine.CNP_Destinations(this.doc),r=n.GetDestination((0,m.Dp)(this.engine,e));let i=n.Rename(r,(0,m.Dp)(this.engine,e),(0,m.Dp)(this.engine,t));return n.delete(),i},t.createDestination=function(e,t){const n=new this.engine.CNP_Destinations(this.doc),r=new this.engine.WString(e),i=new this.engine.FloatArray;n.New(r,this.engine.ZoomMode.e_ZoomFitPage,t,i);let o=[],a={title:e,page:t};return o.push(a),r.delete(),i.delete(),o},t.resetDestination=function(e,t){const n=new this.engine.CNP_Destinations(this.doc),r=new this.engine.WStringArray,i=new this.engine.Int32Array,o=new this.engine.Int32Array;n.GetAllDestinations(r,i,o);const a=new this.engine.WString(e),s=new this.engine.FloatArray;return n.SetDest(a,this.engine.ZoomMode.e_ZoomFitPage,t,s),r.RemoveAll(),o.RemoveAll(),this.pdfDoc.getDestinationsArray()},t.addAnnotObjects=function(e){let t=this.engine,n=this.annotationIDArray.length;var r=this.page.GetDict();let i=(0,m.n5)(t,"Annots"),o=r.GetElement(i);o||(o=t.PDFArray.Create(),r.SetAt(i,o));let a=o.GetDirectObject().GetArray();e.forEach((e=>{a.AddElement(t.PDFObject.CreateReference(this.doc,e))})),this.page.UpdateAnnotList(),this.reloadAnnots();let s=[];for(let e=n;e<this.page.GetAnnotCount();e++){let t=this.page.GetAnnot(e);s.push(t.GetDict().GetObjNum())}return this.getAnnots(s)},t.clearDesignerAssitCache=function(){this.designerCache&&(this.designerCache.forEach((e=>{e.bitmap.isDeleted()||e.bitmap.delete()})),this.designerCache=[])},t.getSuggestedFormDesignerRect=function(e){return this.parsedPage().then((t=>this.fullyBitmap.getCurrentImageData().then((n=>{const r=new this.engine.PointF(e[0],e[1]),i=t.GetSuggestedRect(n.bitmap,n.matrix,r);let o;return r.delete(),o=i&&!i.IsEmpty()?{left:i.left,right:i.right,top:i.top,bottom:i.bottom}:{left:0,right:0,top:0,bottom:0},i&&i.delete(),o}))))},t.getSnappedPoint=function(e,t){if(!t||!Array.isArray(t)||0===t.length)return Promise.resolve(e);let n=0;const r=this.engine.SnapPointFlags;return t.forEach((e=>{switch(e){case v.EndPoint:n|=r.e_FlagEndpoint.value;break;case v.MidPoint:n|=r.e_FlagMidpoint.value;break;case v.IntersectionPoint:n|=r.e_FlagIntersectionPoint.value;break;case v.NearestPoint:n|=r.e_FlagNearestPoint.value}})),0===n?Promise.resolve(e):this.parsedPage().then((t=>{let r,i,o,a,s;try{if(r=new this.engine.SnapPointMgr(t),i=new this.engine.PointF(e.x,e.y),o=r.GetSnappedPointAtPos(i,n),o.IsEmpty())return e;switch(s=o.GetType().value,s){case 1:s=v.EndPoint;break;case 2:s=v.MidPoint;break;case 3:s=v.IntersectionPoint;break;case 4:s=v.NearestPoint}return a=o.GetPoint(),{x:a.x,y:a.y,type:s}}finally{r&&r.delete(),i&&i.delete(),o&&o.delete(),a&&a.delete()}}))},t.getTextRectCount=function(){return this.getNormalTextPage().then((e=>{try{return e.GetTextRectCount(0,-1)}finally{e.delete()}}))},t.getTextByRectIndex=function(e){if("number"!=typeof e)throw new Error("Text rect index must be number, but actual: "+typeof e);if((e=Math.floor(e))<0)throw new Error(`Text rect index must be greater than -1, but actual: ${e}`);return this.getNormalTextPage().then((t=>{let n,r;try{const i=t.GetTextRectCount(0,-1);if(e>=i)throw new Error(`Text rect index must be less than the total count of text rects(${e}), but actual ${e}.`);return n=t.GetTextRect(e),r=t.GetTextInRect(n),{text:r.toString(),rect:{left:n.left,right:n.right,top:n.top,bottom:n.bottom}}}finally{n&&n.delete(),r&&r.delete(),t.delete()}}))},t.getViewportRect=function(){return this.parsedPage().then((e=>{let t=e.GetViewPortBox();return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}}))},t.getMeasureScaleRatio=function(){return this.parsedPage().then((e=>{const t=e.GetMeasureXScale(),n=e.GetMeasureXUnit().toString();return{scale:t,ratio:e.GetMeasureRatio().toString(),unit:n}}))},t.setMeasureRatio=function(e,{unit:t,ratio:n,scale:r}){return this.parsedPage().then((i=>i.SetCalibration(e,(0,m.n5)(this.engine,t),(0,m.n5)(this.engine,n),r))).then((e=>{const t=[];for(let n=0;n<e.GetSize();n++){const r=e.GetAt(n);t.push(r)}return t}))},t.getCanonicalString=function(e,t=!0,n=!0){if(!e)return;let r=new this.engine.WString(e),i=this.engine.TextSearchUtils.CanonicalFindText(r,t,n),o=i.canonical_text?i.canonical_text.toString():"";return r.delete(),o},t.search=async function(e,t,n){if(this.pdfDoc.isDynamicXFA())return[];const r=!t.wholeWordsOnly&&!t.caseSensitive&&t.stemming;if(t.regExp)return this.regFind(e,t,n);await this._getPage(this.index);return this.getNormalTextPage(1).then((i=>{const o=i.GetCharCount(),a=i.GetChars(0,o).toString(),s=a.normalize();let c=a,l=null;if(t.isIgnoreDiacritics||t.isIgnoreAsia){let e=new this.engine.WString(c),n=this.engine.TextSearchUtils.CanonicalFindText(e,t.isIgnoreAsia,t.isIgnoreDiacritics);c=n.canonical_text.toString();const r=n.text_index_of_len_array;let i=[];l=[];for(let e=0;e<=r.GetSize();e++)i[e]=0===e?0:i[e-1]+r.GetAt(e-1),l[i[e]]=e;for(let e=0;e<l.length;e++)void 0===l[e]&&(l[e]=l[e-1]);e.delete()}t.caseSensitive||(c=c.toLowerCase());const u=c.normalize(),d=[0];for(let e=1;e<u.length;e++){const t=d[e-1];c[e+t]==u[e]?d[e]=t:d[e]=t+1}c=u;const h={},f=(e,n)=>{let r=i.CharIndexFromTextIndex(e),o=i.CharIndexFromTextIndex(e+n.length),a=i.GetChars(e,n.length).toString();t.caseSensitive||(a=a.toLowerCase());let s=i.GetChars(r,o-r).toString();t.caseSensitive||(s=s.toLowerCase());let c=!1;return a===n?c=!0:s==n&&(e=r,c=!0),{pos:e,isFind:c}};return e.forEach((e=>{let o=e;t.caseSensitive||(o=o.toLowerCase()),(t.isIgnoreDiacritics||t.isIgnoreAsia)&&(o=this.getCanonicalString(o,t.isIgnoreAsia,t.isIgnoreDiacritics));let u,g=0,p=c.indexOf(o,g),m=!0;for(;m&&p<c.length;){let e=f(p,o);e.isFind?(p=e.pos,m=!1):(g++,p=g)}if(r){u=(0,T.nT)(this.engine,o,s);const e=u.next();e.done?p=-1:(p=e.value.index,o=e.value.oriWord)}for(;-1!=p&&p<c.length;){let s=this.getCanonicalString(c[p-1]),g=this.getCanonicalString(c[p+o.length]),m=r?o.length:e.length;if(t.wholeWordsOnly&&(/[0-9a-zA-Z]/.test(s)&&void 0!==s||/[0-9a-zA-Z]/.test(g)&&void 0!==g)){p=c.indexOf(o,p+1);continue}let _=l?l[p+d[p]]:p+d[p];_=f(_,r?o:e).pos;let y=i.GetChars(_,1).toString();t.caseSensitive||(y=y.toLowerCase());const S=i.GetTextRectCount(_,m);if(S>0){const t=[];let s=!0;for(let e=0;e<S;e++){const r=i.GetTextRect(e);n&&s&&!this.hasRedactAnnot(r)&&(s=!1),t.push({left:r.left,right:r.right,top:r.top,bottom:r.bottom})}let g=0,y=0;if(l){g=(0,T.Tg)(i,_).normalize();let n=p+m;n=l?l[n+d[n]]:n+d[n],n=f(n,r?o:e).pos,y=(0,T.xF)(i,n).normalize();let c={};0,h[l[p]]={startText:g,endText:y,word:a.substr(_,n-_).normalize(),rects:t,type:"pageText",charIndex:l[p],isRedacted:s,pageIndex:this.page.GetIndex(),...c}}else{g=(0,T.Tg)(i,p),y=(0,T.xF)(i,p+m);let n={};0,h[p]={startText:g,endText:y,word:e,rects:t,type:"pageText",charIndex:p,isRedacted:s,pageIndex:this.page.GetIndex(),...n}}if(r){const e=u.next();e.done?p=-1:(p=e.value.index,o=e.value.oriWord)}else{let e=p,t=p,n=!0;for(p=c.indexOf(o,p+o.length);n&&p<c.length;){let r=f(p,o);r.isFind&&r.pos<=e?(t++,p=c.indexOf(o,t+o.length)):r.isFind?(p=r.pos,n=!1):(t++,p=t)}}}else p=-1}})),i.delete(),Object.keys(h).sort(((e,t)=>e-t)).map(((e,t)=>(h[e].index=t,h[e])))})).then((i=>{const o=[];let a=0;return this.getAnnots().then((s=>(t.includeComments||(s=s.filter((e=>"widget"===e.getType()))),s.length<1||(e.forEach((e=>{let i=e;(t.isIgnoreDiacritics||t.isIgnoreAsia)&&(i=this.getCanonicalString(i,t.isIgnoreAsia,t.isIgnoreDiacritics)),t.caseSensitive||(i=i.toLowerCase()),s.forEach(((s,c)=>{const l=s.annot;let u=s.getType();if("widget"!=u&&n)return;u=u[0].toUpperCase()+u.substr(1);let d=l.GetContent().toString(),h="annot";if("Widget"==u){h="form";let e=new this.engine.TextPage.CreateFromAnnot(l);if(e.IsEmpty())return;const t=e.GetCharCount();d=e.GetChars(0,t).toString(),e.delete()}let f=[d];l.IsMarkup()&&f.push(l.GetTitle().toString()),n||f.push(u);for(let s of f){if("string"!=typeof s)continue;let c=s,d=null;if(t.isIgnoreDiacritics||t.isIgnoreAsia){let e=new this.engine.WString(s),n=this.engine.TextSearchUtils.CanonicalFindText(e,t.isIgnoreAsia,t.isIgnoreDiacritics);s=n.canonical_text.toString();const r=n.text_index_of_len_array;let i=[];d=[];for(let e=0;e<=r.GetSize();e++)i[e]=0===e?0:i[e-1]+r.GetAt(e-1),d[i[e]]=e;for(let e=0;e<d.length;e++)void 0===d[e]&&(d[e]=d[e-1]);e.delete()}t.caseSensitive||(s=s.toLowerCase());let f,g=s.indexOf(i,0);if(r){f=(0,T.nT)(this.engine,e,c);const t=f.next();t.done?g=-1:(g=t.value.index,i=t.value.oriWord)}for(;-1!==g;){let e,p,m,_=s[g-1],y=s[g+i.length];if(t.wholeWordsOnly&&(/[0-9a-zA-Z]/.test(_)&&void 0!==_||/[0-9a-zA-Z]/.test(y)&&void 0!==y)){if(r){const e=f.next();e.done?g=-1:(g=e.value.index,i=e.value.oriWord)}else g=s.indexOf(i,g+1);continue}const S=l.GetRect();let b=!0;n&&b&&!this.hasRedactAnnot(S)&&(b=!1),d?(e=(0,T.Tg)(c,d[g]),p=(0,T.xF)(c,d[g]+i.length),m=d[g]):(e=(0,T.Tg)(c,g),p=(0,T.xF)(c,g+i.length),m=g);const I=[];if("Widget"==u){let e=new this.engine.TextPage.CreateFromAnnot(l);const t=m,n=i.length,r=e.GetTextRectCount(t,n);for(let t=0;t<r;t++){const n=e.GetTextRect(t);I.push({left:n.left,right:n.right,top:n.top,bottom:n.bottom})}e.delete()}else I.push({left:S.left,right:S.right,top:S.top,bottom:S.bottom});if(o.push({index:++a,type:h,id:l.GetDict().GetObjNum(),pageIndex:this.page.GetIndex(),startText:e,endText:p,word:c.substr(m,i.length),charIndex:m,isRedacted:b,rects:I}),r){const e=f.next();e.done?g=-1:(g=e.value.index,i=e.value.oriWord)}else g=s.indexOf(i,g+1)}}}))})),i.push.apply(i,o)),i)))}))},t.regFind=function(e,t,n){return e=e.map((e=>{const t=e.split("+++");return this.engine.TextSearchUtils.GetRegularExpression({value:j[t[0]]},{value:U[t[1]]}).toString()})),this.getNormalTextPage(1).then((r=>{const i=r.GetCharCount();let o=r.GetChars(0,i).toString();if(t.isIgnoreDiacritics||t.isIgnoreAsia){let e=new this.engine.WString(o),n=this.engine.TextSearchUtils.CanonicalFindText(e,t.isIgnoreAsia,t.isIgnoreDiacritics);o=n.canonical_text.toString(),e.delete()}const a={};e.forEach((e=>{o.replaceAll(new RegExp(e,"gi"),((...e)=>{let t=e[0],i=(e[1],e[e.length-2]);const s=r.GetTextRectCount(i,t.length),c=[];let l=!0;for(let e=0;e<s;e++){const t=r.GetTextRect(e);n&&l&&!this.hasRedactAnnot(t)&&(l=!1),c.push({left:t.left,right:t.right,top:t.top,bottom:t.bottom})}let u="",d=i;if(d){let e=0;for(;!/\s/.test(o[d]);){if(d--,d<=0){d--;break}if(!e){for(;/\s/.test(o[d]);)d--;e=1}}}u=o.substr(d+1,i-d-1);let h="";if(d=t.length+i+30,d<o.length){let e=0;for(;!(/\s/.test(o[d])||(d++,d>=o.length));)if(!e&&/\s/.test(o[d])){for(;/\s/.test(o[d]);)d++;e=1}}else d=o.length;h=o.substr(t.length+i,d-t.length-i),a[i]={word:t,pageIndex:this.page.GetIndex(),type:"pageText",startText:u,charIndex:i,endText:h,rects:c,isRedacted:l}}))}));const s=Object.keys(a).sort(((e,t)=>e-t)).map(((e,t)=>(a[e].index=t,a[e]))),c={};let l=0;return this.getAnnots().then((n=>(e.forEach((e=>{n.forEach(((n,r)=>{const i=n.annot;let o=n.getType();o=o[0].toUpperCase()+o.substr(1);let a=i.GetContent().toString();if("Widget"!=o&&!t.includeComments)return;let s=i.GetRect(),u=[];if("Widget"==o){let t=new this.engine.TextPage.CreateFromAnnot(i);if(t.IsEmpty())return;const n=t.GetCharCount();a=t.GetChars(0,n).toString(),a.replaceAll(new RegExp(e,"gi"),((...e)=>{let n=e[0],r=(e[1],e[e.length-2]),o=(0,T.Tg)(a,r),s=(0,T.xF)(a,r+n.length);u=[];const d=t.GetTextRectCount(r,n.length);for(let e=0;e<d;e++){const n=t.GetTextRect(e);u.push({left:n.left,right:n.right,top:n.top,bottom:n.bottom})}c[l++]={type:"form",id:i.GetDict().GetObjNum(),pageIndex:this.page.GetIndex(),word:n,rects:u,startText:o,endText:s}})),t.delete()}else{u=[{left:s.left,right:s.right,top:s.top,bottom:s.bottom}];[o,i.IsMarkup()&&i.GetTitle().toString(),a].forEach((t=>{if(!t)return!1;new RegExp(e,"g").test(t)&&(c[l++]={type:"annot",id:i.GetDict().GetObjNum(),pageIndex:this.page.GetIndex(),word:a,rects:u})}))}}))})),Object.keys(c).sort(((e,t)=>e-t)).forEach(((e,t)=>{c[e].index=t,s.push(c[e])})),s)))}))},t.markRedactByAnnotId=function(e,t,n,r,i={}){return this.getNativeAnnotById(e).then((e=>{if(e){let o=new this.engine.TextPage.CreateFromAnnot(e);return this.markRedactEx(o,t,n,r,i)}return Promise.resolve()}))},t.markRedact=function(e,t,n,r={}){return this.getNormalTextPage(1).then((i=>this.markRedactEx(i,e,t,n,r)))},t.markRedactEx=function(e,t,n,r,i={}){const o=e.GetTextRectCount(t,n),a=[];for(let t=0;t<o;t++){const n=e.GetTextRect(t);a.push({left:n.left,right:n.right,top:n.top,bottom:n.bottom})}return this.markRedactAnnot(a).then((t=>{if(r.length){const e=t[0].annot;e.SetOverlayText((0,m.Dp)(this.engine,r));const n=this.engine;let o=7;i.autoSize&&(e.SetAutoFontSize(i.isAutoSize),o=3);const a=new n.DefaultAppearance(o,new n.Font(n.StandardID.e_StdIDCourier),8,16711680);e.SetDefaultAppearance(a),e.ResetAppearanceStream()}return e.delete(),t.forEach((e=>{if("redact"==e.getType()){let{defaultAppearance:t,...n}=i;e.setRedactAppearance({...t,...n})}})),t}))},t.handleGroupMarkup=function(e,t){return this.getAnnots(e).then((e=>{if(t){const t=new this.engine.MarkupArray;return e.forEach((e=>t.Add(e.annot))),this.page.SetAnnotGroup(t,0),e.reduce(((e,t)=>(e[t.getId()]=t.toJson(),e)),{})}return e.reduce(((e,t)=>(t.annot.Ungroup(),e[t.getId()]=t.toJson(),e)),{})}))},t.hasRedactAnnot=function(e){const{max:t,min:n}=Math,r=this.page.GetAnnotCount();for(let i=0;i<r;i++){const r=this.page.GetAnnot(i);if(27!=r.GetType().value)continue;const o=r.GetRect();if(t(o.left,e.left)<n(o.right,e.right)&&t(o.bottom,e.bottom)<n(o.top,e.top))return!0}return!1},t._getTransitionDirectionByDic=function(e,t){const n=this.engine;let r="";const i=e.GetElement((0,m.n5)(n,"Dm")),o=e.GetElement((0,m.n5)(n,"M")),a=e.GetElement((0,m.n5)(n,"Di"));let s=!0,c=!0;switch(o&&(c="O"!==o.GetString().toString()),i&&(s="V"!==i.GetString().toString()),t){case"Split":r=s?c?0:1:c?2:3;break;case"Blinds":r=s?0:1;break;case"Box":r=c?0:1;break;case"Wipe":case"Glitter":case"Push":case"Cover":case"Uncover":if(r=0,null===a)return r;r=a.GetInteger()/45%8;break;case"Fly":if(r=0,null===a)return r;r={0:0,90:1,180:2,270:3}[a.GetInteger()]||0}return r},t.getPageTransition=function(){const e=this.page.GetDict(),t=this.engine,n=(0,m.n5)(t,"Trans");let r="",i="",o="",a=e.GetElement(n);if(a&&(a.GetType()==t.PDFObjectType.e_Reference&&(a=a.GetDirectObject()),a.GetType()==t.PDFObjectType.e_Dictionary)){const e=a.GetDict();if(e){const n=(0,m.n5)(t,"S"),a=e.GetElement(n),s=e.GetElement((0,m.n5)(t,"D"));s&&(o=s.GetFloat()),a&&(r=a.GetString().toString(),i=this._getTransitionDirectionByDic(e,r))}}return o=o-.333328<.001&&o-.333328>-.001?2:o-.666656<.001&&o-.666656>-.001?1:0,{transitionName:r,speed:o,direction:i}},t.isScannedPage=function(){const e=this.page,t=this.engine.GraphicsObjectType.e_TypeAll;if(!e.IsParsed())return!1;if(e.GetGraphicsObjectCount()<=0)return!1;let n=e.GetLastGraphicsObjectPosition(t);for(;n;){const r=e.GetGraphicsObject(n).GetType().value;if(2!==r&&3!==r)return!1;n=e.GetPrevGraphicsObjectPosition(n,t)}return!0},t.getTextInRect=function(e,t){const{left:n,right:r,top:i,bottom:o}=e,a=this;let s=new this.engine.CFX_FloatRect(n,o,r,i);switch(t){case 0:return c().then((e=>l().then((t=>(s.delete(),{pageText:e,fieldsText:t})))));case 1:return c().then((e=>(s.delete(),{pageText:e})));case 2:return l().then((e=>(s.delete(),{fieldsText:e})))}function c(){return a.getNormalTextPage(1).then((e=>{let t=e.GetTextInRect(s).toString();return e.delete(),t})).catch((e=>null))}function l(){return a.getAnnots().then((e=>{let t=[];return e.forEach((e=>{const n=e.annot;let r=e.getType();if(r=r[0].toUpperCase()+r.substr(1),"Widget"==r){const e=n.GetRect();if(i=e,(o=s).right<i.left||o.left>i.right||o.bottom>i.top||o.top<i.bottom)return;const r=new a.engine.TextPage.CreateFromAnnot(n),c={x:Math.max(s.left,e.left),y:Math.min(s.top,e.top)},l={x:Math.min(s.right,e.right),y:Math.max(s.bottom,e.bottom)},u=new a.engine.CFX_FloatRect(0,0,Math.abs(l.x-c.x),Math.abs(l.y-c.y));t.push({id:n.GetDict().GetObjNum(),text:r.GetTextInRect(u).toString()}),r.delete(),u.delete()}var i,o})),t})).catch((e=>null))}},t.transform=function(e=1,t=1,n=0,r=0){const i=this.engine,o=this.page,a=new i.Matrix(e,0,0,t,n,r),s=o.Transform(a,!0);return o.StartParse(0,null,!0),a.delete(),s},t.addFakeAnnot=function(e,t={}){let n=this.engine,r=e.GetObjNum(),a=this.fakeAnnots.find((e=>e.id==r));if(a){for(let e in t){var s;(s=a[e]).push.apply(s,N(o.Z,t[e]))}return}const c=e.GetElement((0,m.n5)(n,"T")).GetString().toString(),l=e.GetElement((0,m.n5)(n,"Subtype")).GetString().toString().toLowerCase();let u=e.GetElement((0,m.n5)(n,"M")).GetString().toString().match(O(/D:(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)\+(\d\d)'00'/,{year:1,month:2,day:3,hour:4,minute:5,second:6,timezone:7}));if(u){let e=u.groups;u=Date.UTC(e.year,e.month,e.day,e.hour,e.minute,e.second)}else u=Date.now();this.fakeAnnots.push((0,i.Z)({title:c,type:l,onlyDict:!0,isMarkup:!0,rect:{left:0,right:0,top:0,bottom:0},modifiedTimestamp:u,id:r,groupElementsSummary:[],repliesSummary:[],markedStatesSummary:[],reviewStatesSummary:[]},t))},t.getFakeAnnots=function(){return this.fakeAnnots},t.emitPageBatchProcessor=function(e){if(e.kind===P.EDIT_GRAPHICS_OBJECT)return this.handleEditGraphicsObjectBatchProcessor(e);throw new Error(`Unknown operation kind: ${e.kind}`)},t.handleEditGraphicsObjectBatchProcessor=function(e){switch(e.action){case"start":return this.batchProcessor.start(P.EDIT_GRAPHICS_OBJECT);case"flush":return this.batchProcessor.flush(P.EDIT_GRAPHICS_OBJECT);case"end":return this.batchProcessor.end(P.EDIT_GRAPHICS_OBJECT)}},t.clearRenderCache=function(){this.page&&this.page.ClearRenderCache()},t.clearCacheObejcts=function(){if(this.page){if(!this.page.IsParsed()||this.needReParse)return;if(this.pdfDoc.pageEditor&&this.pdfDoc.pageEditor.lastEditorPage){if(this.pdfDoc.pageEditor.PE.HasSelection()&&this.index===this.pdfDoc.pageEditor.selectionPageIndex)return}this.page.RemoveAllGraphicsObjects(),this.notifyTouchup(this.page),this.needReParse=!0,this.isCPageParsed=!1,this._parsedPagePromise=null}},(0,a.Z)(e,[{key:"c_pagePromise",get:function(){return this.isCPageDeleted&&(this.isCPageDeleted=!1,this._c_pagePromise=this._getPage(this.index).then((e=>(this.pdfDoc.canGetXFA()?this.xfaPage=e:this.page=e,e)))),this._c_pagePromise},set:function(e){this._c_pagePromise=null,this.isCPageDeleted=!0}},{key:"parsedPagePromise",get:function(){return this.isCPageParsed||(this.isCPageParsed=!0,this._parsedPagePromise=this.doParsePage()),this._parsedPagePromise},set:function(e){e!==this._parsedPagePromise&&(this.isCPageParsed=!1,this._parsedPagePromise=null)}}]),e}();const H=(e,t,n)=>{let r=t.GetReplyCount();for(let i=0;i<r;i++){const r=t.GetReply(i);let o=r.GetContent(),a=e.addReply(o.toString());n.push(a),H(a,r,n)}};function z(e,t,n,r,i){const o=Math.max(1,t),a=Math.max(1,n);let c=null;if(c=r?new e.Bitmap(o,a,e.DIBFormat.e_DIBArgb,0,0):new e.Bitmap(o,a,e.DIBFormat.e_DIBRgb32,0,0),c.IsEmpty())throw c.delete(),new Error("create bitmap fail");return i?(i=function(e){const{r:t,g:n,b:r,a:i}=(0,s.dN)(e);return i*Math.pow(2,24)+(r<<16|n<<8|t)}(i=J(i)),c.FillRect(i,null)):c.FillRect(r?16777215:4294967295,null),c}function K({x:e,y:t,width:n,height:r,rotate:i,usage:o,pdfDoc:a},s,c,l,u,d,h,f,g=!1){const p=(0,b.q)(s,i);switch(i){case 270:case 90:{let e=n;n=r,r=e}}let m=c.GetDisplayMatrix(e,t,n,r,p);const _=a.pageDisplayPreferences;let y=!0,S="none",I=!1,A=!1;if(_)switch(y=_.smoothLineArtChecked,S=_.smoothText,S){case"forLaptop_LCDScreens":I=!0;break;case"monitor":I=!1;break;default:I=!1,A=!0}if(u.SetClearType(I),A&&u.SetRenderTextAntiAliasing(A),u.SetRenderPathAntiAliasing(y),d&s.ContentFlag.e_RenderPage.value&&_&&_.transparencyGridChecked&&u.RenderTransparencyGrid(c,m),!1===f&&(u.SetJPEGDownSample(!1),u.SetJPXDownSample(!1)),u.SetRenderContentFlags(-257&d),"print"==o?u.EnableForPrint(!0):(u.SetRenderFormField(!1),d&B&&u.SetRenderFormField(!0),u.SetRenderSignature(!1)),g)return[0,2,m];G.Z.startTick(100);let D=a.canGetXFA()?u.StartRenderXFAPage(c,m,!0,null):u.StartRender(c,m,s.PauseCallback.implement(G.Z)),v=D.GetRateOfProgress();if(h){let e=s.ProgressiveState.e_ToBeContinued;for(;100!==v&&e!==s.ProgressiveState.e_Finished;)e=D.Continue(),v=D.GetRateOfProgress();v=100}return[D,(100==v?s.ProgressiveState.e_Finished:-1==v?s.ProgressiveState.e_Error:s.ProgressiveState.e_ToBeContinued).value,m]}function J(e){let{r:t,g:n,b:r,a:i}=(0,s.dN)(e);const o=i/255;return t=t*o+255*(1-o),n=n*o+255*(1-o),r=r*o+255*(1-o),255*Math.pow(2,24)+(t<<16|n<<8|r)}function V(e){return!!e.HasTransparency&&e.HasTransparency()}},1151:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5785),i=(n(752),n(9976),n(3356),n(3964),n(6265),n(6784)),o=n(8191),a=n(7375),s=n(5733),c=n.n(s),l=n(5199);function u(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}let d=function(){function e(){this.map={}}var t=e.prototype;return t.getNode=function(e){return this.map[e]},t.setNode=function(e){const t=e.GetDict().GetObjNum();return this.map[t]=e,t},t.remove=function(e){const t=e.GetDict().GetObjNum();delete this.map[t]},t.clear=function(){this.map={}},e}(),h=function(){function e(e,t){this.doc=e,this.engine=t,this.engineDoc=e.doc,this.portfolio=t.Portfolio.CreatePortfolio(this.engineDoc),this.nodeCache=new d}var t=e.prototype;return t.getInfo=function(){const e=this.portfolio,t=[],n=this.getSchemaFieldsHandler();for(let e=0;e<n.GetSize();e++){let r=n.GetAt(e);t.push({isDefaultField:r.IsDefaultField(),isVisible:r.IsVisible(),keyName:r.GetKeyName().toString(),subtypeName:r.GetSubtypeName().toString(),displayName:r.GetDisplayName().toString(),schemaField:r})}return{initialFileSpecKeyName:e.GetInitialFileSpecKeyName().toString(),initialViewMode:e.GetInitialViewMode().value,isSortedInAscending:e.IsSortedInAscending(),sortingFieldKeyName:e.GetSortingFieldKeyName().toString(),fields:t}},t.setInfo=function(e={}){const t=this.engine,n=this.portfolio;if(void 0!==e.fields){const r=n.GetSchemaFields(),i=new t.SchemaFieldArray;(e.fields||[]).forEach((e=>{if(e.isDefaultField){let t;for(let n=0;n<r.GetSize();n++){const i=r.GetAt(n);if(e.keyName===i.GetKeyName().toString()){i.SetVisibility(e.isVisible),t=i;break}}i.Add(t)}else{const n=new t.SchemaField;n.SetKeyName(new t.String(e.keyName)),n.SetSubtypeName(new t.String(e.subtypeName)),n.SetDisplayName(new t.WString(e.displayName)),n.SetVisibility(e.isVisible),i.Add(n)}})),n.SetSchemaFields(i)}void 0!==e.initialFileSpecKeyName&&n.SetInitialFileSpecKeyName(new t.WString(e.initialFileSpecKeyName)),e.initialViewMode&&n.SetInitialViewMode({value:e.initialViewMode}),void 0!==e.isSortedInAscending&&n.SetSortingOrder(e.isSortedInAscending),void 0!==e.sortingFieldKeyName&&n.SetSortingFieldKeyName(new t.String(e.sortingFieldKeyName))},t.getTreeNode=function(){if(!this.engineDoc.IsPortfolio())return;const e=this.engine,t=this.portfolio;let n,r=this.getInfo().fields,i=t.GetRootNode();if(i.IsEmpty())return void t.delete();let o=i.GetNodeType();return o===e.PortfolioNodeType.e_TypeFolder&&(i=new e.PortfolioFolderNode(i),n=this.folderNodeToJSON(i,r)),o===e.PortfolioNodeType.e_TypeFile&&(i=new e.PortfolioFileNode(i),n=this.fileNodeToJSON(i,r)),n},t.getInitialNodePath=function(){const e=this.engine,t=this.portfolio,{initialFileSpecKeyName:n,fields:r}=this.getInfo();let i=t.GetRootNode();i=new e.PortfolioFolderNode(i);const o=[this.folderNodeToJSON(i,r)];if(!n)return o;let a;const s=t=>{for(let r=0;r<t.GetSize();r++){let i=t.GetAt(r);if(i.GetNodeType()===e.PortfolioNodeType.e_TypeFile){if(i=new e.PortfolioFileNode(i),n===i.GetKeyName().toString()){a=i;break}}else i.GetNodeType()===e.PortfolioNodeType.e_TypeFolder&&(i=new e.PortfolioFolderNode(i),s(i.GetSortedSubNodes()))}};if(s(i.GetSortedSubNodes()),!a||a.GetParentNode().IsEmpty())return o;let c=[];c.unshift(this.fileNodeToJSON(a,r));let l=a.GetParentNode();for(;!l.IsEmpty()&&!l.IsRoot();)a=a.GetParentNode(),l=a.GetParentNode(),c.unshift(this.folderNodeToJSON(a,r));return c.unshift(this.folderNodeToJSON(i,r)),c},t.addFiles=function(e,t,n){const r=this.engine,i=this.nodeCache.getNode(n);if(!i||i.GetNodeType()!==r.PortfolioNodeType.e_TypeFolder)return;const o=i.GetSortedSubNodes().GetSize(),s=new FileReaderSync;for(let t=0;t<e.length;t++){const n=e[t];if(i.HasSameNameSubNode(new r.WString(n.name),r.PortfolioNodeType.e_TypeFile)){let e;for(let t in this.nodeCache.map){const i=this.nodeCache.map[t];if(i.GetNodeType()===r.PortfolioNodeType.e_TypeFile&&i.GetFileSpec().GetFileName().toString()===n.name){e=i;break}}e&&this.nodeCache.remove(e)}const o=r.ReaderCallback.implement({Release:()=>{},GetSize:()=>n.size,GetPosition:()=>n.size,ReadBlock:(e,t,i)=>{const o=new Uint8Array(s.readAsArrayBuffer(n.slice(t,t+i)));return r.HEAPU8.set(o,e),!0}});i.AddFile(o,new r.WString(n.name)).GetFileSpec().SetModifiedDateTime(a.Z.ToDateTime(r,n.lastModified||n.lastModifiedDate))}if(void 0!==t){const e=i.GetSortedSubNodes().GetSize(),r=[];for(let t=0;t<e-o;t++)r.unshift(e-1-t);this.changeSubNodesOrder(n,r,t)}},t.createFolder=function(e,t){const n=this.engine,r=this.nodeCache.getNode(t);if(!r||r.GetNodeType()!==n.PortfolioNodeType.e_TypeFolder)return;const i=r.AddSubFolder(new n.WString(e));let o=this.getInfo().fields;return this.folderNodeToJSON(i,o)},t.removeSubNodes=function(e,t){const n=this.engine,r=this.nodeCache.getNode(e);r&&r.GetNodeType()===n.PortfolioNodeType.e_TypeFolder&&t.forEach((e=>{const t=this.nodeCache.getNode(e);if(t.GetNodeType()===n.PortfolioNodeType.e_TypeFile)this.nodeCache.remove(t);else{const e=t=>{const r=t.GetSortedSubNodes();for(let t=0;t<r.GetSize();t++){const i=r.GetAt(t);i.GetNodeType()===n.PortfolioNodeType.e_TypeFile?this.nodeCache.remove(i):e(new n.PortfolioFolderNode(i))}this.nodeCache.remove(t)};e(t)}r.RemoveSubNode(t)}))},t.regenerateTOC=function(e){const t=this.portfolio.GetTocPageIndexes();this.portfolio.StartGenerateTableOfContents(new this.engine.WString(e),!!t.GetSize(),null);const n=this.portfolio.GetTocPageIndexes(),r=[];for(let e=0;e<t.GetSize();e++)r.push(t.GetAt(e));const i=[];for(let e=0;e<n.GetSize();e++)i.push(n.GetAt(e));r.forEach((e=>{if(this.doc.pageIndexMap[e]){let t=this.doc.pageIndexMap[e];delete this.doc.pageIndexMap[e],delete this.doc.pageCache[t.id],delete this.doc.pageIndexPromise[e]}}));return{oldIndexes:r,newPages:i.map((e=>{const t=this.engineDoc.GetPage(e),n=new l.Z(e,this.doc);return n.page=t,this.doc.updatePageIndexMap(e,n),this.doc.updatePageCache(n),n.toJson()}))}},t.nodeToJSONByCustomProperty=function(e,t,n,r){if(!e.IsDefaultField())if(n.HasCustomProperty(e)){let o=e.GetSubtypeName().toString();if("N"===o)r[t]=n.GetCustomPropertyIntegerValue(e);else if("S"===o)r[t]=n.GetCustomPropertyStringValue(e).toString();else if("D"===o){let o=(0,i.q)(n.GetCustomPropertyDateTimeValue(e));r[t]=o?o.getTime():-1}else r[t]=""}else r[t]=""},t.folderNodeToJSON=function(e,t){let n={};t.forEach((t=>{this.nodeToJSONByCustomProperty(t.schemaField,t.displayName,e,n)}));try{n.Description=e.GetDescription().toString()}catch(e){n.Description=""}const r=(0,i.q)(e.GetCreationDateTime());n.CreationDate=r?r.getTime():-1;const o=(0,i.q)(e.GetModifiedDateTime());return n.ModDate=o?o.getTime():r,n.FileName=e.GetName().toString(),n.subNodeSize=e.GetSortedSubNodes().GetSize(),n.handle=this.nodeCache.setNode(e),n.type=1,n},t.fileNodeToJSON=function(e,t){let n={};t.forEach((t=>{this.nodeToJSONByCustomProperty(t.schemaField,t.displayName,e,n)}));const r=e.GetFileSpec();try{n.Description=r.GetDescription().toString()}catch(e){n.Description=""}const o=(0,i.q)(r.GetCreationDateTime());n.CreationDate=o?o.getTime():-1;const a=(0,i.q)(r.GetModifiedDateTime());return n.ModDate=a?a.getTime():o,n.CompressedSize=r.GetCompressedEmbeddedFileSize(),n.Size=r.GetFileSize(),n.FileName=r.GetFileName().toString(),n.subtype=r.GetSubtype().toString(),n.keyName=e.GetKeyName().toString(),n.handle=this.nodeCache.setNode(e),n.type=2,n},t.getFileStream=function(e,{writeStream:t}){let n=this.nodeCache.getNode(e),r=new o.Z(n.GetFileSpec(),this);return 0===r.getFileSize()?Promise.resolve(0):r.getStream(t)},t.getStream=function(e){const t=this.engine,n=n=>{let r=[];const i=(e,n)=>{for(let a=0;a<n.length;a++){let s=n[a];if(s.GetNodeType()===t.PortfolioNodeType.e_TypeFile){s instanceof t.PortfolioFileNode||(s=new t.PortfolioFileNode(s));const n=new o.Z(s.GetFileSpec(),this.doc),i=[],a=n.getStream(((e,t,n)=>i.push(e))).then((()=>{e.file(n.getFileName(),i,{binary:!0})}));r.push(a)}else{s instanceof t.PortfolioFolderNode||(s=new t.PortfolioFolderNode(s));const n=s.GetSortedSubNodes();let r=[];for(let e=0;e<n.GetSize();e++)r.push(n.GetAt(e));i(e.folder(s.GetName().toString()),r)}}},a=new(c()),s=e.map((e=>this.nodeCache.getNode(e))).filter((e=>!!e));return i(a,s),Promise.all(r).then((()=>a.generateAsync({type:"blob"}).then((e=>({blob:e,fileName:n})))))};if(1===e.length){const r=this.nodeCache.getNode(e[0]);if(r.GetNodeType()===t.PortfolioNodeType.e_TypeFile){const e=new o.Z(r.GetFileSpec(),this.doc),t=[];return e.getStream(((e,n,r)=>t.push(e))).then((()=>({blob:new Blob(t,{type:"application/octet-stream"}),fileName:e.getFileName()})))}return n(`${r.GetName().toString()}.zip`)}return n("download.zip")},t.sendSortFolioParam=async function(e,t){const n=this.engine;if(!this.engineDoc.IsPortfolio())return;const r=this.portfolio;let i=new n.String(e);return await r.SetSortingFieldKeyName(i),await r.SetSortingOrder(t),!0},t.getPortfolioSubNodes=function(e){const t=this.engine;let n=[],r=this.nodeCache.getNode(e);if(!r)throw new Error("Nonexistent portfolio folder node!");let i=r.GetNodeType();if(i!==t.PortfolioNodeType.e_TypeFolder)return n;const o=this.getInfo().fields;let a=r.GetSortedSubNodes(),s=a.GetSize();for(let e=0;e<s;e++){let r=a.GetAt(e);i=r.GetNodeType(),i===t.PortfolioNodeType.e_TypeFolder&&(r=new t.PortfolioFolderNode(r),n.push(this.folderNodeToJSON(r,o))),i===t.PortfolioNodeType.e_TypeFile&&(r=new t.PortfolioFileNode(r),n.push(this.fileNodeToJSON(r,o)))}return n},t.getPDFDocByNodeHandle=function(e){const t=this.engine,n=this.nodeCache.getNode(e);if(!n)return;if(n.GetNodeType()===t.PortfolioNodeType.e_TypeFolder)return;const r=n.GetFileSpec();if(".pdf"!==r.GetFileName().toString().substr(-4))return;const i=new t.PDFDoc(r.GetFileData(),!1);return i.Load(new t.String("")),i},t.changeSubNodesOrder=function(e,t,n){var i;const o=this.engine,a=this.nodeCache.getNode(e);if(!a)return;if(a.GetNodeType()===o.PortfolioNodeType.e_TypeFile)return;const s=a.GetSortedSubNodes();let c=new Array(s.GetSize()).fill(null);c.forEach(((e,n,r)=>{t.includes(n)||(r[n]=s.GetAt(n))}));const l=t.map((e=>s.GetAt(e)));(i=c).splice.apply(i,[n,0].concat(u(r.Z,l))),c=c.filter((e=>!!e));const d=new o.PortfolioNodeArray;c.forEach((e=>d.Add(e))),a.ReorderSubNodes(d)},t.moveSubNodeToSubFolderNode=function(e,t,n){const r=this.engine,i=this.nodeCache.getNode(e);if(!i)return;if(i.GetNodeType()===r.PortfolioNodeType.e_TypeFile)return;const o=this.nodeCache.getNode(n);if(o&&o.GetNodeType()!==r.PortfolioNodeType.e_TypeFile)for(let e=0;e<t.length;e++){const n=this.nodeCache.getNode(t[e]);if(!n)continue;let a,s;n.GetNodeType()===r.PortfolioNodeType.e_TypeFile?(a=n.GetFileSpec().GetFileName(),s=r.PortfolioNodeType.e_TypeFile):(a=n.GetName(),s=r.PortfolioNodeType.e_TypeFolder);const c=o.HasSameNameSubNode(a,s);i.MoveSubNodeToSubFolderNode(n,o,c)}},t.hasSameNameSubNode=function(e,t,n){const r=this.engine,i=this.nodeCache.getNode(n);if(i&&i.GetNodeType()!==r.PortfolioNodeType.e_TypeFile)return i.HasSameNameSubNode(new r.WString(e),{value:t})},t.recordPDFFileByPortFolioNode=function(e){const t=this.engine;let n=[];for(let r in e){let i=e[r];const o=this.nodeCache.getNode(i),a=o.GetNodeType();if(a===t.PortfolioNodeType.e_TypeFile){const e=o.GetFileSpec();if(".pdf"===e.GetFileName().toString().substr(-4)){let r=e.GetFileData(),i=new t.PDFDoc(r,!1);if(i.Load(new t.String(""))===t.ErrorCode.e_ErrPassword){n.push("password");continue}const o=this.doc.JR.getPDFDocByEngineDoc(i);n.push(o.id)}}else a===t.PortfolioNodeType.e_TypeFolder&&this.recursionFolioNodePDFDoc(n,o)}return n},t.getFolioNodePDFDoc=function(){if(!this.engineDoc.IsPortfolio())return;const e=this.engine;let t=this.portfolio.GetRootNode(),n=new e.PortfolioFolderNode(t);if(!n)throw new Error("Nonexistent portfolio folder node!");return this.recursionFolioNodePDFDoc([],n)},t.recursionFolioNodePDFDoc=function(e,t){const n=this.engine;let r=t.GetSortedSubNodes(),i=r.GetSize();for(let t=0;t<i;t++){let i=r.GetAt(t),o=i.GetNodeType();if(o===n.PortfolioNodeType.e_TypeFile){i=new n.PortfolioFileNode(i);const t=i.GetFileSpec();if(".pdf"===t.GetFileName().toString().substr(-4)){let r=t.GetFileData(),i=new n.PDFDoc(r,!1);if(i.Load(new n.String(""))===n.ErrorCode.e_ErrPassword)continue;const o=this.doc.JR.getPDFDocByEngineDoc(i);e.push(o.id)}}else if(o===n.PortfolioNodeType.e_TypeFolder){let t=new n.PortfolioFolderNode(i);this.recursionFolioNodePDFDoc(e,t)}}return e},t.getSchemaFieldsHandler=function(){const e=this.engine,t=this.portfolio,n=t.GetSchemaFields();let r=!1,i=!1,o=!1,a=!1,s=!1,c=!1;const l=new e.SchemaFieldArray;for(let e=0;e<n.GetSize();e++){const t=n.GetAt(e),u=t.GetSubtypeName().toString();switch(l.Add(t),u){case"F":r=!0;break;case"Desc":i=!0;break;case"ModDate":o=!0;break;case"Size":a=!0;break;case"CompressedSize":s=!0;break;case"CreationDate":c=!0}}const u=(t,n,r)=>{const i=new e.SchemaField;i.SetSubtypeName(new e.String(t)),i.SetKeyName(new e.String(n)),i.SetDisplayName(new e.WString(r)),i.SetVisibility(!0),l.Add(i)};return r||u("F","FileName","Name"),i||u("Desc","Description","Description"),o||u("ModDate","ModDate","Modified"),a||u("Size","Size","Size"),s||u("CompressedSize","CompressedSize","Compressed size"),c||u("CreationDate","CreationDate","Created"),t.SetSchemaFields(l),t.GetSchemaFields()},e}()},5315:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});n(752),n(6265);var r=n(1220),i=n(995);const o=(e,t,n,o=7,a=17)=>{const s=e.engine,c={};let l=n.GetElement((0,r.n5)(s,"AA"));if(l&&l.GetDict()){let n=l.GetDict(),r=new s.AdditionalAction(t,n),u=s.TriggerEvent;for(let n=o;n<a;n++){let i=r.GetAction(u.values[n]);if(i.IsEmpty())i.delete();else{let r=e.actionManager.get(i,t,e);c[n]=r.toJson(),r.destroy()}}(0,i.Z)(r)}return c}},7375:function(e,t,n){"use strict";n(5137),n(4043),n(752),n(6265),n(7267),n(5847);var r=n(8881),i=n(8972),o=n(8755),a=n(1220),s=n(6784);const c=Object.keys(i.Ql).sort().map((e=>i.Ql[e]));let l=function(){function e(e,t,n=e.GetIndex()){if(this.originAnnot=e,this.pdfPage=t,this.JR=t.JR,this.engine=t.engine,this.doc=t.doc,this.doc instanceof this.engine.PDFDoc||(this.doc=t.pdfDoc._doc),this.annot=this.constructEngineAnnot(e),t.addJRAnnot(this,n),this.index=n,"number"!=typeof n)throw new Error("[JR] annotation index must be a number")}e.ToDateTime=function(e,t){const n=new Date(t);let r=n.getFullYear(),i=n.getMonth()+1,o=n.getDate(),a=n.getHours(),s=n.getMinutes(),c=n.getSeconds(),l=n.getMilliseconds(),u=-n.getTimezoneOffset()/60,d=parseInt(u),h=Math.abs(60*(u-d));return new e.DateTime(r,i,o,a,s,c,l,d,h)},e.parseDatetimeString=function(e,t){if(!t||"string"!=typeof t)return null;const n=t.match(/^D\:(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(([+-]\d\d)('\d\d')?)?$/);if(!n)return null;const[,r,i,o,a,s,c,l,u,d]=n;let h=0;d&&d.length>2&&(h=Number(d.replace(/['"]/g,"")),isNaN(h)&&(h=0));let f=Number(u);return isNaN(f)&&(f=(new Date).getTimezoneOffset()/-60),new e.DateTime(Number(r),Number(i),Number(o),Number(a),Number(s),Number(c),0,f,h)},e.parseFlagList=function(e){let t=0;return c.forEach(((n,r)=>{e.indexOf(n)>-1&&(t|=1<<r)})),t},e.updateModifyTime=function(t,n){const r=e.ToDateTime(t,Date.now());try{n.SetModifiedDateTime(r)}catch(e){}r.delete()};var t=e.prototype;return t.constructEngineAnnot=function(e){return e},t.destroy=function(){this.annot.delete(),this.originAnnot!==this.annot&&this.originAnnot.delete(),this.originAnnot=null,this.annot=null},t.toJson=function(e){let t=this.annot,n=t.GetFlags(),r=this.JR.getRotatedAnnotRect(t),i=r.left,o=r.right,c=r.top,l=r.bottom,u=(r.rotate,t.GetDict()),d=t.GetType().constructor.name,h=this.getType(),f=t.GetBorderInfo(),g=[];for(let e=0;e<f.dashes.GetSize();e++)g.push(f.dashes.GetAt(e));let p,m=f.width,_=t.GetBorderColor(),y=!0;if(0===_)if(u.HasKey((0,a.n5)(this.engine,"C"))){let e=u.GetElement((0,a.n5)(this.engine,"C")).GetArray(),t=0;e&&(t=e.GetElementCount()),0==t?_=0:_&=16777215}else _=0,y=!1;let S=-1;if("popup"!=h)try{p=t.GetModifiedDateTime(),p&&p.IsValid()&&(S=(0,s.B)(p))}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}let b=u.GetObjNum();u.HasKey((0,a.n5)(this.engine,"FoxitTag"))&&(n|=64);let I=new this.engine.String("customEntries"),A={};u.HasKey(I)&&(A=JSON.parse(u.GetElement(I).GetWideString().toString()));const D=this.getNano(u);let v=this.index;void 0===v&&(v=t.GetIndex());let w={objectNumber:b,name:t.GetUniqueID().toString(),id:b,typeInEngine:d,type:h,typeNano:D,typeAlias:h,rect:{top:c,right:o,bottom:l,left:i},rectIsEmpty:c===o&&o===l&&l===i,isMarkup:t.IsMarkup(),isDeleted:t.isDeleted(),index:v,content:this.JR.getPDFString(t.GetContent().UTF8Encode()),borderColor:_,hasBorderColor:y,color:_,borderInfo:{cloudIntensity:f.cloud_intensity,dashPhase:f.dash_phase,dashes:g,style:f.style.value,width:m},flag:n,modifiedTimestamp:S,customEntries:A};return f.delete(),w},t.getDictValue=function(e){let t,n=this.annot.GetDict(),r=(0,a.n5)(this.engine,e);if(n.HasKey(r)){t=n.GetElement(r).GetWideString().toString()}return t},t.setDictValue=function(e,t){let n=this.annot.GetDict(),r=(0,a.n5)(this.engine,e),i=new this.engine.WString(t);return n.SetAtWString(r,i),i.delete(),this.updateModifyTime(),!0},t.getNano=function(e){const t=e.GetDict().GetElement((0,a.n5)(this.engine,"OC"));if(!t)return;const n=t.GetDict();if(!n)return;const r=n.GetElement((0,a.n5)(this.engine,"VE"));if(!r)return;const i=r.GetArray(),o=i.GetElementCount();if(o<=1)return;const s=i.GetElement(o-1);if(!s)return;const c=s.GetDict();if(!c)return;return c.GetElement((0,a.n5)(this.engine,"Name")).GetString().toString()},t.getId=function(){return this.annot.GetDict().GetObjNum()},t.getName=function(){return this.annot.GetUniqueID().toString()},t.getIndex=function(){return this.annot.GetIndex()},t.getSummary=function(e=this.annot,t){let n=e.GetDict().GetObjNum();return{objectNumber:n,id:n,index:e.GetIndex()}},t.getType=function(){let e=this.annot.GetType().constructor.name.replace(/^AnnotType_e_/,"").toLowerCase();return"note"===e&&(e="text"),e},t.setContent=function(e){let t=this.annot,n=new this.engine.WString(e);return t.SetContent(n),n.delete(),this.updateModifyTime(),t.GetDict().GetObjNum()},t.setDictionaryEntry=function(e,t){let n=this.annot.GetDict(),r=new this.engine.String("customEntries"),i={};n.HasKey(r)&&(i=JSON.parse(n.GetElement(r).GetWideString().toString())),i[e]=t;let o=new this.engine.WString(JSON.stringify(i));return n.SetAtWString(r,o),r.delete(),o.delete(),this.updateModifyTime(),!0},t.getDictionaryEntry=function(e){let t=this.annot.GetDict(),n=new this.engine.String("customEntries"),r={};return t.HasKey(n)&&(r=JSON.parse(t.GetElement(n).GetWideString().toString())),n.delete(),r[e]},t.resetAppearanceStream=function(){this.annot.ResetAppearanceStream()},t.setBorderColor=function(e){let t=this.annot;if(e<0&&(e=0),t.IsGrouped&&t.IsGrouped()){let n=t.GetGroupElements();for(let t=n.GetSize();t--;){let r=n.GetAt(t);0===e?r.RemoveProperty({value:2}):r.SetBorderColor(e),r.ResetAppearanceStream()}}else 0===e?t.RemoveProperty({value:2}):t.SetBorderColor(e),t.ResetAppearanceStream();this.updateModifyTime()},t.remove=function(){let e=this.getId();return this.pdfPage.removeAnnotById(e).then((t=>{if(t)return[e]}))},t.removeRelatives=function(){return[]},t.setRect=function(e,t=!0){let n;e.left>e.right&&(n=e.right,e.right=e.left,e.left=n),e.bottom>e.top&&(n=e.top,e.top=e.bottom,e.bottom=n);let r=e.top-e.bottom,i=e.right-e.left,o=this.annot.GetRect(),a=!0;Math.abs(r-o.right+o.left)<.01&&Math.abs(i-o.top+o.bottom)<.01&&(a=!1);const s=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);let c=this.annot.Move(s);return s.delete(),c&&t&&(this.updateModifyTime(),a&&this.annot.ResetAppearanceStream(),this.pdfPage.resetBitmapCache()),c},t.move=function(e,t){const n=this.annot,i=r.Z.on(n.GetRect()).move(e,t).extract(),o=this.annot.Move(i);return o&&(this.updateModifyTime(),this.pdfPage.resetBitmapCache()),o},t.moveTo=function(e,t){const n=this.JR.getRotatedAnnotRect(this.annot);return this.move(e-n.left,t-n.top),[this.getId()]},t.setBorderInfo=function(e){let t=this.annot.GetBorderInfo(),n=this.engine.BorderInfoStyle;t.cloud_intensity=parseInt(e.cloudIntensity)||0,e.dashPhase&&(t.dash_phase=e.dashPhase);let r=e.dashes;if(r&&r.length>0){let e=new this.engine.FloatArray;e.SetSize(r.length,-1);for(let t=0;t<r.length;t++)e.SetAt(t,r[t]);t.dashes=e}t.style=n.values[Object.values(i.M8).includes(e.style)?e.style:0],void 0!==e.width&&(t.width=parseFloat(e.width)),this.annot.SetBorderInfo(t),this.annot.ResetAppearanceStream(),this.updateModifyTime()},t.setBorderStyle=function(e,t){let n=this.annot.GetBorderInfo(),r=this.engine.BorderInfoStyle;switch(e){case i.M8.DASHED:n.style=r.values[r.e_Dashed.value];let e=new this.engine.FloatArray;e.SetSize(t.length,-1);for(let n=0;n<t.length;n++)e.SetAt(n,t[n]);n.dashes=e,n.dash_phase=0;break;case i.M8.BEVELED:n.style=r.values[r.e_Beveled.value];break;case i.M8.SOLID:n.style=r.values[r.e_Solid.value];break;case i.M8.UNDERLINE:n.style=r.values[r.e_UnderLine.value];break;case i.M8.INSET:n.style=r.values[r.e_Inset.value];break;case i.M8.CLOUDY:n.style=r.values[r.e_Cloudy.value],n.cloud_intensity=t;break;case i.M8.NOBORDER:n.style=r.values[r.e_NoBorder.value]}return this.annot.SetBorderInfo(n),this.annot.ResetAppearanceStream(),n.dashes.delete(),this.updateModifyTime(),[this.getId()]},t.setBorderWidth=function(e,t=!0){try{let n=this.annot.GetBorderInfo(),r=parseFloat(e);n.width=r,this.annot.SetBorderInfo(n),t&&this.annot.ResetAppearanceStream(),this.updateModifyTime()}catch(e){isNaN(e)||(e=gsdk.getErrorCode(e)),console.warn(e)}return!0},t.setModifiedDateTime=function(e){const t=this.ToDateTime(e);try{this.annot.SetModifiedDateTime(t)}catch(e){}return t.delete(),!0},t.updateModifyTime=function(){this.setModifiedDateTime(Date.now())},t.ToDateTime=function(t){return e.ToDateTime(this.engine,t)},t.setAnnotFlag=function(e){try{this.annot.SetFlags(e),this.updateModifyTime()}catch(t){let n=this.annot.GetDict(),r=this.engine,i=r.PDFObject.CreateFromInteger(e);n.SetAt((0,a.n5)(r,"F"),i)}},t.setUniqueId=function(e,t){let n;return n=e?new this.engine.WString(e):new this.engine.WString((0,o.Z)()),this.annot.SetUniqueID(n),!0},t.create=function(e){let t,n,r,i,a,s;if(((t=e.color)||0===e.color)&&("string"==typeof t&&(t=parseInt(t,16),e.color=t),this.setBorderColor(t)),(n=e.borderInfo)&&this.setBorderInfo(n),(r=e.style)&&this.setBorderStyle(r,e.intensity),"freetext"!==e.type){let t;(t=e.contents)&&this.setContent(t)}if((i=e.flags)&&this.setAnnotFlag(i),(a=e.name)?this.setUniqueId(a):this.setUniqueId((0,o.Z)()),e.dicts){let t=e.dicts,n=this.annot.GetDict();for(let e in t){let r=new this.engine.String(e),i=new this.engine.WString(t[e]);n.SetAtWString(r,i),r.delete(),i.delete()}}return(s=e.date)?this.setModifiedDateTime(s):this.setModifiedDateTime(new Date),[this]},t._freeSuperAnnot=function(e,t){},t.getRectJson=function(){const e=this.annot.GetRect();return{id:this.getId(),type:this.getType(),isMarkup:this.annot.IsMarkup(),rect:{left:e.left,right:e.right,top:e.top,bottom:e.bottom}}},e}();t.Z=l},9402:function(e,t,n){"use strict";var r=n(7462),i=n(4578),o=(n(752),n(9976),n(3356),n(4043),n(7267),n(5847),n(6265),n(7375)),a=n(6976),s=n(1220),c=n(995),l=n(26),u=n(5315);let d=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).engineWidget=i.annot,i.page=n;let o=n.pdfDoc.form;return o&&o.hasWidgetChanged(t.GetDict().GetObjNum())&&t.ResetAppearanceStream(),i}(0,i.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Widget(e)},n.destroy=function(){e.prototype.destroy.call(this),this.engineWidget=null},n.updateMKProperty=function(e,t){let n,r,i=this.engineWidget,o=i.GetDict(),c=this.pdfPage.doc,l=this.engine,u=!0;switch(e){case"alignment":const e=(0,s.n5)(l,"Q");void 0===t?o.RemoveAt(e):o.SetAtInteger(e,t);break;case"directionRTL":const d=(0,s.n5)(l,"MEOptions");void 0===t?o.RemoveAt(d):o.SetAtInteger(d,t);break;case"lineSpace":const h=(0,s.n5)(l,"LS");if(void 0===t)o.RemoveAt(h);else{let e=this.engine.PDFArray.Create();e.AddInteger(t[0]),e.AddFloat(t[1]),o.SetAt(h,e)}break;case"borderColor":0===t?i.RemoveMKEntry(l.MKEntry.e_MKEntryBorderColor):i.SetMKBorderColor(t);break;case"fillColor":0==t?i.RemoveMKEntry(l.MKEntry.e_MKEntryBackgroundColor):i.SetMKBackgroundColor(t);break;case"normalCaption":r=new l.WString(t),i.SetMKNormalCaption(r),r.delete();break;case"downCaption":r=new l.WString(t),i.SetMKDownCaption(r),r.delete();break;case"rotation":let f=l.Rotation.e_Rotation0;switch(t){case 1:f=l.Rotation.e_Rotation90;break;case 2:f=l.Rotation.e_Rotation180;break;case 3:f=l.Rotation.e_Rotation270}i.SetMKRotation(f);break;case"rolloverCaption":r=new l.WString(t),i.SetMKRolloverCaption(r),r.delete();break;case"normalIcon":n="I";case"downIcon":n||(n="IX");case"rolloverIcon":n||(n="RI");let g=(0,s.n5)(l,"MK"),p=o.GetElement(g);if(p&&p.GetDict()?p=p.GetDict():(p=l.PDFDictionary.Create(),o.SetAtReference(g,p,c)),n=(0,s.n5)(l,n),"number"==typeof t)p.SetAtReference(n,c.GetIndirectObject(t),c);else if("object"==typeof t)if(t)if(t.height>0&&t.width>0){let e=new l.String(t.stream),r=this.doc.CreateIcon(e,t.width,t.height);p.SetAtReference(n,r,c)}else if(t instanceof Uint8Array){let e=a.Z.createImage(l,t);if(e){let t=e.GetFrameBitmap(0);i.SetMKNormalIconBitmap(t)}else u=!1}else p.RemoveAt(n);else p.RemoveAt(n);let m=i.GetField(),_=m.GetControlCount(),y=p.GetElement(n),S=y?y.GetDirectObject().GetObjNum():0;for(let e=0;S&&e<_;e++){let t=m.GetControl(e).GetWidget();if(t.IsEmpty())continue;let r=t.GetDict();if(r.GetObjNum()==o.GetObjNum())continue;let i=r.GetElement(g);i&&i.GetDict()?i=i.GetDict():(i=l.PDFDictionary.Create(),r.SetAtReference(g,i,c)),i.SetAtReference(n,c.GetIndirectObject(S),c),t.ResetAppearanceStream()}}let d=this.pdfPage.pdfDoc.form,h=i.GetField().GetName().toString(),f=d.getField(h),g=f.engineField,p=g.GetDict(),m=g.GetValue();return f.label.length>0&&g.SetValue((0,s.Dp)(l,f.label)),i.ResetAppearanceStream(),f.label.length>0&&p.SetAtWString((0,s.n5)(l,"V"),m),u},n.setAS=function(e){if(!e)return;let t=this.engineWidget.GetDict(),n=this.engine,r=(0,s.n5)(n,"AS"),i=new n.WString(e);t.SetAt(r,n.PDFObject.CreateFromName(i)),(0,c.Z)(i)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),i=this.engineWidget,o=i.GetField(),a=i.GetControl(),c=i.GetAction(),l="";c.IsEmpty()||(l=this.JR.actionManager.get(c,this.doc,this.JR).toJson());let d,h,f,g,p,m=this.engine,_=["Off"],y={},S=0,b=0,I=[];if(!i.IsEmpty()){let e=i.GetDict();S=e.GetElement((0,s.n5)(m,"Q")),S=S?S.GetInteger():0,y=(0,u.S)(this.JR,this.page.doc,e);let t=(0,s.n5)(m,"AS");if(e.HasKey(t)){let e=this.engineWidget.GetAppearanceOnStateName();try{_.push(e.toString())}catch(t){_.push(this.JR.getHexString(e))}d=this.JR.getPDFString(this.engineWidget.GetAppearanceState())}t=(0,s.n5)(m,"AP"),p=e.HasKey(t);let n=e.GetElement((0,s.n5)(m,"MK"));n&&n.GetDict()&&(h=n.GetDict().GetElement((0,s.n5)(m,"I")),h&&(h=h.GetDirectObject().GetObjNum()),f=n.GetDict().GetElement((0,s.n5)(m,"RI")),f&&(f=f.GetDirectObject().GetObjNum()),g=n.GetDict().GetElement((0,s.n5)(m,"IX")),g&&(g=g.GetDirectObject().GetObjNum()));const r=e.GetElement((0,s.n5)(m,"MEOptions"));r&&(b=r.GetInteger());const o=e.GetElement((0,s.n5)(m,"LS"));if(o){const e=o.GetArray();2===e.GetElementCount()&&(I.push(e.GetElement(0).GetInteger()),I.push(Number(e.GetElement(1).GetFloat().toFixed(1))))}}let A=i.GetHighlightingMode();A&&(A=A.value);let D,v=0;v=i.HasMKEntry(m.MKEntry.e_MKEntryBackgroundColor)?4278190080|i.GetMKBackgroundColor():0,D=i.HasMKEntry(m.MKEntry.e_MKEntryBorderColor)?4278190080|i.GetMKBorderColor():0;let w,P=i.GetMKDownCaption().toString(),F=i.GetMKIconCaptionRelation().value,T=i.GetMKIconFit(),C=i.GetMKNormalCaption().toString(),G=i.GetMKRolloverCaption().toString(),E=i.GetMKRotation().value,R="",x=0;if(!o.IsEmpty()){R=o.GetName().toString(),x=o.GetType().value,w=a.GetIndex(),this.engineWidget.GetDict().HasKey((0,s.n5)(this.engine,"PMD"))&&(x=8)}let M,O,N,k=!1;if(!o.IsEmpty()){O=a.GetDefaultAppearance();try{O.font.IsEmpty()||(k=O.font.IsEmbedded(this.pdfPage.doc),M=O.font.GetName().toString(),N=O.font.GetFamilyName().toString(),N=N.replace(" ","").replace("-",""),O.font.IsBold()&&(N+="Bold"),O.font.IsItalic()&&(N+="Italic"))}catch(e){isNaN(e)||(e=m.getErrorCode(e)),console.warn(e)}}return(0,r.Z)(n,{highlightingMode:A,fillColor:v,iconFit:{fitBounds:T.fit_bounds,horizontalFraction:T.horizontal_fraction,isProportionalScaling:T.is_proportional_scaling,scaleWayType:T.scale_way_type?T.scale_way_type.value:T.scale_way_type,verticalFraction:T.vertical_fraction},MKBorderColor:D,downCaption:P,normalCaption:C,rolloverCaption:G,captionRelation:F,rotation:E,field:R,control:w,fieldType:x,action:l,AA:y,ApStates:_,ApState:d,normalIcon:h,rolloverIcon:f,downIcon:g,hasAP:p,alignment:S,directionRTL:b,lineSpace:I},O?{DA:{flags:O.flags,textColor:O.text_color,textSize:O.text_size,isEmbedded:k,fontName:M,fullName:N}}:{})},n.setAction=function(e,t,n){let r,i=this.engine,o=this.JR.actionManager,a=this.engineWidget,s=this.annot.GetPage().GetDocument();if(r=o.create(s,t.type),-1==e)try{a.SetAction(r)}catch(e){isNaN(e)||(e=i.getErrorCode(e)),console.warn(e)}else{let t=a.GetField(),i=this.pdfPage.pdfDoc.form,o=e>10&&e<17?a.GetDict():t.GetDict();i.addAAToDict(o,r,{trigger:e,field:t.GetName().toString()},n)}let c=o.get(r,this.doc,this.JR);return c.create(t),this.updateModifyTime(),c},n.setDefaultAppearance=function(e){let t,n=this.engine,r=JSON.parse(e),i=this.engineWidget,o=i.GetControl(),a=void 0!==r.fontName?n.DefAPFlags.e_FlagFont.value:0,c=void 0!==r.textColor?n.DefAPFlags.e_FlagTextColor.value:0,l=void 0!==r.textSize?n.DefAPFlags.e_FlagFontSize.value:0;if(r.fontName){let e=mapFontName2StdID(r.fontName);if(e){let r=[n.StandardID.e_StdIDCourier,n.StandardID.e_StdIDCourierB,n.StandardID.e_StdIDCourierBI,n.StandardID.e_StdIDCourierI,n.StandardID.e_StdIDHelvetica,n.StandardID.e_StdIDHelveticaB,n.StandardID.e_StdIDHelveticaBI,n.StandardID.e_StdIDHelveticaI,n.StandardID.e_StdIDTimes,n.StandardID.e_StdIDTimesB,n.StandardID.e_StdIDTimesBI,n.StandardID.e_StdIDTimesI,n.StandardID.e_StdIDSymbol,n.StandardID.e_StdIDZapfDingbats];t=new this.engine.Font(r[e])}else t=new this.engine.Font((0,s.Dp)(n,r.fontName),0,n.Charset.e_CharsetANSI,0)}else t=new this.engine.Font(0);let u=new this.engine.DefaultAppearance(a|c|l,t,r.textSize?r.textSize:0,r.textColor?r.textColor:0);try{o.SetDefaultAppearance(u)}catch(e){return isNaN(e)||(e=n.getErrorCode(e)),void console.warn(e)}i.ResetAppearanceStream(),this.updateModifyTime()},n.getWidgetMkOption=function(){let e=this.engine,t=this.engineWidget.GetMKIconCaptionRelation();switch(t){case e.MKIconCaptionRelation.e_MKRelationNoIcon:t="e_MKRelationNoIcon";break;case e.MKIconCaptionRelation.e_MKRelationNoCaption:t="e_MKRelationNoCaption";break;case e.MKIconCaptionRelation.e_MKRelationCaptionBelowIcon:t="e_MKRelationCaptionBelowIcon";break;case e.MKIconCaptionRelation.e_MKRelationCaptionAboveIcon:t="e_MKRelationCaptionAboveIcon";break;case e.MKIconCaptionRelation.e_MKRelationCaptionRight:t="e_MKRelationCaptionRight";break;case e.MKIconCaptionRelation.e_MKRelationCaptionLeft:t="e_MKRelationCaptionLeft";break;case e.MKIconCaptionRelation.e_MKRelationCaptionOvrlayOnIcon:t="e_MKRelationCaptionOvrlayOnIcon";break;default:t=""}let n=this.engineWidget.GetHighlightingMode();switch(n){case e.HighlightingMode.e_HighlightingNone:n="e_HighlightingNone";break;case e.HighlightingMode.e_HighlightingInvert:n="e_HighlightingInvert";break;case e.HighlightingMode.e_HighlightingOutline:n="e_HighlightingOutline";break;case e.HighlightingMode.e_HighlightingPush:n="e_HighlightingPush";break;case e.HighlightingMode.e_HighlightingToggle:n="e_HighlightingToggle";break;default:n=""}let r=this.engineWidget.GetMKNormalCaption().toString(),i=this.engineWidget.GetMKDownCaption().toString(),o=this.engineWidget.GetMKRolloverCaption().toString();return{labelIcon:{up:{label:r,icon:this.bitmapParseBlob(this.engineWidget.GetMKNormalIconBitmap())},down:{label:i,icon:this.bitmapParseBlob(this.engineWidget.GetMKDownIconBitmap())},rollover:{label:o,icon:this.bitmapParseBlob(this.engineWidget.GetMKRolloverIconBitmap())}},layout:t,behavior:n}},n.setWidgetIconCaptionRelation=function(e){e=e||"e_MKRelationNoIcon";const t=this.engine.MKIconCaptionRelation[e];this.engineWidget.SetMKIconCaptionRelation(t),this.engineWidget.ResetAppearanceStream()},n.setWidgetHighlighting=function(e){e=e||"e_HighlightingPush";const t=this.engine.HighlightingMode[e];this.engineWidget.SetHighlightingMode(t),this.engineWidget.ResetAppearanceStream()},n.setWidgetMkCaption=function(e,t){switch(e=e||"up",t=(0,s.Dp)(this.engine,t||""),e){case"up":this.engineWidget.SetMKNormalCaption(t);break;case"down":this.engineWidget.SetMKDownCaption(t);break;case"rollover":this.engineWidget.SetMKRolloverCaption(t)}this.engineWidget.ResetAppearanceStream()},n.setWidgetMkIcon=function(e,t){let n,r;switch(e=e||"up",t&&(n=a.Z.createImage(this.engine,t),r=n.GetFrameBitmap(0)),e){case"up":t?this.engineWidget.SetMKNormalIconBitmap(r):this.engineWidget.RemoveMKEntry(this.engine.MKEntry.e_MKEntryNormalIcon);break;case"down":t?this.engineWidget.SetMKDownIconBitmap(r):this.engineWidget.RemoveMKEntry(this.engine.MKEntry.e_MKEntryDownIcon);break;case"rollover":t?this.engineWidget.SetMKRolloverIconBitmap(r):this.engineWidget.RemoveMKEntry(this.engine.MKEntry.e_MKEntryRolloverIcon)}this.engineWidget.ResetAppearanceStream()},n.getWidgetIconFitOption=function(){let e=this.engine;const t=this.engineWidget.GetMKIconFit();let{scale_way_type:n,is_proportional_scaling:r,fit_bounds:i,horizontal_fraction:o,vertical_fraction:a}=t;switch(n){case e.ScaleWayType.e_ScaleWayAlways:n="e_ScaleWayAlways";break;case e.ScaleWayType.e_ScaleWayBigger:n="e_ScaleWayBigger";break;case e.ScaleWayType.e_ScaleWaySmaller:n="e_ScaleWaySmaller";break;case e.ScaleWayType.e_ScaleWayNever:n="e_ScaleWayNever";break;default:n="e_ScaleWayAlways"}return o=(100*o).toFixed(0),a=(100*a).toFixed(0),{scale_way_type:n,is_proportional_scaling:r+"",fit_bounds:i,horizontal_fraction:o,vertical_fraction:a}},n.setWidgetIconFitOption=function(e){let t=new this.engine.IconFit;const n=this.engine.ScaleWayType[e.scale_way_type];let{is_proportional_scaling:r,horizontal_fraction:i,vertical_fraction:o,fit_bounds:a}=e;i=parseFloat(i/100),o=parseFloat(o/100),t.Set(n,"true"===r,i,o,a),this.engineWidget.SetMKIconFit(t),this.engineWidget.ResetAppearanceStream()},n.bitmapParseBlob=function(e){let t=this.engine,n="";if(!e.IsEmpty()){e.ConvertFormat(t.DIBFormat.e_DIBArgb);let r,i=e.GetWidth(),o=e.GetHeight(),a=e.GetBuffer(),s=o*e.GetPitch(),c=a+s;r=t.HEAPU8.buffer.slice?t.HEAPU8.buffer.slice(a,c):new Uint8Array(t.HEAPU8.buffer,a,s).buffer;let l=new Uint8Array(r),u=0,d=0,h=e.GetPitch();for(u=0;u<o;u++)for(d=0;d<i;d++){let e=u*h;[l[4*d+e],l[4*d+2+e]]=[l[4*d+2+e],l[4*d+e]]}n={start:a,size:s,width:i,height:o,buffer:r}}return n},n.removeAction=function(e,t){let n=this.engine,r=this.pdfPage.pdfDoc.form.engineForm.GetDocument(),i=this.engineWidget;if(this.updateModifyTime(),"-1"==e){let e=i.GetAction();return e=(0,l.Z)(n,r,e,t),t&&e?(i.SetAction(e),[this.JR.actionManager.get(e,this,this.JR).toJson()]):(i.RemoveAction(),[])}e=n.TriggerEvent.values[e];let o=i.GetField(),a=i.GetDict(),c=o.GetDict(),u=[a,c];return a.GetObjNum()==c.GetObjNum()&&(u=[a,null]),u.map((i=>{if(!i)return;let o,a=(0,s.n5)(n,"AA"),c=i.GetElement(a);if(!c)return;let u=c.GetDict();if(o=new n.AdditionalAction(r,u),t){let i=o.GetAction(e);if(i.IsEmpty())return;if(i=(0,l.Z)(n,r,i,t),i)return o.SetAction(e,i),this.JR.actionManager.get(i,this,this.JR).toJson();o.RemoveAction(e)}else o.RemoveAction(e)}))},n.moveAction=function(e){let{trigger:t,action:n,direction:r}=e,i=this.engine;t=i.TriggerEvent.values[t];let o=this.pdfPage.pdfDoc.doc,a=this.annot.GetDict();if(!a)return;let c,l=(0,s.n5)(i,"AA"),u=a.GetElement(l);if(!u)return;let d=u.GetDict();c=new i.AdditionalAction(o,d);let h=c.GetAction(t);if(h.IsEmpty())return;let f=h.GetSubActionCount(),g=[h];for(let e=0;e<f;e++)g.push(h.GetSubAction(e));let p=g.findIndex((e=>e.GetDict().GetObjNum()===n.objNumber));if(-1==p)return;let m=r?p+1:p-1;if(0==m||0==p){c.RemoveAction(t);let e=0==p?m:p;h=g[e],c.SetAction(t,h),g[0].RemoveAllSubActions(),g.splice(e,1);for(let e=0;e<g.length;e++)h.InsertSubAction(e,g[e])}else{h.RemoveAllSubActions(),[g[p],g[m]]=[g[m],g[p]];for(let e=1;e<g.length;e++)h.InsertSubAction(e,g[e])}this.updateModifyTime()},t}(o.Z);t.Z=d},9987:function(e,t,n){"use strict";function r(e,t){let n=e.AnnotType;return{text:n.e_Note,caret:n.e_Caret,freetext:n.e_FreeText,fileattachment:n.e_FileAttachment,highlight:n.e_Highlight,ink:n.e_Ink,line:n.e_Line,link:n.e_Link,circle:n.e_Circle,square:n.e_Square,polygon:n.e_Polygon,polyline:n.e_PolyLine,sound:n.e_Sound,squiggly:n.e_Squiggly,stamp:n.e_Stamp,strikeout:n.e_StrikeOut,underline:n.e_Underline,redact:n.e_Redact,popup:n.e_Popup,psink:n.e_PSInk,movie:n.e_Movie,widget:n.e_Widget,screen:n.e_Screen,printermark:n.e_PrinterMark,trapnet:n.e_TrapNet,watermark:n.e_Watermark,"3d":n.e_3D}[t]||n.e_UnknownType}n.d(t,{M:function(){return r}})},1098:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(4043),n(7267);let r=function(){function e(e,t,n){this.doc=t,t instanceof n.PDFDoc||(this.doc=t.doc),this.engine=n,this.destination=e}e.create=function(t,n,r){let i=null;switch(r.zoomMode||r.type){case"ZoomXYZ":i=e.createXYZ;break;case"ZoomFitPage":i=e.createFitPage;break;case"ZoomFitHorz":i=e.createFitHorz;break;case"ZoomFitVert":i=e.createFitVert;break;case"ZoomFitRect":i=e.createFitRect;break;case"ZoomFitBBox":i=e.createFitBBox;break;case"ZoomFitBHorz":i=e.createFitBHorz;break;default:i=e.createFitBVert}return i(t,n,r)},e.createFitBBox=function(e,t,n){return e.Destination.CreateFitBBox(t,n.pageIndex)},e.createFitBHorz=function(e,t,n){return e.Destination.CreateFitBHorz(t,n.pageIndex,n.top)},e.createFitBVert=function(e,t,n){return e.Destination.CreateFitBHorz(t,n.pageIndex,n.left)},e.createFitHorz=function(e,t,n){return e.Destination.CreateFitHorz(t,n.pageIndex,n.top)},e.createFitPage=function(e,t,n){return e.Destination.CreateFitPage(t,n.pageIndex)},e.createFitRect=function(e,t,n){return e.Destination.CreateFitRect(t,n.pageIndex,n.left,n.bottom,n.right,n.top)},e.createFitVert=function(e,t,n){return e.Destination.CreateFitVert(t,n.pageIndex,n.left)},e.createFromPDFArray=function(e,t,n){return e.Destination.CreateFromPDFArray(t,n.pdfArray)},e.createXYZ=function(e,t,n){const r=t.GetPageCount(),i=n.pageIndex;if(isNaN(i)||i<0||i>=r){if(1===r)throw new Error(`Incorrect page index: ${i}. It should be 0`);throw new Error(`Incorrect page index: ${i}. It should be between [0,${r-1}]`)}return e.Destination.CreateXYZ(t,n.pageIndex,n.left,n.top,n.zoomFactor)};var t=e.prototype;return t.toJson=function(){let e=null;return this.destination.IsEmpty()||(e={top:this.getTop(),bottom:this.getBottom(),left:this.getLeft(),right:this.getRight(),pageIndex:this.getPageIndex(),zoomFactor:this.getZoomFactor(),zoomMode:this.getZoomMode()}),e},t.getTop=function(){return this.destination.GetTop()},t.getBottom=function(){return this.destination.GetBottom()},t.getLeft=function(){return this.destination.GetLeft()},t.getRight=function(){return this.destination.GetRight()},t.getPageIndex=function(){let e=this.destination.GetDestArray();if(!e||0===e.GetElementCount())return-1;let t=e.GetElement(0).GetDirectObject();if(!t)return-1;let n=t.GetType().value;if(2==n)return t.GetInteger();if(6!=n)return-1;let r=t.GetDict().GetElement(new this.engine.String("Parent"));if(!r)return-1;let i=r.GetDict();if(!i)return-1;if(i.HasKey(new this.engine.String("Kids"))){let e=i.GetElement(new this.engine.String("Kids")).GetDirectObject().GetArray();if(!e||0===e.GetElementCount())return-1}return this.destination.GetPageIndex(this.doc)},t.getDestArray=function(){return this.destination.GetDestArray()},t.getZoomFactor=function(){return this.destination.GetZoomFactor()},t.getZoomMode=function(){let e=this.destination.GetZoomMode();return e&&e.constructor.name.replace(/^ZoomMode_e_/,"")},e}()},8191:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});n(752),n(9976),n(3356);var r=n(6346),i=n(4127);const o=r.mA.getLogger("pdf-jr.FileSpec");let a=function(){function e(e,t){this.parent=t,this.engine=t.engine,this.fileSpec=e}e.createFile=function(e,t,n){let r=new e.FileSpec(t);return r.Embed(e.StreamCallback.implement({Release:function(){},GetSize:function(){return n.byteLength},ReadBlock:(t,r,i)=>{let o=n.slice(r,r+i);return e.HEAPU8.set(o,t),!0}})),r},e.createFileEx=function(e,t,n,r,i){let o;return o=n||new e.FileSpec(t),o.Embed(e.StreamCallback.implement({Release:function(){},GetSize:function(){return r instanceof Blob?r.size:r.byteLength},ReadBlock:(t,n,r)=>{let o=new Uint8Array(i(n,r));return e.HEAPU8.set(o,t),!0}}))?o:null};var t=e.prototype;return t.toJson=function(){let e=null;if(this.fileSpec.IsEmpty())return e;let t=this.getDict();if(t){let n=t.GetObjNum();e={description:this.getDescription(),dict:t,fileName:this.getFileName(),fileSize:this.getFileSize(),modifiedDateTime:this.getModifiedDateTime(),subtype:this.getSubtype(),isEmbedded:this.isEmbedded(),objNum:n}}return e},t.gtAssociteFileRelationship=function(){return this.fileSpec.GetAssociteFileRelationship()},t.getChecksum=function(){let e=this.fileSpec.GetChecksum();return 0===e.GetLength()?null:e.toString()},t.getCreationDateTime=function(){try{let e=this.fileSpec.GetCreationDateTime();return e.IsValid()?e:null}catch(e){let t=this.engine,n=e instanceof t.ErrorCode?e:t.getErrorCode(e);o.warn(n)}},t.getDescription=function(){let e=this.fileSpec.GetDescription();if(0===e.GetLength())return null;try{return e.toString()}catch(t){return this.parent.JR.getPDFString(e)}},t.getDict=function(){return this.fileSpec.GetDict()},t.getFileData=function(){return this.fileSpec.GetFileData()},t.getFileName=function(){let e=this.fileSpec.GetFileName();return 0===e.GetLength()?null:e.toString()},t.getFileSize=function(){return this.fileSpec.GetFileSize()},t.getModifiedDateTime=function(){const e=this.fileSpec.GetModifiedDateTime();return e.IsValid()?(0,i.Z)(e,"YYYY/MM/DD HH:mm:ss"):null},t.getSubtype=function(){let e=this.fileSpec.GetSubtype();return 0===e.GetLength()?null:e.toString()},t.isEmbedded=function(){return this.fileSpec.IsEmbedded()},t.setAssociteFileRelationship=function(e){this.fileSpec.SetAssociteFileRelationship(e)},t.setChecksum=function(e){this.fileSpec.SetChecksum(e)},t.setCreationDateTime=function(e){this.fileSpec.SetCreationDateTime(e)},t.setDescription=function(e){this.fileSpec.SetDescription(e)},t.setFileName=function(e){let t=new this.engine.WString(e);this.fileSpec.SetFileName(t),t.delete()},t.setModifiedDateTime=function(e){this.fileSpec.SetModifiedDateTime(e)},t.setSubtype=function(e){this.fileSpec.SetSubtype(e)},t.getStream=function(e){let t=this.engine,n=0,i=(0,r.dD)(),o=t.StreamCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>n,WriteBlock:(r,o,a)=>{n+=a;let s,c=t.HEAPU8.buffer;return s=c.slice?c.slice(r,r+a):new Uint8Array(c,r,a).buffer,e(s,o,a),i.resolve(n),!0}});return this.fileSpec.ExportToFileStream(o),i.promise},t.getStreamEx=function(){let e=this.engine,t=!0,n=0,i=new Blob([]),o=(0,r.dD)(),a=e.StreamCallback.implement({Release:()=>{t=!0,n=0},Flush:()=>!0,GetSize:()=>n,WriteBlock:(r,o,a)=>{const s=[];for(let t=o;t<o+a;t++)s.push(e.HEAPU8[r+t-o]);if(t)t=!1,i=0!=o?new Blob([new Uint8Array(o),new Uint8Array(s)]):new Blob([i,new Uint8Array(s)]);else{let e=i.size;o>=0&&o<e&&o+a<e?i=new Blob([i.slice(0,o),new Uint8Array(s),i.slice(o+a,e)]):o>=0&&o<e&&o+a>e?i=new Blob([i.slice(0,o),new Uint8Array(s)]):o>=e&&(i=new Blob([i,new Uint8Array(o-e),new Uint8Array(s)]))}return n=i.size,!0}});return this.fileSpec.ExportToFileStream(a),o.resolve(i),o.promise},e}()},6976:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(752),n(9976),n(3356);var r=n(6346);let i=function(){function e(){}return e.createImage=function(e,t,n=!1){let i,o;t.slice?i=function(e,n,r,i){e.set(new Uint8Array(t.slice(r,r+i)),n)}:(o=new Uint8Array(t),i=function(e,t,n,r){e.set(o.slice(n,n+r),t)});try{let r=e.ReaderCallback.implement({Release:function(){},GetSize:function(){return t.byteLength},ReadBlock:(t,n,r)=>(i(e.HEAPU8,t,n,r),!0)});return n?r:new e.Image(r)}catch(t){isNaN(t)||(t=e.getErrorCode(t));r.mA.getLogger("CreateImage").warn(t)}},e}()},8331:function(e,t,n){"use strict";n(752),n(9976),n(3356);const r=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){for(var t,n=c(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),l=0,u=a>0?r-4:r,d=0;d<u;d+=4)t=i[e.charCodeAt(d)]<<18|i[e.charCodeAt(d+1)]<<12|i[e.charCodeAt(d+2)]<<6|i[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(d)]<<2|i[e.charCodeAt(d+1)]>>4,s[l++]=255&t),1===a&&(t=i[e.charCodeAt(d)]<<10|i[e.charCodeAt(d+1)]<<4|i[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){var r=4096,i=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function o(e){this.buf_=new Uint8Array(8224),this.input_=e,this.reset()}o.READ_SIZE=r,o.IBUF_MASK=8191,o.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(var e=0;e<4;e++)this.val_|=this.buf_[this.pos_]<<8*e,++this.pos_;return this.bit_end_pos_>0},o.prototype.readMoreInput=function(){if(!(this.bit_end_pos_>256))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{var e=this.buf_ptr_,t=this.input_.read(this.buf_,e,r);if(t<0)throw new Error("Unexpected end of input");if(t<r){this.eos_=1;for(var n=0;n<32;n++)this.buf_[e+t+n]=0}if(0===e){for(n=0;n<32;n++)this.buf_[8192+n]=this.buf_[n];this.buf_ptr_=r}else this.buf_ptr_=0;this.bit_end_pos_+=t<<3}},o.prototype.fillBitWindow=function(){for(;this.bit_pos_>=8;)this.val_>>>=8,this.val_|=this.buf_[8191&this.pos_]<<24,++this.pos_,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0},o.prototype.readBits=function(e){32-this.bit_pos_<e&&this.fillBitWindow();var t=this.val_>>>this.bit_pos_&i[e];return this.bit_pos_+=e,t},t.exports=o},{}],3:[function(e,t,n){n.lookup=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n.lookupOffsets=new Uint16Array([1024,1536,1280,1536,0,256,768,512])},{}],4:[function(e,t,n){var r=e("./streams").BrotliInput,i=e("./streams").BrotliOutput,o=e("./bit_reader"),a=e("./dictionary"),s=e("./huffman").HuffmanCode,c=e("./huffman").BrotliBuildHuffmanTable,l=e("./context"),u=e("./prefix"),d=e("./transform"),h=8,f=16,g=256,p=704,m=26,_=6,y=2,S=8,b=255,I=1080,A=18,D=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]),v=16,w=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),P=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),F=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]);function T(e){var t;return 0===e.readBits(1)?16:(t=e.readBits(3))>0?17+t:(t=e.readBits(3))>0?8+t:17}function C(e){if(e.readBits(1)){var t=e.readBits(3);return 0===t?1:e.readBits(t)+(1<<t)}return 0}function G(){this.meta_block_length=0,this.input_end=0,this.is_uncompressed=0,this.is_metadata=!1}function E(e){var t,n,r,i=new G;if(i.input_end=e.readBits(1),i.input_end&&e.readBits(1))return i;if(7===(t=e.readBits(2)+4)){if(i.is_metadata=!0,0!==e.readBits(1))throw new Error("Invalid reserved bit");if(0===(n=e.readBits(2)))return i;for(r=0;r<n;r++){var o=e.readBits(8);if(r+1===n&&n>1&&0===o)throw new Error("Invalid size byte");i.meta_block_length|=o<<8*r}}else for(r=0;r<t;++r){var a=e.readBits(4);if(r+1===t&&t>4&&0===a)throw new Error("Invalid size nibble");i.meta_block_length|=a<<4*r}return++i.meta_block_length,i.input_end||i.is_metadata||(i.is_uncompressed=e.readBits(1)),i}function R(e,t,n){var r;return n.fillBitWindow(),(r=e[t+=n.val_>>>n.bit_pos_&b].bits-S)>0&&(n.bit_pos_+=S,t+=e[t].value,t+=n.val_>>>n.bit_pos_&(1<<r)-1),n.bit_pos_+=e[t].bits,e[t].value}function x(e,t,n,r){var i,o,a=new Uint8Array(e);if(r.readMoreInput(),1===(o=r.readBits(2))){for(var l=e-1,u=0,d=new Int32Array(4),g=r.readBits(2)+1;l;)l>>=1,++u;for(p=0;p<g;++p)d[p]=r.readBits(u)%e,a[d[p]]=2;switch(a[d[0]]=1,g){case 1:break;case 3:if(d[0]===d[1]||d[0]===d[2]||d[1]===d[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(d[0]===d[1])throw new Error("[ReadHuffmanCode] invalid symbols");a[d[1]]=1;break;case 4:if(d[0]===d[1]||d[0]===d[2]||d[0]===d[3]||d[1]===d[2]||d[1]===d[3]||d[2]===d[3])throw new Error("[ReadHuffmanCode] invalid symbols");r.readBits(1)?(a[d[2]]=3,a[d[3]]=3):a[d[0]]=2}}else{var p,m=new Uint8Array(A),_=32,y=0,b=[new s(2,0),new s(2,4),new s(2,3),new s(3,2),new s(2,0),new s(2,4),new s(2,3),new s(4,1),new s(2,0),new s(2,4),new s(2,3),new s(3,2),new s(2,0),new s(2,4),new s(2,3),new s(4,5)];for(p=o;p<A&&_>0;++p){var I,v=D[p],w=0;r.fillBitWindow(),w+=r.val_>>>r.bit_pos_&15,r.bit_pos_+=b[w].bits,I=b[w].value,m[v]=I,0!==I&&(_-=32>>I,++y)}if(1!==y&&0!==_)throw new Error("[ReadHuffmanCode] invalid num_codes or space");!function(e,t,n,r){for(var i=0,o=h,a=0,l=0,u=32768,d=[],g=0;g<32;g++)d.push(new s(0,0));for(c(d,0,5,e,A);i<t&&u>0;){var p,m=0;if(r.readMoreInput(),r.fillBitWindow(),m+=r.val_>>>r.bit_pos_&31,r.bit_pos_+=d[m].bits,(p=255&d[m].value)<f)a=0,n[i++]=p,0!==p&&(o=p,u-=32768>>p);else{var _,y,S=p-14,b=0;if(p===f&&(b=o),l!==b&&(a=0,l=b),_=a,a>0&&(a-=2,a<<=S),i+(y=(a+=r.readBits(S)+3)-_)>t)throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(var I=0;I<y;I++)n[i+I]=l;i+=y,0!==l&&(u-=y<<15-l)}}if(0!==u)throw new Error("[ReadHuffmanCodeLengths] space = "+u);for(;i<t;i++)n[i]=0}(m,e,a,r)}if(0===(i=c(t,n,S,a,e)))throw new Error("[ReadHuffmanCode] BuildHuffmanTable failed: ");return i}function M(e,t,n){var r,i;return r=R(e,t,n),i=u.kBlockLengthPrefixCode[r].nbits,u.kBlockLengthPrefixCode[r].offset+n.readBits(i)}function O(e,t,n){var r;return e<v?(n+=w[e],r=t[n&=3]+P[e]):r=e-v+1,r}function N(e,t){for(var n=e[t],r=t;r;--r)e[r]=e[r-1];e[0]=n}function k(e,t){this.alphabet_size=e,this.num_htrees=t,this.codes=new Array(t+t*F[e+31>>>5]),this.htrees=new Uint32Array(t)}function B(e,t){var n,r,i={num_htrees:null,context_map:null},o=0;t.readMoreInput();var a=i.num_htrees=C(t)+1,c=i.context_map=new Uint8Array(e);if(a<=1)return i;for(t.readBits(1)&&(o=t.readBits(4)+1),n=[],r=0;r<I;r++)n[r]=new s(0,0);for(x(a+o,n,0,t),r=0;r<e;){var l;if(t.readMoreInput(),0===(l=R(n,0,t)))c[r]=0,++r;else if(l<=o)for(var u=1+(1<<l)+t.readBits(l);--u;){if(r>=e)throw new Error("[DecodeContextMap] i >= context_map_size");c[r]=0,++r}else c[r]=l-o,++r}return t.readBits(1)&&function(e,t){var n,r=new Uint8Array(256);for(n=0;n<256;++n)r[n]=n;for(n=0;n<t;++n){var i=e[n];e[n]=r[i],i&&N(r,i)}}(c,e),i}function L(e,t,n,r,i,o,a){var s,c=2*n,l=n,u=R(t,n*I,a);(s=0===u?i[c+(1&o[l])]:1===u?i[c+(o[l]-1&1)]+1:u-2)>=e&&(s-=e),r[n]=s,i[c+(1&o[l])]=s,++o[l]}function j(e,t,n,r,i,a){var s,c=i+1,l=n&i,u=a.pos_&o.IBUF_MASK;if(t<8||a.bit_pos_+(t<<3)<a.bit_end_pos_)for(;t-- >0;)a.readMoreInput(),r[l++]=a.readBits(8),l===c&&(e.write(r,c),l=0);else{if(a.bit_end_pos_<32)throw new Error("[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32");for(;a.bit_pos_<32;)r[l]=a.val_>>>a.bit_pos_,a.bit_pos_+=8,++l,--t;if(u+(s=a.bit_end_pos_-a.bit_pos_>>3)>o.IBUF_MASK){for(var d=o.IBUF_MASK+1-u,h=0;h<d;h++)r[l+h]=a.buf_[u+h];s-=d,l+=d,t-=d,u=0}for(h=0;h<s;h++)r[l+h]=a.buf_[u+h];if(t-=s,(l+=s)>=c)for(e.write(r,c),l-=c,h=0;h<l;h++)r[h]=r[c+h];for(;l+t>=c;){if(s=c-l,a.input_.read(r,l,s)<s)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");e.write(r,c),t-=s,l=0}if(a.input_.read(r,l,t)<t)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");a.reset()}}function U(e){var t=e.bit_pos_+7&-8;return 0==e.readBits(t-e.bit_pos_)}function W(e){var t=new r(e),n=new o(t);return T(n),E(n).meta_block_length}function H(e,t){var n,r,i,c,h,f,S,b,A,D,w=0,P=0,F=0,G=[16,15,11,4],N=0,W=0,H=0,z=[new k(0,0),new k(0,0),new k(0,0)],K=128+o.READ_SIZE;i=(1<<(r=T(D=new o(e))))-16,h=(c=1<<r)-1,f=new Uint8Array(c+K+a.maxDictionaryWordLength),S=c,b=[],A=[];for(var J=0;J<3*I;J++)b[J]=new s(0,0),A[J]=new s(0,0);for(;!P;){var V,Y,Z,q,X,Q,$,ee,te,ne,re,ie=0,oe=[1<<28,1<<28,1<<28],ae=[0],se=[1,1,1],ce=[0,1,0,1,0,1],le=[0],ue=null,de=null,he=0,fe=null,ge=0,pe=0,me=0;for(n=0;n<3;++n)z[n].codes=null,z[n].htrees=null;D.readMoreInput();var _e=E(D);if(w+(ie=_e.meta_block_length)>t.buffer.length){var ye=new Uint8Array(w+ie);ye.set(t.buffer),t.buffer=ye}if(P=_e.input_end,V=_e.is_uncompressed,_e.is_metadata)for(U(D);ie>0;--ie)D.readMoreInput(),D.readBits(8);else if(0!==ie)if(V)D.bit_pos_=D.bit_pos_+7&-8,j(t,ie,w,f,h,D),w+=ie;else{for(n=0;n<3;++n)se[n]=C(D)+1,se[n]>=2&&(x(se[n]+2,b,n*I,D),x(m,A,n*I,D),oe[n]=M(A,n*I,D),le[n]=1);for(D.readMoreInput(),q=(1<<(Y=D.readBits(2)))-1,X=(Z=v+(D.readBits(4)<<Y))+(48<<Y),ue=new Uint8Array(se[0]),n=0;n<se[0];++n)D.readMoreInput(),ue[n]=D.readBits(2)<<1;var Se=B(se[0]<<_,D);$=Se.num_htrees,Q=Se.context_map;var be=B(se[2]<<y,D);for(te=be.num_htrees,ee=be.context_map,z[0]=new k(g,$),z[1]=new k(p,se[1]),z[2]=new k(X,te),n=0;n<3;++n)z[n].decode(D);for(de=0,fe=0,ne=ue[ae[0]],pe=l.lookupOffsets[ne],me=l.lookupOffsets[ne+1],re=z[1].htrees[0];ie>0;){var Ie,Ae,De,ve,we,Pe,Fe,Te,Ce,Ge,Ee,Re;for(D.readMoreInput(),0===oe[1]&&(L(se[1],b,1,ae,ce,le,D),oe[1]=M(A,I,D),re=z[1].htrees[ae[1]]),--oe[1],(Ae=(Ie=R(z[1].codes,re,D))>>6)>=2?(Ae-=2,Fe=-1):Fe=0,De=u.kInsertRangeLut[Ae]+(Ie>>3&7),ve=u.kCopyRangeLut[Ae]+(7&Ie),we=u.kInsertLengthPrefixCode[De].offset+D.readBits(u.kInsertLengthPrefixCode[De].nbits),Pe=u.kCopyLengthPrefixCode[ve].offset+D.readBits(u.kCopyLengthPrefixCode[ve].nbits),W=f[w-1&h],H=f[w-2&h],Ce=0;Ce<we;++Ce)D.readMoreInput(),0===oe[0]&&(L(se[0],b,0,ae,ce,le,D),oe[0]=M(A,0,D),de=ae[0]<<_,ne=ue[ae[0]],pe=l.lookupOffsets[ne],me=l.lookupOffsets[ne+1]),he=Q[de+(l.lookup[pe+W]|l.lookup[me+H])],--oe[0],H=W,W=R(z[0].codes,z[0].htrees[he],D),f[w&h]=W,(w&h)===h&&t.write(f,c),++w;if((ie-=we)<=0)break;if(Fe<0&&(D.readMoreInput(),0===oe[2]&&(L(se[2],b,2,ae,ce,le,D),oe[2]=M(A,2*I,D),fe=ae[2]<<y),--oe[2],ge=ee[fe+(255&(Pe>4?3:Pe-2))],(Fe=R(z[2].codes,z[2].htrees[ge],D))>=Z&&(Re=(Fe-=Z)&q,Fe=Z+((xe=(2+(1&(Fe>>=Y))<<(Ee=1+(Fe>>1)))-4)+D.readBits(Ee)<<Y)+Re)),(Te=O(Fe,G,N))<0)throw new Error("[BrotliDecompress] invalid distance");if(Ge=w&h,Te>(F=w<i&&F!==i?w:i)){if(!(Pe>=a.minDictionaryWordLength&&Pe<=a.maxDictionaryWordLength))throw new Error("Invalid backward reference. pos: "+w+" distance: "+Te+" len: "+Pe+" bytes left: "+ie);var xe=a.offsetsByLength[Pe],Me=Te-F-1,Oe=a.sizeBitsByLength[Pe],Ne=Me>>Oe;if(xe+=(Me&(1<<Oe)-1)*Pe,!(Ne<d.kNumTransforms))throw new Error("Invalid backward reference. pos: "+w+" distance: "+Te+" len: "+Pe+" bytes left: "+ie);var ke=d.transformDictionaryWord(f,Ge,xe,Pe,Ne);if(w+=ke,ie-=ke,(Ge+=ke)>=S){t.write(f,c);for(var Be=0;Be<Ge-S;Be++)f[Be]=f[S+Be]}}else{if(Fe>0&&(G[3&N]=Te,++N),Pe>ie)throw new Error("Invalid backward reference. pos: "+w+" distance: "+Te+" len: "+Pe+" bytes left: "+ie);for(Ce=0;Ce<Pe;++Ce)f[w&h]=f[w-Te&h],(w&h)===h&&t.write(f,c),++w,--ie}W=f[w-1&h],H=f[w-2&h]}w&=1073741823}}t.write(f,w&h)}k.prototype.decode=function(e){var t,n=0;for(t=0;t<this.num_htrees;++t)this.htrees[t]=n,n+=x(this.alphabet_size,this.codes,n,e)},n.BrotliDecompressedSize=W,n.BrotliDecompressBuffer=function(e,t){var n=new r(e);null==t&&(t=W(e));var o=new Uint8Array(t),a=new i(o);return H(n,a),a.pos<a.buffer.length&&(a.buffer=a.buffer.subarray(0,a.pos)),a.buffer},n.BrotliDecompress=H,a.init()},{"./bit_reader":2,"./context":3,"./dictionary":7,"./huffman":8,"./prefix":9,"./streams":10,"./transform":11}],5:[function(e,t,n){var r=e("base64-js");e("fs"),n.init=function(){return(0,e("./decode").BrotliDecompressBuffer)(r.toByteArray(e("./dictionary.bin.js")))}},{"./decode":4,"./dictionary.bin.js":6,"base64-js":1,fs:13}],6:[function(e,t,n){t.exports="W5/fcQLn5gKf2XUbAiQ1XULX+TZz6ADToDsgqk6qVfeC0e4m6OO2wcQ1J76ZBVRV1fRkEsdu//62zQsFEZWSTCnMhcsQKlS2qOhuVYYMGCkV0fXWEoMFbESXrKEZ9wdUEsyw9g4bJlEt1Y6oVMxMRTEVbCIwZzJzboK5j8m4YH02qgXYhv1V+PM435sLVxyHJihaJREEhZGqL03txGFQLm76caGO/ovxKvzCby/3vMTtX/459f0igi7WutnKiMQ6wODSoRh/8Lx1V3Q99MvKtwB6bHdERYRY0hStJoMjNeTsNX7bn+Y7e4EQ3bf8xBc7L0BsyfFPK43dGSXpL6clYC/I328h54/VYrQ5i0648FgbGtl837svJ35L3Mot/+nPlNpWgKx1gGXQYqX6n+bbZ7wuyCHKcUok12Xjqub7NXZGzqBx0SD+uziNf87t7ve42jxSKQoW3nyxVrWIGlFShhCKxjpZZ5MeGna0+lBkk+kaN8F9qFBAFgEogyMBdcX/T1W/WnMOi/7ycWUQloEBKGeC48MkiwqJkJO+12eQiOFHMmck6q/IjWW3RZlany23TBm+cNr/84/oi5GGmGBZWrZ6j+zykVozz5fT/QH/Da6WTbZYYPynVNO7kxzuNN2kxKKWche5WveitPKAecB8YcAHz/+zXLjcLzkdDSktNIDwZE9J9X+tto43oJy65wApM3mDzYtCwX9lM+N5VR3kXYo0Z3t0TtXfgBFg7gU8oN0Dgl7fZlUbhNll+0uuohRVKjrEd8egrSndy5/Tgd2gqjA4CAVuC7ESUmL3DZoGnfhQV8uwnpi8EGvAVVsowNRxPudck7+oqAUDkwZopWqFnW1riss0t1z6iCISVKreYGNvQcXv+1L9+jbP8cd/dPUiqBso2q+7ZyFBvENCkkVr44iyPbtOoOoCecWsiuqMSML5lv+vN5MzUr+Dnh73G7Q1YnRYJVYXHRJaNAOByiaK6CusgFdBPE40r0rvqXV7tksKO2DrHYXBTv8P5ysqxEx8VDXUDDqkPH6NNOV/a2WH8zlkXRELSa8P+heNyJBBP7PgsG1EtWtNef6/i+lcayzQwQCsduidpbKfhWUDgAEmyhGu/zVTacI6RS0zTABrOYueemnVa19u9fT23N/Ta6RvTpof5DWygqreCqrDAgM4LID1+1T/taU6yTFVLqXOv+/MuQOFnaF8vLMKD7tKWDoBdALgxF33zQccCcdHx8fKIVdW69O7qHtXpeGr9jbbpFA+qRMWr5hp0s67FPc7HAiLV0g0/peZlW7hJPYEhZyhpSwahnf93/tZgfqZWXFdmdXBzqxGHLrQKxoAY6fRoBhgCRPmmGueYZ5JexTVDKUIXzkG/fqp/0U3hAgQdJ9zumutK6nqWbaqvm1pgu03IYR+G+8s0jDBBz8cApZFSBeuWasyqo2OMDKAZCozS+GWSvL/HsE9rHxooe17U3s/lTE+VZAk4j3dp6uIGaC0JMiqR5CUsabPyM0dOYDR7Ea7ip4USZlya38YfPtvrX/tBlhHilj55nZ1nfN24AOAi9BVtz/Mbn8AEDJCqJgsVUa6nQnSxv2Fs7l/NlCzpfYEjmPrNyib/+t0ei2eEMjvNhLkHCZlci4WhBe7ePZTmzYqlY9+1pxtS4GB+5lM1BHT9tS270EWUDYFq1I0yY/fNiAk4bk9yBgmef/f2k6AlYQZHsNFnW8wBQxCd68iWv7/35bXfz3JZmfGligWAKRjIs3IpzxQ27vAglHSiOzCYzJ9L9A1CdiyFvyR66ucA4jKifu5ehwER26yV7HjKqn5Mfozo7Coxxt8LWWPT47BeMxX8p0Pjb7hZn+6bw7z3Lw+7653j5sI8CLu5kThpMlj1m4c2ch3jGcP1FsT13vuK3qjecKTZk2kHcOZY40UX+qdaxstZqsqQqgXz+QGF99ZJLqr3VYu4aecl1Ab5GmqS8k/GV5b95zxQ5d4EfXUJ6kTS/CXF/aiqKDOT1T7Jz5z0PwDUcwr9clLN1OJGCiKfqvah+h3XzrBOiLOW8wvn8gW6qE8vPxi+Efv+UH55T7PQFVMh6cZ1pZQlzJpKZ7P7uWvwPGJ6DTlR6wbyj3Iv2HyefnRo/dv7dNx+qaa0N38iBsR++Uil7Wd4afwDNsrzDAK4fXZwvEY/jdKuIKXlfrQd2C39dW7ntnRbIp9OtGy9pPBn/V2ASoi/2UJZfS+xuGLH8bnLuPlzdTNS6zdyk8Dt/h6sfOW5myxh1f+zf3zZ3MX/mO9cQPp5pOx967ZA6/pqHvclNfnUFF+rq+Vd7alKr6KWPcIDhpn6v2K6NlUu6LrKo8b/pYpU/Gazfvtwhn7tEOUuXht5rUJdSf6sLjYf0VTYDgwJ81yaqKTUYej/tbHckSRb/HZicwGJqh1mAHB/IuNs9dc9yuvF3D5Xocm3elWFdq5oEy70dYFit79yaLiNjPj5UUcVmZUVhQEhW5V2Z6Cm4HVH/R8qlamRYwBileuh07CbEce3TXa2JmXWBf+ozt319psboobeZhVnwhMZzOeQJzhpTDbP71Tv8HuZxxUI/+ma3XW6DFDDs4+qmpERwHGBd2edxwUKlODRdUWZ/g0GOezrbzOZauFMai4QU6GVHV6aPNBiBndHSsV4IzpvUiiYyg6OyyrL4Dj5q/Lw3N5kAwftEVl9rNd7Jk5PDij2hTH6wIXnsyXkKePxbmHYgC8A6an5Fob/KH5GtC0l4eFso+VpxedtJHdHpNm+Bvy4C79yVOkrZsLrQ3OHCeB0Ra+kBIRldUGlDCEmq2RwXnfyh6Dz+alk6eftI2n6sastRrGwbwszBeDRS/Fa/KwRJkCzTsLr/JCs5hOPE/MPLYdZ1F1fv7D+VmysX6NpOC8aU9F4Qs6HvDyUy9PvFGDKZ/P5101TYHFl8pjj6wm/qyS75etZhhfg0UEL4OYmHk6m6dO192AzoIyPSV9QedDA4Ml23rRbqxMPMxf7FJnDc5FTElVS/PyqgePzmwVZ26NWhRDQ+oaT7ly7ell4s3DypS1s0g+tOr7XHrrkZj9+x/mJBttrLx98lFIaRZzHz4aC7r52/JQ4VjHahY2/YVXZn/QC2ztQb/sY3uRlyc5vQS8nLPGT/n27495i8HPA152z7Fh5aFpyn1GPJKHuPL8Iw94DuW3KjkURAWZXn4EQy89xiKEHN1mk/tkM4gYDBxwNoYvRfE6LFqsxWJtPrDGbsnLMap3Ka3MUoytW0cvieozOmdERmhcqzG+3HmZv2yZeiIeQTKGdRT4HHNxekm1tY+/n06rGmFleqLscSERzctTKM6G9P0Pc1RmVvrascIxaO1CQCiYPE15bD7c3xSeW7gXxYjgxcrUlcbIvO0r+Yplhx0kTt3qafDOmFyMjgGxXu73rddMHpV1wMubyAGcf/v5dLr5P72Ta9lBF+fzMJrMycwv+9vnU3ANIl1cH9tfW7af8u0/HG0vV47jNFXzFTtaha1xvze/s8KMtCYucXc1nzfd/MQydUXn/b72RBt5wO/3jRcMH9BdhC/yctKBIveRYPrNpDWqBsO8VMmP+WvRaOcA4zRMR1PvSoO92rS7pYEv+fZfEfTMzEdM+6X5tLlyxExhqLRkms5EuLovLfx66de5fL2/yX02H52FPVwahrPqmN/E0oVXnsCKhbi/yRxX83nRbUKWhzYceXOntfuXn51NszJ6MO73pQf5Pl4in3ec4JU8hF7ppV34+mm9r1LY0ee/i1O1wpd8+zfLztE0cqBxggiBi5Bu95v9l3r9r/U5hweLn+TbfxowrWDqdJauKd8+q/dH8sbPkc9ttuyO94f7/XK/nHX46MPFLEb5qQlNPvhJ50/59t9ft3LXu7uVaWaO2bDrDCnRSzZyWvFKxO1+vT8MwwunR3bX0CkfPjqb4K9O19tn5X50PvmYpEwHtiW9WtzuV/s76B1zvLLNkViNd8ySxIl/3orfqP90TyTGaf7/rx8jQzeHJXdmh/N6YDvbvmTBwCdxfEQ1NcL6wNMdSIXNq7b1EUzRy1/Axsyk5p22GMG1b+GxFgbHErZh92wuvco0AuOLXct9hvw2nw/LqIcDRRmJmmZzcgUa7JpM/WV/S9IUfbF56TL2orzqwebdRD8nIYNJ41D/hz37Fo11p2Y21wzPcn713qVGhqtevStYfGH4n69OEJtPvbbLYWvscDqc3Hgnu166+tAyLnxrX0Y5zoYjV++1sI7t5kMr02KT/+uwtkc+rZLOf/qn/s3nYCf13Dg8/sB2diJgjGqjQ+TLhxbzyue2Ob7X6/9lUwW7a+lbznHzOYy8LKW1C/uRPbQY3KW/0gO9LXunHLvPL97afba9bFtc9hmz7GAttjVYlCvQAiOwAk/gC5+hkLEs6tr3AZKxLJtOEwk2dLxTYWsIB/j/ToWtIWzo906FrSG8iaqqqqqqiIiIiAgzMzMzNz+AyK+01/zi8n8S+Y1MjoRaQ80WU/G8MBlO+53VPXANrWm4wzGUVZUjjBJZVdhpcfkjsmcWaO+UEldXi1e+zq+HOsCpknYshuh8pOLISJun7TN0EIGW2xTnlOImeecnoGW4raxe2G1T3HEvfYUYMhG+gAFOAwh5nK8mZhwJMmN7r224QVsNFvZ87Z0qatvknklyPDK3Hy45PgVKXji52Wen4d4PlFVVYGnNap+fSpFbK90rYnhUc6n91Q3AY9E0tJOFrcfZtm/491XbcG/jsViUPPX76qmeuiz+qY1Hk7/1VPM405zWVuoheLUimpWYdVzCmUdKHebMdzgrYrb8mL2eeLSnRWHdonfZa8RsOU9F37w+591l5FLYHiOqWeHtE/lWrBHcRKp3uhtr8yXm8LU/5ms+NM6ZKsqu90cFZ4o58+k4rdrtB97NADFbwmEG7lXqvirhOTOqU14xuUF2myIjURcPHrPOQ4lmM3PeMg7bUuk0nnZi67bXsU6H8lhqIo8TaOrEafCO1ARK9PjC0QOoq2BxmMdgYB9G/lIb9++fqNJ2s7BHGFyBNmZAR8J3KCo012ikaSP8BCrf6VI0X5xdnbhHIO+B5rbOyB54zXkzfObyJ4ecwxfqBJMLFc7m59rNcw7hoHnFZ0b00zee+gTqvjm61Pb4xn0kcDX4jvHM0rBXZypG3DCKnD/Waa/ZtHmtFPgO5eETx+k7RrVg3aSwm2YoNXnCs3XPQDhNn+Fia6IlOOuIG6VJH7TP6ava26ehKHQa2T4N0tcZ9dPCGo3ZdnNltsHQbeYt5vPnJezV/cAeNypdml1vCHI8M81nSRP5Qi2+mI8v/sxiZru9187nRtp3f/42NemcONa+4eVC3PCZzc88aZh851CqSsshe70uPxeN/dmYwlwb3trwMrN1Gq8jbnApcVDx/yDPeYs5/7r62tsQ6lLg+DiFXTEhzR9dHqv0iT4tgj825W+H3XiRUNUZT2kR9Ri0+lp+UM3iQtS8uOE23Ly4KYtvqH13jghUntJRAewuzNLDXp8RxdcaA3cMY6TO2IeSFRXezeWIjCqyhsUdMYuCgYTZSKpBype1zRfq8FshvfBPc6BAQWl7/QxIDp3VGo1J3vn42OEs3qznws+YLRXbymyB19a9XBx6n/owcyxlEYyFWCi+kG9F+EyD/4yn80+agaZ9P7ay2Dny99aK2o91FkfEOY8hBwyfi5uwx2y5SaHmG+oq/zl1FX/8irOf8Y3vAcX/6uLP6A6nvMO24edSGPjQc827Rw2atX+z2bKq0CmW9mOtYnr5/AfDa1ZfPaXnKtlWborup7QYx+Or2uWb+N3N//2+yDcXMqIJdf55xl7/vsj4WoPPlxLxtVrkJ4w/tTe3mLdATOOYwxcq52w5Wxz5MbPdVs5O8/lhfE7dPj0bIiPQ3QV0iqm4m3YX8hRfc6jQ3fWepevMqUDJd86Z4vwM40CWHnn+WphsGHfieF02D3tmZvpWD+kBpNCFcLnZhcmmrhpGzzbdA+sQ1ar18OJD87IOKOFoRNznaHPNHUfUNhvY1iU+uhvEvpKHaUn3qK3exVVyX4joipp3um7FmYJWmA+WbIDshRpbVRx5/nqstCgy87FGbfVB8yDGCqS+2qCsnRwnSAN6zgzxfdB2nBT/vZ4/6uxb6oH8b4VBRxiIB93wLa47hG3w2SL/2Z27yOXJFwZpSJaBYyvajA7vRRYNKqljXKpt/CFD/tSMr18DKKbwB0xggBePatl1nki0yvqW5zchlyZmJ0OTxJ3D+fsYJs/mxYN5+Le5oagtcl+YsVvy8kSjI2YGvGjvmpkRS9W2dtXqWnVuxUhURm1lKtou/hdEq19VBp9OjGvHEQSmrpuf2R24mXGheil8KeiANY8fW1VERUfBImb64j12caBZmRViZHbeVMjCrPDg9A90IXrtnsYCuZtRQ0PyrKDjBNOsPfKsg1pA02gHlVr0OXiFhtp6nJqXVzcbfM0KnzC3ggOENPE9VBdmHKN6LYaijb4wXxJn5A0FSDF5j+h1ooZx885Jt3ZKzO5n7Z5WfNEOtyyPqQEnn7WLv5Fis3PdgMshjF1FRydbNyeBbyKI1oN1TRVrVK7kgsb/zjX4NDPIRMctVeaxVB38Vh1x5KbeJbU138AM5KzmZu3uny0ErygxiJF7GVXUrPzFxrlx1uFdAaZFDN9cvIb74qD9tzBMo7L7WIEYK+sla1DVMHpF0F7b3+Y6S+zjvLeDMCpapmJo1weBWuxKF3rOocih1gun4BoJh1kWnV/Jmiq6uOhK3VfKxEHEkafjLgK3oujaPzY6SXg8phhL4TNR1xvJd1Wa0aYFfPUMLrNBDCh4AuGRTbtKMc6Z1Udj8evY/ZpCuMAUefdo69DZUngoqE1P9A3PJfOf7WixCEj+Y6t7fYeHbbxUAoFV3M89cCKfma3fc1+jKRe7MFWEbQqEfyzO2x/wrO2VYH7iYdQ9BkPyI8/3kXBpLaCpU7eC0Yv/am/tEDu7HZpqg0EvHo0nf/R/gRzUWy33/HXMJQeu1GylKmOkXzlCfGFruAcPPhaGqZOtu19zsJ1SO2Jz4Ztth5cBX6mRQwWmDwryG9FUMlZzNckMdK+IoMJv1rOWnBamS2w2KHiaPMPLC15hCZm4KTpoZyj4E2TqC/P6r7/EhnDMhKicZZ1ZwxuC7DPzDGs53q8gXaI9kFTK+2LTq7bhwsTbrMV8Rsfua5lMS0FwbTitUVnVa1yTb5IX51mmYnUcP9wPr8Ji1tiYJeJV9GZTrQhF7vvdU2OTU42ogJ9FDwhmycI2LIg++03C6scYhUyUuMV5tkw6kGUoL+mjNC38+wMdWNljn6tGPpRES7veqrSn5TRuv+dh6JVL/iDHU1db4c9WK3++OrH3PqziF916UMUKn8G67nN60GfWiHrXYhUG3yVWmyYak59NHj8t1smG4UDiWz2rPHNrKnN4Zo1LBbr2/eF9YZ0n0blx2nG4X+EKFxvS3W28JESD+FWk61VCD3z/URGHiJl++7TdBwkCj6tGOH3qDb0QqcOF9Kzpj0HUb/KyFW3Yhj2VMKJqGZleFBH7vqvf7WqLC3XMuHV8q8a4sTFuxUtkD/6JIBvKaVjv96ndgruKZ1k/BHzqf2K9fLk7HGXANyLDd1vxkK/i055pnzl+zw6zLnwXlVYVtfmacJgEpRP1hbGgrYPVN6v2lG+idQNGmwcKXu/8xEj/P6qe/sB2WmwNp6pp8jaISMkwdleFXYK55NHWLTTbutSUqjBfDGWo/Yg918qQ+8BRZSAHZbfuNZz2O0sov1Ue4CWlVg3rFhM3Kljj9ksGd/NUhk4nH+a5UN2+1i8+NM3vRNp7uQ6sqexSCukEVlVZriHNqFi5rLm9TMWa4qm3idJqppQACol2l4VSuvWLfta4JcXy3bROPNbXOgdOhG47LC0CwW/dMlSx4Jf17aEU3yA1x9p+Yc0jupXgcMuYNku64iYOkGToVDuJvlbEKlJqsmiHbvNrIVZEH+yFdF8DbleZ6iNiWwMqvtMp/mSpwx5KxRrT9p3MAPTHGtMbfvdFhyj9vhaKcn3At8Lc16Ai+vBcSp1ztXi7rCJZx/ql7TXcclq6Q76UeKWDy9boS0WHIjUuWhPG8LBmW5y2rhuTpM5vsLt+HOLh1Yf0DqXa9tsfC+kaKt2htA0ai/L2i7RKoNjEwztkmRU0GfgW1TxUvPFhg0V7DdfWJk5gfrccpYv+MA9M0dkGTLECeYwUixRzjRFdmjG7zdZIl3XKB9YliNKI31lfa7i2JG5C8Ss+rHe0D7Z696/V3DEAOWHnQ9yNahMUl5kENWS6pHKKp2D1BaSrrHdE1w2qNxIztpXgUIrF0bm15YML4b6V1k+GpNysTahKMVrrS85lTVo9OGJ96I47eAy5rYWpRf/mIzeoYU1DKaQCTUVwrhHeyNoDqHel+lLxr9WKzhSYw7vrR6+V5q0pfi2k3L1zqkubY6rrd9ZLvSuWNf0uqnkY+FpTvFzSW9Fp0b9l8JA7THV9eCi/PY/SCZIUYx3BU2alj7Cm3VV6eYpios4b6WuNOJdYXUK3zTqj5CVG2FqYM4Z7CuIU0qO05XR0d71FHM0YhZmJmTRfLlXEumN82BGtzdX0S19t1e+bUieK8zRmqpa4Qc5TSjifmaQsY2ETLjhI36gMR1+7qpjdXXHiceUekfBaucHShAOiFXmv3sNmGQyU5iVgnoocuonQXEPTFwslHtS8R+A47StI9wj0iSrtbi5rMysczFiImsQ+bdFClnFjjpXXwMy6O7qfjOr8Fb0a7ODItisjnn3EQO16+ypd1cwyaAW5Yzxz5QknfMO7643fXW/I9y3U2xH27Oapqr56Z/tEzglj6IbT6HEHjopiXqeRbe5mQQvxtcbDOVverN0ZgMdzqRYRjaXtMRd56Q4cZSmdPvZJdSrhJ1D9zNXPqAEqPIavPdfubt5oke2kmv0dztIszSv2VYuoyf1UuopbsYb+uX9h6WpwjpgtZ6fNNawNJ4q8O3CFoSbioAaOSZMx2GYaPYB+rEb6qjQiNRFQ76TvwNFVKD+BhH9VhcKGsXzmMI7BptU/CNWolM7YzROvpFAntsiWJp6eR2d3GarcYShVYSUqhmYOWj5E96NK2WvmYNTeY7Zs4RUEdv9h9QT4EseKt6LzLrqEOs3hxAY1MaNWpSa6zZx8F3YOVeCYMS88W+CYHDuWe4yoc6YK+djDuEOrBR5lvh0r+Q9uM88lrjx9x9AtgpQVNE8r+3O6Gvw59D+kBF/UMXyhliYUtPjmvXGY6Dk3x+kEOW+GtdMVC4EZTqoS/jmR0P0LS75DOc/w2vnri97M4SdbZ8qeU7gg8DVbERkU5geaMQO3mYrSYyAngeUQqrN0C0/vsFmcgWNXNeidsTAj7/4MncJR0caaBUpbLK1yBCBNRjEv6KvuVSdpPnEMJdsRRtqJ+U8tN1gXA4ePHc6ZT0eviI73UOJF0fEZ8YaneAQqQdGphNvwM4nIqPnXxV0xA0fnCT+oAhJuyw/q8jO0y8CjSteZExwBpIN6SvNp6A5G/abi6egeND/1GTguhuNjaUbbnSbGd4L8937Ezm34Eyi6n1maeOBxh3PI0jzJDf5mh/BsLD7F2GOKvlA/5gtvxI3/eV4sLfKW5Wy+oio+es/u6T8UU+nsofy57Icb/JlZHPFtCgd/x+bwt3ZT+xXTtTtTrGAb4QehC6X9G+8YT+ozcLxDsdCjsuOqwPFnrdLYaFc92Ui0m4fr39lYmlCaqTit7G6O/3kWDkgtXjNH4BiEm/+jegQnihOtfffn33WxsFjhfMd48HT+f6o6X65j7XR8WLSHMFkxbvOYsrRsF1bowDuSQ18Mkxk4qz2zoGPL5fu9h2Hqmt1asl3Q3Yu3szOc+spiCmX4AETBM3pLoTYSp3sVxahyhL8eC4mPN9k2x3o0xkiixIzM3CZFzf5oR4mecQ5+ax2wCah3/crmnHoqR0+KMaOPxRif1oEFRFOO/kTPPmtww+NfMXxEK6gn6iU32U6fFruIz8Q4WgljtnaCVTBgWx7diUdshC9ZEa5yKpRBBeW12r/iNc/+EgNqmhswNB8SBoihHXeDF7rrWDLcmt3V8GYYN7pXRy4DZjj4DJuUBL5iC3DQAaoo4vkftqVTYRGLS3mHZ7gdmdTTqbgNN/PTdTCOTgXolc88MhXAEUMdX0iy1JMuk5wLsgeu0QUYlz2S4skTWwJz6pOm/8ihrmgGfFgri+ZWUK2gAPHgbWa8jaocdSuM4FJYoKicYX/ZSENkg9Q1ZzJfwScfVnR2DegOGwCvmogaWJCLQepv9WNlU6QgsmOwICquU28Mlk3d9W5E81lU/5Ez0LcX6lwKMWDNluNKfBDUy/phJgBcMnfkh9iRxrdOzgs08JdPB85Lwo+GUSb4t3nC+0byqMZtO2fQJ4U2zGIr49t/28qmmGv2RanDD7a3FEcdtutkW8twwwlUSpb8QalodddbBfNHKDQ828BdE7OBgFdiKYohLawFYqpybQoxATZrheLhdI7+0Zlu9Q1myRcd15r9UIm8K2LGJxqTegntqNVMKnf1a8zQiyUR1rxoqjiFxeHxqFcYUTHfDu7rhbWng6qOxOsI+5A1p9mRyEPdVkTlE24vY54W7bWc6jMgZvNXdfC9/9q7408KDsbdL7Utz7QFSDetz2picArzrdpL8OaCHC9V26RroemtDZ5yNM/KGkWMyTmfnInEvwtSD23UcFcjhaE3VKzkoaEMKGBft4XbIO6forTY1lmGQwVmKicBCiArDzE+1oIxE08fWeviIOD5TznqH+OoHadvoOP20drMPe5Irg3XBQziW2XDuHYzjqQQ4wySssjXUs5H+t3FWYMHppUnBHMx/nYIT5d7OmjDbgD9F6na3m4l7KdkeSO3kTEPXafiWinogag7b52taiZhL1TSvBFmEZafFq2H8khQaZXuitCewT5FBgVtPK0j4xUHPfUz3Q28eac1Z139DAP23dgki94EC8vbDPTQC97HPPSWjUNG5tWKMsaxAEMKC0665Xvo1Ntd07wCLNf8Q56mrEPVpCxlIMVlQlWRxM3oAfpgIc+8KC3rEXUog5g06vt7zgXY8grH7hhwVSaeuvC06YYRAwpbyk/Unzj9hLEZNs2oxPQB9yc+GnL6zTgq7rI++KDJwX2SP8Sd6YzTuw5lV/kU6eQxRD12omfQAW6caTR4LikYkBB1CMOrvgRr/VY75+NSB40Cni6bADAtaK+vyxVWpf9NeKJxN2KYQ8Q2xPB3K1s7fuhvWbr2XpgW044VD6DRs0qXoqKf1NFsaGvKJc47leUV3pppP/5VTKFhaGuol4Esfjf5zyCyUHmHthChcYh4hYLQF+AFWsuq4t0wJyWgdwQVOZiV0efRHPoK5+E1vjz9wTJmVkITC9oEstAsyZSgE/dbicwKr89YUxKZI+owD205Tm5lnnmDRuP/JnzxX3gMtlrcX0UesZdxyQqYQuEW4R51vmQ5xOZteUd8SJruMlTUzhtVw/Nq7eUBcqN2/HVotgfngif60yKEtoUx3WYOZlVJuJOh8u59fzSDPFYtQgqDUAGyGhQOAvKroXMcOYY0qjnStJR/G3aP+Jt1sLVlGV8POwr/6OGsqetnyF3TmTqZjENfnXh51oxe9qVUw2M78EzAJ+IM8lZ1MBPQ9ZWSVc4J3mWSrLKrMHReA5qdGoz0ODRsaA+vwxXA2cAM4qlfzBJA6581m4hzxItQw5dxrrBL3Y6kCbUcFxo1S8jyV44q//+7ASNNudZ6xeaNOSIUffqMn4A9lIjFctYn2gpEPAb3f7p3iIBN8H14FUGQ9ct2hPsL+cEsTgUrR47uJVN4n4wt/wgfwwHuOnLd4yobkofy8JvxSQTA7rMpDIc608SlZFJfZYcmbT0tAHpPE8MrtQ42siTUNWxqvWZOmvu9f0JPoQmg+6l7sZWwyfi6PXkxJnwBraUG0MYG4zYHQz3igy/XsFkx5tNQxw43qvI9dU3f0DdhOUlHKjmi1VAr2Kiy0HZwD8VeEbhh0OiDdMYspolQsYdSwjCcjeowIXNZVUPmL2wwIkYhmXKhGozdCJ4lRKbsf4NBh/XnQoS92NJEWOVOFs2YhN8c5QZFeK0pRdAG40hqvLbmoSA8xQmzOOEc7wLcme9JOsjPCEgpCwUs9E2DohMHRhUeyGIN6TFvrbny8nDuilsDpzrH5mS76APoIEJmItS67sQJ+nfwddzmjPxcBEBBCw0kWDwd0EZCkNeOD7NNQhtBm7KHL9mRxj6U1yWU2puzlIDtpYxdH4ZPeXBJkTGAJfUr/oTCz/iypY6uXaR2V1doPxJYlrw2ghH0D5gbrhFcIxzYwi4a/4hqVdf2DdxBp6vGYDjavxMAAoy+1+3aiO6S3W/QAKNVXagDtvsNtx7Ks+HKgo6U21B+QSZgIogV5Bt+BnXisdVfy9VyXV+2P5fMuvdpAjM1o/K9Z+XnE4EOCrue+kcdYHqAQ0/Y/OmNlQ6OI33jH/uD1RalPaHpJAm2av0/xtpqdXVKNDrc9F2izo23Wu7firgbURFDNX9eGGeYBhiypyXZft2j3hTvzE6PMWKsod//rEILDkzBXfi7xh0eFkfb3/1zzPK/PI5Nk3FbZyTl4mq5BfBoVoqiPHO4Q4QKZAlrQ3MdNfi3oxIjvsM3kAFv3fdufurqYR3PSwX/mpGy/GFI/B2MNPiNdOppWVbs/gjF3YH+QA9jMhlAbhvasAHstB0IJew09iAkmXHl1/TEj+jvHOpOGrPRQXbPADM+Ig2/OEcUcpgPTItMtW4DdqgfYVI/+4hAFWYjUGpOP/UwNuB7+BbKOcALbjobdgzeBQfjgNSp2GOpxzGLj70Vvq5cw2AoYENwKLUtJUX8sGRox4dVa/TN4xKwaKcl9XawQR/uNus700Hf17pyNnezrUgaY9e4MADhEDBpsJT6y1gDJs1q6wlwGhuUzGR7C8kgpjPyHWwsvrf3yn1zJEIRa5eSxoLAZOCR9xbuztxFRJW9ZmMYfCFJ0evm9F2fVnuje92Rc4Pl6A8bluN8MZyyJGZ0+sNSb//DvAFxC2BqlEsFwccWeAl6CyBcQV1bx4mQMBP1Jxqk1EUADNLeieS2dUFbQ/c/kvwItbZ7tx0st16viqd53WsRmPTKv2AD8CUnhtPWg5aUegNpsYgasaw2+EVooeNKmrW3MFtj76bYHJm5K9gpAXZXsE5U8DM8XmVOSJ1F1WnLy6nQup+jx52bAb+rCq6y9WXl2B2oZDhfDkW7H3oYfT/4xx5VncBuxMXP2lNfhUVQjSSzSRbuZFE4vFawlzveXxaYKVs8LpvAb8IRYF3ZHiRnm0ADeNPWocwxSzNseG7NrSEVZoHdKWqaGEBz1N8Pt7kFbqh3LYmAbm9i1IChIpLpM5AS6mr6OAPHMwwznVy61YpBYX8xZDN/a+lt7n+x5j4bNOVteZ8lj3hpAHSx1VR8vZHec4AHO9XFCdjZ9eRkSV65ljMmZVzaej2qFn/qt1lvWzNZEfHxK3qOJrHL6crr0CRzMox5f2e8ALBB4UGFZKA3tN6F6IXd32GTJXGQ7DTi9j/dNcLF9jCbDcWGKxoKTYblIwbLDReL00LRcDPMcQuXLMh5YzgtfjkFK1DP1iDzzYYVZz5M/kWYRlRpig1htVRjVCknm+h1M5LiEDXOyHREhvzCGpFZjHS0RsK27o2avgdilrJkalWqPW3D9gmwV37HKmfM3F8YZj2ar+vHFvf3B8CRoH4kDHIK9mrAg+owiEwNjjd9V+FsQKYR8czJrUkf7Qoi2YaW6EVDZp5zYlqiYtuXOTHk4fAcZ7qBbdLDiJq0WNV1l2+Hntk1mMWvxrYmc8kIx8G3rW36J6Ra4lLrTOCgiOihmow+YnzUT19jbV2B3RWqSHyxkhmgsBqMYWvOcUom1jDQ436+fcbu3xf2bbeqU/ca+C4DOKE+e3qvmeMqW3AxejfzBRFVcwVYPq4L0APSWWoJu+5UYX4qg5U6YTioqQGPG9XrnuZ/BkxuYpe6Li87+18EskyQW/uA+uk2rpHpr6hut2TlVbKgWkFpx+AZffweiw2+VittkEyf/ifinS/0ItRL2Jq3tQOcxPaWO2xrG68GdFoUpZgFXaP2wYVtRc6xYCfI1CaBqyWpg4bx8OHBQwsV4XWMibZZ0LYjWEy2IxQ1mZrf1/UNbYCJplWu3nZ4WpodIGVA05d+RWSS+ET9tH3RfGGmNI1cIY7evZZq7o+a0bjjygpmR3mVfalkT/SZGT27Q8QGalwGlDOS9VHCyFAIL0a1Q7JiW3saz9gqY8lqKynFrPCzxkU4SIfLc9VfCI5edgRhDXs0edO992nhTKHriREP1NJC6SROMgQ0xO5kNNZOhMOIT99AUElbxqeZF8A3xrfDJsWtDnUenAHdYWSwAbYjFqQZ+D5gi3hNK8CSxU9i6f6ClL9IGlj1OPMQAsr84YG6ijsJpCaGWj75c3yOZKBB9mNpQNPUKkK0D6wgLH8MGoyRxTX6Y05Q4AnYNXMZwXM4eij/9WpsM/9CoRnFQXGR6MEaY+FXvXEO3RO0JaStk6OXuHVATHJE+1W+TU3bSZ2ksMtqjO0zfSJCdBv7y2d8DMx6TfVme3q0ZpTKMMu4YL/t7ciTNtdDkwPogh3Cnjx7qk08SHwf+dksZ7M2vCOlfsF0hQ6J4ehPCaHTNrM/zBSOqD83dBEBCW/F/LEmeh0nOHd7oVl3/Qo/9GUDkkbj7yz+9cvvu+dDAtx8NzCDTP4iKdZvk9MWiizvtILLepysflSvTLFBZ37RLwiriqyRxYv/zrgFd/9XVHh/OmzBvDX4mitMR/lUavs2Vx6cR94lzAkplm3IRNy4TFfu47tuYs9EQPIPVta4P64tV+sZ7n3ued3cgEx2YK+QL5+xms6osk8qQbTyuKVGdaX9FQqk6qfDnT5ykxk0VK7KZ62b6DNDUfQlqGHxSMKv1P0XN5BqMeKG1P4Wp5QfZDUCEldppoX0U6ss2jIko2XpURKCIhfaOqLPfShdtS37ZrT+jFRSH2xYVV1rmT/MBtRQhxiO4MQ3iAGlaZi+9PWBEIXOVnu9jN1f921lWLZky9bqbM3J2MAAI9jmuAx3gyoEUa6P2ivs0EeNv/OR+AX6q5SW6l5HaoFuS6jr6yg9limu+P0KYKzfMXWcQSfTXzpOzKEKpwI3YGXZpSSy2LTlMgfmFA3CF6R5c9xWEtRuCg2ZPUQ2Nb6dRFTNd4TfGHrnEWSKHPuRyiJSDAZ+KX0VxmSHjGPbQTLVpqixia2uyhQ394gBMt7C3ZAmxn/DJS+l1fBsAo2Eir/C0jG9csd4+/tp12pPc/BVJGaK9mfvr7M/CeztrmCO5qY06Edi4xAGtiEhnWAbzLy2VEyazE1J5nPmgU4RpW4Sa0TnOT6w5lgt3/tMpROigHHmexBGAMY0mdcDbDxWIz41NgdD6oxgHsJRgr5RnT6wZAkTOcStU4NMOQNemSO7gxGahdEsC+NRVGxMUhQmmM0llWRbbmFGHzEqLM4Iw0H7577Kyo+Zf+2cUFIOw93gEY171vQaM0HLwpjpdRR6Jz7V0ckE7XzYJ0TmY9znLdzkva0vNrAGGT5SUZ5uaHDkcGvI0ySpwkasEgZPMseYcu85w8HPdSNi+4T6A83iAwDbxgeFcB1ZM2iGXzFcEOUlYVrEckaOyodfvaYSQ7GuB4ISE0nYJc15X/1ciDTPbPCgYJK55VkEor4LvzL9S2WDy4xj+6FOqVyTAC2ZNowheeeSI5hA/02l8UYkv4nk9iaVn+kCVEUstgk5Hyq+gJm6R9vG3rhuM904he/hFmNQaUIATB1y3vw+OmxP4X5Yi6A5I5jJufHCjF9+AGNwnEllZjUco6XhsO5T5+R3yxz5yLVOnAn0zuS+6zdj0nTJbEZCbXJdtpfYZfCeCOqJHoE2vPPFS6eRLjIJlG69X93nfR0mxSFXzp1Zc0lt/VafDaImhUMtbnqWVb9M4nGNQLN68BHP7AR8Il9dkcxzmBv8PCZlw9guY0lurbBsmNYlwJZsA/B15/HfkbjbwPddaVecls/elmDHNW2r4crAx43feNkfRwsaNq/yyJ0d/p5hZ6AZajz7DBfUok0ZU62gCzz7x8eVfJTKA8IWn45vINLSM1q+HF9CV9qF3zP6Ml21kPPL3CXzkuYUlnSqT+Ij4tI/od5KwIs+tDajDs64owN7tOAd6eucGz+KfO26iNcBFpbWA5732bBNWO4kHNpr9D955L61bvHCF/mwSrz6eQaDjfDEANqGMkFc+NGxpKZzCD2sj/JrHd+zlPQ8Iz7Q+2JVIiVCuCKoK/hlAEHzvk/Piq3mRL1rT/fEh9hoT5GJmeYswg1otiKydizJ/fS2SeKHVu6Z3JEHjiW8NaTQgP5xdBli8nC57XiN9hrquBu99hn9zqwo92+PM2JXtpeVZS0PdqR5mDyDreMMtEws+CpwaRyyzoYtfcvt9PJIW0fJVNNi/FFyRsea7peLvJrL+5b4GOXJ8tAr+ATk9f8KmiIsRhqRy0vFzwRV3Z5dZ3QqIU8JQ/uQpkJbjMUMFj2F9sCFeaBjI4+fL/oN3+LQgjI4zuAfQ+3IPIPFQBccf0clJpsfpnBxD84atwtupkGqKvrH7cGNl/QcWcSi6wcVDML6ljOgYbo+2BOAWNNjlUBPiyitUAwbnhFvLbnqw42kR3Yp2kv2dMeDdcGOX5kT4S6M44KHEB/SpCfl7xgsUvs+JNY9G3O2X/6FEt9FyAn57lrbiu+tl83sCymSvq9eZbe9mchL7MTf/Ta78e80zSf0hYY5eUU7+ff14jv7Xy8qjzfzzzvaJnrIdvFb5BLWKcWGy5/w7+vV2cvIfwHqdTB+RuJK5oj9mbt0Hy94AmjMjjwYNZlNS6uiyxNnwNyt3gdreLb64p/3+08nXkb92LTkkRgFOwk1oGEVllcOj5lv1hfAZywDows0944U8vUFw+A/nuVq/UCygsrmWIBnHyU01d0XJPwriEOvx/ISK6Pk4y2w0gmojZs7lU8TtakBAdne4v/aNxmMpK4VcGMp7si0yqsiolXRuOi1Z1P7SqD3Zmp0CWcyK4Ubmp2SXiXuI5nGLCieFHKHNRIlcY3Pys2dwMTYCaqlyWSITwr2oGXvyU3h1Pf8eQ3w1bnD7ilocVjYDkcXR3Oo1BXgMLTUjNw2xMVwjtp99NhSVc5aIWrDQT5DHPKtCtheBP4zHcw4dz2eRdTMamhlHhtfgqJJHI7NGDUw1XL8vsSeSHyKqDtqoAmrQqsYwvwi7HW3ojWyhIa5oz5xJTaq14NAzFLjVLR12rRNUQ6xohDnrWFb5bG9yf8aCD8d5phoackcNJp+Dw3Due3RM+5Rid7EuIgsnwgpX0rUWh/nqPtByMhMZZ69NpgvRTKZ62ViZ+Q7Dp5r4K0d7EfJuiy06KuIYauRh5Ecrhdt2QpTS1k1AscEHvapNbU3HL1F2TFyR33Wxb5MvH5iZsrn3SDcsxlnnshO8PLwmdGN+paWnQuORtZGX37uhFT64SeuPsx8UOokY6ON85WdQ1dki5zErsJGazcBOddWJEKqNPiJpsMD1GrVLrVY+AOdPWQneTyyP1hRX/lMM4ZogGGOhYuAdr7F/DOiAoc++cn5vlf0zkMUJ40Z1rlgv9BelPqVOpxKeOpzKdF8maK+1Vv23MO9k/8+qpLoxrIGH2EDQlnGmH8CD31G8QqlyQIcpmR5bwmSVw9/Ns6IHgulCRehvZ/+VrM60Cu/r3AontFfrljew74skYe2uyn7JKQtFQBQRJ9ryGic/zQOsbS4scUBctA8cPToQ3x6ZBQu6DPu5m1bnCtP8TllLYA0UTQNVqza5nfew3Mopy1GPUwG5jsl0OVXniPmAcmLqO5HG8Hv3nSLecE9oOjPDXcsTxoCBxYyzBdj4wmnyEV4kvFDunipS8SSkvdaMnTBN9brHUR8xdmmEAp/Pdqk9uextp1t+JrtXwpN/MG2w/qhRMpSNxQ1uhg/kKO30eQ/FyHUDkWHT8V6gGRU4DhDMxZu7xXij9Ui6jlpWmQCqJg3FkOTq3WKneCRYZxBXMNAVLQgHXSCGSqNdjebY94oyIpVjMYehAiFx/tqzBXFHZaL5PeeD74rW5OysFoUXY8sebUZleFTUa/+zBKVTFDopTReXNuZq47QjkWnxjirCommO4L/GrFtVV21EpMyw8wyThL5Y59d88xtlx1g1ttSICDwnof6lt/6zliPzgVUL8jWBjC0o2D6Kg+jNuThkAlaDJsq/AG2aKA//A76avw2KNqtv223P+Wq3StRDDNKFFgtsFukYt1GFDWooFVXitaNhb3RCyJi4cMeNjROiPEDb4k+G3+hD8tsg+5hhmSc/8t2JTSwYoCzAI75doq8QTHe+E/Tw0RQSUDlU+6uBeNN3h6jJGX/mH8oj0i3caCNsjvTnoh73BtyZpsflHLq6AfwJNCDX4S98h4+pCOhGKDhV3rtkKHMa3EG4J9y8zFWI4UsfNzC/Rl5midNn7gwoN9j23HGCQQ+OAZpTTPMdiVow740gIyuEtd0qVxMyNXhHcnuXRKdw5wDUSL358ktjMXmAkvIB73BLa1vfF9BAUZInPYJiwxqFWQQBVk7gQH4ojfUQ/KEjn+A/WR6EEe4CtbpoLe1mzHkajgTIoE0SLDHVauKhrq12zrAXBGbPPWKCt4DGedq3JyGRbmPFW32bE7T20+73BatV/qQhhBWfWBFHfhYWXjALts38FemnoT+9bn1jDBMcUMmYgSc0e7GQjv2MUBwLU8ionCpgV+Qrhg7iUIfUY6JFxR0Y+ZTCPM+rVuq0GNLyJXX6nrUTt8HzFBRY1E/FIm2EeVA9NcXrj7S6YYIChVQCWr/m2fYUjC4j0XLkzZ8GCSLfmkW3PB/xq+nlXsKVBOj7vTvqKCOMq7Ztqr3cQ+N8gBnPaAps+oGwWOkbuxnRYj/x/WjiDclVrs22xMK4qArE1Ztk1456kiJriw6abkNeRHogaPRBgbgF9Z8i/tbzWELN4CvbqtrqV9TtGSnmPS2F9kqOIBaazHYaJ9bi3AoDBvlZasMluxt0BDXfhp02Jn411aVt6S4TUB8ZgFDkI6TP6gwPY85w+oUQSsjIeXVminrwIdK2ZAawb8Se6XOJbOaliQxHSrnAeONDLuCnFejIbp4YDtBcQCwMsYiRZfHefuEJqJcwKTTJ8sx5hjHmJI1sPFHOr6W9AhZ2NAod38mnLQk1gOz2LCAohoQbgMbUK9RMEA3LkiF7Sr9tLZp6lkciIGhE2V546w3Mam53VtVkGbB9w0Yk2XiRnCmbpxmHr2k4eSC0RuNbjNsUfDIfc8DZvRvgUDe1IlKdZTzcT4ZGEb53dp8VtsoZlyXzLHOdAbsp1LPTVaHvLA0GYDFMbAW/WUBfUAdHwqLFAV+3uHvYWrCfhUOR2i89qvCBoOb48usAGdcF2M4aKn79k/43WzBZ+xR1L0uZfia70XP9soQReeuhZiUnXFDG1T8/OXNmssTSnYO+3kVLAgeiY719uDwL9FQycgLPessNihMZbAKG7qwPZyG11G1+ZA3jAX2yddpYfmaKBlmfcK/V0mwIRUDC0nJSOPUl2KB8h13F4dlVZiRhdGY5farwN+f9hEb1cRi41ZcGDn6Xe9MMSTOY81ULJyXIHSWFIQHstVYLiJEiUjktlHiGjntN5/btB8Fu+vp28zl2fZXN+dJDyN6EXhS+0yzqpl/LSJNEUVxmu7BsNdjAY0jVsAhkNuuY0E1G48ej25mSt+00yPbQ4SRCVkIwb6ISvYtmJRPz9Zt5dk76blf+lJwAPH5KDF+vHAmACLoCdG2Adii6dOHnNJnTmZtoOGO8Q1jy1veMw6gbLFToQmfJa7nT7Al89mRbRkZZQxJTKgK5Kc9INzmTJFp0tpAPzNmyL/F08bX3nhCumM/cR/2RPn9emZ3VljokttZD1zVWXlUIqEU7SLk5I0lFRU0AcENXBYazNaVzsVHA/sD3o9hm42wbHIRb/BBQTKzAi8s3+bMtpOOZgLdQzCYPfX3UUxKd1WYVkGH7lh/RBBgMZZwXzU9+GYxdBqlGs0LP+DZ5g2BWNh6FAcR944B+K/JTWI3t9YyVyRhlP4CCoUk/mmF7+r2pilVBjxXBHFaBfBtr9hbVn2zDuI0kEOG3kBx8CGdPOjX1ph1POOZJUO1JEGG0jzUy2tK4X0CgVNYhmkqqQysRNtKuPdCJqK3WW57kaV17vXgiyPrl4KEEWgiGF1euI4QkSFHFf0TDroQiLNKJiLbdhH0YBhriRNCHPxSqJmNNoketaioohqMglh6wLtEGWSM1EZbQg72h0UJAIPVFCAJOThpQGGdKfFovcwEeiBuZHN2Ob4uVM7+gwZLz1D9E7ta4RmMZ24OBBAg7Eh6dLXGofZ4U2TFOCQMKjwhVckjrydRS+YaqCw1kYt6UexuzbNEDyYLTZnrY1PzsHZJT4U+awO2xlqTSYu6n/U29O2wPXgGOEKDMSq+zTUtyc8+6iLp0ivav4FKx+xxVy4FxhIF/pucVDqpsVe2jFOfdZhTzLz2QjtzvsTCvDPU7bzDH2eXVKUV9TZ+qFtaSSxnYgYdXKwVreIgvWhT9eGDB2OvnWyPLfIIIfNnfIxU8nW7MbcH05nhlsYtaW9EZRsxWcKdEqInq1DiZPKCz7iGmAU9/ccnnQud2pNgIGFYOTAWjhIrd63aPDgfj8/sdlD4l+UTlcxTI9jbaMqqN0gQxSHs60IAcW3cH4p3V1aSciTKB29L1tz2eUQhRiTgTvmqc+sGtBNh4ky0mQJGsdycBREP+fAaSs1EREDVo5gvgi5+aCN7NECw30owbCc1mSpjiahyNVwJd1jiGgzSwfTpzf2c5XJvG/g1n0fH88KHNnf+u7ZiRMlXueSIsloJBUtW9ezvsx9grfsX/FNxnbxU1Lvg0hLxixypHKGFAaPu0xCD8oDTeFSyfRT6s8109GMUZL8m2xXp8X2dpPCWWdX84iga4BrTlOfqox4shqEgh/Ht4qRst52cA1xOIUuOxgfUivp6v5f8IVyaryEdpVk72ERAwdT4aoY1usBgmP+0m06Q216H/nubtNYxHaOIYjcach3A8Ez/zc0KcShhel0HCYjFsA0FjYqyJ5ZUH1aZw3+zWC0hLpM6GDfcAdn9fq2orPmZbW6XXrf+Krc9RtvII5jeD3dFoT1KwZJwxfUMvc5KLfn8rROW23Jw89sJ2a5dpB3qWDUBWF2iX8OCuKprHosJ2mflBR+Wqs86VvgI/XMnsqb97+VlKdPVysczPj8Jhzf+WCvGBHijAqYlavbF60soMWlHbvKT+ScvhprgeTln51xX0sF+Eadc/l2s2a5BgkVbHYyz0E85p0LstqH+gEGiR84nBRRFIn8hLSZrGwqjZ3E29cuGi+5Z5bp7EM8MWFa9ssS/vy4VrDfECSv7DSU84DaP0sXI3Ap4lWznQ65nQoTKRWU30gd7Nn8ZowUvGIx4aqyXGwmA/PB4qN8msJUODezUHEl0VP9uo+cZ8vPFodSIB4C7lQYjEFj8yu49C2KIV3qxMFYTevG8KqAr0TPlkbzHHnTpDpvpzziAiNFh8xiT7C/TiyH0EguUw4vxAgpnE27WIypV+uFN2zW7xniF/n75trs9IJ5amB1zXXZ1LFkJ6GbS/dFokzl4cc2mamVwhL4XU0Av5gDWAl+aEWhAP7t2VIwU+EpvfOPDcLASX7H7lZpXA2XQfbSlD4qU18NffNPoAKMNSccBfO9YVVgmlW4RydBqfHAV7+hrZ84WJGho6bNT0YMhxxLdOx/dwGj0oyak9aAkNJ8lRJzUuA8sR+fPyiyTgUHio5+Pp+YaKlHrhR41jY5NESPS3x+zTMe0S2HnLOKCOQPpdxKyviBvdHrCDRqO+l96HhhNBLXWv4yEMuEUYo8kXnYJM8oIgVM4XJ+xXOev4YbWeqsvgq0lmw4/PiYr9sYLt+W5EAuYSFnJEan8CwJwbtASBfLBBpJZiRPor/aCJBZsM+MhvS7ZepyHvU8m5WSmaZnxuLts8ojl6KkS8oSAHkq5GWlCB/NgJ5W3rO2Cj1MK7ahxsCrbTT3a0V/QQH+sErxV4XUWDHx0kkFy25bPmBMBQ6BU3HoHhhYcJB9JhP6NXUWKxnE0raXHB6U9KHpWdQCQI72qevp5fMzcm+AvC85rsynVQhruDA9fp9COe7N56cg1UKGSas89vrN+WlGLYTwi5W+0xYdKEGtGCeNJwXKDU0XqU5uQYnWsMwTENLGtbQMvoGjIFIEMzCRal4rnBAg7D/CSn8MsCvS+FDJJAzoiioJEhZJgAp9n2+1Yznr7H+6eT4YkJ9Mpj60ImcW4i4iHDLn9RydB8dx3QYm3rsX6n4VRrZDsYK6DCGwkwd5n3/INFEpk16fYpP6JtMQpqEMzcOfQGAHXBTEGzuLJ03GYQL9bmV2/7ExDlRf+Uvf1sM2frRtCWmal12pMgtonvSCtR4n1CLUZRdTHDHP1Otwqd+rcdlavnKjUB/OYXQHUJzpNyFoKpQK+2OgrEKpGyIgIBgn2y9QHnTJihZOpEvOKIoHAMGAXHmj21Lym39Mbiow4IF+77xNuewziNVBxr6KD5e+9HzZSBIlUa/AmsDFJFXeyrQakR3FwowTGcADJHcEfhGkXYNGSYo4dh4bxwLM+28xjiqkdn0/3R4UEkvcBrBfn/SzBc1XhKM2VPlJgKSorjDac96V2UnQYXl1/yZPT4DVelgO+soMjexXwYO58VLl5xInQUZI8jc3H2CPnCNb9X05nOxIy4MlecasTqGK6s2az4RjpF2cQP2G28R+7wDPsZDZC/kWtjdoHC7SpdPmqQrUAhMwKVuxCmYTiD9q/O7GHtZvPSN0CAUQN/rymXZNniYLlJDE70bsk6Xxsh4kDOdxe7A2wo7P9F5YvqqRDI6brf79yPCSp4I0jVoO4YnLYtX5nzspR5WB4AKOYtR1ujXbOQpPyYDvfRE3FN5zw0i7reehdi7yV0YDRKRllGCGRk5Yz+Uv1fYl2ZwrnGsqsjgAVo0xEUba8ohjaNMJNwTwZA/wBDWFSCpg1eUH8MYL2zdioxRTqgGQrDZxQyNzyBJPXZF0+oxITJAbj7oNC5JwgDMUJaM5GqlGCWc//KCIrI+aclEe4IA0uzv7cuj6GCdaJONpi13O544vbtIHBF+A+JeDFUQNy61Gki3rtyQ4aUywn6ru314/dkGiP8Iwjo0J/2Txs49ZkwEl4mx+iYUUO55I6pJzU4P+7RRs+DXZkyKUYZqVWrPF4I94m4Wx1tXeE74o9GuX977yvJ/jkdak8+AmoHVjI15V+WwBdARFV2IPirJgVMdsg1Pez2VNHqa7EHWdTkl3XTcyjG9BiueWFvQfXI8aWSkuuRmqi/HUuzqyvLJfNfs0txMqldYYflWB1BS31WkuPJGGwXUCpjiQSktkuBMWwHjSkQxeehqw1Kgz0Trzm7QbtgxiEPDVmWCNCAeCfROTphd1ZNOhzLy6XfJyG6Xgd5MCAZw4xie0Sj5AnY1/akDgNS9YFl3Y06vd6FAsg2gVQJtzG7LVq1OH2frbXNHWH/NY89NNZ4QUSJqL2yEcGADbT38X0bGdukqYlSoliKOcsSTuqhcaemUeYLLoI8+MZor2RxXTRThF1LrHfqf/5LcLAjdl4EERgUysYS2geE+yFdasU91UgUDsc2cSQ1ZoT9+uLOwdgAmifwQqF028INc2IQEDfTmUw3eZxvz7Ud1z3xc1PQfeCvfKsB9jOhRj7rFyb9XcDWLcYj0bByosychMezMLVkFiYcdBBQtvI6K0KRuOZQH2kBsYHJaXTkup8F0eIhO1/GcIwWKpr2mouB7g5TUDJNvORXPXa/mU8bh27TAZYBe2sKx4NSv5OjnHIWD2RuysCzBlUfeNXhDd2jxnHoUlheJ3jBApzURy0fwm2FwwsSU0caQGl0Kv8hopRQE211NnvtLRsmCNrhhpEDoNiZEzD2QdJWKbRRWnaFedXHAELSN0t0bfsCsMf0ktfBoXBoNA+nZN9+pSlmuzspFevmsqqcMllzzvkyXrzoA+Ryo1ePXpdGOoJvhyru+EBRsmOp7MXZ0vNUMUqHLUoKglg1p73sWeZmPc+KAw0pE2zIsFFE5H4192KwDvDxdxEYoDBDNZjbg2bmADTeUKK57IPD4fTYF4c6EnXx/teYMORBDtIhPJneiZny7Nv/zG+YmekIKCoxr6kauE2bZtBLufetNG0BtBY7f+/ImUypMBvdWu/Q7vTMRzw5aQGZWuc1V0HEsItFYMIBnoKGZ0xcarba/TYZq50kCaflFysYjA4EDKHqGdpYWdKYmm+a7TADmW35yfnOYpZYrkpVEtiqF0EujI00aeplNs2k+qyFZNeE3CDPL9P6b4PQ/kataHkVpLSEVGK7EX6rAa7IVNrvZtFvOA6okKvBgMtFDAGZOx88MeBcJ8AR3AgUUeIznAN6tjCUipGDZONm1FjWJp4A3QIzSaIOmZ7DvF/ysYYbM/fFDOV0jntAjRdapxJxL0eThpEhKOjCDDq2ks+3GrwxqIFKLe1WdOzII8XIOPGnwy6LKXVfpSDOTEfaRsGujhpS4hBIsMOqHbl16PJxc4EkaVu9wpEYlF/84NSv5Zum4drMfp9yXbzzAOJqqS4YkI4cBrFrC7bMPiCfgI3nNZAqkk3QOZqR+yyqx+nDQKBBBZ7QKrfGMCL+XpqFaBJU0wpkBdAhbR4hJsmT5aynlvkouoxm/NjD5oe6BzVIO9uktM+/5dEC5P7vZvarmuO/lKXz4sBabVPIATuKTrwbJP8XUkdM6uEctHKXICUJGjaZIWRbZp8czquQYfY6ynBUCfIU+gG6wqSIBmYIm9pZpXdaL121V7q0VjDjmQnXvMe7ysoEZnZL15B0SpxS1jjd83uNIOKZwu5MPzg2NhOx3xMOPYwEn2CUzbSrwAs5OAtrz3GAaUkJOU74XwjaYUmGJdZBS1NJVkGYrToINLKDjxcuIlyfVsKQSG/G4DyiO2SlQvJ0d0Ot1uOG5IFSAkq+PRVMgVMDvOIJMdqjeCFKUGRWBW9wigYvcbU7CQL/7meF2KZAaWl+4y9uhowAX7elogAvItAAxo2+SFxGRsHGEW9BnhlTuWigYxRcnVUBRQHV41LV+Fr5CJYV7sHfeywswx4XMtUx6EkBhR+q8AXXUA8uPJ73Pb49i9KG9fOljvXeyFj9ixgbo6CcbAJ7WHWqKHy/h+YjBwp6VcN7M89FGzQ04qbrQtgrOFybg3gQRTYG5xn73ArkfQWjCJROwy3J38Dx/D7jOa6BBNsitEw1wGq780EEioOeD+ZGp2J66ADiVGMayiHYucMk8nTK2zzT9CnEraAk95kQjy4k0GRElLL5YAKLQErJ5rp1eay9O4Fb6yJGm9U4FaMwPGxtKD6odIIHKoWnhKo1U8KIpFC+MVn59ZXmc7ZTBZfsg6FQ8W10YfTr4u0nYrpHZbZ1jXiLmooF0cOm0+mPnJBXQtepc7n0BqOipNCqI6yyloTeRShNKH04FIo0gcMk0H/xThyN4pPAWjDDkEp3lNNPRNVfpMI44CWRlRgViP64eK0JSRp0WUvCWYumlW/c58Vcz/yMwVcW5oYb9+26TEhwvbxiNg48hl1VI1UXTU//Eta+BMKnGUivctfL5wINDD0giQL1ipt6U7C9cd4+lgqY2lMUZ02Uv6Prs+ZEZer7ZfWBXVghlfOOrClwsoOFKzWEfz6RZu1eCs+K8fLvkts5+BX0gyrFYve0C3qHrn5U/Oh6D/CihmWIrY7HUZRhJaxde+tldu6adYJ+LeXupQw0XExC36RETdNFxcq9glMu4cNQSX9cqR/GQYp+IxUkIcNGWVU7ZtGa6P3XAyodRt0XeS3Tp01AnCh0ZbUh4VrSZeV9RWfSoWyxnY3hzcZ30G/InDq4wxRrEejreBxnhIQbkxenxkaxl+k7eLUQkUR6vKJ2iDFNGX3WmVA1yaOH+mvhBd+sE6vacQzFobwY5BqEAFmejwW5ne7HtVNolOUgJc8CsUxmc/LBi8N5mu9VsIA5HyErnS6zeCz7VLI9+n/hbT6hTokMXTVyXJRKSG2hd2labXTbtmK4fNH3IZBPreSA4FMeVouVN3zG5x9CiGpLw/3pceo4qGqp+rVp+z+7yQ98oEf+nyH4F3+J9IheDBa94Wi63zJbLBCIZm7P0asHGpIJt3PzE3m0S4YIWyXBCVXGikj8MudDPB/6Nm2v4IxJ5gU0ii0guy5SUHqGUYzTP0jIJU5E82RHUXtX4lDdrihBLdP1YaG1AGUC12rQKuIaGvCpMjZC9bWSCYnjDlvpWbkdXMTNeBHLKiuoozMGIvkczmP0aRJSJ8PYnLCVNhKHXBNckH79e8Z8Kc2wUej4sQZoH8qDRGkg86maW/ZQWGNnLcXmq3FlXM6ssR/3P6E/bHMvm6HLrv1yRixit25JsH3/IOr2UV4BWJhxXW5BJ6Xdr07n9kF3ZNAk6/Xpc5MSFmYJ2R7bdL8Kk7q1OU9Elg/tCxJ8giT27wSTySF0GOxg4PbYJdi/Nyia9Nn89CGDulfJemm1aiEr/eleGSN+5MRrVJ4K6lgyTTIW3i9cQ0dAi6FHt0YMbH3wDSAtGLSAccezzxHitt1QdhW36CQgPcA8vIIBh3/JNjf/Obmc2yzpk8edSlS4lVdwgW5vzbYEyFoF4GCBBby1keVNueHAH+evi+H7oOVfS3XuPQSNTXOONAbzJeSb5stwdQHl1ZjrGoE49I8+A9j3t+ahhQj74FCSWpZrj7wRSFJJnnwi1T9HL5qrCFW/JZq6P62XkMWTb+u4lGpKfmmwiJWx178GOG7KbrZGqyWwmuyKWPkNswkZ1q8uptUlviIi+AXh2bOOTOLsrtNkfqbQJeh24reebkINLkjut5r4d9GR/r8CBa9SU0UQhsnZp5cP+RqWCixRm7i4YRFbtZ4EAkhtNa6jHb6gPYQv7MKqkPLRmX3dFsK8XsRLVZ6IEVrCbmNDc8o5mqsogjAQfoC9Bc7R6gfw03m+lQpv6kTfhxscDIX6s0w+fBxtkhjXAXr10UouWCx3C/p/FYwJRS/AXRKkjOb5CLmK4XRe0+xeDDwVkJPZau52bzLEDHCqV0f44pPgKOkYKgTZJ33fmk3Tu8SdxJ02SHM8Fem5SMsWqRyi2F1ynfRJszcFKykdWlNqgDA/L9lKYBmc7Zu/q9ii1FPF47VJkqhirUob53zoiJtVVRVwMR34gV9iqcBaHbRu9kkvqk3yMpfRFG49pKKjIiq7h/VpRwPGTHoY4cg05X5028iHsLvUW/uz+kjPyIEhhcKUwCkJAwbR9pIEGOn8z6svAO8i89sJ3dL5qDWFYbS+HGPRMxYwJItFQN86YESeJQhn2urGiLRffQeLptDl8dAgb+Tp47UQPxWOw17OeChLN1WnzlkPL1T5O+O3Menpn4C3IY5LEepHpnPeZHbvuWfeVtPlkH4LZjPbBrkJT3NoRJzBt86CO0Xq59oQ+8dsm0ymRcmQyn8w71mhmcuEI5byuF+C88VPYly2sEzjlzAQ3vdn/1+Hzguw6qFNNbqenhZGbdiG6RwZaTG7jTA2X9RdXjDN9yj1uQpyO4Lx8KRAcZcbZMafp4wPOd5MdXoFY52V1A8M9hi3sso93+uprE0qYNMjkE22CvK4HuUxqN7oIz5pWuETq1lQAjqlSlqdD2Rnr/ggp/TVkQYjn9lMfYelk2sH5HPdopYo7MHwlV1or9Bxf+QCyLzm92vzG2wjiIjC/ZHEJzeroJl6bdFPTpZho5MV2U86fLQqxNlGIMqCGy+9WYhJ8ob1r0+Whxde9L2PdysETv97O+xVw+VNN1TZSQN5I6l9m5Ip6pLIqLm4a1B1ffH6gHyqT9p82NOjntRWGIofO3bJz5GhkvSWbsXueTAMaJDou99kGLqDlhwBZNEQ4mKPuDvVwSK4WmLluHyhA97pZiVe8g+JxmnJF8IkV/tCs4Jq/HgOoAEGR9tCDsDbDmi3OviUQpG5D8XmKcSAUaFLRXb2lmJTNYdhtYyfjBYZQmN5qT5CNuaD3BVnlkCk7bsMW3AtXkNMMTuW4HjUERSJnVQ0vsBGa1wo3Qh7115XGeTF3NTz8w0440AgU7c3bSXO/KMINaIWXd0oLpoq/0/QJxCQSJ9XnYy1W7TYLBJpHsVWD1ahsA7FjNvRd6mxCiHsm8g6Z0pnzqIpF1dHUtP2ITU5Z1hZHbu+L3BEEStBbL9XYvGfEakv1bmf+bOZGnoiuHEdlBnaChxYKNzB23b8sw8YyT7Ajxfk49eJIAvdbVkdFCe2J0gMefhQ0bIZxhx3fzMIysQNiN8PgOUKxOMur10LduigREDRMZyP4oGWrP1GFY4t6groASsZ421os48wAdnrbovNhLt7ScNULkwZ5AIZJTrbaKYTLjA1oJ3sIuN/aYocm/9uoQHEIlacF1s/TM1fLcPTL38O9fOsjMEIwoPKfvt7opuI9G2Hf/PR4aCLDQ7wNmIdEuXJ/QNL72k5q4NejAldPfe3UVVqzkys8YZ/jYOGOp6c+YzRCrCuq0M11y7TiN6qk7YXRMn/gukxrEimbMQjr3jwRM6dKVZ4RUfWQr8noPXLJq6yh5R3EH1IVOHESst/LItbG2D2vRsZRkAObzvQAAD3mb3/G4NzopI0FAiHfbpq0X72adg6SRj+8OHMShtFxxLZlf/nLgRLbClwl5WmaYSs+yEjkq48tY7Z2bE0N91mJwt+ua0NlRJIDh0HikF4UvSVorFj2YVu9YeS5tfvlVjPSoNu/Zu6dEUfBOT555hahBdN3Sa5Xuj2Rvau1lQNIaC944y0RWj9UiNDskAK1WoL+EfXcC6IbBXFRyVfX/WKXxPAwUyIAGW8ggZ08hcijKTt1YKnUO6QPvcrmDVAb0FCLIXn5id4fD/Jx4tw/gbXs7WF9b2RgXtPhLBG9vF5FEkdHAKrQHZAJC/HWvk7nvzzDzIXZlfFTJoC3JpGgLPBY7SQTjGlUvG577yNutZ1hTfs9/1nkSXK9zzKLRZ3VODeKUovJe0WCq1zVMYxCJMenmNzPIU2S8TA4E7wWmbNkxq9rI2dd6v0VpcAPVMxnDsvWTWFayyqvKZO7Z08a62i/oH2/jxf8rpmfO64in3FLiL1GX8IGtVE9M23yGsIqJbxDTy+LtaMWDaPqkymb5VrQdzOvqldeU0SUi6IirG8UZ3jcpRbwHa1C0Dww9G/SFX3gPvTJQE+kyz+g1BeMILKKO+olcHzctOWgzxYHnOD7dpCRtuZEXACjgqesZMasoPgnuDC4nUviAAxDc5pngjoAITIkvhKwg5d608pdrZcA+qn5TMT6Uo/QzBaOxBCLTJX3Mgk85rMfsnWx86oLxf7p2PX5ONqieTa/qM3tPw4ZXvlAp83NSD8F7+ZgctK1TpoYwtiU2h02HCGioH5tkVCqNVTMH5p00sRy2JU1qyDBP2CII/Dg4WDsIl+zgeX7589srx6YORRQMBfKbodbB743Tl4WLKOEnwWUVBsm94SOlCracU72MSyj068wdpYjyz1FwC2bjQnxnB6Mp/pZ+yyZXtguEaYB+kqhjQ6UUmwSFazOb+rhYjLaoiM+aN9/8KKn0zaCTFpN9eKwWy7/u4EHzO46TdFSNjMfn2iPSJwDPCFHc0I1+vjdAZw5ZjqR/uzi9Zn20oAa5JnLEk/EA3VRWE7J/XrupfFJPtCUuqHPpnlL7ISJtRpSVcB8qsZCm2QEkWoROtCKKxUh3yEcMbWYJwk6DlEBG0bZP6eg06FL3v6RPb7odGuwm7FN8fG4woqtB8e7M5klPpo97GoObNwt+ludTAmxyC5hmcFx+dIvEZKI6igFKHqLH01iY1o7903VzG9QGetyVx5RNmBYUU+zIuSva/yIcECUi4pRmE3VkF2avqulQEUY4yZ/wmNboBzPmAPey3+dSYtBZUjeWWT0pPwCz4Vozxp9xeClIU60qvEFMQCaPvPaA70WlOP9f/ey39macvpGCVa+zfa8gO44wbxpJUlC8GN/pRMTQtzY8Z8/hiNrU+Zq64ZfFGIkdj7m7abcK1EBtws1X4J/hnqvasPvvDSDYWN+QcQVGMqXalkDtTad5rYY0TIR1Eqox3czwPMjKPvF5sFv17Thujr1IZ1Ytl4VX1J0vjXKmLY4lmXipRAro0qVGEcXxEVMMEl54jQMd4J7RjgomU0j1ptjyxY+cLiSyXPfiEcIS2lWDK3ISAy6UZ3Hb5vnPncA94411jcy75ay6B6DSTzK6UTCZR9uDANtPBrvIDgjsfarMiwoax2OlLxaSoYn4iRgkpEGqEkwox5tyI8aKkLlfZ12lO11TxsqRMY89j5JaO55XfPJPDL1LGSnC88Re9Ai+Nu5bZjtwRrvFITUFHPR4ZmxGslQMecgbZO7nHk32qHxYkdvWpup07ojcMCaVrpFAyFZJJbNvBpZfdf39Hdo2kPtT7v0/f8R/B5Nz4f1t9/3zNM/7n6SUHfcWk5dfQFJvcJMgPolGCpOFb/WC0FGWU2asuQyT+rm88ZKZ78Cei/CAh939CH0JYbpZIPtxc2ufXqjS3pHH9lnWK4iJ7OjR/EESpCo2R3MYKyE7rHfhTvWho4cL1QdN4jFTyR6syMwFm124TVDDRXMNveI1Dp/ntwdz8k8kxw7iFSx6+Yx6O+1LzMVrN0BBzziZi9kneZSzgollBnVwBh6oSOPHXrglrOj+QmR/AESrhDpKrWT+8/AiMDxS/5wwRNuGQPLlJ9ovomhJWn8sMLVItQ8N/7IXvtD8kdOoHaw+vBSbFImQsv/OCAIui99E+YSIOMlMvBXkAt+NAZK8wB9Jf8CPtB+TOUOR+z71d/AFXpPBT6+A5FLjxMjLIEoJzrQfquvxEIi+WoUzGR1IzQFNvbYOnxb2PyQ0kGdyXKzW2axQL8lNAXPk6NEjqrRD1oZtKLlFoofrXw0dCNWASHzy+7PSzOUJ3XtaPZsxLDjr+o41fKuKWNmjiZtfkOzItvlV2MDGSheGF0ma04qE3TUEfqJMrXFm7DpK+27DSvCUVf7rbNoljPhha5W7KBqVq0ShUSTbRmuqPtQreVWH4JET5yMhuqMoSd4r/N8sDmeQiQQvi1tcZv7Moc7dT5X5AtCD6kNEGZOzVcNYlpX4AbTsLgSYYliiPyVoniuYYySxsBy5cgb3pD+EK0Gpb0wJg031dPgaL8JZt6sIvzNPEHfVPOjXmaXj4bd4voXzpZ5GApMhILgMbCEWZ2zwgdeQgjNHLbPIt+KqxRwWPLTN6HwZ0Ouijj4UF+Sg0Au8XuIKW0WxlexdrFrDcZJ8Shauat3X0XmHygqgL1nAu2hrJFb4wZXkcS+i36KMyU1yFvYv23bQUJi/3yQpqr/naUOoiEWOxckyq/gq43dFou1DVDaYMZK9tho7+IXXokBCs5GRfOcBK7g3A+jXQ39K4YA8PBRW4m5+yR0ZAxWJncjRVbITvIAPHYRt1EJ3YLiUbqIvoKHtzHKtUy1ddRUQ0AUO41vonZDUOW+mrszw+SW/6Q/IUgNpcXFjkM7F4CSSQ2ExZg85otsMs7kqsQD4OxYeBNDcSpifjMoLb7GEbGWTwasVObmB/bfPcUlq0wYhXCYEDWRW02TP5bBrYsKTGWjnWDDJ1F7zWai0zW/2XsCuvBQjPFcTYaQX3tSXRSm8hsAoDdjArK/OFp6vcWYOE7lizP0Yc+8p16i7/NiXIiiQTp7c7Xus925VEtlKAjUdFhyaiLT7VxDagprMFwix4wZ05u0qj7cDWFd0W9OYHIu3JbJKMXRJ1aYNovugg+QqRN7fNHSi26VSgBpn+JfMuPo3aeqPWik/wI5Rz3BWarPQX4i5+dM0npwVOsX+KsOhC7vDg+OJsz4Q5zlnIeflUWL6QYMbf9WDfLmosLF4Qev3mJiOuHjoor/dMeBpA9iKDkMjYBNbRo414HCxjsHrB4EXNbHzNMDHCLuNBG6Sf+J4MZ/ElVsDSLxjIiGsTPhw8BPjxbfQtskj+dyNMKOOcUYIRBEIqbazz3lmjlRQhplxq673VklMMY6597vu+d89ec/zq7Mi4gQvh87ehYbpOuZEXj5g/Q7S7BFDAAB9DzG35SC853xtWVcnZQoH54jeOqYLR9NDuwxsVthTV7V99n/B7HSbAytbEyVTz/5NhJ8gGIjG0E5j3griULUd5Rg7tQR+90hJgNQKQH2btbSfPcaTOfIexc1db1BxUOhM1vWCpLaYuKr3FdNTt/T3PWCpEUWDKEtzYrjpzlL/wri3MITKsFvtF8QVV/NhVo97aKIBgdliNc10dWdXVDpVtsNn+2UIolrgqdWA4EY8so0YvB4a+aLzMXiMAuOHQrXY0tr+CL10JbvZzgjJJuB1cRkdT7DUqTvnswVUp5kkUSFVtIIFYK05+tQxT6992HHNWVhWxUsD1PkceIrlXuUVRogwmfdhyrf6zzaL8+c0L7GXMZOteAhAVQVwdJh+7nrX7x4LaIIfz2F2v7Dg/uDfz2Fa+4gFm2zHAor8UqimJG3VTJtZEoFXhnDYXvxMJFc6ku2bhbCxzij2z5UNuK0jmp1mnvkVNUfR+SEmj1Lr94Lym75PO7Fs0MIr3GdsWXRXSfgLTVY0FLqba97u1In8NAcY7IC6TjWLigwKEIm43NxTdaVTv9mcKkzuzBkKd8x/xt1p/9BbP7Wyb4bpo1K1gnOpbLvKz58pWl3B55RJ/Z5mRDLPtNQg14jdOEs9+h/V5UVpwrAI8kGbX8KPVPDIMfIqKDjJD9UyDOPhjZ3vFAyecwyq4akUE9mDOtJEK1hpDyi6Ae87sWAClXGTiwPwN7PXWwjxaR79ArHRIPeYKTunVW24sPr/3HPz2IwH8oKH4OlWEmt4BLM6W5g4kMcYbLwj2usodD1088stZA7VOsUSpEVl4w7NMb1EUHMRxAxLF0CIV+0L3iZb+ekB1vSDSFjAZ3hfLJf7gFaXrOKn+mhR+rWw/eTXIcAgl4HvFuBg1LOmOAwJH3eoVEjjwheKA4icbrQCmvAtpQ0mXG0agYp5mj4Rb6mdQ+RV4QBPbxMqh9C7o8nP0Wko2ocnCHeRGhN1XVyT2b9ACsL+6ylUy+yC3QEnaKRIJK91YtaoSrcWZMMwxuM0E9J68Z+YyjA0g8p1PfHAAIROy6Sa04VXOuT6A351FOWhKfTGsFJ3RTJGWYPoLk5FVK4OaYR9hkJvezwF9vQN1126r6isMGXWTqFW+3HL3I/jurlIdDWIVvYY+s6yq7lrFSPAGRdnU7PVwY/SvWbZGpXzy3BQ2LmAJlrONUsZs4oGkly0V267xbD5KMY8woNNsmWG1VVgLCra8aQBBcI4DP2BlNwxhiCtHlaz6OWFoCW0vMR3ErrG7JyMjTSCnvRcsEHgmPnwA6iNpJ2DrFb4gLlhKJyZGaWkA97H6FFdwEcLT6DRQQL++fOkVC4cYGW1TG/3iK5dShRSuiBulmihqgjR45Vi03o2RbQbP3sxt90VxQ6vzdlGfkXmmKmjOi080JSHkLntjvsBJnv7gKscOaTOkEaRQqAnCA4HWtB4XnMtOhpRmH2FH8tTXrIjAGNWEmudQLCkcVlGTQ965Kh0H6ixXbgImQP6b42B49sO5C8pc7iRlgyvSYvcnH9FgQ3azLbQG2cUW96SDojTQStxkOJyOuDGTHAnnWkz29aEwN9FT8EJ4yhXOg+jLTrCPKeEoJ9a7lDXOjEr8AgX4BmnMQ668oW0zYPyQiVMPxKRHtpfnEEyaKhdzNVThlxxDQNdrHeZiUFb6NoY2KwvSb7BnRcpJy+/g/zAYx3fYSN5QEaVD2Y1VsNWxB0BSO12MRsRY8JLfAezRMz5lURuLUnG1ToKk6Q30FughqWN6gBNcFxP/nY/iv+iaUQOa+2Nuym46wtI/DvSfzSp1jEi4SdYBE7YhTiVV5cX9gwboVDMVgZp5YBQlHOQvaDNfcCoCJuYhf5kz5kwiIKPjzgpcRJHPbOhJajeoeRL53cuMahhV8Z7IRr6M4hW0JzT7mzaMUzQpm866zwM7Cs07fJYXuWvjAMkbe5O6V4bu71sOG6JQ4oL8zIeXHheFVavzxmlIyBkgc9IZlEDplMPr8xlcyss4pVUdwK1e7CK2kTsSdq7g5SHRAl3pYUB9Ko4fsh4qleOyJv1z3KFSTSvwEcRO/Ew8ozEDYZSqpfoVW9uhJfYrNAXR0Z3VmeoAD+rVWtwP/13sE/3ICX3HhDG3CMc476dEEC0K3umSAD4j+ZQLVdFOsWL2C1TH5+4KiSWH+lMibo+B55hR3Gq40G1n25sGcN0mEcoU2wN9FCVyQLBhYOu9aHVLWjEKx2JIUZi5ySoHUAI9b8hGzaLMxCZDMLhv8MkcpTqEwz9KFDpCpqQhVmsGQN8m24wyB82FAKNmjgfKRsXRmsSESovAwXjBIoMKSG51p6Um8b3i7GISs7kjTq/PZoioCfJzfKdJTN0Q45kQEQuh9H88M3yEs3DbtRTKALraM0YC8laiMiOOe6ADmTcCiREeAWZelBaEXRaSuj2lx0xHaRYqF65O0Lo5OCFU18A8cMDE4MLYm9w2QSr9NgQAIcRxZsNpA7UJR0e71JL+VU+ISWFk5I97lra8uGg7GlQYhGd4Gc6rxsLFRiIeGO4abP4S4ekQ1fiqDCy87GZHd52fn5aaDGuvOmIofrzpVwMvtbreZ/855OaXTRcNiNE0wzGZSxbjg26v8ko8L537v/XCCWP2MFaArJpvnkep0pA+O86MWjRAZPQRfznZiSIaTppy6m3p6HrNSsY7fDtz7Cl4V/DJAjQDoyiL2uwf1UHVd2AIrzBUSlJaTj4k6NL97a/GqhWKU9RUmjnYKpm2r+JYUcrkCuZKvcYvrg8pDoUKQywY9GDWg03DUFSirlUXBS5SWn/KAntnf0IdHGL/7mwXqDG+LZYjbEdQmqUqq4y54TNmWUP7IgcAw5816YBzwiNIJiE9M4lPCzeI/FGBeYy3p6IAmH4AjXXmvQ4Iy0Y82NTobcAggT2Cdqz6Mx4TdGoq9fn2etrWKUNFyatAHydQTVUQ2S5OWVUlugcNvoUrlA8cJJz9MqOa/W3iVno4zDHfE7zhoY5f5lRTVZDhrQbR8LS4eRLz8iPMyBL6o4PiLlp89FjdokQLaSBmKHUwWp0na5fE3v9zny2YcDXG/jfI9sctulHRbdkI5a4GOPJx4oAJQzVZ/yYAado8KNZUdEFs9ZPiBsausotXMNebEgr0dyopuqfScFJ3ODNPHgclACPdccwv0YJGQdsN2lhoV4HVGBxcEUeUX/alr4nqpcc1CCR3vR7g40zteQg/JvWmFlUE4mAiTpHlYGrB7w+U2KdSwQz2QJKBe/5eiixWipmfP15AFWrK8Sh1GBBYLgzki1wTMhGQmagXqJ2+FuqJ8f0XzXCVJFHQdMAw8xco11HhM347alrAu+wmX3pDFABOvkC+WPX0Uhg1Z5MVHKNROxaR84YV3s12UcM+70cJ460SzEaKLyh472vOMD3XnaK7zxZcXlWqenEvcjmgGNR2OKbI1s8U+iwiW+HotHalp3e1MGDy6BMVIvajnAzkFHbeVsgjmJUkrP9OAwnEHYXVBqYx3q7LvXjoVR0mY8h+ZaOnh053pdsGkmbqhyryN01eVHySr+CkDYkSMeZ1xjPNVM+gVLTDKu2VGsMUJqWO4TwPDP0VOg2/8ITbAUaMGb4LjL7L+Pi11lEVMXTYIlAZ/QHmTENjyx3kDkBdfcvvQt6tKk6jYFM4EG5UXDTaF5+1ZjRz6W7MdJPC+wTkbDUim4p5QQH3b9kGk2Bkilyeur8Bc20wm5uJSBO95GfYDI1EZipoRaH7uVveneqz43tlTZGRQ4a7CNmMHgXyOQQOL6WQkgMUTQDT8vh21aSdz7ERiZT1jK9F+v6wgFvuEmGngSvIUR2CJkc5tx1QygfZnAruONobB1idCLB1FCfO7N1ZdRocT8/Wye+EnDiO9pzqIpnLDl4bkaRKW+ekBVwHn46Shw1X0tclt/0ROijuUB4kIInrVJU4buWf4YITJtjOJ6iKdr1u+flgQeFH70GxKjhdgt/MrwfB4K/sXczQ+9zYcrD4dhY6qZhZ010rrxggWA8JaZyg2pYij8ieYEg1aZJkZK9O1Re7sB0iouf60rK0Gd+AYlp7soqCBCDGwfKeUQhCBn0E0o0GS6PdmjLi0TtCYZeqazqwN+yNINIA8Lk3iPDnWUiIPLGNcHmZDxfeK0iAdxm/T7LnN+gemRL61hHIc0NCAZaiYJR+OHnLWSe8sLrK905B5eEJHNlWq4RmEXIaFTmo49f8w61+NwfEUyuJAwVqZCLFcyHBKAcIVj3sNzfEOXzVKIndxHw+AR93owhbCxUZf6Gs8cz6/1VdrFEPrv330+9s6BtMVPJ3zl/Uf9rUi0Z/opexfdL3ykF76e999GPfVv8fJv/Y/+/5hEMon1tqNFyVRevV9y9/uIvsG3dbB8GRRrgaEXfhx+2xeOFt+cEn3RZanNxdEe2+B6MHpNbrRE53PlDifPvFcp4kO78ILR0T4xyW/WGPyBsqGdoA7zJJCu1TKbGfhnqgnRbxbB2B3UZoeQ2bz2sTVnUwokTcTU21RxN1PYPS3Sar7T0eRIsyCNowr9amwoMU/od9s2APtiKNL6ENOlyKADstAEWKA+sdKDhrJ6BOhRJmZ+QJbAaZ3/5Fq0/lumCgEzGEbu3yi0Y4I4EgVAjqxh4HbuQn0GrRhOWyAfsglQJAVL1y/6yezS2k8RE2MstJLh92NOB3GCYgFXznF4d25qiP4ZCyI4RYGesut6FXK6GwPpKK8WHEkhYui0AyEmr5Ml3uBFtPFdnioI8RiCooa7Z1G1WuyIi3nSNglutc+xY8BkeW3JJXPK6jd2VIMpaSxpVtFq+R+ySK9J6WG5Qvt+C+QH1hyYUOVK7857nFmyDBYgZ/o+AnibzNVqyYCJQvyDXDTK+iXdkA71bY7TL3bvuLxLBQ8kbTvTEY9aqkQ3+MiLWbEgjLzOH+lXgco1ERgzd80rDCymlpaRQbOYnKG/ODoFl46lzT0cjM5FYVvv0qLUbD5lyJtMUaC1pFlTkNONx6lliaX9o0i/1vws5bNKn5OuENQEKmLlcP4o2ZmJjD4zzd3Fk32uQ4uRWkPSUqb4LBe3EXHdORNB2BWsws5daRnMfNVX7isPSb1hMQdAJi1/qmDMfRUlCU74pmnzjbXfL8PVG8NsW6IQM2Ne23iCPIpryJjYbVnm5hCvKpMa7HLViNiNc+xTfDIaKm3jctViD8A1M9YPJNk003VVr4Zo2MuGW8vil8SLaGpPXqG7I4DLdtl8a4Rbx1Lt4w5Huqaa1XzZBtj208EJVGcmKYEuaeN27zT9EE6a09JerXdEbpaNgNqYJdhP1NdqiPKsbDRUi86XvvNC7rME5mrSQtrzAZVndtSjCMqd8BmaeGR4l4YFULGRBeXIV9Y4yxLFdyoUNpiy2IhePSWzBofYPP0eIa2q5JP4j9G8at/AqoSsLAUuRXtvgsqX/zYwsE+of6oSDbUOo4RMJw+DOUTJq+hnqwKim9Yy/napyZNTc2rCq6V9jHtJbxGPDwlzWj/Sk3zF/BHOlT/fSjSq7FqlPI1q6J+ru8Aku008SFINXZfOfnZNOvGPMtEmn2gLPt+H4QLA+/SYe4j398auzhKIp2Pok3mPC5q1IN1HgR+mnEfc4NeeHYwd2/kpszR3cBn7ni9NbIqhtSWFW8xbUJuUPVOeeXu3j0IGZmFNiwaNZ6rH4/zQ2ODz6tFxRLsUYZu1bfd1uIvfQDt4YD/efKYv8VF8bHGDgK22w2Wqwpi43vNCOXFJZCGMqWiPbL8mil6tsmOTXAWCyMCw73e2rADZj2IK6rqksM3EXF2cbLb4vjB14wa/yXK5vwU+05MzERJ5nXsXsW21o7M+gO0js2OyKciP5uF2iXyb2DiptwQeHeqygkrNsqVCSlldxBMpwHi1vfc8RKpP/4L3Lmpq6DZcvhDDfxTCE3splacTcOtXdK2g303dIWBVe2wD/Gvja1cClFQ67gw0t1ZUttsUgQ1Veky8oOpS6ksYEc4bqseCbZy766SvL3FodmnahlWJRgVCNjPxhL/fk2wyvlKhITH/VQCipOI0dNcRa5B1M5HmOBjTLeZQJy237e2mobwmDyJNHePhdDmiknvLKaDbShL+Is1XTCJuLQd2wmdJL7+mKvs294whXQD+vtd88KKk0DXP8B1Xu9J+xo69VOuFgexgTrcvI6SyltuLix9OPuE6/iRJYoBMEXxU4shQMf4Fjqwf1PtnJ/wWSZd29rhZjRmTGgiGTAUQqRz+nCdjeMfYhsBD5Lv60KILWEvNEHfmsDs2L0A252351eUoYxAysVaCJVLdH9QFWAmqJDCODUcdoo12+gd6bW2boY0pBVHWL6LQDK5bYWh1V8vFvi0cRpfwv7cJiMX3AZNJuTddHehTIdU0YQ/sQ1dLoF2xQPcCuHKiuCWOY30DHe1OwcClLAhqAKyqlnIbH/8u9ScJpcS4kgp6HKDUdiOgRaRGSiUCRBjzI5gSksMZKqy7Sd51aeg0tgJ+x0TH9YH2Mgsap9N7ENZdEB0bey2DMTrBA1hn56SErNHf3tKtqyL9b6yXEP97/rc+jgD2N1LNUH6RM9AzP3kSipr06RkKOolR7HO768jjWiH1X92jA7dkg7gcNcjqsZCgfqWw0tPXdLg20cF6vnQypg7gLtkazrHAodyYfENPQZsdfnjMZiNu4nJO97D1/sQE+3vNFzrSDOKw+keLECYf7RJwVHeP/j79833oZ0egonYB2FlFE5qj02B/LVOMJQlsB8uNg3Leg4qtZwntsOSNidR0abbZmAK4sCzvt8Yiuz2yrNCJoH5O8XvX/vLeR/BBYTWj0sOPYM/jyxRd5+/JziKAABaPcw/34UA3aj/gLZxZgRCWN6m4m3demanNgsx0P237/Q+Ew5VYnJPkyCY0cIVHoFn2Ay/e7U4P19APbPFXEHX94N6KhEMPG7iwB3+I+O1jd5n6VSgHegxgaSawO6iQCYFgDsPSMsNOcUj4q3sF6KzGaH/0u5PQoAj/8zq6Uc9MoNrGqhYeb2jQo0WlGlXjxtanZLS24/OIN5Gx/2g684BPDQpwlqnkFcxpmP/osnOXrFuu4PqifouQH0eF5qCkvITQbJw/Zvy5mAHWC9oU+cTiYhJmSfKsCyt1cGVxisKu+NymEQIAyaCgud/V09qT3nk/9s/SWsYtha7yNpzBIMM40rCSGaJ9u6lEkl00vXBiEt7p9P5IBCiavynEOv7FgLqPdeqxRiCwuFVMolSIUBcoyfUC2e2FJSAUgYdVGFf0b0Kn2EZlK97yyxrT2MVgvtRikfdaAW8RwEEfN+B7/eK8bBdp7URpbqn1xcrC6d2UjdsKbzCjBFqkKkoZt7Mrhg6YagE7spkqj0jOrWM+UGQ0MUlG2evP1uE1p2xSv4dMK0dna6ENcNUF+xkaJ7B764NdxLCpuvhblltVRAf7vK5qPttJ/9RYFUUSGcLdibnz6mf7WkPO3MkUUhR2mAOuGv8IWw5XG1ZvoVMnjSAZe6T7WYA99GENxoHkMiKxHlCuK5Gd0INrISImHQrQmv6F4mqU/TTQ8nHMDzCRivKySQ8dqkpQgnUMnwIkaAuc6/FGq1hw3b2Sba398BhUwUZSAIO8XZvnuLdY2n6hOXws+gq9BHUKcKFA6kz6FDnpxLPICa3qGhnc97bo1FT/XJk48LrkHJ2CAtBv0RtN97N21plfpXHvZ8gMJb7Zc4cfI6MbPwsW7AilCSXMFIEUEmir8XLEklA0ztYbGpTTGqttp5hpFTTIqUyaAIqvMT9A/x+Ji5ejA4Bhxb/cl1pUdOD6epd3yilIdO6j297xInoiBPuEDW2/UfslDyhGkQs7Wy253bVnlT+SWg89zYIK/9KXFl5fe+jow2rd5FXv8zDPrmfMXiUPt9QBO/iK4QGbX5j/7Rx1c1vzsY8ONbP3lVIaPrhL4+1QrECTN3nyKavGG0gBBtHvTKhGoBHgMXHStFowN+HKrPriYu+OZ05Frn8okQrPaaxoKP1ULCS/cmKFN3gcH7HQlVjraCeQmtjg1pSQxeuqXiSKgLpxc/1OiZsU4+n4lz4hpahGyWBURLi4642n1gn9qz9bIsaCeEPJ0uJmenMWp2tJmIwLQ6VSgDYErOeBCfSj9P4G/vI7oIF+l/n5fp956QgxGvur77ynawAu3G9MdFbJbu49NZnWnnFcQHjxRuhUYvg1U/e84N4JTecciDAKb/KYIFXzloyuE1eYXf54MmhjTq7B/yBToDzzpx3tJCTo3HCmVPYfmtBRe3mPYEE/6RlTIxbf4fSOcaKFGk4gbaUWe44hVk9SZzhW80yfW5QWBHxmtUzvMhfVQli4gZTktIOZd9mjJ5hsbmzttaHQB29Am3dZkmx3g/qvYocyhZ2PXAWsNQiIaf+Q8W/MWPIK7/TjvCx5q2XRp4lVWydMc2wIQkhadDB0xsnw/kSEyGjLKjI4coVIwtubTF3E7MJ6LS6UOsJKj82XVAVPJJcepfewbzE91ivXZvOvYfsmMevwtPpfMzGmC7WJlyW2j0jh7AF1JLmwEJSKYwIvu6DHc3YnyLH9ZdIBnQ+nOVDRiP+REpqv++typYHIvoJyICGA40d8bR7HR2k7do6UQTHF4oriYeIQbxKe4Th6+/l1BjUtS9hqORh3MbgvYrStXTfSwaBOmAVQZzpYNqsAmQyjY56MUqty3c/xH6GuhNvNaG9vGbG6cPtBM8UA3e8r51D0AR9kozKuGGSMgLz3nAHxDNnc7GTwpLj7/6HeWp1iksDeTjwCLpxejuMtpMnGJgsiku1sOACwQ9ukzESiDRN77YNESxR5LphOlcASXA5uIts1LnBIcn1J7BLWs49DMALSnuz95gdOrTZr0u1SeYHinno/pE58xYoXbVO/S+FEMMs5qyWkMnp8Q3ClyTlZP52Y9nq7b8fITPuVXUk9ohG5EFHw4gAEcjFxfKb3xuAsEjx2z1wxNbSZMcgS9GKyW3R6KwJONgtA64LTyxWm8Bvudp0M1FdJPEGopM4Fvg7G/hsptkhCfHFegv4ENwxPeXmYhxwZy7js+BeM27t9ODBMynVCLJ7RWcBMteZJtvjOYHb5lOnCLYWNEMKC59BA7covu1cANa2PXL05iGdufOzkgFqqHBOrgQVUmLEc+Mkz4Rq8O6WkNr7atNkH4M8d+SD1t/tSzt3oFql+neVs+AwEI5JaBJaxARtY2Z4mKoUqxds4UpZ0sv3zIbNoo0J4fihldQTX3XNcuNcZmcrB5LTWMdzeRuAtBk3cZHYQF6gTi3PNuDJ0nmR+4LPLoHvxQIxRgJ9iNNXqf2SYJhcvCtJiVWo85TsyFOuq7EyBPJrAdhEgE0cTq16FQXhYPJFqSfiVn0IQnPOy0LbU4BeG94QjdYNB0CiQ3QaxQqD2ebSMiNjaVaw8WaM4Z5WnzcVDsr4eGweSLa2DE3BWViaxhZFIcSTjgxNCAfelg+hznVOYoe5VqTYs1g7WtfTm3e4/WduC6p+qqAM8H4ZyrJCGpewThTDPe6H7CzX/zQ8Tm+r65HeZn+MsmxUciEWPlAVaK/VBaQBWfoG/aRL/jSZIQfep/89GjasWmbaWzeEZ2R1FOjvyJT37O9B8046SRSKVEnXWlBqbkb5XCS3qFeuE9xb9+frEknxWB5h1D/hruz2iVDEAS7+qkEz5Ot5agHJc7WCdY94Ws61sURcX5nG8UELGBAHZ3i+3VulAyT0nKNNz4K2LBHBWJcTBX1wzf+//u/j/9+//v87+9/l9Lbh/L/uyNYiTsWV2LwsjaA6MxTuzFMqmxW8Jw/+IppdX8t/Clgi1rI1SN0UC/r6tX/4lUc2VV1OQReSeCsjUpKZchw4XUcjHfw6ryCV3R8s6VXm67vp4n+lcPV9gJwmbKQEsmrJi9c2vkwrm8HFbVYNTaRGq8D91t9n5+U+aD/hNtN3HjC/nC/vUoGFSCkXP+NlRcmLUqLbiUBl4LYf1U/CCvwtd3ryCH8gUmGITAxiH1O5rnGTz7y1LuFjmnFGQ1UWuM7HwfXtWl2fPFKklYwNUpF2IL/TmaRETjQiM5SJacI+3Gv5MBU8lP5Io6gWkawpyzNEVGqOdx4YlO1dCvjbWFZWbCmeiFKPSlMKtKcMFLs/KQxtgAHi7NZNCQ32bBAW2mbHflVZ8wXKi1JKVHkW20bnYnl3dKWJeWJOiX3oKPBD6Zbi0ZvSIuWktUHB8qDR8DMMh1ZfkBL9FS9x5r0hBGLJ8pUCJv3NYH+Ae8p40mZWd5m5fhobFjQeQvqTT4VKWIYfRL0tfaXKiVl75hHReuTJEcqVlug+eOIIc4bdIydtn2K0iNZPsYWQvQio2qbO3OqAlPHDDOB7DfjGEfVF51FqqNacd6QmgFKJpMfLp5DHTv4wXlONKVXF9zTJpDV4m1sYZqJPhotcsliZM8yksKkCkzpiXt+EcRQvSQqmBS9WdWkxMTJXPSw94jqI3varCjQxTazjlMH8jTS8ilaW8014/vwA/LNa+YiFoyyx3s/KswP3O8QW1jtq45yTM/DX9a8M4voTVaO2ebvw1EooDw/yg6Y1faY+WwrdVs5Yt0hQ5EwRfYXSFxray1YvSM+kYmlpLG2/9mm1MfmbKHXr44Ih8nVKb1M537ZANUkCtdsPZ80JVKVKabVHCadaLXg+IV8i5GSwpZti0h6diTaKs9sdpUKEpd7jDUpYmHtiX33SKiO3tuydkaxA7pEc9XIQEOfWJlszj5YpL5bKeQyT7aZSBOamvSHl8xsWvgo26IP/bqk+0EJUz+gkkcvlUlyPp2kdKFtt7y5aCdks9ZJJcFp5ZWeaWKgtnXMN3ORwGLBE0PtkEIek5FY2aVssUZHtsWIvnljMVJtuVIjpZup/5VL1yPOHWWHkOMc6YySWMckczD5jUj2mlLVquFaMU8leGVaqeXis+aRRL8zm4WuBk6cyWfGMxgtr8useQEx7k/PvRoZyd9nde1GUCV84gMX8Ogu/BWezYPSR27llzQnA97oo0pYyxobYUJfsj+ysTm9zJ+S4pk0TGo9VTG0KjqYhTmALfoDZVKla2b5yhv241PxFaLJs3i05K0AAIdcGxCJZmT3ZdT7CliR7q+kur7WdQjygYtOWRL9B8E4s4LI8KpAj7bE0dg7DLOaX+MGeAi0hMMSSWZEz+RudXbZCsGYS0QqiXjH9XQbd8sCB+nIVTq7/T/FDS+zWY9q7Z2fdq1tdLb6v3hKKVDAw5gjj6o9r1wHFROdHc18MJp4SJ2Ucvu+iQ9EgkekW8VCM+psM6y+/2SBy8tNN4a3L1MzP+OLsyvESo5gS7IQOnIqMmviJBVc6zbVG1n8eXiA3j46kmvvtJlewwNDrxk4SbJOtP/TV/lIVK9ueShNbbMHfwnLTLLhbZuO79ec5XvfgRwLFK+w1r5ZWW15rVFZrE+wKqNRv5KqsLNfpGgnoUU6Y71NxEmN7MyqwqAQqoIULOw/LbuUB2+uE75gJt+kq1qY4LoxV+qR/zalupea3D5+WMeaRIn0sAI6DDWDh158fqUb4YhAxhREbUN0qyyJYkBU4V2KARXDT65gW3gRsiv7xSPYEKLwzgriWcWgPr0sbZnv7m1XHNFW6xPdGNZUdxFiUYlmXNjDVWuu7LCkX/nVkrXaJhiYktBISC2xgBXQnNEP+cptWl1eG62a7CPXrnrkTQ5BQASbEqUZWMDiZUisKyHDeLFOaJILUo5f6iDt4ZO8MlqaKLto0AmTHVVbkGuyPa1R/ywZsWRoRDoRdNMMHwYTsklMVnlAd2S0282bgMI8fiJpDh69OSL6K3qbo20KfpNMurnYGQSr/stFqZ7hYsxKlLnKAKhsmB8AIpEQ4bd/NrTLTXefsE6ChRmKWjXKVgpGoPs8GAicgKVw4K0qgDgy1A6hFq1WRat3fHF+FkU+b6H4NWpOU3KXTxrIb2qSHAb+qhm8hiSROi/9ofapjxhyKxxntPpge6KL5Z4+WBMYkAcE6+0Hd3Yh2zBsK2MV3iW0Y6cvOCroXlRb2MMJtdWx+3dkFzGh2Pe3DZ9QpSqpaR/rE1ImOrHqYYyccpiLC22amJIjRWVAherTfpQLmo6/K2pna85GrDuQPlH1Tsar8isAJbXLafSwOof4gg9RkAGm/oYpBQQiPUoyDk2BCQ1k+KILq48ErFo4WSRhHLq/y7mgw3+L85PpP6xWr6cgp9sOjYjKagOrxF148uhuaWtjet953fh1IQiEzgC+d2IgBCcUZqgTAICm2bR8oCjDLBsmg+ThyhfD+zBalsKBY1Ce54Y/t9cwfbLu9SFwEgphfopNA3yNxgyDafUM3mYTovZNgPGdd4ZFFOj1vtfFW3u7N+iHEN1HkeesDMXKPyoCDCGVMo4GCCD6PBhQ3dRZIHy0Y/3MaE5zU9mTCrwwnZojtE+qNpMSkJSpmGe0EzLyFelMJqhfFQ7a50uXxZ8pCc2wxtAKWgHoeamR2O7R+bq7IbPYItO0esdRgoTaY38hZLJ5y02oIVwoPokGIzxAMDuanQ1vn2WDQ00Rh6o5QOaCRu99fwDbQcN0XAuqkFpxT/cfz3slGRVokrNU0iqiMAJFEbKScZdmSkTUznC0U+MfwFOGdLgsewRyPKwBZYSmy6U325iUhBQNxbAC3FLKDV9VSOuQpOOukJ/GAmu/tyEbX9DgEp6dv1zoU0IqzpG6gssSjIYRVPGgU1QAQYRgIT8gEV0EXr1sqeh2I6rXjtmoCYyEDCe/PkFEi/Q48FuT29p557iN+LCwk5CK/CZ2WdAdfQZh2Z9QGrzPLSNRj5igUWzl9Vi0rCqH8G1Kp4QMLkuwMCAypdviDXyOIk0AHTM8HBYKh3b0/F+DxoNj4ZdoZfCpQVdnZarqoMaHWnMLNVcyevytGsrXQEoIbubqWYNo7NRHzdc0zvT21fWVirj7g36iy6pxogfvgHp1xH1Turbz8QyyHnXeBJicpYUctbzApwzZ1HT+FPEXMAgUZetgeGMwt4G+DHiDT2Lu+PT21fjJCAfV16a/Wu1PqOkUHSTKYhWW6PhhHUlNtWzFnA7MbY+r64vkwdpfNB2JfWgWXAvkzd42K4lN9x7Wrg4kIKgXCb4mcW595MCPJ/cTfPAMQMFWwnqwde4w8HZYJFpQwcSMhjVz4B8p6ncSCN1X4klxoIH4BN2J6taBMj6lHkAOs8JJAmXq5xsQtrPIPIIp/HG6i21xMGcFgqDXSRF0xQg14d2uy6HgKE13LSvQe52oShF5Jx1R6avyL4thhXQZHfC94oZzuPUBKFYf1VvDaxIrtV6dNGSx7DO0i1p6CzBkuAmEqyWceQY7F9+U0ObYDzoa1iKao/cOD/v6Q9gHrrr1uCeOk8fST9MG23Ul0KmM3r+Wn6Hi6WAcL7gEeaykicvgjzkjSwFsAXIR81Zx4QJ6oosVyJkCcT+4xAldCcihqvTf94HHUPXYp3REIaR4dhpQF6+FK1H0i9i7Pvh8owu3lO4PT1iuqu+DkL2Bj9+kdfGAg2TXw03iNHyobxofLE2ibjsYDPgeEQlRMR7afXbSGQcnPjI2D+sdtmuQ771dbASUsDndU7t58jrrNGRzISvwioAlHs5FA+cBE5Ccznkd8NMV6BR6ksnKLPZnMUawRDU1MZ/ib3xCdkTblHKu4blNiylH5n213yM0zubEie0o4JhzcfAy3H5qh2l17uLooBNLaO+gzonTH2uF8PQu9EyH+pjGsACTMy4cHzsPdymUSXYJOMP3yTkXqvO/lpvt0cX5ekDEu9PUfBeZODkFuAjXCaGdi6ew4qxJ8PmFfwmPpkgQjQlWqomFY6UkjmcnAtJG75EVR+NpzGpP1Ef5qUUbfowrC3zcSLX3BxgWEgEx/v9cP8H8u1Mvt9/rMDYf6sjwU1xSOPBgzFEeJLMRVFtKo5QHsUYT8ZRLCah27599EuqoC9PYjYO6aoAMHB8X1OHwEAYouHfHB3nyb2B+SnZxM/vw/bCtORjLMSy5aZoEpvgdGvlJfNPFUu/p7Z4VVK1hiI0/UTuB3ZPq4ohEbm7Mntgc1evEtknaosgZSwnDC2BdMmibpeg48X8Ixl+/8+xXdbshQXUPPvx8jT3fkELivHSmqbhblfNFShWAyQnJ3WBU6SMYSIpTDmHjdLVAdlADdz9gCplZw6mTiHqDwIsxbm9ErGusiVpg2w8Q3khKV/R9Oj8PFeF43hmW/nSd99nZzhyjCX3QOZkkB6BsH4H866WGyv9E0hVAzPYah2tkRfQZMmP2rinfOeQalge0ovhduBjJs9a1GBwReerceify49ctOh5/65ATYuMsAkVltmvTLBk4oHpdl6i+p8DoNj4Fb2vhdFYer2JSEilEwPd5n5zNoGBXEjreg/wh2NFnNRaIUHSOXa4eJRwygZoX6vnWnqVdCRT1ARxeFrNBJ+tsdooMwqnYhE7zIxnD8pZH+P0Nu1wWxCPTADfNWmqx626IBJJq6NeapcGeOmbtXvl0TeWG0Y7OGGV4+EHTtNBIT5Wd0Bujl7inXgZgfXTM5efD3qDTJ54O9v3Bkv+tdIRlq1kXcVD0BEMirmFxglNPt5pedb1AnxuCYMChUykwsTIWqT23XDpvTiKEru1cTcEMeniB+HQDehxPXNmkotFdwUPnilB/u4Nx5Xc6l8J9jH1EgKZUUt8t8cyoZleDBEt8oibDmJRAoMKJ5Oe9CSWS5ZMEJvacsGVdXDWjp/Ype5x0p9PXB2PAwt2LRD3d+ftNgpuyvxlP8pB84oB1i73vAVpwyrmXW72hfW6Dzn9Jkj4++0VQ4d0KSx1AsDA4OtXXDo63/w+GD+zC7w5SJaxsmnlYRQ4dgdjA7tTl2KNLnpJ+mvkoDxtt1a4oPaX3EVqj96o9sRKBQqU7ZOiupeAIyLMD+Y3YwHx30XWHB5CQiw7q3mj1EDlP2eBsZbz79ayUMbyHQ7s8gu4Lgip1LiGJj7NQj905/+rgUYKAA5qdrlHKIknWmqfuR+PB8RdBkDg/NgnlT89G72h2NvySnj7UyBwD+mi/IWs1xWbxuVwUIVXun5cMqBtFbrccI+DILjsVQg6eeq0itiRfedn89CvyFtpkxaauEvSANuZmB1p8FGPbU94J9medwsZ9HkUYjmI7OH5HuxendLbxTaYrPuIfE2ffXFKhoNBUp33HsFAXmCV/Vxpq5AYgFoRr5Ay93ZLRlgaIPjhZjXZZChT+aE5iWAXMX0oSFQEtwjiuhQQItTQX5IYrKfKB+queTNplR1Hoflo5/I6aPPmACwQCE2jTOYo5Dz1cs7Sod0KTG/3kEDGk3kUaUCON19xSJCab3kNpWZhSWkO8l+SpW70Wn3g0ciOIJO5JXma6dbos6jyisuxXwUUhj2+1uGhcvuliKtWwsUTw4gi1c/diEEpZHoKoxTBeMDmhPhKTx7TXWRakV8imJR355DcIHkR9IREHxohP4TbyR5LtFU24umRPRmEYHbpe1LghyxPx7YgUHjNbbQFRQhh4KeU1EabXx8FS3JAxp2rwRDoeWkJgWRUSKw6gGP5U2PuO9V4ZuiKXGGzFQuRuf+tkSSsbBtRJKhCi3ENuLlXhPbjTKD4djXVnfXFds6Zb+1XiUrRfyayGxJq1+SYBEfbKlgjiSmk0orgTqzSS+DZ5rTqsJbttiNtp+KMqGE2AHGFw6jQqM5vD6vMptmXV9OAjq49Uf/Lx9Opam+Hn5O9p8qoBBAQixzQZ4eNVkO9sPzJAMyR1y4/RCQQ1s0pV5KAU5sKLw3tkcFbI/JqrjCsK4Mw+W8aod4lioYuawUiCyVWBE/qPaFi5bnkgpfu/ae47174rI1fqQoTbW0HrU6FAejq7ByM0V4zkZTg02/YJK2N7hUQRCeZ4BIgSEqgD8XsjzG6LIsSbuHoIdz/LhFzbNn1clci1NHWJ0/6/O8HJMdIpEZbqi1RrrFfoo/rI/7ufm2MPG5lUI0IYJ4MAiHRTSOFJ2oTverFHYXThkYFIoyFx6rMYFgaOKM4xNWdlOnIcKb/suptptgTOTdVIf4YgdaAjJnIAm4qNNHNQqqAzvi53GkyRCEoseUBrHohZsjUbkR8gfKtc/+Oa72lwxJ8Mq6HDfDATbfbJhzeIuFQJSiw1uZprHlzUf90WgqG76zO0eCB1WdPv1IT6sNxxh91GEL2YpgC97ikFHyoaH92ndwduqZ6IYjkg20DX33MWdoZk7QkcKUCgisIYslOaaLyvIIqRKWQj16jE1DlQWJJaPopWTJjXfixEjRJJo8g4++wuQjbq+WVYjsqCuNIQW3YjnxKe2M5ZKEqq+cX7ZVgnkbsU3RWIyXA1rxv4kGersYJjD//auldXGmcEbcfTeF16Y1708FB1HIfmWv6dSFi6oD4E+RIjCsEZ+kY7dKnwReJJw3xCjKvi3kGN42rvyhUlIz0Bp+fNSV5xwFiuBzG296e5s/oHoFtUyUplmPulIPl+e1CQIQVtjlzLzzzbV+D/OVQtYzo5ixtMi5BmHuG4N/uKfJk5UIREp7+12oZlKtPBomXSzAY0KgtbPzzZoHQxujnREUgBU+O/jKKhgxVhRPtbqyHiUaRwRpHv7pgRPyUrnE7fYkVblGmfTY28tFCvlILC04Tz3ivkNWVazA+OsYrxvRM/hiNn8Fc4bQBeUZABGx5S/xFf9Lbbmk298X7iFg2yeimvsQqqJ+hYbt6uq+Zf9jC+Jcwiccd61NKQtFvGWrgJiHB5lwi6fR8KzYS7EaEHf/ka9EC7H8D+WEa3TEACHBkNSj/cXxFeq4RllC+fUFm2xtstYLL2nos1DfzsC9vqDDdRVcPA3Ho95aEQHvExVThXPqym65llkKlfRXbPTRiDepdylHjmV9YTWAEjlD9DdQnCem7Aj/ml58On366392214B5zrmQz/9ySG2mFqEwjq5sFl5tYJPw5hNz8lyZPUTsr5E0F2C9VMPnZckWP7+mbwp/BiN7f4kf7vtGnZF2JGvjK/sDX1RtcFY5oPQnE4lIAYV49U3C9SP0LCY/9i/WIFK9ORjzM9kG/KGrAuwFmgdEpdLaiqQNpCTGZVuAO65afkY1h33hrqyLjZy92JK3/twdj9pafFcwfXONmPQWldPlMe7jlP24Js0v9m8bIJ9TgS2IuRvE9ZVRaCwSJYOtAfL5H/YS4FfzKWKbek+GFulheyKtDNlBtrdmr+KU+ibHTdalzFUmMfxw3f36x+3cQbJLItSilW9cuvZEMjKw987jykZRlsH/UI+HlKfo2tLwemBEeBFtmxF2xmItA/dAIfQ+rXnm88dqvXa+GapOYVt/2waFimXFx3TC2MUiOi5/Ml+3rj/YU6Ihx2hXgiDXFsUeQkRAD6wF3SCPi2flk7XwKAA4zboqynuELD312EJ88lmDEVOMa1W/K/a8tGylZRMrMoILyoMQzzbDJHNZrhH77L9qSC42HVmKiZ5S0016UTp83gOhCwz9XItK9fgXfK3F5d7nZCBUekoLxrutQaPHa16Rjsa0gTrzyjqTnmcIcrxg6X6dkKiucudc0DD5W4pJPf0vuDW8r5/uw24YfMuxFRpD2ovT2mFX79xH6Jf+MVdv2TYqR6/955QgVPe3JCD/WjAYcLA9tpXgFiEjge2J5ljeI/iUzg91KQuHkII4mmHZxC3XQORLAC6G7uFn5LOmlnXkjFdoO976moNTxElS8HdxWoPAkjjocDR136m2l+f5t6xaaNgdodOvTu0rievnhNAB79WNrVs6EsPgkgfahF9gSFzzAd+rJSraw5Mllit7vUP5YxA843lUpu6/5jAR0RvH4rRXkSg3nE+O5GFyfe+L0s5r3k05FyghSFnKo4TTgs07qj4nTLqOYj6qaW9knJTDkF5OFMYbmCP+8H16Ty482OjvERV6OFyw043L9w3hoJi408sR+SGo1WviXUu8d7qS+ehKjpKwxeCthsm2LBFSFeetx0x4AaKPxtp3CxdWqCsLrB1s/j5TAhc1jNZsXWl6tjo/WDoewxzg8T8NnhZ1niUwL/nhfygLanCnRwaFGDyLw+sfZhyZ1UtYTp8TYB6dE7R3VsKKH95CUxJ8u8N+9u2/9HUNKHW3x3w5GQrfOPafk2w5qZq8MaHT0ebeY3wIsp3rN9lrpIsW9c1ws3VNV+JwNz0Lo9+V7zZr6GD56We6gWVIvtmam5GPPkVAbr74r6SwhuL+TRXtW/0pgyX16VNl4/EAD50TnUPuwrW6OcUO2VlWXS0inq872kk7GUlW6o/ozFKq+Sip6LcTtSDfDrPTcCHhx75H8BeRon+KG2wRwzfDgWhALmiWOMO6h3pm1UCZEPEjScyk7tdLx6WrdA2N1QTPENvNnhCQjW6kl057/qv7IwRryHrZBCwVSbLLnFRiHdTwk8mlYixFt1slEcPD7FVht13HyqVeyD55HOXrh2ElAxJyinGeoFzwKA91zfrdLvDxJSjzmImfvTisreI25EDcVfGsmxLVbfU8PGe/7NmWWKjXcdTJ11jAlVIY/Bv/mcxg/Q10vCHwKG1GW/XbJq5nxDhyLqiorn7Wd7VEVL8UgVzpHMjQ+Z8DUgSukiVwWAKkeTlVVeZ7t1DGnCgJVIdBPZAEK5f8CDyDNo7tK4/5DBjdD5MPV86TaEhGsLVFPQSI68KlBYy84FievdU9gWh6XZrugvtCZmi9vfd6db6V7FmoEcRHnG36VZH8N4aZaldq9zZawt1uBFgxYYx+Gs/qW1jwANeFy+LCoymyM6zgG7j8bGzUyLhvrbJkTYAEdICEb4kMKusKT9V3eIwMLsjdUdgijMc+7iKrr+TxrVWG0U+W95SGrxnxGrE4eaJFfgvAjUM4SAy8UaRwE9j6ZQH5qYAWGtXByvDiLSDfOD0yFA3UCMKSyQ30fyy1mIRg4ZcgZHLNHWl+c9SeijOvbOJxoQy7lTN2r3Y8p6ovxvUY74aOYbuVezryqXA6U+fcp6wSV9X5/OZKP18tB56Ua0gMyxJI7XyNT7IrqN8GsB9rL/kP5KMrjXxgqKLDa+V5OCH6a5hmOWemMUsea9vQl9t5Oce76PrTyTv50ExOqngE3PHPfSL//AItPdB7kGnyTRhVUUFNdJJ2z7RtktZwgmQzhBG/G7QsjZmJfCE7k75EmdIKH7xlnmDrNM/XbTT6FzldcH/rcRGxlPrv4qDScqE7JSmQABJWqRT/TUcJSwoQM+1jvDigvrjjH8oeK2in1S+/yO1j8xAws/T5u0VnIvAPqaE1atNuN0cuRliLcH2j0nTL4JpcR7w9Qya0JoaHgsOiALLCCzRkl1UUESz+ze/gIXHGtDwgYrK6pCFKJ1webSDog4zTlPkgXZqxlQDiYMjhDpwTtBW2WxthWbov9dt2X9XFLFmcF+eEc1UaQ74gqZiZsdj63pH1qcv3Vy8JYciogIVKsJ8Yy3J9w/GhjWVSQAmrS0BPOWK+RKV+0lWqXgYMnIFwpcZVD7zPSp547i9HlflB8gVnSTGmmq1ClO081OW/UH11pEQMfkEdDFzjLC1Cdo/BdL3s7cXb8J++Hzz1rhOUVZFIPehRiZ8VYu6+7Er7j5PSZu9g/GBdmNzJmyCD9wiswj9BZw+T3iBrg81re36ihMLjoVLoWc+62a1U/7qVX5CpvTVF7rocSAKwv4cBVqZm7lLDS/qoXs4fMs/VQi6BtVbNA3uSzKpQfjH1o3x4LrvkOn40zhm6hjduDglzJUwA0POabgdXIndp9fzhOo23Pe+Rk9GSLX0d71Poqry8NQDTzNlsa+JTNG9+UrEf+ngxCjGEsDCc0bz+udVRyHQI1jmEO3S+IOQycEq7XwB6z3wfMfa73m8PVRp+iOgtZfeSBl01xn03vMaQJkyj7vnhGCklsCWVRUl4y+5oNUzQ63B2dbjDF3vikd/3RUMifPYnX5Glfuk2FsV/7RqjI9yKTbE8wJY+74p7qXO8+dIYgjtLD/N8TJtRh04N9tXJA4H59IkMmLElgvr0Q5OCeVfdAt+5hkh4pQgfRMHpL74XatLQpPiOyHRs/OdmHtBf8nOZcxVKzdGclIN16lE7kJ+pVMjspOI+5+TqLRO6m0ZpNXJoZRv9MPDRcAfJUtNZHyig/s2wwReakFgPPJwCQmu1I30/tcBbji+Na53i1W1N+BqoY7Zxo+U/M9XyJ4Ok2SSkBtoOrwuhAY3a03Eu6l8wFdIG1cN+e8hopTkiKF093KuH/BcB39rMiGDLn6XVhGKEaaT/vqb/lufuAdpGExevF1+J9itkFhCfymWr9vGb3BTK4j598zRH7+e+MU9maruZqb0pkGxRDRE1CD4Z8LV4vhgPidk5w2Bq816g3nHw1//j3JStz7NR9HIWELO8TMn3QrP/zZp//+Dv9p429/ogv+GATR+n/UdF+ns9xNkXZQJXY4t9jMkJNUFygAtzndXwjss+yWH9HAnLQQfhAskdZS2l01HLWv7L7us5uTH409pqitvfSOQg/c+Zt7k879P3K9+WV68n7+3cZfuRd/dDPP/03rn+d+/nBvWfgDlt8+LzjqJ/vx3CnNOwiXhho778C96iD+1TBvRZYeP+EH81LE0vVwOOrmCLB3iKzI1x+vJEsrPH4uF0UB4TJ4X3uDfOCo3PYpYe0MF4bouh0DQ/l43fxUF7Y+dpWuvTSffB0yO2UQUETI/LwCZE3BvnevJ7c9zUlY3H58xzke6DNFDQG8n0WtDN4LAYN4nogKav1ezOfK/z+t6tsCTp+dhx4ymjWuCJk1dEUifDP+HyS4iP/Vg9B2jTo9L4NbiBuDS4nuuHW6H+JDQn2JtqRKGkEQPEYE7uzazXIkcxIAqUq1esasZBETlEZY7y7Jo+RoV/IsjY9eIMkUvr42Hc0xqtsavZvhz1OLwSxMOTuqzlhb0WbdOwBH9EYiyBjatz40bUxTHbiWxqJ0uma19qhPruvcWJlbiSSH48OLDDpaHPszvyct41ZfTu10+vjox6kOqK6v0K/gEPphEvMl/vwSv+A4Hhm36JSP9IXTyCZDm4kKsqD5ay8b1Sad/vaiyO5N/sDfEV6Z4q95E+yfjxpqBoBETW2C7xl4pIO2bDODDFurUPwE7EWC2Uplq+AHmBHvir2PSgkR12/Ry65O0aZtQPeXi9mTlF/Wj5GQ+vFkYyhXsLTjrBSP9hwk4GPqDP5rBn5/l8b0mLRAvRSzXHc293bs3s8EsdE3m2exxidWVB4joHR+S+dz5/W+v00K3TqN14CDBth8eWcsTbiwXPsygHdGid0PEdy6HHm2v/IUuV5RVapYmzGsX90mpnIdNGcOOq64Dbc5GUbYpD9M7S+6cLY//QmjxFLP5cuTFRm3vA5rkFZroFnO3bjHF35uU3s8mvL7Tp9nyTc4mymTJ5sLIp7umSnGkO23faehtz3mmTS7fbVx5rP7x3HXIjRNeq/A3xCs9JNB08c9S9BF2O3bOur0ItslFxXgRPdaapBIi4dRpKGxVz7ir69t/bc9qTxjvtOyGOfiLGDhR4fYywHv1WdOplxIV87TpLBy3Wc0QP0P9s4G7FBNOdITS/tep3o3h1TEa5XDDii7fWtqRzUEReP2fbxz7bHWWJdbIOxOUJZtItNZpTFRfj6vm9sYjRxQVO+WTdiOhdPeTJ+8YirPvoeL88l5iLYOHd3b/Imkq+1ZN1El3UikhftuteEYxf1Wujof8Pr4ICTu5ezZyZ4tHQMxlzUHLYO2VMOoNMGL/20S5i2o2obfk+8qqdR7xzbRDbgU0lnuIgz4LelQ5XS7xbLuSQtNS95v3ZUOdaUx/Qd8qxCt6xf2E62yb/HukLO6RyorV8KgYl5YNc75y+KvefrxY+lc/64y9kvWP0a0bDz/rojq+RWjO06WeruWqNFU7r3HPIcLWRql8ICZsz2Ls/qOm/CLn6++X+Qf7mGspYCrZod/lpl6Rw4xN/yuq8gqV4B6aHk1hVE1SfILxWu5gvXqbfARYQpspcxKp1F/c8XOPzkZvmoSw+vEqBLdrq1fr3wAPv5NnM9i8F+jdAuxkP5Z71c6uhK3enlnGymr7UsWZKC12qgUiG8XXGQ9mxnqz4GSIlybF9eXmbqj2sHX+a1jf0gRoONHRdRSrIq03Ty89eQ1GbV/Bk+du4+V15zls+vvERvZ4E7ZbnxWTVjDjb4o/k8jlw44pTIrUGxxuJvBeO+heuhOjpFsO6lVJ/aXnJDa/bM0Ql1cLbXE/Pbv3EZ3vj3iVrB5irjupZTzlnv677NrI9UNYNqbPgp/HZXS+lJmk87wec+7YOxTDo2aw2l3NfDr34VNlvqWJBknuK7oSlZ6/T10zuOoPZOeoIk81N+sL843WJ2Q4Z0fZ3scsqC/JV2fuhWi1jGURSKZV637lf53Xnnx16/vKEXY89aVJ0fv91jGdfG+G4+sniwHes4hS+udOr4RfhFhG/F5gUG35QaU+McuLmclb5ZWmR+sG5V6nf+PxYzlrnFGxpZaK8eqqVo0NfmAWoGfXDiT/FnUbWvzGDOTr8aktOZWg4BYvz5YH12ZbfCcGtNk+dDAZNGWvHov+PIOnY9Prjg8h/wLRrT69suaMVZ5bNuK00lSVpnqSX1NON/81FoP92rYndionwgOiA8WMf4vc8l15KqEEG4yAm2+WAN5Brfu1sq9suWYqgoajgOYt/JCk1gC8wPkK+XKCtRX6TAtgvrnuBgNRmn6I8lVDipOVB9kX6Oxkp4ZKyd1M6Gj8/v2U7k+YQBL95Kb9PQENucJb0JlW3b5tObN7m/Z1j1ev388d7o15zgXsI9CikAGAViR6lkJv7nb4Ak40M2G8TJ447kN+pvfHiOFjSUSP6PM+QfbAywKJCBaxSVxpizHseZUyUBhq59vFwrkyGoRiHbo0apweEZeSLuNiQ+HAekOnarFg00dZNXaPeoHPTRR0FmEyqYExOVaaaO8c0uFUh7U4e/UxdBmthlBDgg257Q33j1hA7HTxSeTTSuVnPZbgW1nodwmG16aKBDKxEetv7D9OjO0JhrbJTnoe+kcGoDJazFSO8/fUN9Jy/g4XK5PUkw2dgPDGpJqBfhe7GA+cjzfE/EGsMM+FV9nj9IAhrSfT/J3QE5TEIYyk5UjsI6ZZcCPr6A8FZUF4g9nnpVmjX90MLSQysIPD0nFzqwCcSJmIb5mYv2Cmk+C1MDFkZQyCBq4c/Yai9LJ6xYkGS/x2s5/frIW2vmG2Wrv0APpCdgCA9snFvfpe8uc0OwdRs4G9973PGEBnQB5qKrCQ6m6X/H7NInZ7y/1674/ZXOVp7OeuCRk8JFS516VHrnH1HkIUIlTIljjHaQtEtkJtosYul77cVwjk3gW1Ajaa6zWeyHGLlpk3VHE2VFzT2yI/EvlGUSz2H9zYE1s4nsKMtMqNyKNtL/59CpFJki5Fou6VXGm8vWATEPwrUVOLvoA8jLuwOzVBCgHB2Cr5V6OwEWtJEKokJkfc87h+sNHTvMb0KVTp5284QTPupoWvQVUwUeogZR3kBMESYo0mfukewRVPKh5+rzLQb7HKjFFIgWhj1w3yN/qCNoPI8XFiUgBNT1hCHBsAz8L7Oyt8wQWUFj92ONn/APyJFg8hzueqoJdNj57ROrFbffuS/XxrSXLTRgj5uxZjpgQYceeMc2wJrahReSKpm3QjHfqExTLAB2ipVumE8pqcZv8LYXQiPHHsgb5BMW8zM5pvQit+mQx8XGaVDcfVbLyMTlY8xcfmm/RSAT/H09UQol5gIz7rESDmnrQ4bURIB4iRXMDQwxgex1GgtDxKp2HayIkR+E/aDmCttNm2C6lytWdfOVzD6X2SpDWjQDlMRvAp1symWv4my1bPCD+E1EmGnMGWhNwmycJnDV2WrQNxO45ukEb08AAffizYKVULp15I4vbNK5DzWwCSUADfmKhfGSUqii1L2UsE8rB7mLuHuUJZOx4+WiizHBJ/hwboaBzhpNOVvgFTf5cJsHef7L1HCI9dOUUbb+YxUJWn6dYOLz+THi91kzY5dtO5c+grX7v0jEbsuoOGnoIreDIg/sFMyG+TyCLIcAWd1IZ1UNFxE8Uie13ucm40U2fcxC0u3WLvLOxwu+F7MWUsHsdtFQZ7W+nlfCASiAKyh8rnP3EyDByvtJb6Kax6/HkLzT9SyEyTMVM1zPtM0MJY14DmsWh4MgD15Ea9Hd00AdkTZ0EiG5NAGuIBzQJJ0JR0na+OB7lQA6UKxMfihIQ7GCCnVz694QvykWXTxpS2soDu+smru1UdIxSvAszBFD1c8c6ZOobA8bJiJIvuycgIXBQIXWwhyTgZDQxJTRXgEwRNAawGSXO0a1DKjdihLVNp/taE/xYhsgwe+VpKEEB4LlraQyE84gEihxCnbfoyOuJIEXy2FIYw+JjRusybKlU2g/vhTSGTydvCvXhYBdtAXtS2v7LkHtmXh/8fly1do8FI/D0f8UbzVb5h+KRhMGSAmR2mhi0YG/uj7wgxcfzCrMvdjitUIpXDX8ae2JcF/36qUWIMwN6JsjaRGNj+jEteGDcFyTUb8X/NHSucKMJp7pduxtD6KuxVlyxxwaeiC1FbGBESO84lbyrAugYxdl+2N8/6AgWpo/IeoAOcsG35IA/b3AuSyoa55L7llBLlaWlEWvuCFd8f8NfcTUgzJv6CbB+6ohWwodlk9nGWFpBAOaz5uEW5xBvmjnHFeDsb0mXwayj3mdYq5gxxNf3H3/tnCgHwjSrpSgVxLmiTtuszdRUFIsn6LiMPjL808vL1uQhDbM7aA43mISXReqjSskynIRcHCJ9qeFopJfx9tqyUoGbSwJex/0aDE3plBPGtNBYgWbdLom3+Q/bjdizR2/AS/c/dH/d3G7pyl1qDXgtOFtEqidwLqxPYtrNEveasWq3vPUUtqTeu8gpov4bdOQRI2kneFvRNMrShyVeEupK1PoLDPMSfWMIJcs267mGB8X9CehQCF0gIyhpP10mbyM7lwW1e6TGvHBV1sg/UyTghHPGRqMyaebC6pbB1WKNCQtlai1GGvmq9zUKaUzLaXsXEBYtHxmFbEZ2kJhR164LhWW2Tlp1dhsGE7ZgIWRBOx3Zcu2DxgH+G83WTPceKG0TgQKKiiNNOlWgvqNEbnrk6fVD+AqRam2OguZb0YWSTX88N+i/ELSxbaUUpPx4vJUzYg/WonSeA8xUK6u7DPHgpqWpEe6D4cXg5uK9FIYVba47V/nb+wyOtk+zG8RrS4EA0ouwa04iByRLSvoJA2FzaobbZtXnq8GdbfqEp5I2dpfpj59TCVif6+E75p665faiX8gS213RqBxTZqfHP46nF6NSenOneuT+vgbLUbdTH2/t0REFXZJOEB6DHvx6N6g9956CYrY/AYcm9gELJXYkrSi+0F0geKDZgOCIYkLU/+GOW5aGj8mvLFgtFH5+XC8hvAE3CvHRfl4ofM/Qwk4x2A+R+nyc9gNu/9Tem7XW4XRnyRymf52z09cTOdr+PG6+P/Vb4QiXlwauc5WB1z3o+IJjlbxI8MyWtSzT+k4sKVbhF3xa+vDts3NxXa87iiu+xRH9cAprnOL2h6vV54iQRXuOAj1s8nLFK8gZ70ThIQcWdF19/2xaJmT0efrkNDkWbpAQPdo92Z8+Hn/aLjbOzB9AI/k12fPs9HhUNDJ1u6ax2VxD3R6PywN7BrLJ26z6s3QoMp76qzzwetrDABKSGkfW5PwS1GvYNUbK6uRqxfyVGNyFB0E+OugMM8kKwmJmupuRWO8XkXXXQECyRVw9UyIrtCtcc4oNqXqr7AURBmKn6Khz3eBN96LwIJrAGP9mr/59uTOSx631suyT+QujDd4beUFpZ0kJEEnjlP+X/Kr2kCKhnENTg4BsMTOmMqlj2WMFLRUlVG0fzdCBgUta9odrJfpVdFomTi6ak0tFjXTcdqqvWBAzjY6hVrH9sbt3Z9gn+AVDpTcQImefbB4edirjzrsNievve4ZT4EUZWV3TxEsIW+9MT/RJoKfZZYSRGfC1CwPG/9rdMOM8qR/LUYvw5f/emUSoD7YSFuOoqchdUg2UePd1eCtFSKgxLSZ764oy4lvRCIH6bowPxZWwxNFctksLeil47pfevcBipkkBIc4ngZG+kxGZ71a72KQ7VaZ6MZOZkQJZXM6kb/Ac0/XkJx8dvyfJcWbI3zONEaEPIW8GbkYjsZcwy+eMoKrYjDmvEEixHzkCSCRPRzhOfJZuLdcbx19EL23MA8rnjTZZ787FGMnkqnpuzB5/90w1gtUSRaWcb0eta8198VEeZMUSfIhyuc4/nywFQ9uqn7jdqXh+5wwv+RK9XouNPbYdoEelNGo34KyySwigsrfCe0v/PlWPvQvQg8R0KgHO18mTVThhQrlbEQ0Kp/JxPdjHyR7E1QPw/ut0r+HDDG7BwZFm9IqEUZRpv2WpzlMkOemeLcAt5CsrzskLGaVOAxyySzZV/D2EY7ydNZMf8e8VhHcKGHAWNszf1EOq8fNstijMY4JXyATwTdncFFqcNDfDo+mWFvxJJpc4sEZtjXyBdoFcxbUmniCoKq5jydUHNjYJxMqN1KzYV62MugcELVhS3Bnd+TLLOh7dws/zSXWzxEb4Nj4aFun5x4kDWLK5TUF/yCXB/cZYvI9kPgVsG2jShtXkxfgT+xzjJofXqPEnIXIQ1lnIdmVzBOM90EXvJUW6a0nZ/7XjJGl8ToO3H/fdxnxmTNKBZxnkpXLVgLXCZywGT3YyS75w/PAH5I/jMuRspej8xZObU9kREbRA+kqjmKRFaKGWAmFQspC+QLbKPf0RaK3OXvBSWqo46p70ws/eZpu6jCtZUgQy6r4tHMPUdAgWGGUYNbuv/1a6K+MVFsd3T183+T8capSo6m0+Sh57fEeG/95dykGJBQMj09DSW2bY0mUonDy9a8trLnnL5B5LW3Nl8rJZNysO8Zb+80zXxqUGFpud3Qzwb7bf+8mq6x0TAnJU9pDQR9YQmZhlna2xuxJt0aCO/f1SU8gblOrbIyMsxTlVUW69VJPzYU2HlRXcqE2lLLxnObZuz2tT9CivfTAUYfmzJlt/lOPgsR6VN64/xQd4Jlk/RV7UKVv2Gx/AWsmTAuCWKhdwC+4HmKEKYZh2Xis4KsUR1BeObs1c13wqFRnocdmuheaTV30gvVXZcouzHKK5zwrN52jXJEuX6dGx3BCpV/++4f3hyaW/cQJLFKqasjsMuO3B3WlMq2gyYfdK1e7L2pO/tRye2mwzwZPfdUMrl5wdLqdd2Kv/wVtnpyWYhd49L6rsOV+8HXPrWH2Kup89l2tz6bf80iYSd+V4LROSOHeamvexR524q4r43rTmtFzQvArpvWfLYFZrbFspBsXNUqqenjxNNsFXatZvlIhk7teUPfK+YL32F8McTnjv0BZNppb+vshoCrtLXjIWq3EJXpVXIlG6ZNL0dh6qEm2WMwDjD3LfOfkGh1/czYc/0qhiD2ozNnH4882MVVt3JbVFkbwowNCO3KL5IoYW5wlVeGCViOuv1svZx7FbzxKzA4zGqBlRRaRWCobXaVq4yYCWbZf8eiJwt3OY+MFiSJengcFP2t0JMfzOiJ7cECvpx7neg1Rc5x+7myPJOXt2FohVRyXtD+/rDoTOyGYInJelZMjolecVHUhUNqvdZWg2J2t0jPmiLFeRD/8fOT4o+NGILb+TufCo9ceBBm3JLVn+MO2675n7qiEX/6W+188cYg3Zn5NSTjgOKfWFSAANa6raCxSoVU851oJLY11WIoYK0du0ec5E4tCnAPoKh71riTsjVIp3gKvBbEYQiNYrmH22oLQWA2AdwMnID6PX9b58dR2QKo4qag1D1Z+L/FwEKTR7osOZPWECPJIHQqPUsM5i/CH5YupVPfFA5pHUBcsesh8eO5YhyWnaVRPZn/BmdXVumZWPxMP5e28zm2uqHgFoT9CymHYNNrzrrjlXZM06HnzDxYNlI5b/QosxLmmrqDFqmogQdqk0WLkUceoAvQxHgkIyvWU69BPFr24VB6+lx75Rna6dGtrmOxDnvBojvi1/4dHjVeg8owofPe1cOnxU1ioh016s/Vudv9mhV9f35At+Sh28h1bpp8xhr09+vf47Elx3Ms6hyp6QvB3t0vnLbOhwo660cp7K0vvepabK7YJfxEWWfrC2YzJfYOjygPwfwd/1amTqa0hZ5ueebhWYVMubRTwIjj+0Oq0ohU3zfRfuL8gt59XsHdwKtxTQQ4Y2qz6gisxnm2UdlmpEkgOsZz7iEk6QOt8BuPwr+NR01LTqXmJo1C76o1N274twJvl+I069TiLpenK/miRxhyY8jvYV6W1WuSwhH9q7kuwnJMtm7IWcqs7HsnyHSqWXLSpYtZGaR1V3t0gauninFPZGtWskF65rtti48UV9uV9KM8kfDYs0pgB00S+TlzTXV6P8mxq15b9En8sz3jWSszcifZa/NuufPNnNTb031pptt0+sRSH/7UG8pzbsgtt3OG3ut7B9JzDMt2mTZuyRNIV8D54TuTrpNcHtgmMlYJeiY9XS83NYJicjRjtJSf9BZLsQv629QdDsKQhTK5CnXhpk7vMNkHzPhm0ExW/VCGApHfPyBagtZQTQmPHx7g5IXXsrQDPzIVhv2LB6Ih138iSDww1JNHrDvzUxvp73MsQBVhW8EbrReaVUcLB1R3PUXyaYG4HpJUcLVxMgDxcPkVRQpL7VTAGabDzbKcvg12t5P8TSGQkrj/gOrpnbiDHwluA73xbXts/L7u468cRWSWRtgTwlQnA47EKg0OiZDgFxAKQQUcsbGomITgeXUAAyKe03eA7Mp4gnyKQmm0LXJtEk6ddksMJCuxDmmHzmVhO+XaN2A54MIh3niw5CF7PwiXFZrnA8wOdeHLvvhdoqIDG9PDI7UnWWHq526T8y6ixJPhkuVKZnoUruOpUgOOp3iIKBjk+yi1vHo5cItHXb1PIKzGaZlRS0g5d3MV2pD8FQdGYLZ73aae/eEIUePMc4NFz8pIUfLCrrF4jVWH5gQneN3S8vANBmUXrEcKGn6hIUN95y1vpsvLwbGpzV9L0ZKTan6TDXM05236uLJcIEMKVAxKNT0K8WljuwNny3BNQRfzovA85beI9zr1AGNYnYCVkR1aGngWURUrgqR+gRrQhxW81l3CHevjvGEPzPMTxdsIfB9dfGRbZU0cg/1mcubtECX4tvaedmNAvTxCJtc2QaoUalGfENCGK7IS/O8CRpdOVca8EWCRwv2sSWE8CJPW5PCugjCXPd3h6U60cPD+bdhtXZuYB6stcoveE7Sm5MM2yvfUHXFSW7KzLmi7/EeEWL0wqcOH9MOSKjhCHHmw+JGLcYE/7SBZQCRggox0ZZTAxrlzNNXYXL5fNIjkdT4YMqVUz6p8YDt049v4OXGdg3qTrtLBUXOZf7ahPlZAY/O+7Sp0bvGSHdyQ8B1LOsplqMb9Se8VAE7gIdSZvxbRSrfl+Lk5Qaqi5QJceqjitdErcHXg/3MryljPSIAMaaloFm1cVwBJ8DNmkDqoGROSHFetrgjQ5CahuKkdH5pRPigMrgTtlFI8ufJPJSUlGgTjbBSvpRc0zypiUn6U5KZqcRoyrtzhmJ7/caeZkmVRwJQeLOG8LY6vP5ChpKhc8Js0El+n6FXqbx9ItdtLtYP92kKfaTLtCi8StLZdENJa9Ex1nOoz1kQ7qxoiZFKRyLf4O4CHRT0T/0W9F8epNKVoeyxUXhy3sQMMsJjQJEyMOjmOhMFgOmmlscV4eFi1CldU92yjwleirEKPW3bPAuEhRZV7JsKV3Lr5cETAiFuX5Nw5UlF7d2HZ96Bh0sgFIL5KGaKSoVYVlvdKpZJVP5+NZ7xDEkQhmDgsDKciazJCXJ6ZN2B3FY2f6VZyGl/t4aunGIAk/BHaS+i+SpdRfnB/OktOvyjinWNfM9Ksr6WwtCa1hCmeRI6icpFM4o8quCLsikU0tMoZI/9EqXRMpKGaWzofl4nQuVQm17d5fU5qXCQeCDqVaL9XJ9qJ08n3G3EFZS28SHEb3cdRBdtO0YcTzil3QknNKEe/smQ1fTb0XbpyNB5xAeuIlf+5KWlEY0DqJbsnzJlQxJPOVyHiKMx5Xu9FcEv1Fbg6Fhm4t+Jyy5JC1W3YO8dYLsO0PXPbxodBgttTbH3rt9Cp1lJIk2r3O1Zqu94eRbnIz2f50lWolYzuKsj4PMok4abHLO8NAC884hiXx5Fy5pWKO0bWL7uEGXaJCtznhP67SlQ4xjWIfgq6EpZ28QMtuZK7JC0RGbl9nA4XtFLug/NLMoH1pGt9IonAJqcEDLyH6TDROcbsmGPaGIxMo41IUAnQVPMPGByp4mOmh9ZQMkBAcksUK55LsZj7E5z5XuZoyWCKu6nHmDq22xI/9Z8YdxJy4kWpD16jLVrpwGLWfyOD0Wd+cBzFBxVaGv7S5k9qwh/5t/LQEXsRqI3Q9Rm3QIoaZW9GlsDaKOUyykyWuhNOprSEi0s1G4rgoiX1V743EELti+pJu5og6X0g6oTynUqlhH9k6ezyRi05NGZHz0nvp3HOJr7ebrAUFrDjbkFBObEvdQWkkUbL0pEvMU46X58vF9j9F3j6kpyetNUBItrEubW9ZvMPM4qNqLlsSBJqOH3XbNwv/cXDXNxN8iFLzUhteisYY+RlHYOuP29/Cb+L+xv+35Rv7xudnZ6ohK4cMPfCG8KI7dNmjNk/H4e84pOxn/sZHK9psfvj8ncA8qJz7O8xqbxESDivGJOZzF7o5PJLQ7g34qAWoyuA+x3btU98LT6ZyGyceIXjrqob2CAVql4VOTQPUQYvHV/g4zAuCZGvYQBtf0wmd5lilrvuEn1BXLny01B4h4SMDlYsnNpm9d7m9h578ufpef9Z4WplqWQvqo52fyUA7J24eZD5av6SyGIV9kpmHNqyvdfzcpEMw97BvknV2fq+MFHun9BT3Lsf8pbzvisWiIQvYkng+8Vxk1V+dli1u56kY50LRjaPdotvT5BwqtwyF+emo/z9J3yVUVGfKrxQtJMOAQWoQii/4dp9wgybSa5mkucmRLtEQZ/pz0tL/NVcgWAd95nEQ3Tg6tNbuyn3Iepz65L3huMUUBntllWuu4DbtOFSMSbpILV4fy6wlM0SOvi6CpLh81c1LreIvKd61uEWBcDw1lUBUW1I0Z+m/PaRlX+PQ/oxg0Ye6KUiIiTF4ADNk59Ydpt5/rkxmq9tV5Kcp/eQLUVVmBzQNVuytQCP6Ezd0G8eLxWyHpmZWJ3bAzkWTtg4lZlw42SQezEmiUPaJUuR/qklVA/87S4ArFCpALdY3QRdUw3G3XbWUp6aq9z0zUizcPa7351p9JXOZyfdZBFnqt90VzQndXB/mwf8LC9STj5kenVpNuqOQQP3mIRJj7eV21FxG8VAxKrEn3c+XfmZ800EPb9/5lIlijscUbB6da0RQaMook0zug1G0tKi/JBC4rw7/D3m4ARzAkzMcVrDcT2SyFtUdWAsFlsPDFqV3N+EjyXaoEePwroaZCiLqEzb8MW+PNE9TmTC01EzWli51PzZvUqkmyuROU+V6ik+Le/9qT6nwzUzf9tP68tYei0YaDGx6kAd7jn1cKqOCuYbiELH9zYqcc4MnRJjkeGiqaGwLImhyeKs+xKJMBlOJ05ow9gGCKZ1VpnMKoSCTbMS+X+23y042zOb5MtcY/6oBeAo1Vy89OTyhpavFP78jXCcFH0t7Gx24hMEOm2gsEfGabVpQgvFqbQKMsknFRRmuPHcZu0Su/WMFphZvB2r/EGbG72rpGGho3h+Msz0uGzJ7hNK2uqQiE1qmn0zgacKYYZBCqsxV+sjbpoVdSilW/b94n2xNb648VmNIoizqEWhBnsen+d0kbCPmRItfWqSBeOd9Wne3c6bcd6uvXOJ6WdiSsuXq0ndhqrQ4QoWUjCjYtZ0EAhnSOP1m44xkf0O7jXghrzSJWxP4a/t72jU29Vu2rvu4n7HfHkkmQOMGSS+NPeLGO5I73mC2B7+lMiBQQZRM9/9liLIfowupUFAbPBbR+lxDM6M8Ptgh1paJq5Rvs7yEuLQv/7d1oU2woFSb3FMPWQOKMuCuJ7pDDjpIclus5TeEoMBy2YdVB4fxmesaCeMNsEgTHKS5WDSGyNUOoEpcC2OFWtIRf0w27ck34/DjxRTVIcc9+kqZE6iMSiVDsiKdP/Xz5XfEhm/sBhO50p1rvJDlkyyxuJ9SPgs7YeUJBjXdeAkE+P9OQJm6SZnn1svcduI78dYmbkE2mtziPrcjVisXG78spLvbZaSFx/Rks9zP4LKn0Cdz/3JsetkT06A8f/yCgMO6Mb1Hme0JJ7b2wZz1qleqTuKBGokhPVUZ0dVu+tnQYNEY1fmkZSz6+EGZ5EzL7657mreZGR3jUfaEk458PDniBzsSmBKhDRzfXameryJv9/D5m6HIqZ0R+ouCE54Dzp4IJuuD1e4Dc5i+PpSORJfG23uVgqixAMDvchMR0nZdH5brclYwRoJRWv/rlxGRI5ffD5NPGmIDt7vDE1434pYdVZIFh89Bs94HGGJbTwrN8T6lh1HZFTOB4lWzWj6EVqxSMvC0/ljWBQ3F2kc/mO2b6tWonT2JEqEwFts8rz2h+oWNds9ceR2cb7zZvJTDppHaEhK5avWqsseWa2Dt5BBhabdWSktS80oMQrL4TvAM9b5HMmyDnO+OkkbMXfUJG7eXqTIG6lqSOEbqVR+qYdP7uWb57WEJqzyh411GAVsDinPs7KvUeXItlcMdOUWzXBH6zscymV1LLVCtc8IePojzXHF9m5b5zGwBRdzcyUJkiu938ApmAayRdJrX1PmVguWUvt2ThQ62czItTyWJMW2An/hdDfMK7SiFQlGIdAbltHz3ycoh7j9V7GxNWBpbtcSdqm4XxRwTawc3cbZ+xfSv9qQfEkDKfZTwCkqWGI/ur250ItXlMlh6vUNWEYIg9A3GzbgmbqvTN8js2YMo87CU5y6nZ4dbJLDQJj9fc7yM7tZzJDZFtqOcU8+mZjYlq4VmifI23iHb1ZoT9E+kT2dolnP1AfiOkt7PQCSykBiXy5mv637IegWSKj9IKrYZf4Lu9+I7ub+mkRdlvYzehh/jaJ9n7HUH5b2IbgeNdkY7wx1yVzxS7pbvky6+nmVUtRllEFfweUQ0/nG017WoUYSxs+j2B4FV/F62EtHlMWZXYrjGHpthnNb1x66LKZ0Qe92INWHdfR/vqp02wMS8r1G4dJqHok8KmQ7947G13a4YXbsGgHcBvRuVu1eAi4/A5+ZixmdSXM73LupB/LH7O9yxLTVXJTyBbI1S49TIROrfVCOb/czZ9pM4JsZx8kUz8dQGv7gUWKxXvTH7QM/3J2OuXXgciUhqY+cgtaOliQQVOYthBLV3xpESZT3rmfEYNZxmpBbb24CRao86prn+i9TNOh8VxRJGXJfXHATJHs1T5txgc/opYrY8XjlGQQbRcoxIBcnVsMjmU1ymmIUL4dviJXndMAJ0Yet+c7O52/p98ytlmAsGBaTAmMhimAnvp1TWNGM9BpuitGj+t810CU2UhorrjPKGtThVC8WaXw04WFnT5fTjqmPyrQ0tN3CkLsctVy2xr0ZWgiWVZ1OrlFjjxJYsOiZv2cAoOvE+7sY0I/TwWcZqMoyIKNOftwP7w++Rfg67ljfovKYa50if3fzE/8aPYVey/Nq35+nH2sLPh/fP5TsylSKGOZ4k69d2PnH43+kq++sRXHQqGArWdwhx+hpwQC6JgT2uxehYU4Zbw7oNb6/HLikPyJROGK2ouyr+vzseESp9G50T4AyFrSqOQ0rroCYP4sMDFBrHn342EyZTMlSyk47rHSq89Y9/nI3zG5lX16Z5lxphguLOcZUndL8wNcrkyjH82jqg8Bo8OYkynrxZvbFno5lUS3OPr8Ko3mX9NoRPdYOKKjD07bvgFgpZ/RF+YzkWvJ/Hs/tUbfeGzGWLxNAjfDzHHMVSDwB5SabQLsIZHiBp43FjGkaienYoDd18hu2BGwOK7U3o70K/WY/kuuKdmdrykIBUdG2mvE91L1JtTbh20mOLbk1vCAamu7utlXeGU2ooVikbU/actcgmsC1FKk2qmj3GWeIWbj4tGIxE7BLcBWUvvcnd/lYxsMV4F917fWeFB/XbINN3qGvIyTpCalz1lVewdIGqeAS/gB8Mi+sA+BqDiX3VGD2eUunTRbSY+AuDy4E3Qx3hAhwnSXX+B0zuj3eQ1miS8Vux2z/l6/BkWtjKGU72aJkOCWhGcSf3+kFkkB15vGOsQrSdFr6qTj0gBYiOlnBO41170gOWHSUoBVRU2JjwppYdhIFDfu7tIRHccSNM5KZOFDPz0TGMAjzzEpeLwTWp+kn201kU6NjbiMQJx83+LX1e1tZ10kuChJZ/XBUQ1dwaBHjTDJDqOympEk8X2M3VtVw21JksChA8w1tTefO3RJ1FMbqZ01bHHkudDB/OhLfe7P5GOHaI28ZXKTMuqo0hLWQ4HabBsGG7NbP1RiXtETz074er6w/OerJWEqjmkq2y51q1BVI+JUudnVa3ogBpzdhFE7fC7kybrAt2Z6RqDjATAUEYeYK45WMupBKQRtQlU+uNsjnzj6ZmGrezA+ASrWxQ6LMkHRXqXwNq7ftv28dUx/ZSJciDXP2SWJsWaN0FjPX9Yko6LobZ7aYW/IdUktI9apTLyHS8DyWPyuoZyxN1TK/vtfxk3HwWh6JczZC8Ftn0bIJay2g+n5wd7lm9rEsKO+svqVmi+c1j88hSCxbzrg4+HEP0Nt1/B6YW1XVm09T1CpAKjc9n18hjqsaFGdfyva1ZG0Xu3ip6N6JGpyTSqY5h4BOlpLPaOnyw45PdXTN+DtAKg7DLrLFTnWusoSBHk3s0d7YouJHq85/R09Tfc37ENXZF48eAYLnq9GLioNcwDZrC6FW6godB8JnqYUPvn0pWLfQz0lM0Yy8Mybgn84Ds3Q9bDP10bLyOV+qzxa4Rd9Dhu7cju8mMaONXK3UqmBQ9qIg7etIwEqM/kECk/Dzja4Bs1xR+Q/tCbc8IKrSGsTdJJ0vge7IG20W687uVmK6icWQ6cD3lwFzgNMGtFvO5qyJeKflGLAAcQZOrkxVwy3cWvqlGpvjmf9Qe6Ap20MPbV92DPV0OhFM4kz8Yr0ffC2zLWSQ1kqY6QdQrttR3kh1YLtQd1kCEv5hVoPIRWl5ERcUTttBIrWp6Xs5Ehh5OUUwI5aEBvuiDmUoENmnVw1FohCrbRp1A1E+XSlWVOTi7ADW+5Ohb9z1vK4qx5R5lPdGCPBJZ00mC+Ssp8VUbgpGAvXWMuWQQRbCqI6Rr2jtxZxtfP7W/8onz+yz0Gs76LaT5HX9ecyiZCB/ZR/gFtMxPsDwohoeCRtiuLxE1GM1vUEUgBv86+eehL58/P56QFGQ/MqOe/vC76L63jzmeax4exd/OKTUvkXg+fOJUHych9xt/9goJMrapSgvXrj8+8vk/N80f22Sewj6cyGqt1B6mztoeklVHHraouhvHJaG/OuBz6DHKMpFmQULU1bRWlyYE0RPXYYkUycIemN7TLtgNCJX6BqdyxDKkegO7nJK5xQ7OVYDZTMf9bVHidtk6DQX9Et+V9M7esgbsYBdEeUpsB0Xvw2kd9+rI7V+m47u+O/tq7mw7262HU1WlS9uFzsV6JxIHNmUCy0QS9e077JGRFbG65z3/dOKB/Zk+yDdKpUmdXjn/aS3N5nv4fK7bMHHmPlHd4E2+iTbV5rpzScRnxk6KARuDTJ8Q1LpK2mP8gj1EbuJ9RIyY+EWK4hCiIDBAS1Tm2IEXAFfgKPgdL9O6mAa06wjCcUAL6EsxPQWO9VNegBPm/0GgkZbDxCynxujX/92vmGcjZRMAY45puak2sFLCLSwXpEsyy5fnF0jGJBhm+fNSHKKUUfy+276A7/feLOFxxUuHRNJI2Osenxyvf8DAGObT60pfTTlhEg9u/KKkhJqm5U1/+BEcSkpFDA5XeCqxwXmPac1jcuZ3JWQ+p0NdWzb/5v1ZvF8GtMTFFEdQjpLO0bwPb0BHNWnip3liDXI2fXf05jjvfJ0NpjLCUgfTh9CMFYVFKEd4Z/OG/2C+N435mnK+9t1gvCiVcaaH7rK4+PjCvpVNiz+t2QyqH1O8x3JKZVl6Q+Lp/XK8wMjVMslOq9FdSw5FtUs/CptXH9PW+wbWHgrV17R5jTVOtGtKFu3nb80T+E0tv9QkzW3J2dbaw/8ddAKZ0pxIaEqLjlPrji3VgJ3GvdFvlqD8075woxh4fVt0JZE0KVFsAvqhe0dqN9b35jtSpnYMXkU+vZq+IAHad3IHc2s/LYrnD1anfG46IFiMIr9oNbZDWvwthqYNqOigaKd/XlLU4XHfk/PXIjPsLy/9/kAtQ+/wKH+hI/IROWj5FPvTZAT9f7j4ZXQyG4M0TujMAFXYkKvEHv1xhySekgXGGqNxWeWKlf8dDAlLuB1cb/qOD+rk7cmwt+1yKpk9cudqBanTi6zTbXRtV8qylNtjyOVKy1HTz0GW9rjt6sSjAZcT5R+KdtyYb0zyqG9pSLuCw5WBwAn7fjBjKLLoxLXMI+52L9cLwIR2B6OllJZLHJ8vDxmWdtF+QJnmt1rsHPIWY20lftk8fYePkAIg6Hgn532QoIpegMxiWgAOfe5/U44APR8Ac0NeZrVh3gEhs12W+tVSiWiUQekf/YBECUy5fdYbA08dd7VzPAP9aiVcIB9k6tY7WdJ1wNV+bHeydNtmC6G5ICtFC1ZwmJU/j8hf0I8TRVKSiz5oYIa93EpUI78X8GYIAZabx47/n8LDAAJ0nNtP1rpROprqKMBRecShca6qXuTSI3jZBLOB3Vp381B5rCGhjSvh/NSVkYp2qIdP/Bg="},{}],7:[function(e,t,n){var r=e("./dictionary-data");n.init=function(){n.dictionary=r.init()},n.offsetsByLength=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),n.sizeBitsByLength=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),n.minDictionaryWordLength=4,n.maxDictionaryWordLength=24},{"./dictionary-data":5}],8:[function(e,t,n){function r(e,t){this.bits=e,this.value=t}n.HuffmanCode=r;var i=15;function o(e,t){for(var n=1<<t-1;e&n;)n>>=1;return(e&n-1)+n}function a(e,t,n,i,o){do{e[t+(i-=n)]=new r(o.bits,o.value)}while(i>0)}function s(e,t,n){for(var r=1<<t-n;t<i&&!((r-=e[t])<=0);)++t,r<<=1;return t-n}n.BrotliBuildHuffmanTable=function(e,t,n,c,l){var u,d,h,f,g,p,m,_,y,S,b=t,I=new Int32Array(16),A=new Int32Array(16);for(S=new Int32Array(l),d=0;d<l;d++)I[c[d]]++;for(A[1]=0,u=1;u<i;u++)A[u+1]=A[u]+I[u];for(d=0;d<l;d++)0!==c[d]&&(S[A[c[d]]++]=d);if(y=_=1<<(m=n),1===A[15]){for(h=0;h<y;++h)e[t+h]=new r(0,65535&S[0]);return y}for(h=0,d=0,u=1,f=2;u<=n;++u,f<<=1)for(;I[u]>0;--I[u])a(e,t+h,f,_,new r(255&u,65535&S[d++])),h=o(h,u);for(p=y-1,g=-1,u=n+1,f=2;u<=i;++u,f<<=1)for(;I[u]>0;--I[u])(h&p)!==g&&(t+=_,y+=_=1<<(m=s(I,u,n)),e[b+(g=h&p)]=new r(m+n&255,t-b-g&65535)),a(e,t+(h>>n),f,_,new r(u-n&255,65535&S[d++])),h=o(h,u);return y}},{}],9:[function(e,t,n){function r(e,t){this.offset=e,this.nbits=t}n.kBlockLengthPrefixCode=[new r(1,2),new r(5,2),new r(9,2),new r(13,2),new r(17,3),new r(25,3),new r(33,3),new r(41,3),new r(49,4),new r(65,4),new r(81,4),new r(97,4),new r(113,5),new r(145,5),new r(177,5),new r(209,5),new r(241,6),new r(305,6),new r(369,7),new r(497,8),new r(753,9),new r(1265,10),new r(2289,11),new r(4337,12),new r(8433,13),new r(16625,24)],n.kInsertLengthPrefixCode=[new r(0,0),new r(1,0),new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,1),new r(8,1),new r(10,2),new r(14,2),new r(18,3),new r(26,3),new r(34,4),new r(50,4),new r(66,5),new r(98,5),new r(130,6),new r(194,7),new r(322,8),new r(578,9),new r(1090,10),new r(2114,12),new r(6210,14),new r(22594,24)],n.kCopyLengthPrefixCode=[new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,0),new r(7,0),new r(8,0),new r(9,0),new r(10,1),new r(12,1),new r(14,2),new r(18,2),new r(22,3),new r(30,3),new r(38,4),new r(54,4),new r(70,5),new r(102,5),new r(134,6),new r(198,7),new r(326,8),new r(582,9),new r(1094,10),new r(2118,24)],n.kInsertRangeLut=[0,0,8,8,0,16,8,16,16],n.kCopyRangeLut=[0,8,0,8,16,0,16,8,16]},{}],10:[function(e,t,n){function r(e){this.buffer=e,this.pos=0}function i(e){this.buffer=e,this.pos=0}r.prototype.read=function(e,t,n){this.pos+n>this.buffer.length&&(n=this.buffer.length-this.pos);for(var r=0;r<n;r++)e[t+r]=this.buffer[this.pos+r];return this.pos+=n,n},n.BrotliInput=r,i.prototype.write=function(e,t){if(this.pos+t>this.buffer.length)throw new Error("Output buffer is not large enough");return this.buffer.set(e.subarray(0,t),this.pos),this.pos+=t,t},n.BrotliOutput=i},{}],11:[function(e,t,n){var r=e("./dictionary"),i=10,o=11;function a(e,t,n){this.prefix=new Uint8Array(e.length),this.transform=t,this.suffix=new Uint8Array(n.length);for(var r=0;r<e.length;r++)this.prefix[r]=e.charCodeAt(r);for(r=0;r<n.length;r++)this.suffix[r]=n.charCodeAt(r)}var s=[new a("",0,""),new a("",0," "),new a(" ",0," "),new a("",12,""),new a("",i," "),new a("",0," the "),new a(" ",0,""),new a("s ",0," "),new a("",0," of "),new a("",i,""),new a("",0," and "),new a("",13,""),new a("",1,""),new a(", ",0," "),new a("",0,", "),new a(" ",i," "),new a("",0," in "),new a("",0," to "),new a("e ",0," "),new a("",0,'"'),new a("",0,"."),new a("",0,'">'),new a("",0,"\n"),new a("",3,""),new a("",0,"]"),new a("",0," for "),new a("",14,""),new a("",2,""),new a("",0," a "),new a("",0," that "),new a(" ",i,""),new a("",0,". "),new a(".",0,""),new a(" ",0,", "),new a("",15,""),new a("",0," with "),new a("",0,"'"),new a("",0," from "),new a("",0," by "),new a("",16,""),new a("",17,""),new a(" the ",0,""),new a("",4,""),new a("",0,". The "),new a("",o,""),new a("",0," on "),new a("",0," as "),new a("",0," is "),new a("",7,""),new a("",1,"ing "),new a("",0,"\n\t"),new a("",0,":"),new a(" ",0,". "),new a("",0,"ed "),new a("",20,""),new a("",18,""),new a("",6,""),new a("",0,"("),new a("",i,", "),new a("",8,""),new a("",0," at "),new a("",0,"ly "),new a(" the ",0," of "),new a("",5,""),new a("",9,""),new a(" ",i,", "),new a("",i,'"'),new a(".",0,"("),new a("",o," "),new a("",i,'">'),new a("",0,'="'),new a(" ",0,"."),new a(".com/",0,""),new a(" the ",0," of the "),new a("",i,"'"),new a("",0,". This "),new a("",0,","),new a(".",0," "),new a("",i,"("),new a("",i,"."),new a("",0," not "),new a(" ",0,'="'),new a("",0,"er "),new a(" ",o," "),new a("",0,"al "),new a(" ",o,""),new a("",0,"='"),new a("",o,'"'),new a("",i,". "),new a(" ",0,"("),new a("",0,"ful "),new a(" ",i,". "),new a("",0,"ive "),new a("",0,"less "),new a("",o,"'"),new a("",0,"est "),new a(" ",i,"."),new a("",o,'">'),new a(" ",0,"='"),new a("",i,","),new a("",0,"ize "),new a("",o,"."),new a("",0,""),new a(" ",0,","),new a("",i,'="'),new a("",o,'="'),new a("",0,"ous "),new a("",o,", "),new a("",i,"='"),new a(" ",i,","),new a(" ",o,'="'),new a(" ",o,", "),new a("",o,","),new a("",o,"("),new a("",o,". "),new a(" ",o,"."),new a("",o,"='"),new a(" ",o,". "),new a(" ",i,'="'),new a(" ",o,"='"),new a(" ",i,"='")];function c(e,t){return e[t]<192?(e[t]>=97&&e[t]<=122&&(e[t]^=32),1):e[t]<224?(e[t+1]^=32,2):(e[t+2]^=5,3)}n.kTransforms=s,n.kNumTransforms=s.length,n.transformDictionaryWord=function(e,t,n,a,l){var u,d=s[l].prefix,h=s[l].suffix,f=s[l].transform,g=f<12?0:f-11,p=0,m=t;g>a&&(g=a);for(var _=0;_<d.length;)e[t++]=d[_++];for(n+=g,a-=g,f<=9&&(a-=f),p=0;p<a;p++)e[t++]=r.dictionary[n+p];if(u=t-a,f===i)c(e,u);else if(f===o)for(;a>0;){var y=c(e,u);u+=y,a-=y}for(var S=0;S<h.length;)e[t++]=h[S++];return t-m}},{"./dictionary":7}],12:[function(e,t,n){t.exports=e("./dec/decode").BrotliDecompressBuffer},{"./dec/decode":4}],13:[function(e,t,n){},{}]},{},[12])(12);t.Z=r},5420:function(e,t){"use strict";let n=new(function(){function e(){}return e.prototype.init=function(e,t){this[t]||(this[t]=(e=>{let t=!1;return function(...n){if(!t&&e)return t=!0,e.apply(this,n)}})(e[t])),this[t]()},e}());t.Z=n},4463:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=new Error("The current module is not licensed");r.error=-6;const i={noRedactionLicense:r,noeCompareLicense:new Error("The comparison module is not licensed")}},7393:function(e,t,n){"use strict";function r(e,t,n,r){let i=new XMLHttpRequest;return i.open("POST","https://foxitwebsdkfxjse/"+(t||""),!1),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("cache-control","no-cache"),i.send(JSON.stringify({clientId:e,action:n,type:t,data:r})),i.responseText}n.d(t,{Z:function(){return r}})},7376:function(e,t,n){"use strict";var r=n(5785),i=(n(4043),n(7267),n(1220));function o(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}t.Z=(e,t,n,a)=>{let s=new e.HeaderFooterContentGenerator,c=n.contentFormats,l=n.contents,u=[c.TopLeft||(l?[{type:"string",value:l.TopLeft}]:[]),c.TopCenter||(l?[{type:"string",value:l.TopCenter}]:[]),c.TopRight||(l?[{type:"string",value:l.TopRight}]:[]),c.BottomLeft||(l?[{type:"string",value:l.BottomLeft}]:[]),c.BottomCenter||(l?[{type:"string",value:l.BottomCenter}]:[]),c.BottomRight||(l?[{type:"string",value:l.BottomRight}]:[])];u=u.map((t=>{t.forEach((t=>{switch(t.type){case"string":return s.AddString((0,i.Dp)(e,t.value));case"pageNumber":return s.AddPageNumber({value:t.value});case"date":return s.AddDate({value:t.value})}}));let n=s.GenerateContent();s.Clear();let r=n.toString().replace(/([^ ])<</g,"$1 <<");return(0,i.Dp)(e,r)})),s.delete();let d,h=new e.HeaderFooterContent;h.Set.apply(h,o(r.Z,u)),d=a&&t.HasHeaderFooter()?t.GetEditableHeaderFooter():new e.HeaderFooter;let f="number"==typeof n.font?n.font:n.fontId,g=new e.Font({value:f||0}),p=new e.PageNumberRange;n.range?p.Set(n.range.start,n.range.end,{value:n.range.filter||0}):p.Set(1,t.GetPageCount(),{value:0});let m=new e.CFX_FloatRect;if(n.margin){let e=n.margin;m.left=e.left,m.bottom=e.bottom,m.top=e.top,m.right=e.right}return d.Set(g,n.textSize,n.textColor,p,m,n.hasTextShrinked,n.hasFixedSized,n.startPageNumber,h,!1,n.underline),h.delete(),p.delete(),m.delete(),d}},3525:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=function(){function e(e,t){this.pdfDoc=e,this.pdfObject=t}return e.prototype.getDict=function(){return this.pdfObject.GetDict()},e}()},1872:function(e,t,n){"use strict";var r=n(3219);let i=function(){function e(){this.isStandard=!1,this.fontName="",this.fontIns=""}var t=e.prototype;return t.setDefaultFont=function(e,t){this.isStandard=e.IsStandardFont(t),this.isStandard&&(this.fontName=e.GetBaseFontName(t).toString()),this.fontIns=e},t.getDefaultFont=function(e){return this.isStandard?new e.Font(this._getStandardID(this.fontName,e)):this.fontIns?this.fontIns:new e.Font(new e.WString((0,r.gO)()),0,0,0)},t.getDefaultFontName=function(e){if(this.isStandard)return this.fontName;if(!this.fontIns)return(0,r.gO)();try{return this.fontIns.GetBaseFontName(e).toString()}catch(e){let t=this.fontIns.GetName().toString();return r.mz[t]||t}},t._getStandardID=function(e,t){let n=t.StandardID;return{Courier:n.e_StdIDCourier,"Courier-Bold":n.e_StdIDCourierB,"Courier-BoldOblique":n.e_StdIDCourierBI,"Courier-Oblique":n.e_StdIDCourierI,Helvetica:n.e_StdIDHelvetica,"Helvetica-Bold":n.e_StdIDHelveticaB,"Helvetica-BoldOblique":n.e_StdIDHelveticaBI,"Helvetica-Oblique":n.e_StdIDHelveticaI,"Times-Roman":n.e_StdIDTimes,"Times-Bold":n.e_StdIDTimesB,"Times-BoldItalic":n.e_StdIDTimesBI,"Times-Italic":n.e_StdIDTimesI,Symbol:n.e_StdIDSymbol,ZapfDingbats:n.e_StdIDZapfDingbats}[e]||n.e_StdIDHelvetica},t.destroy=function(){this.fontIns=null},e}();t.Z=i},2426:function(e,t){"use strict";const n={NeedToPauseNow:function(){return Date.now()-this.startTime>this.tick},startTick:function(e){this.tick=e,this.startTime=Date.now()}};t.Z=n},8881:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4578);let i=function(e=0,t=e,n=e,r=t){this.top=e,this.left=t,this.bottom=n,this.right=r},o=function(e){function t(t){var n;return(n=e.call(this,t)||this).Constructor=t.constructor,n}return(0,r.Z)(t,e),t.on=function(e){return new t(e)},t.prototype.extract=function(){const e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop,r=this.target.bottom+this.offsetBottom;return new this.Constructor(e,r,t,n)},t}(function(){function e(e){this.offsetLeft=0,this.offsetTop=0,this.offsetRight=0,this.offsetBottom=0,this.target=e}e.isOverlap=function(e,t,n=!1){let r=Math.max(e.left,t.left),i=Math[n?"min":"max"](e.top,t.top),o=Math[n?"max":"min"](e.bottom,t.bottom),a=Math.min(e.right,t.right);if(r<=a)if(n){if(i>=o)return(a-r)*(i-o)}else if(i<=o)return(a-r)*(o-i);return 0},e.isInRect=function(e,t,n,r=!1){if(e>=n.left&&e<=n.right)if(r){if(t>=n.bottom&&t<=n.top)return!0}else if(t<=n.bottom&&t>=n.top)return!0;return!1},e.rectInRect=function(e,t,n=!1){return!!(e.left>=t.left&&e.right<=t.right)&&(n?e.top<=t.top&&e.bottom>=t.bottom:e.top>=t.top&&e.bottom<=t.bottom)},e.on=function(t){return new e(t)},e.subtract=function(e,t){return new i(e.top-t.top,e.left-t.left,e.bottom-t.bottom,e.right-t.right)},e.expandOffset=function(e,t){return new i(e.top-t.top,e.left-t.left,t.bottom-e.bottom,t.right-e.right)},e.copyTo=function(e,t){t.left=e.left,t.top=e.top,t.right=e.right,t.bottom=e.bottom};var t=e.prototype;return t.moveLeft=function(e){return this.offsetLeft+=e,this.offsetRight+=e,this},t.moveTop=function(e){return this.offsetTop+=e,this.offsetBottom+=e,this},t.move=function(e,t){return this.moveLeft(e).moveTop(t)},t.moveTo=function(e,t){return this.offsetLeft=this.offsetRight=this.target.left-e,this.offsetTop=this.offsetBottom=this.target.top-t,this},t.shrink=function(e=0,t=e,n=e,r=t){return this.add(new i(e,t,-n,-r))},t.expand=function(e=0,t=e,n=e,r=t){return this.add(new i(-e,-t,n,r))},t.zoom=function(e=1,t="center",n="center"){const r=this.target.right+this.offsetRight-(this.target.left+this.offsetLeft),o=this.target.bottom+this.offsetBottom-(this.target.top+this.offsetTop),a=r*e-r,s=o*e-o;let c=0,l=0,u=0,d=0;switch(t){case"right":c=-a;break;case"center":c=-a/2,l=a/2;break;default:l=a}switch(n){case"bottom":u=-s;break;case"center":u=-s/2,d=s/2;break;default:d=s}return this.add(new i(u,c,d,l))},t.add=function({top:e=0,left:t=e,bottom:n=e,right:r=t}={}){return this.offsetLeft+=t,this.offsetRight+=r,this.offsetBottom+=n,this.offsetTop+=e,this},t.extract=function(){const e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight;return{left:e,top:this.target.top+this.offsetTop,right:t,bottom:this.target.bottom+this.offsetBottom}},t.boundary=function(){const e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop;return{left:e,top:n,width:t-e,height:this.target.bottom+this.offsetBottom-n}},t.intersect=function(t){t instanceof e||(t=e.on(t));const n=this.toPlainObject(),r=t.toPlainObject(),i={left:Math.max(n.left,r.left),right:Math.min(n.right,r.right),top:Math.max(n.top,r.top),bottom:Math.min(n.bottom,r.bottom)};return e.on(i)},t.toPlainObject=function(){return{left:this.target.left+this.offsetLeft,right:this.target.right+this.offsetRight,top:this.target.top+this.offsetTop,bottom:this.target.bottom+this.offsetBottom}},e}())},6126:function(e,t,n){"use strict";n.d(t,{I:function(){return a},v:function(){return o}});n(4043),n(752),n(9976),n(3356);var r=n(1220);const i="create bitmap render fail";let o,a;(function(){let e,t=navigator.userAgent.toLowerCase();return!(!("ActiveXObject"in self)||!(e=t.match(/msie ([\d\.]+)/)))&&10===parseInt(e[1])})()?(a=function(e,t){let n=new e.Renderer(t,!1);if(n.IsEmpty())throw n.delete(),t.delete(),new Error(i);return n},o=function(e,t,n,i=!0){let o=t.GetWidth(),a=t.GetHeight(),s=new e.Image;s.AddFrame(t);let c=[],l=e.StreamCallback.implement({Release:()=>{l.delete()},Flush:()=>!0,GetSize:()=>0,WriteBlock:(t,n,r)=>{let i,o=e.HEAPU8.buffer;return i=o.slice?new Uint8Array(o.slice(t,t+r)):new Uint8Array(o,t,r),c.push(i),!0}});s.SaveAs(l,(0,r.Dp)(e,".png")),i&&(s.delete(),t.delete(),n.delete());let u="image/png";return{type:u,image:new Blob(c,{type:u}),width:o,height:a}}):(a=function(e,t){let n=new e.Renderer(t,!0);if(n.IsEmpty())throw n.delete(),t.delete(),new Error(i);return n},o=function(e,t,n,r=!0){t.GetFormat()!=e.DIBFormat.e_DIBRgb32&&t.GetFormat()!=e.DIBFormat.e_DIBArgb&&t.ConvertFormat(e.DIBFormat.e_DIBRgb32);let i,o=t.GetBuffer(),a=t.GetWidth(),s=t.GetHeight(),c=s*t.GetPitch(),l=o+c;return i=e.HEAPU8.buffer.slice?e.HEAPU8.buffer.slice(o,l):new Uint8Array(e.HEAPU8.buffer,o,c).buffer,r&&(n.delete(),t.delete()),{buffer:i,width:a,height:s}})},1220:function(e,t,n){"use strict";n.d(t,{Dp:function(){return a},EY:function(){return s},n5:function(){return i}});let r={};function i(e,t){const n=r[t];return n&&!n.isDeleted()||(r[t]=new e.String(t)),r[t]}let o={};function a(e,t){const n=o[t];return n&&!n.isDeleted()||(o[t]=new e.WString(t)),o[t]}function s(){for(let e in r){r[e].isDeleted()||r[e].delete(),delete r[e]}for(let e in o){const t=o[e];t.isDeleted()||t.delete(),delete o[e]}}},1357:function(e,t,n){"use strict";function r(e,t){(t<0||t>3)&&(t=(t%360+360)%360);let n=e.Rotation;n.e_Rotation0;switch(t){case 1:case 90:return n.e_Rotation90;case 2:case 180:return n.e_Rotation180;case 3:case 270:return n.e_Rotation270;default:return n.e_Rotation0}}n.d(t,{q:function(){return r}})},8186:function(e,t,n){"use strict";n.d(t,{Ii:function(){return a},MW:function(){return s},SU:function(){return h},Yh:function(){return u},ZX:function(){return l},jj:function(){return o}});var r=n(6976),i=n(1220);function o(e,t){return e.SummaryLayout[`e_SummaryLayout${t}`]}function a(e,t){return e.FontSizeType[`e_FontSize${t}`]}function s(e,t){return e.SortType[`e_TypeSortBy${t}`]}const c={A0:[2384,3370],A1:[1684,2384],A2:[1191,1684],A3:[842,1191],A4:[595,842],A5:[420,595],A6:[298,420],"9_11":[648,792],"10_11":[720,792],"10_14":[720,1008],"11_17":[792,1224],"12_11":[864,792],"15_11":[1080,792],Letter:[612,792],Legal:[612,1008],Screen:[468,373],Tabloid:[792,1224],Ledger:[1224,792],Statement:[396,612],Executive:[522,756],Folio:[612,936],Quarto:[609,780],ANSI_C:[1224,1584],ANSI_D:[1584,2448],ANSI_E:[2448,3168],ANSI_F:[2016,2880],ARCH_A:[648,864],ARCH_B:[864,1296],ARCH_C:[1296,1728],ARCH_D:[1728,2592],ARCH_E:[2592,3456],ARCH_E1:[2160,3024],ARCH_E2:[1872,2736],ARCH_E3:[1944,2808],"B5_(ISO)":[499,709],"B4_(ISO)":[709,1001],"B2_(ISO)":[1417,2004],"B1_(ISO)":[2004,2835],"B5_(JIS)":[516,729],"B4_(JIS)":[729,1032],"B3_(JIS)":[1032,1460],"B2_(JIS)":[1460,2064],"B1_(JIS)":[2064,2920],"B0_(JIS)":[2920,4127]};function l(e){return c[e]}function u(e,t,n){let{url:i}=t,o=n.requestData("GET",!1,i);return r.Z.createImage(e,o).GetFrameBitmap(0)}const d=e=>{let t=e.AnnotationSummaryStringID;return{[t.e_AnnotationSummaryStringIDAuthor.value]:"author",[t.e_AnnotationSummaryStringIDDate.value]:"date",[t.e_AnnotationSummaryStringIDPage.value]:"page",[t.e_AnnotationSummaryStringIDType.value]:"type",[t.e_AnnotationSummaryStringIDDocumentTitle.value]:"documentTitle",[t.e_AnnotationSummaryStringIDPageTitle.value]:"pageTitle",[t.e_AnnotationSummaryStringIDNoAnnotations.value]:"noAnnotations",[t.e_AnnotationSummaryStringIDNumber.value]:"number",[t.e_AnnotationSummaryStringIDSubject.value]:"subject"}};function h(e,t,n={}){let r=n[d(e)[t.value]||""]||"";return new i.Dp(e,r)}},26:function(e,t){"use strict";const n=(e,t,r)=>{let i=e.GetDict().GetObjNum();i!==r&&t.push(i);let o=e.GetSubActionCount();for(let i=0;i<o;i++){const o=e.GetSubAction(i);n(o,t,r)}e.RemoveAllSubActions()};t.Z=(e,t,r,i)=>{const o=[];if(n(r,o,i),o.length<1)return null;let a=o.shift();r=new e.Action(t,t.GetIndirectObject(a).GetDict());for(let n=0;n<o.length;n++){const i=o[n];let a=new e.Action(t,t.GetIndirectObject(i).GetDict());r.InsertSubAction(o.length,a)}return r}},6784:function(e,t,n){"use strict";function r(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.milliseconds)}function i(e){let t=new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.milliseconds),n=e.utc_hour_offset,r=e.utc_minute_offset/60;n<0&&(r=-r);let i=-t.getTimezoneOffset()/60;return Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())+60*(i-n-r)*60*1e3}n.d(t,{B:function(){return i},q:function(){return r}})},995:function(e,t,n){"use strict";function r(){for(let e=0,t=arguments.length;e<t;e++){i(arguments[e])}}function i(e){if(e instanceof Array)for(let t=0,n=e.length;t<n;t++){i(e[t])}try{e.delete()}catch(e){}}n.d(t,{Z:function(){return r}})},6483:function(e,t,n){"use strict";n.d(t,{Tg:function(){return r},nT:function(){return o},xF:function(){return i}});n(4043),n(7267),n(2003);function r(e,t){let n=t;if(n){let r=0,i=!1;for(n--;n>0;){let o="string"==typeof e?e[n]:e.GetChars(n,1).toString();if(/[0-9a-zA-Z\s]/.test(o)||r++,/\s/.test(o)&&!i){let t="string"==typeof e?e[n-1]:e.GetChars(n-1,1).toString();void 0!==t&&/[0-9a-zA-Z]/.test(t)&&(i=!0)}else/\s/.test(o)&&i&&(i=!1,r++,n++);if(r>=1)break;if(t-n>=15)break;n--}}if("string"==typeof e)return e.substr(n,t-n);{let r="";for(let i=0;i<t-n;i++)r+=e.GetChars(n+i,1).toString();return r}}function i(e,t){let n=t;const r="string"==typeof e?e.length:e.GetCharCount();if(n<r){let i=0,o=!1;for(;n<r;){let r="string"==typeof e?e[n]:e.GetChars(n,1).toString();if(/[0-9a-zA-Z\s]/.test(r)||i++,/\s/.test(r)&&!o){let t="string"==typeof e?e[n+1]:e.GetChars(n+1,1).toString();void 0!==t&&/[0-9a-zA-Z]/.test(t)&&(o=!0)}else/\s/.test(r)&&o&&(o=!1,i++,n--);if(i>=11)break;if(n-t>50)break;n++}}if("string"==typeof e)return e.substr(t,n-t);{let r="";for(let i=0;i<n-t;i++)r+=e.GetChars(t+i,1).toString();return r}}function*o(e,t,n){const r=[],i=new e.WString(t),o=new e.WString(n),a=new RegExp(e.TextSearchUtils.GetStemmingText(i,!0).toString());i.delete();const s=e.TextSearchUtils.GetStemmingText(o,!1).toString();o.delete();let c=a.test(s),l=0;for(;c;){const e=a.exec(s.slice(l));if(null===e)break;let t=e.index+l,i=e[0].length;r.push({index:t,length:i,oriWord:n.slice(t,t+i)}),l=e.index+l+1}for(let e=0;e<r.length;e++)yield r[e]}},9033:function(e,t,n){"use strict";n.d(t,{F5:function(){return P},O1:function(){return D},bs:function(){return G},dX:function(){return E},ew:function(){return F},zF:function(){return A}});n(752),n(6265),n(4043),n(6386);var r=n(1220),i=n(4127);const o={e_StateUnknown:-2147483648,e_StateNoSignData:512,e_StateUnsigned:1,e_StateSigned:2,e_StateVerifyValid:4,e_StateVerifyInvalid:8,e_StateVerifyErrorData:16,e_StateVerifyNoSupportWay:32,e_StateVerifyErrorByteRange:64,e_StateVerifyChange:128,e_StateVerifyIncredible:256,e_StateVerifyNoChange:1024,e_StateVerifyIssueValid:4096,e_StateVerifyIssueUnknown:8192,e_StateVerifyIssueRevoke:16384,e_StateVerifyIssueExpire:32768,e_StateVerifyIssueUncheck:65536,e_StateVerifyIssueCurrent:131072,e_StateVerifyTimestampNone:262144,e_StateVerifyTimestampDoc:524288,e_StateVerifyTimestampValid:1048576,e_StateVerifyTimestampInvalid:2097152,e_StateVerifyTimestampExpire:4194304,e_StateVerifyTimestampIssueUnknown:8388608,e_StateVerifyTimestampIssueValid:16777216,e_StateVerifyTimestampTimeBefore:33554432,e_StateCertCannotGetVRI:67108864,e_StateVerifyChangeLegal:134217728,e_StateVerifyChangeIllegal:268435456,e_StateVerifyIssuerInvalid:536870912},a={e_SIG_VERIFY_VALID:0,e_SIG_VERIFY_INVALID:1,e_SIG_VERIFY_ERRORDATA:2,e_SIG_VERIFY_NOSUPPORTWAY:3,e_SIG_VERIFY_ERRORBYTERANGE:4,e_SIG_VERIFY_CHANGE:5,e_SIG_VERIFY_INCREDIBLE:6,e_SIG_VERIFY_ISSUER_VALID:65536,e_SIG_VERIFY_ISSUER_UNKNOW:131072,e_SIG_VERIFY_ISSUER_REVOKE:262144,e_SIG_VERIFY_ISSUER_EXPIRE:524288,e_SIG_VERIFY_ISSUER_UNCHECK:1048576,e_SIG_VERIFY_ISSUER_CURRENT:2097152,e_SIG_TIMESTAMP_NONE:4194304,e_SIG_TIMESTAMP_DOC:8388608,e_SIG_TIMESTAMP_VALID:16777216,e_SIG_TIMESTAMP_INVALID:33554432,e_SIG_TIMESTAMP_EXPIRE:67108864,e_SIG_TIMESTAMP_ISSUER_ISUNKNOW:134217728,e_SIG_TIMESTAMP_ISSUER_ISVALID:268435456,e_SIG_TIMESTAMP_TIMEBEFORE:536870912,e_SIG_VERIFY_ISSUER_INVALID:1073741824,e_SIG_VERIFY_ISSUER_ONESIGNER:2147483648},s={FR_SIG_TIMESTAMP_NONE:262144,FR_SIG_TIMESTAMP_DOC:524288,FR_SIG_TIMESTAMP_VALID:1048576,FR_SIG_TIMESTAMP_INVALID:2097152,FR_SIG_TIMESTAMP_EXPIRE:4194304,FR_SIG_TIMESTAMP_ISSUER_ISUNKNOWN:8388608,FR_SIG_TIMESTAMP_ISSUER_ISVALID:16777216,FR_SIG_TIMESTAMP_TIMEBEFORE:33554432},c={FPDTIMETYPE_CURRENTTIME:0,FPDTIMETYPE_SIGNTIME:1,FPDTIMETYPE_STAMPTIME:2,FPDTIMETYPE_VEROTIME:3},l={e_LTVStateInactive:0,e_LTVStateEnable:1,e_LTVStateNotEnable:2},u="unknown",d="unknown_certify",h={[u]:"unknownMsg",[d]:"unknownMsg_certify",unknownValidityMsg:"unknownValidityMsg",validMsg:"validMsg",validMsg_certify:"validMsg_certify",invalidMsg:"invalidMsg",invalidMsg_certify:"invalidMsg_certify",invalidMsg_Upper:"invalidMsg_Upper",errorSignatureMsg:"errorSignatureMsg",errorByteRangeMsg:"errorByteRangeMsg",errorByteRangeDetail:"errorByteRangeDetail",validInfo:"validInfo",validInfo_certify:"validInfo_certify",invalidInfo:"invalidInfo",invalidInfo_certify:"invalidInfo_certify",validityUnknownInfo:"validityUnknownInfo"},f={[u]:"verifyUnknown",verifyNoChange:"verifyNoChange_online",verifyNoChange_certify:"verifyNoChange_certify",verifyFuture:"verifyFuture",verifyAlteredCorrupted:"verifyAlteredCorrupted",verifyChange:"verifyChange_online",verifyChange_certify:"verifyChange_certify",noSupportFormat:"noSupportFormat",noSupportHandler:"verifyChange_certify",e_StateVerifyChangeLegal:"changeLegal",e_StateVerifyChangeIllegal:"changeIllegal"},g={[u]:"issueUnknown",issuerInvalid_mac:"issuerInvalid_mac",issuerInvalid:"issuerInvalid",issuerRevoke:"issuerRevoke",issuerExpire_mac:"issuerExpire_mac",issuerExpire:"issuerExpire",issuerCurrent:"issuerCurrent",issuerCurrent_certify:"issuerCurrent_certify",issuerValid:"issuerValid",issuerValidAndIssueRevoke:"issuerValidAndIssueRevoke",issuerIdentityUnknown:"issuerIdentityUnknown",identityValidAndUntrustedMsg:"identityValidAndUntrustedMsg",notVerifiedIdentityMsg:"notVerifiedIdentityMsg",e_StateVerifyIssueUnknown:"issueUnknown",e_StateVerifyIssueUncheck:"issueUncheck"},p={[u]:"timestampUnknown",timestampExpire:"timestampExpire_online",timestampDoc:"timestampDoc_online",timestampNone:"timestampNone_online",timestampEmbeddedAndExpire:"timestampEmbeddedAndExpire",timestampEmbeddedAndExpire_mac:"timestampEmbeddedAndExpire_mac",timestampEmbeddedAndExpire_mac_panel:"timestampEmbeddedAndExpire_mac_panel",timestampEmbedded:"timestampEmbedded",timestampEmbedded_mac:"timestampEmbedded_mac",timestampEmbedded_mac_panel:"timestampEmbedded_mac_panel",timestampEmbeddedAndNotBeVerified:"timestampEmbeddedAndNotBeVerified",timestampSecure:"timestampSecure",e_StateVerifyTimestampIssueUnknown:"timestampIssueUnknown"},m={validatedCurrentTime:"validatedCurrentTime",validatedSigningTime:"validatedSigningTime",validatedRevotime:"validatedRevotime",validatedTimeSecure:"validatedTimeSecure"},_={ltvEnabled:"ltvEnabled",ltvNotEnabled:"ltvNotEnabled"},y={illegalSignBehaviorStateMsgKey:"e-sign-china:verifySign.illegalSignBehavior"};function S(e){return e?_.ltvEnabled:_.ltvNotEnabled}function b({isValid:e,isInvalid:t,isVerifyChange:n,hasErrorData:r,isErrorByteRange:i,isUnsupported:o,isTrustedCert:a,isIncredible:s,isIssuerInvalid:c,isIssuerRevoke:l,isIssuerExpire:u,isIssuerValid:d,isIssuerCurrent:m,isTimestampTimeBefore:_,isTimestampDoc:y,isTimestampExpire:b,isTimestampNone:I,isTimestampValid:A,isTimestampInvalid:D,isTimestampIssueValid:v,isLTVEnable:w},P){let F="",T="",C="",G="",E="",R="";if(e)!a||l?P?l||(F=h.unknown_certify,C=f.verifyNoChange_certify):l||!a?(F=h.invalidMsg,C=f.verifyNoChange):F=h.unknown:(R=S(w),P?(F=h.validMsg_certify,C=f.verifyNoChange_certify):(F=h.validMsg,C=f.verifyNoChange));else if(r||i)F=h.errorSignatureMsg,T=h.errorByteRangeMsg;else if(t)F=h.invalidMsg_Upper,C=_?f.verifyFuture:f.verifyAlteredCorrupted;else if(n)F=a?P?h.validMsg_certify:h.validMsg:P?h.unknown_certify:h.unknown,C=P?f.verifyChange_certify:f.verifyChange;else{if(o)return F=h.unknownValidityMsg,{verifyInfoTitle:F,errorStatesMsgKey:T,changeStatesMsgKey:C,issuerStatesMsgKeys:G,timeStampStatesMsgKey:E,lTVStateMsgKey:R};if(s)return{verifyInfoTitle:F,errorStatesMsgKey:T,changeStatesMsgKey:C,issuerStatesMsgKeys:G,timeStampStatesMsgKey:E,lTVStateMsgKey:R};P?(F=h.unknown_certify,C=f.verifyNoChange_certify):(F=h.unknown,C=f.verifyNoChange)}return G=function({isIssuerInvalid:e,isIssuerRevoke:t,isIssuerExpire:n,isIssuerValid:r,isIssuerCurrent:i},o){let a=[];return e?a.push(g.issuerInvalid):t?a.push(g.issuerRevoke):n?a.push(g.issuerExpire):r&&i?o?a.push(g.issuerCurrent_certify):a.push(g.issuerCurrent):r?(a.push(g.issuerValid),t&&a.push(g.issuerValidAndIssueRevoke)):a.push(g.issuerIdentityUnknown),a}({isIssuerInvalid:c,isIssuerRevoke:l,isIssuerExpire:u,isIssuerValid:d,isIssuerCurrent:m},P),E=function({isTimestampTimeBefore:e,isTimestampDoc:t,isTimestampExpire:n,isTimestampNone:r,isTimestampValid:i,isTimestampInvalid:o,isTimestampIssueValid:a}){let s="";return e||(s=t?n?p.timestampExpire:p.timestampDoc:r?p.timestampNone:i||o?n?p.timestampEmbeddedAndExpire:a?p.timestampEmbeddedAndNotBeVerified:p.timestampEmbedded:p.timestampNone),s}({isTimestampTimeBefore:_,isTimestampDoc:y,isTimestampExpire:b,isTimestampNone:I,isTimestampValid:A,isTimestampInvalid:D,isTimestampIssueValid:v}),{verifyInfoTitle:F,errorStatesMsgKey:T,changeStatesMsgKey:C,issuerStatesMsgKeys:G,timeStampStatesMsgKey:E,lTVStateMsgKey:R}}function I(e,t,n,r){let i=n.States,a=e&i.e_StateVerifyValid.value,s=e&i.e_StateVerifyInvalid.value,c=e&i.e_StateVerifyErrorData.value,u=e&i.e_StateVerifyErrorByteRange.value,d=e&i.e_StateVerifyNoSupportWay.value,h=e&i.e_StateVerifyIncredible.value,f=e&i.e_StateVerifyChange.value,g=e&i.e_StateVerifyIssuerInvalid.value,p=e&i.e_StateVerifyIssueRevoke.value,m=e&i.e_StateVerifyIssueExpire.value,_=e&i.e_StateVerifyIssueValid.value,y=e&i.e_StateVerifyIssueCurrent.value,S=_,I=e&i.e_StateVerifyTimestampTimeBefore.value,A=e&i.e_StateVerifyTimestampDoc.value,D=e&i.e_StateVerifyTimestampExpire.value,v=e&i.e_StateVerifyTimestampNone.value,w=e&i.e_StateVerifyTimestampValid.value,P=e&i.e_StateVerifyTimestampInvalid.value,F=e&i.e_StateVerifyTimestampIssueValid.value,T=t instanceof Object?t.value:t,C=T&n.LTVState.e_LTVStateEnable.value,G=function(e,t){let n=e.States,r=t&n.e_StateVerifyIssuerInvalid.value,i=t&n.e_StateVerifyIssueCurrent.value,o=t&n.e_StateVerifyIssueValid.value;return!r&&!i&&!o}(n,e),{errorStatesMsgKey:E,changeStatesMsgKey:R,verifyInfoTitle:x,issuerStatesMsgKeys:M,timeStampStatesMsgKey:O,lTVStateMsgKey:N}=b({isValid:!!a,isInvalid:!!s,isVerifyChange:!!f,hasErrorData:!!c,isErrorByteRange:!!u,isUnsupported:!!d,isTrustedCert:!!S,isIncredible:!!h,isIssuerInvalid:!!g,isIssuerRevoke:!!p,isIssuerExpire:!!m,isIssuerValid:!!_,isIssuerCurrent:!!y,isTimestampTimeBefore:!!I,isTimestampDoc:!!A,isTimestampExpire:!!D,isTimestampNone:!!v,isTimestampValid:!!w,isTimestampInvalid:!!P,isTimestampIssueValid:!!F,isLTVEnable:!!C},r);return{isValid:!!a,isInvalid:!!s,hasErrorData:!!c,isErrorByteRange:!!u,isUnsupported:!!d,isVerifyChange:!!f,isIssuerInvalid:!!g,isIssuerRevoke:!!p,isIssuerExpire:!!m,isIssuerValid:!!_,isIssuerCurrent:!!y,isTimestampTimeBefore:!!I,isTimestampDoc:!!A,isTimestampExpire:!!D,isTimestampNone:!!v,isTimestampValid:!!w,isTimestampInvalid:!!P,isTimestampIssueValid:!!F,isTrustedCert:!!S,isLTVEnable:!!C,isIncredible:!!h,isShowIdentityValidAndUntrusted:G,verifyInfoTitleKey:x,verifyErrorStatesMsgKey:E,verifyChangeStatesMsgKey:R,verifyIssuerStatesMsgKeys:M,verifyTimeStampStatesMsgKey:O,verifyLTVEnableStateKey:N,engineStatesConst:{States:o,LTVState:l},sigState:e,ltvState:t,ltvStateValue:T}}function A(e,t,n,r){let i=r.GetSize();for(let o=0;o<i;++o){let i=r.GetAt(o),a=i.GetSignatureName();a="object"==typeof a?a.toString():a;let s=I(i.GetSignatureState(),i.GetLTVState(),n,t[a]);e[a]={...s}}}function D(e,t,n,r,o){let{ltvState:_,checkedReturn:b,dataReturn:I,issuerReturn:A,verifyReturn:D,revocationType:P,isCertifiable:F,timestampReturn:T,timeType:C,hasSignerName:G=!0,hasCheckedResult:E=!0,notUseToCertify:R=!0}=t;const{isIllegalESignCNBehavior:x}=n;let{verifyInfoTitleKey:M,verifyInfoDlgTitleKey:O,verifyChangeStatesMsgKey:N,verifyErrorStatesMsgKey:k,verifyErrorStatesDetailKey:B,verifyLTVEnableStateKey:L,isValid:j,isInvalid:U,hasErrorData:W,isErrorByteRange:H,isUnsupported:z,isVerifyChange:K,isIncredible:J,isUnKnowEffectForAuditTrail:V,isValidForAuditTrail:Y,isInValidForAuditTrail:Z,isErrorForAuditTrail:q,isModifiedForAuditTrail:X,isModifiedWithAllowedForAuditTrail:Q}=function(e,t){let{ltvState:n,checkedReturn:r,revocationType:i,hasSignerName:o=!0,hasCheckedResult:a=!0,isCertifiable:s}=t,{REVOCATION_NONE:{value:c},REVOCATION_OK:{value:l},REVOCATION_REVOCATION:{value:g},REVOCATION_CHAIN_REVOCATION:{value:p},REVOCATION_UNKOWN:{value:m}}=e.RevocationType,{e_StateVerifyValid:{value:_},e_StateVerifyInvalid:{value:y},e_StateVerifyErrorData:{value:b},e_StateVerifyErrorByteRange:{value:I},e_StateVerifyChange:{value:A},e_StateVerifyIncredible:{value:D}}=e.States,{e_SIG_VERIFY_ISSUER_UNCHECK:{value:v},e_SIG_VERIFY_ISSUER_VALID:{value:w},e_SIG_VERIFY_ISSUER_INVALID:{value:P},e_SIG_TIMESTAMP_TIMEBEFORE:{value:F},e_SIG_VERIFY_ISSUER_EXPIRE:{value:T}}=e.SignatureExtraStates,C="",G="",E="",R="",x="",M="",O=!1,N=!1,k=!1,B=!1,L=!1,j=!1,U=!1,W=!1,H=!1,z=!1,K=!1,J=!1,V=!1;if(r&_){if(r&v)G=h.invalidInfo,C=h.invalidMsg,N=!0,W=!0;else if(r&w&&(i==l||i==c)){O=!0,U=!0,G=s?h.validInfo_certify:h.validInfo,C=s?h.validMsg_certify:h.validMsg,M=S(n&e.LTVState.e_LTVStateEnable.value)}else i==g||i==p||r&P?(G=h.invalidInfo,C=h.invalidMsg,N=!0,W=!0):(H=!0,G=h.validityUnknownInfo,C=s?h[d]:h[u]);K=!1,E=s?f.verifyNoChange_certify:f.verifyNoChange}else if(r&y)G=h.invalidInfo,C=h.invalidMsg,N=!0,W=!0,i==g||i==p||r&F||(K=!0,E=f.verifyAlteredCorrupted),r&F&&(K=!1,E=f.verifyFuture);else if(r&I||r&b)r&I?B=!0:r&b&&(k=!0),z=!0,C=h.errorSignatureMsg,R=h.errorByteRangeMsg,x=h.errorByteRangeDetail;else if(r&A)r&v?(H=!0,G=h.validityUnknownInfo,C=s?h[d]:h[u]):r&w?(O=!0,U=!0,G=s?h.validInfo_certify:h.validInfo,C=s?h.validMsg_certify:h.validMsg):(H=!0,G=h.validityUnknownInfo,C=s?h[d]:h[u]),J=!0,E=s?f.verifyChange_certify:f.verifyChange,V=!0;else if(r&D)j=!0;else if(r&e.States.e_StateVerifyNoSupportWay.value){L=!0,H=!0;G=h.unknownValidityMsg,C=h.unknownValidityMsg,E=a?f.noSupportFormat:f.noSupportHandler}else H=!0,G=h.validityUnknownInfo,K=!1,s?(C=h.unknown_certify,E=f.verifyNoChange_certify):(C=h.unknown,E=f.verifyNoChange);return{verifyInfoTitleKey:C,verifyInfoDlgTitleKey:G,verifyChangeStatesMsgKey:E,verifyErrorStatesMsgKey:R,verifyErrorStatesDetailKey:x,verifyLTVEnableStateKey:M,isValid:O,isInvalid:N,hasErrorData:k,isErrorByteRange:B,isUnsupported:L,isIncredible:j,isVerifyChange:V,isUnKnowEffectForAuditTrail:H,isValidForAuditTrail:U,isInValidForAuditTrail:W,isErrorForAuditTrail:z,isModifiedForAuditTrail:K,isModifiedWithAllowedForAuditTrail:J}}(e,t),$={},ee={},te={};z&&J||($=function(e,t,n){let{checkedReturn:r,revocationType:i,notUseToCertify:o=!0,isCertifiable:a}=t,{REVOCATION_OK:{value:s},REVOCATION_REVOCATION:{value:c},REVOCATION_CHAIN_REVOCATION:{value:l}}=e.RevocationType,{e_SIG_VERIFY_ISSUER_UNCHECK:{value:u},e_SIG_VERIFY_ISSUER_UNKNOW:{value:d},e_SIG_VERIFY_ISSUER_INVALID:{value:h},e_SIG_VERIFY_ISSUER_CURRENT:{value:f},e_SIG_VERIFY_ISSUER_VALID:{value:p},e_SIG_VERIFY_ISSUER_EXPIRE:{value:m}}=e.SignatureExtraStates,_=[],y=!1,S=!1,b=!1,I=!1,A=!1,D=!1,v=!1,w=!1,P=!1;r&u?(P=!0,_.push(g.notVerifiedIdentityMsg)):(r&d?(v=!0,_.push(g.issuerIdentityUnknown)):r&h?(D=!0,_.push(g.issuerInvalid_mac),y=!0):i==c||i==l?(D=!0,_.push(g.issuerRevoke),S=!0):r&f?_.push(g[a?"issuerCurrent_certify":"issuerCurrent"]):r&p?(A=!0,_.push(g.issuerValid),i!==s&&(w=!0,_.push(g.issuerValidAndIssueRevoke)),b=!0):o?(_.push(g.identityValidAndUntrustedMsg),I=!0):(v=!0,_.push(g.issuerIdentityUnknown)),r&m&&1!=n&&(v=!0,_.push(g.issuerExpire_mac)));return{verifyIssuerStatesMsgKeys:_,isIssuerInvalid:y,isIssuerRevoke:S,isTrustedCert:b,isShowIdentityValidAndUntrusted:I,isIssuerUnKnowValidForAuditTrail:v,isIssuerValidForAuditTrail:A,isIssuerInvalidForAuditTrail:D,isIssuerValidAndRevokeForAuditTrail:w,isIssuerNotVerifiedForAuditTrail:P}}(e,t,_),ee=function(e){let{timestampReturn:t,timeType:n}=e,{FR_SIG_TIMESTAMP_NONE:r,FR_SIG_TIMESTAMP_DOC:i,FR_SIG_TIMESTAMP_VALID:o,FR_SIG_TIMESTAMP_INVALID:a,FR_SIG_TIMESTAMP_EXPIRE:l,FR_SIG_TIMESTAMP_ISSUER_ISUNKNOWN:u,FR_SIG_TIMESTAMP_ISSUER_ISVALID:d,FR_SIG_TIMESTAMP_TIMEBEFORE:h}=s,{FPDTIMETYPE_STAMPTIME:f}=c,g="",_="",y="",S=!1;t&r?(g=p.timestampNone,y=v(n),y==m.validatedTimeSecure&&(S=!0)):t&h||(t&i?(S=!0,g=t&l?p.timestampExpire:p.timestampDoc,y=t&a?m.validatedSigningTime:m.validatedTimeSecure):(t&l?(g=p.timestampEmbeddedAndExpire_mac,_=p.timestampEmbeddedAndExpire_mac_panel,S=!0):t&o&&t&d?(g=p.timestampEmbedded_mac,_=p.timestampEmbedded_mac_panel,S=!0):t&o&&t&u&&(g=p.timestampEmbeddedAndNotBeVerified,S=!0),y=v(n),y==m.validatedTimeSecure&&(S=!0)));g||(g=p.timestampNone);return _=_||g,{verifyTimeStampStatesMsgKey:g,verifyTimeStampStatesMsgKey_panel:_,verifySingingTimeStatesMsgKey:y,isTimestampSignature:S}}(t),te=function(e,t,n,r){let{tsVerifyTime:o,tsSignedTime:a,timestampSigner:s,timestampCertList:c}=t,l="";o&&"object"==typeof o&&(l=(0,i.Z)(o.ToLocalTime(),"YYYY/MM/DD HH:mm:ss Z",{separator:"'",suffix:"'"}));let u="";a&&"object"==typeof a&&(u=(0,i.Z)(a.ToLocalTime(),"YYYY/MM/DD HH:mm:ss Z",{separator:"'",suffix:"'"}));let d=s.toString(),h=function(e,t,n,r){let i={};try{let o,a=new e.StringArray,s=t.GetSize();if(s>0){for(let e=0;e<s;e++){let n=t.GetAt(e),r=n.GetSize();for(let t=0;t<r;t++)0===e&&t===r-1&&(o=n.GetAt(t)),a.Add(n.GetAt(t))}let c=n.map((e=>e.uniqueSerialNumber));r.getAllTrustCert(c).forEach((e=>a.Add(e.cert))),o&&(i=w(e,a,o,r,!0))}}catch(e){console.warn(e),i={}}return i}(e,c,n,r);return{tsVerifyTimeString:l,tsSignedTimeString:u,timestampAuthority:d,timestampCertificateInfo:h}}(e,t,r,o));let ne,{verifyTimeStampStatesMsgKey:re="",verifyTimeStampStatesMsgKey_panel:ie="",verifySingingTimeStatesMsgKey:oe,isTimestampSignature:ae=!1}=ee,{tsVerifyTimeString:se="",tsSignedTimeString:ce="",timestampAuthority:le="",timestampCertificateInfo:ue={}}=te,{verifyIssuerStatesMsgKeys:de=[],isIssuerInvalid:he=!1,isIssuerRevoke:fe=!1,isTrustedCert:ge=!1,isShowIdentityValidAndUntrusted:pe=!1,isIssuerValidForAuditTrail:me,isIssuerInvalidForAuditTrail:_e,isIssuerUnKnowValidForAuditTrail:ye,isIssuerValidAndRevokeForAuditTrail:Se,isIssuerNotVerifiedForAuditTrail:be}=$;return j&&de.includes(g.issuerValid)&&x&&(ne=y.illegalSignBehaviorStateMsgKey),{isValid:j,isInvalid:U,hasErrorData:W,isErrorByteRange:H,isUnsupported:z,isVerifyChange:K,isIncredible:J,isUnKnowEffectForAuditTrail:V,isValidForAuditTrail:Y,isInValidForAuditTrail:Z,isErrorForAuditTrail:q,isModifiedForAuditTrail:X,isModifiedWithAllowedForAuditTrail:Q,isIssuerInvalid:he,isIssuerRevoke:fe,isTrustedCert:ge,isShowIdentityValidAndUntrusted:pe,isIssuerValidForAuditTrail:me,isIssuerInvalidForAuditTrail:_e,isIssuerUnKnowValidForAuditTrail:ye,isIssuerValidAndRevokeForAuditTrail:Se,isIssuerNotVerifiedForAuditTrail:be,illegalSignBehaviorStateMsgKey:ne,verifyInfoDlgTitleKey:O,verifyInfoTitleKey:M,verifyErrorStatesMsgKey:k,verifyErrorStatesDetailKey:B,verifyChangeStatesMsgKey:N,verifyIssuerStatesMsgKeys:de,verifyTimeStampStatesMsgKey:re,verifyTimeStampStatesMsgKey_panel:ie,verifySingingTimeStatesMsgKey:oe,tsVerifyTimeString:se,tsSignedTimeString:ce,timestampAuthority:le,isTimestampSignature:ae,timestampCertificateInfo:ue,verifyLTVEnableStateKey:L,engineStatesConst:{States:a,LTVState:l},verifyInfo:{ltvState:_,checkedReturn:b,dataReturn:I,issuerReturn:A,verifyReturn:D,revocationType:P,isCertifiable:F,hasSignerName:G,hasCheckedResult:E,notUseToCertify:R,timestampReturn:T,timeType:C}}}function v(e){let t="",{FPDTIMETYPE_CURRENTTIME:n,FPDTIMETYPE_SIGNTIME:r,FPDTIMETYPE_VEROTIME:i}=c;return t=e==n?m.validatedCurrentTime:e==r?m.validatedSigningTime:e==i?m.validatedRevotime:m.validatedTimeSecure,t}function w(e,t,n,r,i=!1){let o={};try{let a=P(e,t,n,r),s=[],c="",l=[],u="",d=[],h="",f="";Object.keys(a).forEach(((e,t)=>{let n=a[e];n.forEach(((e,r)=>{let{issuerChain:o=[],issuerInfo:a="",subjectChain:g=[],subjectInfo:p="",serialNumber:m="",validPeriodFrom:_="",validPeriodTo:y=""}=e;if(i){let e=r+(0===t?t:1);s.push({...o[0],level:e,levelString:`${t}_${e}`}),l.push({...g[0],level:e,levelString:`${t}_${e}`,isLeafNode:r===n.length-1})}else s.push({...o[0]}),l.push({...g[0]});c+=`${a};`,u+=`${p};`,d+=`${m};`,h+=`${_};`,f+=`${y};`}))})),c=c.slice(0,-1),u=u.slice(0,-1),d=d.slice(0,-1),h=h.slice(0,-1),f=f.slice(0,-1),o={issuerChain:s,issuerInfo:c,subjectChain:l,subjectInfo:u,serialNumber:d,validPeriodFrom:h,validPeriodTo:f}}catch(e){console.warn(e),o={}}return o}function P(e,t,n,r){let i={};try{let o=new e.StringArrayArray;e.GetChainByBFS(t,n,o);let a=o.GetSize(),s=[],c={},l=new Map;if(a>0)for(let t=0;t<a;t++){let n=o.GetAt(t),r=n.GetSize(),i=`chain${t+1}`;c[i]=[];for(let t=0;t<r;t++){const r=n.GetAt(t);let o=G(e,r);c[i].push(o);let{serialNumber:a,issuerChain:u}=o,{country:d,issuerName:h}=u[u.length-1]||{},f=`${a}_${d}_${h}`;l.has(f)||(l.set(f,!0),s.push({uniqueSerialNumber:f,cert:r}))}}let u=new Map;for(const e in c)if(Object.hasOwnProperty.call(c,e)){let t=c[e].reverse(),n=t[0].serialNumber;u.has(n)||(i[e]=t,u.set(n,!0))}r.updateCertCacheMap(s)}catch(e){i={},console.warn(e)}return i}function F(e,t,{is_verify_signature:n=!0,use_expired_tst:r=!0,ignore_doc_info:i=!1,time_type:o=0,isCertTrusted:a,isCertTrustedRoot:s,trustedCertificateList:c=[]},l){let u=new e.VerifyParam;try{u.is_verify_signature=n,u.use_expired_tst=r,u.ignore_doc_info=i;let d=e.TimeType.values[o]||e.TimeType.e_SignatureCreationTime;u.time_type=d,u.verify_mode=e.VerifyMode.e_VerifyModeAcrobat;let h=E(e,a,s,c,t,l);u.SetTrustedCertStoreCallback(h)}catch(e){console.log(e)}return u}function T(e){let t="",n="",r="",i="",o="";const a=(t="")=>{let n="";return e.indexOf(`${t}=`)>-1&&(n=e.split(`${t}=`)[1]||"",n&&n.indexOf("=")>-1&&(n=n.split("=")[0],n=n.slice(0,n.lastIndexOf(","))),n=n.trim(),n.endsWith(",")&&(n=n.slice(0,n.lastIndexOf(",")))),n};return t=a("CN"),n=a("E"),r=a("OU"),i=a("O"),o=a("C"),{name:t,email:n,orgUnit:r,orgName:i,country:o}}function C(e,t,n,r,i,o=!0){let a=e.split(";"),s=t.split(";"),c=n.split(";"),l=r.split(";"),u=i.split(";"),d=[],h=a.length;for(let e=0;e<h;e++){let t=a[e],{name:n,...r}=T(t);d.push({...r,[o?"issuerInfo":"subjectInfo"]:t,[o?"issuerName":"subjectName"]:n,serialNumber:s[e],validPeriodFrom:c[e],validPeriodTo:l[e],keyUsageStr:u[e],isLeafNode:e===h-1})}return d}function G(e,t){const n=(0,r.n5)(e,"Issuer"),i=(0,r.n5)(e,"Subject"),o=(0,r.n5)(e,"SerialNumber"),a=(0,r.n5)(e,"ValidPeriodFrom"),s=(0,r.n5)(e,"ValidPeriodTo"),c=(0,r.n5)(e,"KeyUsage");let l=function(e,t,n,r,i,o,a){let s={},c=C(e,n,r,i,o),l=C(t,n,r,i,o,!1);if(s={issuerChain:c,issuerInfo:e,subjectChain:l,subjectInfo:t,serialNumber:n,validPeriodFrom:r,validPeriodTo:i},a){let e=[];l.forEach((({serialNumber:t,country:n},r)=>{let i=`${t}_${n}_${c[r].issuerName}`;e.push({uniqueSerialNumber:i,cert:a.GetAt(r)})})),s.certs=e}return s}(e.GetCertificateInfo(t,n).toString(),e.GetCertificateInfo(t,i).toString(),e.GetCertificateInfo(t,o).toString(),e.GetCertificateInfo(t,a).toString(),e.GetCertificateInfo(t,s).toString(),e.GetCertificateInfo(t,c).toString());return l}function E(e,t,n,r,i={},o){const a=(t,n,r,i,o)=>{let a=!1;if(void 0===n){if(t.length&&(a=((t,n)=>{let r=G(e,n),{subjectChain:i,issuerChain:o,issuerInfo:a,subjectInfo:s}=r||{},c=i.map(((e,t)=>{let{serialNumber:n,country:r}=e;return`${n}_${r}_${o[t].issuerName}`}));return t.some((e=>c.includes(e.uniqueSerialNumber)))})(t,i)),!a){let n=G(e,i),{subjectChain:r,issuerChain:s}=n||{},c=r.map(((e,t)=>{let{serialNumber:n,country:r}=e;return`${n}_${r}_${s[t].issuerName}`})),l=o.subjectChain.map(((e,t)=>{let{serialNumber:n,country:r}=e;return`${n}_${r}_${o.issuerChain[t].issuerName}`}));l.some((e=>c.includes(e)))&&(a=t.some((e=>l.includes(e.uniqueSerialNumber))))}}else a=n;return a};let s=e.TrustedCertStoreCallback.implement({IsCertTrusted:e=>a(r,t,0,e,i),IsCertTrustedRoot:e=>a(r,n,0,e,i),IsTimestampCertTrusted:(t,i)=>{const s=((e,t,n,r)=>{let i={};try{let o,a=new e.StringArray;if(t.GetSize()>0){let s=t.GetSize();for(let e=0;e<s;e++)e===s-1&&(o=t.GetAt(e)),a.Add(t.GetAt(e));let c=n.map((e=>e.uniqueSerialNumber));r.getAllTrustCert(c).forEach((e=>a.Add(e.cert))),o&&(i=w(e,a,o,r,!0))}}catch(e){console.warn(e),i={}}return i})(e,i,r,o);return a(r,n,0,t,s)}});return s}},301:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});n(3964),n(752),n(6265);var r=n(6346);let i="object"==typeof window?window:"function"==typeof importScripts?self:{},o=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,a=i.IDBTransaction||i.webkitIDBTransaction||i.msIDBTransaction,s={},c=function(){function e(e,t,n=1,r=[]){this.dbName=t,this.storeName=e,this.keyPath="id",this.version=n,this.indexArr=r}var t=e.prototype;return t._getDB=function(){let e=this.dbName,t=s[e];if(t)return t;let n=(0,r.dD)(),i=s[e]=n.promise,a=o.open(e,this.version),c=this.keyPath;return a.onerror=e=>{n.reject(e)},a.onupgradeneeded=e=>{var t=e.target.result;if(!t.objectStoreNames.contains(this.storeName)){let e=t.createObjectStore(this.storeName,{keyPath:c});this.indexArr.length&&this.indexArr.forEach((({indexKey:t,unique:n=!1})=>{e.createIndex(t,t,{unique:n})}))}},a.onsuccess=e=>{n.resolve(e.target.result)},i},t.set=function(e,t){return o?this._getDB().then((n=>{let i=this.storeName,o=this.keyPath,s=n.transaction([i],a.READ_WRITE||"readwrite").objectStore(i),c={value:t};c[o]=e.toString();let l=s.put(c),u=(0,r.dD)();return l.onsuccess=e=>{u.resolve()},l.onerror=e=>{u.reject(e)},u.promise})):Promise.resolve()},t.get=function(e){return o?this._getDB().then((t=>{let n=(0,r.dD)(),i=this.storeName;if(!t.objectStoreNames.contains(i))return n.resolve();let o=t.transaction([i]).objectStore(i).get(e);return o.onsuccess=e=>{let t=e.target.result;if(!t)return n.resolve();n.resolve(t.value)},o.onerror=e=>{n.reject(e)},o.oncomplete=e=>{},n.promise})):Promise.resolve(null)},t.getByIndex=function(e,t,n=!1){return o&&this.indexArr.some((t=>t.indexKey===e))?this._getDB().then((i=>{let o=(0,r.dD)(),a=this.storeName;if(!i.objectStoreNames.contains(a))return o.resolve();let s=i.transaction([a]).objectStore(a).index(e).openCursor(null,"next"),c=[];return s.onsuccess=r=>{let i=r.target.result;if(i){let r=i.value[e];return n?r.toLowerCase().indexOf(t.toLowerCase())>-1&&c.push(i.value):r===t&&c.push(i.value),void i.continue()}o.resolve(c)},s.onerror=e=>{o.reject(e)},s.oncomplete=e=>{},o.promise})):Promise.resolve(null)},t.remove=function(e){return o?this._getDB().then((t=>{let n=this.storeName;if(!t.objectStoreNames.contains(n))return;let i=t.transaction([n],a.READ_WRITE||"readwrite").objectStore(n).delete(e),o=(0,r.dD)();return i.onsuccess=e=>{o.resolve()},i.onerror=e=>{o.reject()},o.promise})):Promise.resolve()},t.clear=function(){return o?this._getDB().then((e=>{let t=this.storeName;if(!e.objectStoreNames.contains(t))return;let n=e.transaction([t],a.READ_WRITE||"readwrite").objectStore(t).clear(),i=(0,r.dD)();return n.onsuccess=e=>{i.resolve()},n.onerror=e=>{i.reject()},i.promise})):Promise.resolve()},t.destroy=function(){let e=this.dbName;delete s[e],o&&o.deleteDatabase(e)},e}()},481:function(e,t){"use strict";t.Z={None:"none",RC4:"rc4",AES128:"aes128",AES256:"aes256"}},8972:function(e,t,n){"use strict";n.d(t,{Qk:function(){return f},Ql:function(){return l},M8:function(){return o},cm:function(){return u},YP:function(){return h},pj:function(){return d},WA:function(){return s},E2:function(){return c},R3:function(){return r},f5:function(){return g},Xt:function(){return a},Bo:function(){return i}});n(278),n(3964);var r={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",DEFERRED:"deferred",FUTURE:"future",NONE:"none"};const i={FIRST:0,LAST:1,AFTER:2,BEFORE:3},o={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5,NOBORDER:6},a={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},s={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",CIRCLE_DIMENSION:"CircleDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",FREETEXT_TEXTBOX:"FreeTextTextbox",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"},c={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"},l=(Object.keys(c).reduce(((e,t)=>(e[c[t]]=Number(t),e)),{}),{0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"}),u=(Promise.resolve(),""),d=200,h=258,f={ROLLOVER:"rollover",NORMAL:"normal",DOWN:"down"},g={ConnectedPDF:1,XFA:2,Redaction:3,RMS:4,OCR:5,Comparison:6,Compliance:7,Optimizer:8,Conversion:9,LayoutRecognition:10,AdvEdit:11}},3219:function(e,t,n){"use strict";n.d(t,{BD:function(){return a},T2:function(){return i},gO:function(){return s},mz:function(){return o}});const r={Courier:0,"Courier-Bold":1,"Courier-BoldOblique":2,"Courier-Oblique":3,Helvetica:4,"Helvetica-Bold":5,"Helvetica-BoldOblique":6,"Helvetica-Oblique":7,"Times-Roman":8,"Times-Bold":9,"Times-BoldItalic":10,"Times-Italic":11,Symbol:12,ZapfDingbats:13};function i(e){return r[e]}const o={FoxitFixedOTF:"Courier",FoxitSansMM:"Courier","FoxitFixedOTF-Bold":"Courier-Bold","FoxitFixedOTF-Italic":"Courier-Oblique","FoxitFixedOTF-BoldItalic":"Courier-BoldOblique",FoxitSansOTF:"Helvetica","FoxitSansOTF-Italic":"Helvetica-Oblique","FoxitSansOTF-Bold":"Helvetica-Bold","FoxitSansOTF-BoldItalic":"Helvetica-BoldOblique","FoxitSansPS-BoldItalic":"Helvetica-BoldOblique",FoxitSerifOTF:"Times-Roman","FoxitSerifOTF-Italic":"Times-Italic","FoxitSerifOTF-Bold":"Times-Bold","FoxitSerifOTF-BoldItalic":"Times-BoldItalic",FoxitSymbolOTF:"Symbol",FoxitDingbatsOTF:"ZapfDingbats"},a=[{name:"Times Roman",value:"Times-Roman"},{name:"Times Bold",value:"Times-Bold"},{name:"Times Italic",value:"Times-Italic"},{name:"Times BoldItalic",value:"Times-BoldItalic"},{name:"Helvetica",value:"Helvetica"},{name:"Helvetica Bold",value:"Helvetica-Bold"},{name:"Helvetica Oblique",value:"Helvetica-Oblique"},{name:"Helvetica BoldOblique",value:"Helvetica-BoldOblique"},{name:"Courier",value:"Courier"},{name:"Courier Bold",value:"Courier-Bold"},{name:"Courier Oblique",value:"Courier-Oblique"},{name:"Courier BoldOblique",value:"Courier-BoldOblique"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],s=()=>"Helvetica"},4127:function(e,t,n){"use strict";n.d(t,{K:function(){return c}});var r=n(7462),i=(n(4043),n(7267),n(7484)),o=n.n(i),a=n(6784);const s=(e,t,n)=>{let i="";if("object"==typeof e&&e.IsValid){if(!e.IsValid())return i;e=(0,a.q)(e)}const s=o()(e);if((t=t||"YYYY-MM-DD HH:mm:ss").indexOf("Z")>=0){n=(0,r.Z)({separator:":",prefix:"",suffix:"",showSpace:!0},n);let e=s.format("Z");":"!==n.separator&&(e=e.replace(":",String(n.separator))),""!==n.prefix&&(e=String(n.prefix)+e),""!==n.suffix&&(e+=String(n.suffix)),t=t.replace(/\s+Z+|Z+/g,"");const o=n.showSpace?" ":"";i=s.format(t)+o+e}else i=s.format(t);return i},c=e=>"D:"+s(e,"YYYYMMDDHHmmssZ",{separator:"'",showSpace:!1})+"'";t.Z=s},8755:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(4043),n(7267),n(752),n(9976),n(3356);const r=(e,t)=>t[e];function i(){if("undefined"!=typeof window){if(window.crypto)return function(){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]/4294967296}();if(window.msCrypto)return function(){const e=new Uint32Array(1);return window.msCrypto.getRandomValues(e),e[0]/4294967296}()}return r("random",Math)()}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*i()|0;return("x"==e?t:3&t|8).toString(16)}))}},1816:function(e,t){"use strict";t.Z={Unknown:-1,Signature:0,Encryption:1,SignatureAndEncryption:2}},3469:function(e,t,n){"use strict";n.d(t,{Q9:function(){return o},fS:function(){return i}});const r={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:e=>e&r.ButtonRadiosInUnison,isHidden:function(e){return e&r.Hidden},isReadOnly:function(e){return e&r.ReadOnly},isRequired:function(e){return e&r.Required},isNoExport:function(e){return e&r.NoExport},isMultiline:function(e){return e&r.TextMultiline},isPassword:function(e){return e&r.TextPassword},isComb:function(e){return e&r.TextComb},isNoSpellCheck:function(e){return e&r.TextDoNotSpellCheck},isNoScroll:function(e){return e&r.TextDoNotScroll},isComboEdit:function(e){return e&r.ComboEdit},isChoiceMultiSelect:function(e){return e&r.ChoiceMultiSelect}};let i={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7,Barcode:8},o=r},7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",c="week",l="month",u="quarter",d="year",h="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},_=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+_(r,2,"0")+":"+_(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),o=n-i<0,a=t.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:s,D:h,h:a,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},S="en",b={};b[S]=m;var I="$isDayjsObject",A=function(e){return e instanceof P||!(!e||!e[I])},D=function e(t,n,r){var i;if(!t)return S;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;b[s]=t,i=s}return!r&&i&&(S=i),i||!r&&S},v=function(e,t){if(A(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new P(n)},w=y;w.l=D,w.i=A,w.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var P=function(){function m(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[I]=!0}var _=m.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(g);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return w},_.isValid=function(){return!(this.$d.toString()===f)},_.isSame=function(e,t){var n=v(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return v(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<v(e)},_.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,r=!!w.u(t)||t,u=w.p(e),f=function(e,t){var i=w.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},g=function(e,t){return w.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,m=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case l:return r?f(1,m):f(0,m+1);case c:var S=this.$locale().weekStart||0,b=(p<S?p+7:p)-S;return f(r?_-b:_+(6-b),m);case s:case h:return g(y+"Hours",0);case a:return g(y+"Minutes",1);case o:return g(y+"Seconds",2);case i:return g(y+"Milliseconds",3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var n,c=w.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[s]=u+"Date",n[h]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],g=c===s?this.$D+(t-this.$W):t;if(c===l||c===d){var p=this.clone().set(h,1);p.$d[f](g),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](g);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[w.p(e)]()},_.add=function(r,u){var h,f=this;r=Number(r);var g=w.p(u),p=function(e){var t=v(f);return w.w(t.date(t.date()+Math.round(e*r)),f)};if(g===l)return this.set(l,this.$M+r);if(g===d)return this.set(d,this.$y+r);if(g===s)return p(1);if(g===c)return p(7);var m=(h={},h[o]=t,h[a]=n,h[i]=e,h)[g]||1,_=this.$d.getTime()+r*m;return w.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=w.z(this),o=this.$H,a=this.$m,s=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return w.s(o%12||12,e,"0")},g=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return s+1;case"MM":return w.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,l,3);case"MMMM":return d(l,s);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return w.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return g(o,a,!0);case"A":return g(o,a,!1);case"m":return String(a);case"mm":return w.s(a,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(r,h,f){var g,p=this,m=w.p(h),_=v(r),y=(_.utcOffset()-this.utcOffset())*t,S=this-_,b=function(){return w.m(p,_)};switch(m){case d:g=b()/12;break;case l:g=b();break;case u:g=b()/3;break;case c:g=(S-y)/6048e5;break;case s:g=(S-y)/864e5;break;case a:g=S/n;break;case o:g=S/t;break;case i:g=S/e;break;default:g=S}return f?g:w.a(g)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return b[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=D(e,t,!0);return r&&(n.$L=r),n},_.clone=function(){return w.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},m}(),F=P.prototype;return v.prototype=F,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",l],["$y",d],["$D",h]].forEach((function(e){F[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),v.extend=function(e,t){return e.$i||(e(t,P,v),e.$i=!0),v},v.locale=D,v.isDayjs=A,v.unix=function(e){return v(1e3*e)},v.en=b[S],v.Ls=b,v.p={},v}()},6729:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},5733:function(e,t,n){
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,s,c,l,u=[],d=0,h=e.length,f=h,g="string"!==r.getTypeOf(e);d<e.length;)f=h-d,i=g?(t=e[d++],n=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),n=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,c=1<f?(15&n)<<2|i>>6:64,l=2<f?63&i:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(c)+o.charAt(l));return u.join("")},n.decode=function(e){var t,n,r,a,s,c,l=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=o.indexOf(e.charAt(l++))<<2|(a=o.indexOf(e.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=o.indexOf(e.charAt(l++))),h[u++]=t,64!==s&&(h[u++]=n),64!==c&&(h[u++]=r);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,u){var d,h,f=e.file,g=e.compression,p=u!==s.utf8encode,m=o.transformTo("string",u(f.name)),_=o.transformTo("string",s.utf8encode(f.name)),y=f.comment,S=o.transformTo("string",u(y)),b=o.transformTo("string",s.utf8encode(y)),I=_.length!==f.name.length,A=b.length!==y.length,D="",v="",w="",P=f.dir,F=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var C=0;t&&(C|=8),p||!I&&!A||(C|=2048);var G=0,E=0;P&&(G|=16),"UNIX"===a?(E=798,G|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,P)):(E=20,G|=function(e){return 63&(e||0)}(f.dosPermissions)),d=F.getUTCHours(),d<<=6,d|=F.getUTCMinutes(),d<<=5,d|=F.getUTCSeconds()/2,h=F.getUTCFullYear()-1980,h<<=4,h|=F.getUTCMonth()+1,h<<=5,h|=F.getUTCDate(),I&&(v=r(1,1)+r(c(m),4)+_,D+="up"+r(v.length,2)+v),A&&(w=r(1,1)+r(c(S),4)+b,D+="uc"+r(w.length,2)+w);var R="";return R+="\n\0",R+=r(C,2),R+=g.magic,R+=r(d,2),R+=r(h,2),R+=r(T.crc32,4),R+=r(T.compressedSize,4),R+=r(T.uncompressedSize,4),R+=r(m.length,2),R+=r(D.length,2),{fileRecord:l.LOCAL_FILE_HEADER+R+m+D,dirRecord:l.CENTRAL_FILE_HEADER+r(E,2)+R+r(S.length,2)+"\0\0\0\0"+r(G,4)+r(i,4)+m+D+S}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),l=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var s=o.transformTo("string",a(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(l(r[o]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],c=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=c)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),s=o.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=p(e)),s.createFolders&&(r=g(e))&&m.call(this,r,!0);var d="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var _=null;_=t instanceof l||t instanceof a?t:h.isNode&&h.isStream(t)?new f(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new u(e,_,s);this.files[e]=y}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),g=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},p=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:c.createFolders,e=p(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function _(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(_(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(_(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new c(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),c=e("../external"),l=null;if(s.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new c.Promise((function(n,i){var o=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(c,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),l);n(e)}catch(e){i(e)}o=[]})).resume()}))}function d(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):new Array(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,c=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)c[n++]=i;else if(4<(o=s[i]))c[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(l,a),l.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;a!==t.length&&(i.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var h={};h.string={string:s,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},h.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return h[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,l){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(l?t=i.decode(t):o&&!0!==s&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),l=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)r.prototype[l[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=g((function(){t(i,r)}));"error"===a.status&&r(a.value)}function g(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=g(h,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(l,a))}),(function(e){r||(r=!0,o.reject(l,e))}))}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,c=new this(i);++s<n;)a=e[s],t.resolve(a).then((function(e){r||(r=!0,o.resolve(c,e))}),(function(e){r||(r=!0,o.reject(c,e))}));return c}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,l=0,u=-1,d=0,h=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var g;if(g="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,g))!==l)throw new Error(a[n]);this._dict_set=!0}}function g(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),!(s.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=g,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,g(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,g(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,l,d,h,f=this.strm,g=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(g),f.next_out=0,f.avail_out=g),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(h="string"==typeof p?o.string2buf(p):"[object ArrayBuffer]"===u.call(p)?new Uint8Array(p):p,n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),l=f.next_out-c,d=o.buf2string(f.output,c),f.next_out=l,f.avail_out=g-l,l&&i.arraySet(f.output,f.output,c,l,0),this.onData(d)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,l=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if(4<(o=a[i]))l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return c(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=0,u=4,d=0,h=-2,f=-1,g=4,p=2,m=8,_=9,y=286,S=30,b=19,I=2*y+1,A=15,D=3,v=258,w=v+D+1,P=42,F=113,T=1,C=2,G=3,E=4;function R(e,t){return e.msg=c[t],t}function x(e){return(e<<1)-(4<e?9:0)}function M(e){for(var t=e.length;0<=--t;)e[t]=0}function O(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function N(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,O(e.strm)}function k(e,t){e.pending_buf[e.pending++]=t}function B(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-w?e.strstart-(e.w_size-w):0,l=e.window,u=e.w_mask,d=e.prev,h=e.strstart+v,f=l[o+a-1],g=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===g&&l[n+a-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<h);if(r=v-(h-o),o=h-v,a<r){if(e.match_start=t,s<=(a=r))break;f=l[o+a-1],g=l[o+a]}}}while((t=d[t&u])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,n,r,o,c,l,u,d,h,f,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-w)){for(i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;r=e.head[--t],e.head[t]=g<=r?r-g:0,--n;);for(t=n=g;r=e.prev[--t],e.prev[t]=g<=r?r-g:0,--n;);o+=g}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,f=void 0,(h=o)<(f=l.avail_in)&&(f=h),n=0===f?0:(l.avail_in-=f,i.arraySet(u,l.input,l.next_in,f,d),1===l.state.wrap?l.adler=a(l.adler,u,f,d):2===l.state.wrap&&(l.adler=s(l.adler,u,f,d)),l.next_in+=f,l.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=D)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+D-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<w&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<w){if(j(e),e.lookahead<w&&t===l)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-w&&(e.match_length=L(e,n)),e.match_length>=D)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=e.strstart<D-1?e.strstart:D-1,t===u?(N(e,!0),0===e.strm.avail_out?G:E):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:C}function W(e,t){for(var n,r,i;;){if(e.lookahead<w){if(j(e),e.lookahead<w&&t===l)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-w&&(e.match_length=L(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===D&&4096<e.strstart-e.match_start)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-D,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=D-1,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return T}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return T}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===u?(N(e,!0),0===e.strm.avail_out?G:E):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:C}function H(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*I),this.dyn_dtree=new i.Buf16(2*(2*S+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(A+1),this.heap=new i.Buf16(2*y+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=p,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?P:F,e.adler=2===t.wrap?0:1,t.last_flush=l,o._tr_init(t),d):R(e,h)}function J(e){var t=K(e);return t===d&&function(e){e.window_size=2*e.w_size,M(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}(e.state),t}function V(e,t,n,r,o,a){if(!e)return h;var s=1;if(t===f&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||_<o||n!==m||r<8||15<r||t<0||9<t||a<0||g<a)return R(e,h);8===r&&(r=9);var c=new z;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+D-1)/D),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,J(e)}r=[new H(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return T;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,N(e,!1),0===e.strm.avail_out))return T;if(e.strstart-e.block_start>=e.w_size-w&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(N(e,!0),0===e.strm.avail_out?G:E):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),T)})),new H(4,4,8,4,U),new H(4,5,16,8,U),new H(4,6,32,32,U),new H(4,4,16,16,W),new H(8,16,32,32,W),new H(8,16,128,128,W),new H(8,32,128,256,W),new H(32,128,258,1024,W),new H(32,258,258,4096,W)],n.deflateInit=function(e,t){return V(e,t,m,15,8,0)},n.deflateInit2=V,n.deflateReset=J,n.deflateResetKeep=K,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},n.deflate=function(e,t){var n,i,a,c;if(!e||!e.state||5<t||t<0)return e?R(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==u)return R(e,0===e.avail_out?-5:h);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===P)if(2===i.wrap)e.adler=0,k(i,31),k(i,139),k(i,8),i.gzhead?(k(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),k(i,255&i.gzhead.time),k(i,i.gzhead.time>>8&255),k(i,i.gzhead.time>>16&255),k(i,i.gzhead.time>>24&255),k(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),k(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(k(i,255&i.gzhead.extra.length),k(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(k(i,0),k(i,0),k(i,0),k(i,0),k(i,0),k(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),k(i,3),i.status=F);else{var f=m+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=F,B(i,f),0!==i.strstart&&(B(i,e.adler>>>16),B(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),O(e),a=i.pending,i.pending!==i.pending_buf_size));)k(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),O(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,k(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),O(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,k(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&O(e),i.pending+2<=i.pending_buf_size&&(k(i,255&e.adler),k(i,e.adler>>8&255),e.adler=0,i.status=F)):i.status=F),0!==i.pending){if(O(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&x(t)<=x(n)&&t!==u)return R(e,-5);if(666===i.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==l&&666!==i.status){var g=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return T;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(N(e,!0),0===e.strm.avail_out?G:E):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:C}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=v){if(j(e),e.lookahead<=v&&t===l)return T;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+v;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=v-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=o._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(N(e,!0),0===e.strm.avail_out?G:E):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:C}(i,t):r[i.level].func(i,t);if(g!==G&&g!==E||(i.status=666),g===T||g===G)return 0===e.avail_out&&(i.last_flush=-1),d;if(g===C&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(M(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),O(e),0===e.avail_out))return i.last_flush=-1,d}return t!==u?d:i.wrap<=0?1:(2===i.wrap?(k(i,255&e.adler),k(i,e.adler>>8&255),k(i,e.adler>>16&255),k(i,e.adler>>24&255),k(i,255&e.total_in),k(i,e.total_in>>8&255),k(i,e.total_in>>16&255),k(i,e.total_in>>24&255)):(B(i,e.adler>>>16),B(i,65535&e.adler)),O(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==P&&69!==t&&73!==t&&91!==t&&103!==t&&t!==F&&666!==t?R(e,h):(e.state=null,t===F?R(e,-3):d):h},n.deflateSetDictionary=function(e,t){var n,r,o,s,c,l,u,f,g=t.length;if(!e||!e.state)return h;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==P||n.lookahead)return h;for(1===s&&(e.adler=a(e.adler,t,g,0)),n.wrap=0,g>=n.w_size&&(0===s&&(M(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,g-n.w_size,n.w_size,0),t=f,g=n.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=g,e.next_in=0,e.input=t,j(n);n.lookahead>=D;){for(r=n.strstart,o=n.lookahead-(D-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+D-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=D-1,j(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,n.wrap=s,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,a,s,c,l,u,d,h,f,g,p,m,_,y,S,b,I,A,D,v,w,P;n=e.state,r=e.next_in,w=e.input,i=r+(e.avail_in-5),o=e.next_out,P=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,h=n.window,f=n.hold,g=n.bits,p=n.lencode,m=n.distcode,_=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{g<15&&(f+=w[r++]<<g,g+=8,f+=w[r++]<<g,g+=8),S=p[f&_];t:for(;;){if(f>>>=b=S>>>24,g-=b,0==(b=S>>>16&255))P[o++]=65535&S;else{if(!(16&b)){if(0==(64&b)){S=p[(65535&S)+(f&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}I=65535&S,(b&=15)&&(g<b&&(f+=w[r++]<<g,g+=8),I+=f&(1<<b)-1,f>>>=b,g-=b),g<15&&(f+=w[r++]<<g,g+=8,f+=w[r++]<<g,g+=8),S=m[f&y];n:for(;;){if(f>>>=b=S>>>24,g-=b,!(16&(b=S>>>16&255))){if(0==(64&b)){S=m[(65535&S)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(A=65535&S,g<(b&=15)&&(f+=w[r++]<<g,(g+=8)<b&&(f+=w[r++]<<g,g+=8)),c<(A+=f&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=b,g-=b,(b=o-a)<A){if(u<(b=A-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(v=h,(D=0)===d){if(D+=l-b,b<I){for(I-=b;P[o++]=h[D++],--b;);D=o-A,v=P}}else if(d<b){if(D+=l+d-b,(b-=d)<I){for(I-=b;P[o++]=h[D++],--b;);if(D=0,d<I){for(I-=b=d;P[o++]=h[D++],--b;);D=o-A,v=P}}}else if(D+=d-b,b<I){for(I-=b;P[o++]=h[D++],--b;);D=o-A,v=P}for(;2<I;)P[o++]=v[D++],P[o++]=v[D++],P[o++]=v[D++],I-=3;I&&(P[o++]=v[D++],1<I&&(P[o++]=v[D++]))}else{for(D=o-A;P[o++]=P[D++],P[o++]=P[D++],P[o++]=P[D++],2<(I-=3););I&&(P[o++]=P[D++],1<I&&(P[o++]=P[D++]))}break}}break}}while(r<i&&o<s);r-=I=g>>3,f&=(1<<(g-=I<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=g}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=1,l=2,u=0,d=-2,h=1,f=852,g=592;function p(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(g),t.sane=1,t.back=-1,u):d}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,_(e)):d}function S(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):d}function b(e,t){var n,r;return e?(r=new m,(e.state=r).window=null,(n=S(e,t))!==u&&(e.state=null),n):d}var I,A,D=!0;function v(e){if(D){var t;for(I=new r.Buf32(512),A=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,I,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(l,e.lens,0,32,A,0,e.work,{bits:5}),D=!1}e.lencode=I,e.lenbits=9,e.distcode=A,e.distbits=5}function w(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=y,n.inflateReset2=S,n.inflateResetKeep=_,n.inflateInit=function(e){return b(e,15)},n.inflateInit2=b,n.inflate=function(e,t){var n,f,g,m,_,y,S,b,I,A,D,P,F,T,C,G,E,R,x,M,O,N,k,B,L=0,j=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),_=e.next_out,g=e.output,S=e.avail_out,m=e.next_in,f=e.input,y=e.avail_in,b=n.hold,I=n.bits,A=y,D=S,N=u;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;I<16;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(2&n.wrap&&35615===b){j[n.check=0]=255&b,j[1]=b>>>8&255,n.check=o(n.check,j,2,0),I=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&b)){e.msg="unknown compression method",n.mode=30;break}if(I-=4,O=8+(15&(b>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&b?10:12,I=b=0;break;case 2:for(;I<16;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(n.flags=b,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,n.check=o(n.check,j,2,0)),I=b=0,n.mode=3;case 3:for(;I<32;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}n.head&&(n.head.time=b),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,j[2]=b>>>16&255,j[3]=b>>>24&255,n.check=o(n.check,j,4,0)),I=b=0,n.mode=4;case 4:for(;I<16;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,n.check=o(n.check,j,2,0)),I=b=0,n.mode=5;case 5:if(1024&n.flags){for(;I<16;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,n.check=o(n.check,j,2,0)),I=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(P=n.length)&&(P=y),P&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,m,P,O)),512&n.flags&&(n.check=o(n.check,f,P,m)),y-=P,m+=P,n.length-=P),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(P=0;O=f[m+P++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O)),O&&P<y;);if(512&n.flags&&(n.check=o(n.check,f,P,m)),y-=P,m+=P,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(P=0;O=f[m+P++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O)),O&&P<y;);if(512&n.flags&&(n.check=o(n.check,f,P,m)),y-=P,m+=P,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;I<16;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}I=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;I<32;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}e.adler=n.check=p(b),I=b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=_,e.avail_out=S,e.next_in=m,e.avail_in=y,n.hold=b,n.bits=I,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){b>>>=7&I,I-=7&I,n.mode=27;break}for(;I<3;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}switch(n.last=1&b,I-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;b>>>=2,I-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}b>>>=2,I-=2;break;case 14:for(b>>>=7&I,I-=7&I;I<32;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,I=b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(P=n.length){if(y<P&&(P=y),S<P&&(P=S),0===P)break e;r.arraySet(g,f,m,P,_),y-=P,m+=P,S-=P,_+=P,n.length-=P;break}n.mode=12;break;case 17:for(;I<14;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(n.nlen=257+(31&b),b>>>=5,I-=5,n.ndist=1+(31&b),b>>>=5,I-=5,n.ncode=4+(15&b),b>>>=4,I-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;I<3;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}n.lens[U[n.have++]]=7&b,b>>>=3,I-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},N=s(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,N){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;G=(L=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,E=65535&L,!((C=L>>>24)<=I);){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(E<16)b>>>=C,I-=C,n.lens[n.have++]=E;else{if(16===E){for(B=C+2;I<B;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(b>>>=C,I-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],P=3+(3&b),b>>>=2,I-=2}else if(17===E){for(B=C+3;I<B;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}I-=C,O=0,P=3+(7&(b>>>=C)),b>>>=3,I-=3}else{for(B=C+7;I<B;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}I-=C,O=0,P=11+(127&(b>>>=C)),b>>>=7,I-=7}if(n.have+P>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;P--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,k={bits:n.lenbits},N=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,N){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},N=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,N){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=S){e.next_out=_,e.avail_out=S,e.next_in=m,e.avail_in=y,n.hold=b,n.bits=I,a(e,D),_=e.next_out,g=e.output,S=e.avail_out,m=e.next_in,f=e.input,y=e.avail_in,b=n.hold,I=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;G=(L=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,E=65535&L,!((C=L>>>24)<=I);){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(G&&0==(240&G)){for(R=C,x=G,M=E;G=(L=n.lencode[M+((b&(1<<R+x)-1)>>R)])>>>16&255,E=65535&L,!(R+(C=L>>>24)<=I);){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}b>>>=R,I-=R,n.back+=R}if(b>>>=C,I-=C,n.back+=C,n.length=E,0===G){n.mode=26;break}if(32&G){n.back=-1,n.mode=12;break}if(64&G){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&G,n.mode=22;case 22:if(n.extra){for(B=n.extra;I<B;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,I-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;G=(L=n.distcode[b&(1<<n.distbits)-1])>>>16&255,E=65535&L,!((C=L>>>24)<=I);){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(0==(240&G)){for(R=C,x=G,M=E;G=(L=n.distcode[M+((b&(1<<R+x)-1)>>R)])>>>16&255,E=65535&L,!(R+(C=L>>>24)<=I);){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}b>>>=R,I-=R,n.back+=R}if(b>>>=C,I-=C,n.back+=C,64&G){e.msg="invalid distance code",n.mode=30;break}n.offset=E,n.extra=15&G,n.mode=24;case 24:if(n.extra){for(B=n.extra;I<B;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,I-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===S)break e;if(P=D-S,n.offset>P){if((P=n.offset-P)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}F=P>n.wnext?(P-=n.wnext,n.wsize-P):n.wnext-P,P>n.length&&(P=n.length),T=n.window}else T=g,F=_-n.offset,P=n.length;for(S<P&&(P=S),S-=P,n.length-=P;g[_++]=T[F++],--P;);0===n.length&&(n.mode=21);break;case 26:if(0===S)break e;g[_++]=n.length,S--,n.mode=21;break;case 27:if(n.wrap){for(;I<32;){if(0===y)break e;y--,b|=f[m++]<<I,I+=8}if(D-=S,e.total_out+=D,n.total+=D,D&&(e.adler=n.check=n.flags?o(n.check,g,D,_-D):i(n.check,g,D,_-D)),D=S,(n.flags?b:p(b))!==n.check){e.msg="incorrect data check",n.mode=30;break}I=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;I<32;){if(0===y)break e;y--,b+=f[m++]<<I,I+=8}if(b!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}I=b=0}n.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;default:return d}return e.next_out=_,e.avail_out=S,e.next_in=m,e.avail_in=y,n.hold=b,n.bits=I,(n.wsize||D!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,D-e.avail_out)?(n.mode=31,-4):(A-=e.avail_in,D-=e.avail_out,e.total_in+=A,e.total_out+=D,n.total+=D,n.wrap&&D&&(e.adler=n.check=n.flags?o(n.check,g,D,e.next_out-D):i(n.check,g,D,e.next_out-D)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==A&&0===D||4===t)&&N===u&&(N=-5),N)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&i(1,t,r,0)!==n.check?-3:w(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,u,d,h){var f,g,p,m,_,y,S,b,I,A=h.bits,D=0,v=0,w=0,P=0,F=0,T=0,C=0,G=0,E=0,R=0,x=null,M=0,O=new r.Buf16(16),N=new r.Buf16(16),k=null,B=0;for(D=0;D<=15;D++)O[D]=0;for(v=0;v<c;v++)O[t[n+v]]++;for(F=A,P=15;1<=P&&0===O[P];P--);if(P<F&&(F=P),0===P)return l[u++]=20971520,l[u++]=20971520,h.bits=1,0;for(w=1;w<P&&0===O[w];w++);for(F<w&&(F=w),D=G=1;D<=15;D++)if(G<<=1,(G-=O[D])<0)return-1;if(0<G&&(0===e||1!==P))return-1;for(N[1]=0,D=1;D<15;D++)N[D+1]=N[D]+O[D];for(v=0;v<c;v++)0!==t[n+v]&&(d[N[t[n+v]]++]=v);if(y=0===e?(x=k=d,19):1===e?(x=i,M-=257,k=o,B-=257,256):(x=a,k=s,-1),D=w,_=u,C=v=R=0,p=-1,m=(E=1<<(T=F))-1,1===e&&852<E||2===e&&592<E)return 1;for(;;){for(S=D-C,I=d[v]<y?(b=0,d[v]):d[v]>y?(b=k[B+d[v]],x[M+d[v]]):(b=96,0),f=1<<D-C,w=g=1<<T;l[_+(R>>C)+(g-=f)]=S<<24|b<<16|I|0,0!==g;);for(f=1<<D-1;R&f;)f>>=1;if(0!==f?(R&=f-1,R+=f):R=0,v++,0==--O[D]){if(D===P)break;D=t[n+d[v]]}if(F<D&&(R&m)!==p){for(0===C&&(C=F),_+=w,G=1<<(T=D-C);T+C<P&&!((G-=O[T+C])<=0);)T++,G<<=1;if(E+=1<<T,1===e&&852<E||2===e&&592<E)return 1;l[p=R&m]=F<<24|T<<16|_-u|0}}return 0!==R&&(l[_+R]=D-C<<24|64<<16|0),h.bits=F,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,c=29,l=256,u=l+1+c,d=30,h=19,f=2*u+1,g=15,p=16,m=7,_=256,y=16,S=17,b=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=new Array(2*(u+2));a(w);var P=new Array(2*d);a(P);var F=new Array(512);a(F);var T=new Array(256);a(T);var C=new Array(c);a(C);var G,E,R,x=new Array(d);function M(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?F[e]:F[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,n){e.bi_valid>p-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>p-e.bi_valid,e.bi_valid+=n-p):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function L(e,t,n){B(e,n[2*t],n[2*t+1])}function j(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,i,o=new Array(g+1),a=0;for(r=1;r<=g;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=j(o[s]++,s))}}function W(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H(e){8<e.bi_valid?k(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function z(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function K(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&z(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!z(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function J(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?L(e,i,t):(L(e,(o=T[i])+l+1,t),0!==(a=I[o])&&B(e,i-=C[o],a),L(e,o=N(--r),n),0!==(a=A[o])&&B(e,r-=x[o],a)),s<e.last_lit;);L(e,_,t)}function V(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)K(e,o,n);for(i=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,K(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,_=0;for(o=0;o<=g;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)m<(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)&&(o=m,_++),c[2*r+1]=o,l<r||(e.bl_count[o]++,a=0,p<=r&&(a=h[r-p]),s=c[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==_){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,_-=2}while(0<_);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)l<(i=e.heap[--n])||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(e,t),U(o,l,e.bl_count)}function Y(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*b]++,o=i,l=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4))}function Z(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<l)for(;L(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(L(e,i,e.bl_tree),s--),L(e,y,e.bl_tree),B(e,s-3,2)):s<=10?(L(e,S,e.bl_tree),B(e,s-3,3)):(L(e,b,e.bl_tree),B(e,s-11,7));o=i,l=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4)}}a(x);var q=!1;function X(e,t,n,i){B(e,(s<<1)+(i?1:0),3),function(e,t,n,i){H(e),i&&(k(e,n),k(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){q||(function(){var e,t,n,r,i,o=new Array(g+1);for(r=n=0;r<c-1;r++)for(C[r]=n,e=0;e<1<<I[r];e++)T[n++]=r;for(T[n-1]=r,r=i=0;r<16;r++)for(x[r]=i,e=0;e<1<<A[r];e++)F[i++]=r;for(i>>=7;r<d;r++)for(x[r]=i<<7,e=0;e<1<<A[r]-7;e++)F[256+i++]=r;for(t=0;t<=g;t++)o[t]=0;for(e=0;e<=143;)w[2*e+1]=8,e++,o[8]++;for(;e<=255;)w[2*e+1]=9,e++,o[9]++;for(;e<=279;)w[2*e+1]=7,e++,o[7]++;for(;e<=287;)w[2*e+1]=8,e++,o[8]++;for(U(w,u+1,o),e=0;e<d;e++)P[2*e+1]=5,P[2*e]=j(e,5);G=new M(w,I,l+1,u,g),E=new M(P,A,0,d,g),R=new M(new Array(0),D,0,h,m)}(),q=!0),e.l_desc=new O(e.dyn_ltree,G),e.d_desc=new O(e.dyn_dtree,E),e.bl_desc=new O(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},n._tr_stored_block=X,n._tr_flush_block=function(e,t,n,r){var a,s,c=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),V(e,e.l_desc),V(e,e.d_desc),c=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*v[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?X(e,t,n,r):4===e.strategy||s===a?(B(e,2+(r?1:0),3),J(e,w,P)):(B(e,4+(r?1:0),3),function(e,t,n,r){var i;for(B(e,t-257,5),B(e,n-1,5),B(e,r-4,4),i=0;i<r;i++)B(e,e.bl_tree[2*v[i]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),J(e,e.dyn_ltree,e.dyn_dtree)),W(e),r&&H(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+l+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){B(e,2,3),L(e,_,w),function(e){16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,o,a=1,s={},c=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return s[a]=i,n(a),a++},u.clearImmediate=d}function d(e){delete s[e]}function h(e){if(c)setTimeout(h,0,e);else{var n=s[e];if(n){c=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),c=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},4231:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t;switch(r(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}n.r(t);var o=function(e,t,n){var r=String(e);return!r||r.length>=t?e:"".concat(Array(t+1-r.length).join(n)).concat(e)},a=function(e){var t=Math.abs(e),n=Math.floor(t/60),r=t%60;return"".concat(e<=0?"+":"-").concat(o(n,2,"0"),":").concat(o(r,2,"0"))};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=(new Date).getTimezoneOffset(),l=Date.prototype;function u(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:c))}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-u(n)),this.$timezoneOffset=n}var t,n,r;return t=e,(n=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+u(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&s(t.prototype,n),r&&s(t,r),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach((function(e){d.prototype[e]=function(){return l[e].apply(this.$d,arguments)}})),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach((function(e){d.prototype[e]=function(){return l[e].apply(new Date(this.$d.getTime()+u(this.$timezoneOffset)),arguments)}})),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach((function(e){d.prototype[e]=function(){var t=new Date(this.$d.getTime()+u(this.$timezoneOffset));l[e].apply(t,arguments),t.setTime(t.getTime()-u(this.$timezoneOffset)),this.$d=t}})),["toString","toTimeString"].forEach((function(e){d.prototype[e]=function(){return l[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(a(this.$timezoneOffset)))}}));var h=d,f=!1,g=function(e,t){["clone","add","subtract","startOf"].forEach((function(n){e[n]=function(){var e=this.utcOffset();return t[n].apply(this,arguments).utcOffset(e)}})),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-c)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==i(e)&&(this.$d.setTimezoneOffset(-i(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===c},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,n=this.$d.getTimezoneOffset(),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(i)),this.$d instanceof Date&&(this.$d=new h(this.$d,n)),this},e.parse=function(e){t.parse.call(this,e);var n=this.$d,r="string"==typeof e.date?i(e.date):null;this.$d=new h(n,null===r?c:-r),f&&this.local(),this.init()}};t.default=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;f=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parseToLocal;var n=e.prototype,r=function(){};r.prototype=n;var o=new r;g(o,n),o.constructor=e.constructor,e.prototype=o,t.utc=function(e){var t=this(e);return"string"==typeof e&&null===i(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])},7990:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",c="week",l="month",u="quarter",d="year",h="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},_=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+_(r,2,"0")+":"+_(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),o=n-i<0,a=t.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:s,D:h,h:a,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},S="en",b={};b[S]=m;var I="$isDayjsObject",A=function(e){return e instanceof P||!(!e||!e[I])},D=function e(t,n,r){var i;if(!t)return S;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;b[s]=t,i=s}return!r&&i&&(S=i),i||!r&&S},v=function(e,t){if(A(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new P(n)},w=y;w.l=D,w.i=A,w.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var P=function(){function m(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[I]=!0}var _=m.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(g);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return w},_.isValid=function(){return!(this.$d.toString()===f)},_.isSame=function(e,t){var n=v(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return v(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<v(e)},_.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,r=!!w.u(t)||t,u=w.p(e),f=function(e,t){var i=w.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},g=function(e,t){return w.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,m=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case l:return r?f(1,m):f(0,m+1);case c:var S=this.$locale().weekStart||0,b=(p<S?p+7:p)-S;return f(r?_-b:_+(6-b),m);case s:case h:return g(y+"Hours",0);case a:return g(y+"Minutes",1);case o:return g(y+"Seconds",2);case i:return g(y+"Milliseconds",3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var n,c=w.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[s]=u+"Date",n[h]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],g=c===s?this.$D+(t-this.$W):t;if(c===l||c===d){var p=this.clone().set(h,1);p.$d[f](g),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](g);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[w.p(e)]()},_.add=function(r,u){var h,f=this;r=Number(r);var g=w.p(u),p=function(e){var t=v(f);return w.w(t.date(t.date()+Math.round(e*r)),f)};if(g===l)return this.set(l,this.$M+r);if(g===d)return this.set(d,this.$y+r);if(g===s)return p(1);if(g===c)return p(7);var m=(h={},h[o]=t,h[a]=n,h[i]=e,h)[g]||1,_=this.$d.getTime()+r*m;return w.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=w.z(this),o=this.$H,a=this.$m,s=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return w.s(o%12||12,e,"0")},g=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return s+1;case"MM":return w.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,l,3);case"MMMM":return d(l,s);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return w.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return g(o,a,!0);case"A":return g(o,a,!1);case"m":return String(a);case"mm":return w.s(a,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(r,h,f){var g,p=this,m=w.p(h),_=v(r),y=(_.utcOffset()-this.utcOffset())*t,S=this-_,b=function(){return w.m(p,_)};switch(m){case d:g=b()/12;break;case l:g=b();break;case u:g=b()/3;break;case c:g=(S-y)/6048e5;break;case s:g=(S-y)/864e5;break;case a:g=S/n;break;case o:g=S/t;break;case i:g=S/e;break;default:g=S}return f?g:w.a(g)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return b[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=D(e,t,!0);return r&&(n.$L=r),n},_.clone=function(){return w.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},m}(),F=P.prototype;return v.prototype=F,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",l],["$y",d],["$D",h]].forEach((function(e){F[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),v.extend=function(e,t){return e.$i||(e(t,P,v),e.$i=!0),v},v.locale=D,v.isDayjs=A,v.unix=function(e){return v(1e3*e)},v.en=b[S],v.Ls=b,v.p={},v}()},8990:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function i(e,t,n){var i=r[n];return Array.isArray(i)&&(i=i[t?0:1]),i.replace("%d",e)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i}};return n.default.locale(o,null,!0),o}(n(7990))},4883:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(e){return e+""}};return n.default.locale(r,null,!0),r}(n(7990))},5522:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(r,null,!0),r}(n(7990))},890:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"it",weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+""}};return n.default.locale(r,null,!0),r}(n(7990))},859:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ja",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e){return e+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiem:function(e){return e<12?"":""},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}};return n.default.locale(r,null,!0),r}(n(7990))},5576:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ko",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e){return e+""},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},meridiem:function(e){return e<12?"":""},relativeTime:{future:"%s ",past:"%s ",s:" ",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"}};return n.default.locale(r,null,!0),r}(n(7990))},3765:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return n.default.locale(r,null,!0),r}(n(7990))},1128:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(e,t){var n=100*e+t;return n<600?"":n<900?"":n<1100?"":n<1300?"":n<1800?"":""}};return n.default.locale(r,null,!0),r}(n(7990))},7074:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-hk",months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return n.default.locale(r,null,!0),r}(n(7990))},579:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-tw",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(e,t){var n=100*e+t;return n<600?"":n<900?"":n<1100?"":n<1300?"":n<1800?"":""}};return n.default.locale(r,null,!0),r}(n(7990))},1434:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var i=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return i.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return i.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return i.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(o)}}}()},8366:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var a=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},a.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var c=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var l=a.utcOffset;a.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?l.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,s=this;if(i)return s.$offset=a,s.$u=0===r,s;if(0!==r){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+c,e)).$offset=a,s.$x.$localOffset=c}else s=this.utc();return s};var u=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var d=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return h.call(this,e,t,n);var r=this.local(),i=o(e).local();return h.call(r,i,t,n)}}}()},509:function(e,t,n){"use strict";var r=n(9985),i=n(3691),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},2655:function(e,t,n){"use strict";var r=n(9429),i=n(3691),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},3550:function(e,t,n){"use strict";var r=n(9985),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},7370:function(e,t,n){"use strict";var r=n(4201),i=n(5391),o=n(2560).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},1514:function(e,t,n){"use strict";var r=n(730).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},767:function(e,t,n){"use strict";var r=n(3622),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},5027:function(e,t,n){"use strict";var r=n(8999),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},7075:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4872:function(e,t,n){"use strict";var r,i,o,a=n(7075),s=n(7697),c=n(9037),l=n(9985),u=n(8999),d=n(6812),h=n(926),f=n(3691),g=n(5773),p=n(1880),m=n(2148),_=n(3622),y=n(1868),S=n(9385),b=n(4201),I=n(4630),A=n(618),D=A.enforce,v=A.get,w=c.Int8Array,P=w&&w.prototype,F=c.Uint8ClampedArray,T=F&&F.prototype,C=w&&y(w),G=P&&y(P),E=Object.prototype,R=c.TypeError,x=b("toStringTag"),M=I("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",N=a&&!!S&&"Opera"!==h(c.opera),k=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},j=function(e){var t=y(e);if(u(t)){var n=v(t);return n&&d(n,O)?n[O]:j(t)}},U=function(e){if(!u(e))return!1;var t=h(e);return d(B,t)||d(L,t)};for(r in B)(o=(i=c[r])&&i.prototype)?D(o)[O]=i:N=!1;for(r in L)(o=(i=c[r])&&i.prototype)&&(D(o)[O]=i);if((!N||!l(C)||C===Function.prototype)&&(C=function(){throw new R("Incorrect invocation")},N))for(r in B)c[r]&&S(c[r],C);if((!N||!G||G===E)&&(G=C.prototype,N))for(r in B)c[r]&&S(c[r].prototype,G);if(N&&y(T)!==G&&S(T,G),s&&!d(G,x))for(r in k=!0,m(G,x,{configurable:!0,get:function(){return u(this)?this[M]:void 0}}),B)c[r]&&g(c[r],M,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:k&&M,aTypedArray:function(e){if(U(e))return e;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!S||_(C,e)))return e;throw new R(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in B){var o=c[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}G[e]&&!n||p(G,e,n?t:N&&P[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(S){if(n)for(r in B)if((i=c[r])&&d(i,e))try{delete i[e]}catch(e){}if(C[e]&&!n)return;try{return p(C,e,n?t:N&&C[e]||t)}catch(e){}}for(r in B)!(i=c[r])||i[e]&&!n||p(i,e,t)}},getTypedArrayConstructor:j,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(B,t)||d(L,t)},isTypedArray:U,TypedArray:C,TypedArrayPrototype:G}},1055:function(e,t,n){"use strict";var r=n(4071),i=n(2615),o=n(690),a=n(1228),s=n(3292),c=n(9429),l=n(6310),u=n(6522),d=n(5185),h=n(1664),f=Array;e.exports=function(e){var t=o(e),n=c(this),g=arguments.length,p=g>1?arguments[1]:void 0,m=void 0!==p;m&&(p=r(p,g>2?arguments[2]:void 0));var _,y,S,b,I,A,D=h(t),v=0;if(!D||this===f&&s(D))for(_=l(t),y=n?new this(_):f(_);_>v;v++)A=m?p(t[v],v):t[v],u(y,v,A);else for(I=(b=d(t,D)).next,y=n?new this:[];!(S=i(I,b)).done;v++)A=m?a(b,p,[S.value,v],!0):S.value,u(y,v,A);return y.length=v,y}},4328:function(e,t,n){"use strict";var r=n(5290),i=n(7578),o=n(6310),a=function(e){return function(t,n,a){var s,c=r(t),l=o(c),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6834:function(e,t,n){"use strict";var r=n(3689);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},8820:function(e,t,n){"use strict";var r=n(509),i=n(690),o=n(4413),a=n(6310),s=TypeError,c=function(e){return function(t,n,c,l){r(n);var u=i(t),d=o(u),h=a(u),f=e?h-1:0,g=e?-1:1;if(c<2)for(;;){if(f in d){l=d[f],f+=g;break}if(f+=g,e?f<0:h<=f)throw new s("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=g)f in d&&(l=n(l,d[f],f,u));return l}};e.exports={left:c(!1),right:c(!0)}},9015:function(e,t,n){"use strict";var r=n(7578),i=n(6310),o=n(6522),a=Array,s=Math.max;e.exports=function(e,t,n){for(var c=i(e),l=r(t,c),u=r(void 0===n?c:n,c),d=a(s(u-l,0)),h=0;l<u;l++,h++)o(d,h,e[l]);return d.length=h,d}},6004:function(e,t,n){"use strict";var r=n(8844);e.exports=r([].slice)},382:function(e,t,n){"use strict";var r=n(9015),i=Math.floor,o=function(e,t){var n=e.length,c=i(n/2);return n<8?a(e,t):s(e,o(r(e,0,c),t),o(r(e,c),t),t)},a=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=o},5271:function(e,t,n){"use strict";var r=n(2297),i=n(9429),o=n(8999),a=n(4201)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},7120:function(e,t,n){"use strict";var r=n(5271);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1228:function(e,t,n){"use strict";var r=n(5027),i=n(2125);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},6431:function(e,t,n){"use strict";var r=n(4201)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},6648:function(e,t,n){"use strict";var r=n(8844),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},926:function(e,t,n){"use strict";var r=n(3043),i=n(9985),o=n(6648),a=n(4201)("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:c?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},8758:function(e,t,n){"use strict";var r=n(6812),i=n(9152),o=n(2474),a=n(2560);e.exports=function(e,t,n){for(var s=i(t),c=a.f,l=o.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},1748:function(e,t,n){"use strict";var r=n(3689);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7807:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},5773:function(e,t,n){"use strict";var r=n(7697),i=n(2560),o=n(5684);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5684:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6522:function(e,t,n){"use strict";var r=n(8360),i=n(2560),o=n(5684);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},2148:function(e,t,n){"use strict";var r=n(8702),i=n(2560);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},1880:function(e,t,n){"use strict";var r=n(9985),i=n(2560),o=n(8702),a=n(5014);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(r(n)&&o(n,l,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6045:function(e,t,n){"use strict";var r=n(1880);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},5014:function(e,t,n){"use strict";var r=n(9037),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},8494:function(e,t,n){"use strict";var r=n(3691),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},7697:function(e,t,n){"use strict";var r=n(3689);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(e){"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},6420:function(e,t,n){"use strict";var r=n(9037),i=n(8999),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},5565:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},6338:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(e,t,n){"use strict";var r=n(6420)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},7365:function(e,t,n){"use strict";var r=n(71).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},2532:function(e,t,n){"use strict";var r=n(8563),i=n(806);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},8563:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:function(e,t,n){"use strict";var r=n(71);e.exports=/MSIE|Trident/.test(r)},3221:function(e,t,n){"use strict";var r=n(71);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4764:function(e,t,n){"use strict";var r=n(71);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},806:function(e,t,n){"use strict";var r=n(9037),i=n(6648);e.exports="process"===i(r.process)},7486:function(e,t,n){"use strict";var r=n(71);e.exports=/web0s(?!.*chrome)/i.test(r)},71:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,n){"use strict";var r,i,o=n(9037),a=n(71),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},7922:function(e,t,n){"use strict";var r=n(71).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},2739:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,n){"use strict";var r=n(9037),i=n(2474).f,o=n(5773),a=n(1880),s=n(5014),c=n(8758),l=n(5266);e.exports=function(e,t){var n,u,d,h,f,g=e.target,p=e.global,m=e.stat;if(n=p?r:m?r[g]||s(g,{}):(r[g]||{}).prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(f=i(n,u))&&f.value:n[u],!l(p?u:g+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(n,u,h,e)}}},3689:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},8678:function(e,t,n){"use strict";n(4043);var r=n(6576),i=n(1880),o=n(6308),a=n(3689),s=n(4201),c=n(5773),l=s("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var h=s(e),f=!a((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),g=f&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!f||!g||n){var p=r(/./[h]),m=t(h,""[e],(function(e,t,n,i,a){var s=r(e),c=t.exec;return c===o||c===u.exec?f&&!a?{done:!0,value:p(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(u,h,m[1])}d&&c(u[h],"sham",!0)}},7809:function(e,t,n){"use strict";var r=n(2297),i=n(6310),o=n(5565),a=n(4071),s=function(e,t,n,c,l,u,d,h){for(var f,g,p=l,m=0,_=!!d&&a(d,h);m<c;)m in n&&(f=_?_(n[m],m,t):n[m],u>0&&r(f)?(g=i(f),p=s(e,t,f,g,p,u-1)-1):(o(p+1),e[p]=f),p++),m++;return p};e.exports=s},1735:function(e,t,n){"use strict";var r=n(7215),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},4071:function(e,t,n){"use strict";var r=n(6576),i=n(509),o=n(7215),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},7215:function(e,t,n){"use strict";var r=n(3689);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:function(e,t,n){"use strict";var r=n(7215),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(e,t,n){"use strict";var r=n(7697),i=n(6812),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},2743:function(e,t,n){"use strict";var r=n(8844),i=n(509);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6576:function(e,t,n){"use strict";var r=n(6648),i=n(8844);e.exports=function(e){if("Function"===r(e))return i(e)}},8844:function(e,t,n){"use strict";var r=n(7215),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},6058:function(e,t,n){"use strict";var r=n(9037),i=n(9985);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},1664:function(e,t,n){"use strict";var r=n(926),i=n(4849),o=n(981),a=n(9478),s=n(4201)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},5185:function(e,t,n){"use strict";var r=n(2615),i=n(509),o=n(5027),a=n(3691),s=n(1664),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw new c(a(e)+" is not iterable")}},4849:function(e,t,n){"use strict";var r=n(509),i=n(981);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},7017:function(e,t,n){"use strict";var r=n(8844),i=n(690),o=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,h){var f=n+e.length,g=r.length,p=u;return void 0!==d&&(d=i(d),p=l),s(h,p,(function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,f);case"<":l=d[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>g){var h=o(u/10);return 0===h?i:h<=g?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):i}l=r[u-1]}return void 0===l?"":l}))}},9037:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(e,t,n){"use strict";var r=n(8844),i=n(690),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7248:function(e){"use strict";e.exports={}},920:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2688:function(e,t,n){"use strict";var r=n(6058);e.exports=r("document","documentElement")},8506:function(e,t,n){"use strict";var r=n(7697),i=n(3689),o=n(6420);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(e,t,n){"use strict";var r=n(8844),i=n(3689),o=n(6648),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},3457:function(e,t,n){"use strict";var r=n(9985),i=n(8999),o=n(9385);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},6738:function(e,t,n){"use strict";var r=n(8844),i=n(9985),o=n(4091),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},618:function(e,t,n){"use strict";var r,i,o,a=n(9834),s=n(9037),c=n(8999),l=n(5773),u=n(6812),d=n(4091),h=n(2713),f=n(7248),g="Object already initialized",p=s.TypeError,m=s.WeakMap;if(a||d.state){var _=d.state||(d.state=new m);_.get=_.get,_.has=_.has,_.set=_.set,r=function(e,t){if(_.has(e))throw new p(g);return t.facade=e,_.set(e,t),t},i=function(e){return _.get(e)||{}},o=function(e){return _.has(e)}}else{var y=h("state");f[y]=!0,r=function(e,t){if(u(e,y))throw new p(g);return t.facade=e,l(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},o=function(e){return u(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}}}},3292:function(e,t,n){"use strict";var r=n(4201),i=n(9478),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},2297:function(e,t,n){"use strict";var r=n(6648);e.exports=Array.isArray||function(e){return"Array"===r(e)}},9985:function(e,t,n){"use strict";var r=n(2659),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},9429:function(e,t,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),a=n(926),s=n(6058),c=n(6738),l=function(){},u=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),g=!h.test(l),p=function(e){if(!o(e))return!1;try{return d(l,u,e),!0}catch(e){return!1}},m=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!f(h,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?m:p},5266:function(e,t,n){"use strict";var r=n(3689),i=n(9985),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n===u||n!==l&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},981:function(e){"use strict";e.exports=function(e){return null==e}},8999:function(e,t,n){"use strict";var r=n(9985),i=n(2659),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},3931:function(e){"use strict";e.exports=!1},1245:function(e,t,n){"use strict";var r=n(8999),i=n(6648),o=n(4201)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},734:function(e,t,n){"use strict";var r=n(6058),i=n(9985),o=n(3622),a=n(9525),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},8734:function(e,t,n){"use strict";var r=n(4071),i=n(2615),o=n(5027),a=n(3691),s=n(3292),c=n(6310),l=n(3622),u=n(5185),d=n(1664),h=n(2125),f=TypeError,g=function(e,t){this.stopped=e,this.result=t},p=g.prototype;e.exports=function(e,t,n){var m,_,y,S,b,I,A,D=n&&n.that,v=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_RECORD),P=!(!n||!n.IS_ITERATOR),F=!(!n||!n.INTERRUPTED),T=r(t,D),C=function(e){return m&&h(m,"normal",e),new g(!0,e)},G=function(e){return v?(o(e),F?T(e[0],e[1],C):T(e[0],e[1])):F?T(e,C):T(e)};if(w)m=e.iterator;else if(P)m=e;else{if(!(_=d(e)))throw new f(a(e)+" is not iterable");if(s(_)){for(y=0,S=c(e);S>y;y++)if((b=G(e[y]))&&l(p,b))return b;return new g(!1)}m=u(e,_)}for(I=w?e.next:m.next;!(A=i(I,m)).done;){try{b=G(A.value)}catch(e){h(m,"throw",e)}if("object"==typeof b&&b&&l(p,b))return b}return new g(!1)}},2125:function(e,t,n){"use strict";var r=n(2615),i=n(5027),o=n(4849);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},974:function(e,t,n){"use strict";var r=n(2013).IteratorPrototype,i=n(5391),o=n(5684),a=n(5997),s=n(9478),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!l,n)}),a(e,u,!1,!0),s[u]=c,e}},1934:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(3931),a=n(1236),s=n(9985),c=n(974),l=n(1868),u=n(9385),d=n(5997),h=n(5773),f=n(1880),g=n(4201),p=n(9478),m=n(2013),_=a.PROPER,y=a.CONFIGURABLE,S=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,I=g("iterator"),A="keys",D="values",v="entries",w=function(){return this};e.exports=function(e,t,n,a,g,m,P){c(n,t,a);var F,T,C,G=function(e){if(e===g&&O)return O;if(!b&&e&&e in x)return x[e];switch(e){case A:case D:case v:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",R=!1,x=e.prototype,M=x[I]||x["@@iterator"]||g&&x[g],O=!b&&M||G(g),N="Array"===t&&x.entries||M;if(N&&(F=l(N.call(new e)))!==Object.prototype&&F.next&&(o||l(F)===S||(u?u(F,S):s(F[I])||f(F,I,w)),d(F,E,!0,!0),o&&(p[E]=w)),_&&g===D&&M&&M.name!==D&&(!o&&y?h(x,"name",D):(R=!0,O=function(){return i(M,this)})),g)if(T={values:G(D),keys:m?O:G(A),entries:G(v)},P)for(C in T)(b||R||!(C in x))&&f(x,C,T[C]);else r({target:t,proto:!0,forced:b||R},T);return o&&!P||x[I]===O||f(x,I,O,{name:g}),p[t]=O,T}},2013:function(e,t,n){"use strict";var r,i,o,a=n(3689),s=n(9985),c=n(8999),l=n(5391),u=n(1868),d=n(1880),h=n(4201),f=n(3931),g=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):p=!0),!c(r)||a((function(){var e={};return r[g].call(e)!==e}))?r={}:f&&(r=l(r)),s(r[g])||d(r,g,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},9478:function(e){"use strict";e.exports={}},6310:function(e,t,n){"use strict";var r=n(3126);e.exports=function(e){return r(e.length)}},8702:function(e,t,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),a=n(6812),s=n(7697),c=n(1236).CONFIGURABLE,l=n(6738),u=n(618),d=u.enforce,h=u.get,f=String,g=Object.defineProperty,p=r("".slice),m=r("".replace),_=r([].join),y=s&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),S=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===p(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?g(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&g(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=_(S,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return o(this)&&h(this).source||l(this)}),"toString")},8828:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},231:function(e,t,n){"use strict";var r,i,o,a,s,c=n(9037),l=n(4071),u=n(2474).f,d=n(9886).set,h=n(4410),f=n(4764),g=n(3221),p=n(7486),m=n(806),_=c.MutationObserver||c.WebKitMutationObserver,y=c.document,S=c.process,b=c.Promise,I=u(c,"queueMicrotask"),A=I&&I.value;if(!A){var D=new h,v=function(){var e,t;for(m&&(e=S.domain)&&e.exit();t=D.get();)try{t()}catch(e){throw D.head&&r(),e}e&&e.enter()};f||m||p||!_||!y?!g&&b&&b.resolve?((a=b.resolve(void 0)).constructor=b,s=l(a.then,a),r=function(){s(v)}):m?r=function(){S.nextTick(v)}:(d=l(d,c),r=function(){d(v)}):(i=!0,o=y.createTextNode(""),new _(v).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),A=function(e){D.head||r(),D.add(e)}}e.exports=A},8742:function(e,t,n){"use strict";var r=n(509),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},5394:function(e,t,n){"use strict";var r=n(7697),i=n(8844),o=n(2615),a=n(3689),s=n(300),c=n(7518),l=n(9556),u=n(690),d=n(4413),h=Object.assign,f=Object.defineProperty,g=i([].concat);e.exports=!h||a((function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==h({},e)[n]||s(h({},t)).join("")!==i}))?function(e,t){for(var n=u(e),i=arguments.length,a=1,h=c.f,f=l.f;i>a;)for(var p,m=d(arguments[a++]),_=h?g(s(m),h(m)):s(m),y=_.length,S=0;y>S;)p=_[S++],r&&!o(f,m,p)||(n[p]=m[p]);return n}:h},5391:function(e,t,n){"use strict";var r,i=n(5027),o=n(8920),a=n(2739),s=n(7248),c=n(2688),l=n(6420),u=n(2713),d="prototype",h="script",f=u("IE_PROTO"),g=function(){},p=function(e){return"<"+h+">"+e+"</"+h+">"},m=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;_="undefined"!=typeof document?document.domain&&r?m(r):(t=l("iframe"),n="java"+h+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):m(r);for(var i=a.length;i--;)delete _[d][a[i]];return _()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[d]=i(e),n=new g,g[d]=null,n[f]=e):n=_(),void 0===t?n:o.f(n,t)}},8920:function(e,t,n){"use strict";var r=n(7697),i=n(5648),o=n(2560),a=n(5027),s=n(5290),c=n(300);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),l=i.length,u=0;l>u;)o.f(e,n=i[u++],r[n]);return e}},2560:function(e,t,n){"use strict";var r=n(7697),i=n(8506),o=n(5648),a=n(5027),s=n(8360),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2474:function(e,t,n){"use strict";var r=n(7697),i=n(2615),o=n(9556),a=n(5684),s=n(5290),c=n(8360),l=n(6812),u=n(8506),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return a(!i(o.f,e,t),e[t])}},2741:function(e,t,n){"use strict";var r=n(4948),i=n(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},7518:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},1868:function(e,t,n){"use strict";var r=n(6812),i=n(9985),o=n(690),a=n(2713),s=n(1748),c=a("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},3622:function(e,t,n){"use strict";var r=n(8844);e.exports=r({}.isPrototypeOf)},4948:function(e,t,n){"use strict";var r=n(8844),i=n(6812),o=n(5290),a=n(4328).indexOf,s=n(7248),c=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&c(u,n);for(;t.length>l;)i(r,n=t[l++])&&(~a(u,n)||c(u,n));return u}},300:function(e,t,n){"use strict";var r=n(4948),i=n(2739);e.exports=Object.keys||function(e){return r(e,i)}},9556:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},9385:function(e,t,n){"use strict";var r=n(2743),i=n(5027),o=n(3550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},5899:function(e,t,n){"use strict";var r=n(2615),i=n(9985),o=n(8999),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},9152:function(e,t,n){"use strict";var r=n(6058),i=n(8844),o=n(2741),a=n(7518),s=n(5027),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},9302:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7073:function(e,t,n){"use strict";var r=n(9037),i=n(7919),o=n(9985),a=n(5266),s=n(6738),c=n(4201),l=n(2532),u=n(8563),d=n(3931),h=n(3615),f=i&&i.prototype,g=c("species"),p=!1,m=o(r.PromiseRejectionEvent),_=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===h)return!0;if(d&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[g]=r,!(p=n.then((function(){}))instanceof r))return!0}return!t&&(l||u)&&!m}));e.exports={CONSTRUCTOR:_,REJECTION_EVENT:m,SUBCLASSING:p}},7919:function(e,t,n){"use strict";var r=n(9037);e.exports=r.Promise},2945:function(e,t,n){"use strict";var r=n(5027),i=n(8999),o=n(8742);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},562:function(e,t,n){"use strict";var r=n(7919),i=n(6431),o=n(7073).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},8055:function(e,t,n){"use strict";var r=n(2560).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},4410:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},6100:function(e,t,n){"use strict";var r=n(2615),i=n(5027),o=n(9985),a=n(6648),s=n(6308),c=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var l=r(n,e,t);return null!==l&&i(l),l}if("RegExp"===a(e))return r(s,e,t);throw new c("RegExp#exec called on incompatible receiver")}},6308:function(e,t,n){"use strict";var r,i,o=n(2615),a=n(8844),s=n(4327),c=n(9633),l=n(7901),u=n(3430),d=n(5391),h=n(618).get,f=n(2100),g=n(6422),p=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,_=m,y=a("".charAt),S=a("".indexOf),b=a("".replace),I=a("".slice),A=(i=/b*/g,o(m,r=/a/,"a"),o(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),D=l.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(A||v||D||f||g)&&(_=function(e){var t,n,r,i,a,l,u,f=this,g=h(f),w=s(e),P=g.raw;if(P)return P.lastIndex=f.lastIndex,t=o(_,P,w),f.lastIndex=P.lastIndex,t;var F=g.groups,T=D&&f.sticky,C=o(c,f),G=f.source,E=0,R=w;if(T&&(C=b(C,"y",""),-1===S(C,"g")&&(C+="g"),R=I(w,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(w,f.lastIndex-1))&&(G="(?: "+G+")",R=" "+R,E++),n=new RegExp("^(?:"+G+")",C)),v&&(n=new RegExp("^"+G+"$(?!\\s)",C)),A&&(r=f.lastIndex),i=o(m,T?n:f,R),T?i?(i.input=I(i.input,E),i[0]=I(i[0],E),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:A&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),v&&i&&i.length>1&&o(p,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&F)for(i.groups=l=d(null),a=0;a<F.length;a++)l[(u=F[a])[0]]=i[u[1]];return i}),e.exports=_},9633:function(e,t,n){"use strict";var r=n(5027);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3477:function(e,t,n){"use strict";var r=n(2615),i=n(6812),o=n(3622),a=n(9633),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},7901:function(e,t,n){"use strict";var r=n(3689),i=n(9037).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},2100:function(e,t,n){"use strict";var r=n(3689),i=n(9037).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},6422:function(e,t,n){"use strict";var r=n(3689),i=n(9037).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4684:function(e,t,n){"use strict";var r=n(981),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},4241:function(e,t,n){"use strict";var r=n(6058),i=n(2148),o=n(4201),a=n(7697),s=o("species");e.exports=function(e){var t=r(e);a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},5997:function(e,t,n){"use strict";var r=n(2560).f,i=n(6812),o=n(4201)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},2713:function(e,t,n){"use strict";var r=n(3430),i=n(4630),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},4091:function(e,t,n){"use strict";var r=n(9037),i=n(5014),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},3430:function(e,t,n){"use strict";var r=n(3931),i=n(4091);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.3",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(e,t,n){"use strict";var r=n(5027),i=n(2655),o=n(981),a=n(4201)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},730:function(e,t,n){"use strict";var r=n(8844),i=n(8700),o=n(4327),a=n(4684),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,d=o(a(t)),h=i(n),f=d.length;return h<0||h>=f?e?"":void 0:(r=c(d,h))<55296||r>56319||h+1===f||(u=c(d,h+1))<56320||u>57343?e?s(d,h):r:e?l(d,h,h+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},6430:function(e,t,n){"use strict";var r=n(8844),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=RangeError,l=r(a.exec),u=Math.floor,d=String.fromCharCode,h=r("".charCodeAt),f=r([].join),g=r([].push),p=r("".replace),m=r("".split),_=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},S=function(e,t,n){var r=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),r+=36;return u(r+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=h(e,n++);if(i>=55296&&i<=56319&&n<r){var o=h(e,n++);56320==(64512&o)?g(t,((1023&i)<<10)+(1023&o)+65536):(g(t,i),n--)}else g(t,i)}return t}(e);var n,r,o=e.length,a=128,l=0,p=72;for(n=0;n<e.length;n++)(r=e[n])<128&&g(t,d(r));var m=t.length,_=m;for(m&&g(t,"-");_<o;){var b=i;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<b&&(b=r);var I=_+1;if(b-a>u((i-l)/I))throw new c(s);for(l+=(b-a)*I,a=b,n=0;n<e.length;n++){if((r=e[n])<a&&++l>i)throw new c(s);if(r===a){for(var A=l,D=36;;){var v=D<=p?1:D>=p+26?26:D-p;if(A<v)break;var w=A-v,P=36-v;g(t,d(y(v+w%P))),A=u(w/P),D+=36}g(t,d(y(A))),p=S(l,I,_===m),l=0,_++}}l++,a++}return f(t,"")};e.exports=function(e){var t,n,r=[],i=m(p(_(e),a,"."),".");for(t=0;t<i.length;t++)n=i[t],g(r,l(o,n)?"xn--"+b(n):n);return f(r,".")}},9558:function(e,t,n){"use strict";var r=n(1435).end,i=n(5984);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},5984:function(e,t,n){"use strict";var r=n(1236).PROPER,i=n(3689),o=n(6350);e.exports=function(e){return i((function(){return!!o[e]()||""!==""[e]()||r&&o[e].name!==e}))}},1435:function(e,t,n){"use strict";var r=n(8844),i=n(4684),o=n(4327),a=n(6350),s=r("".replace),c=RegExp("^["+a+"]+"),l=RegExp("(^|[^"+a+"])["+a+"]+$"),u=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"$1")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},146:function(e,t,n){"use strict";var r=n(3615),i=n(3689),o=n(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9886:function(e,t,n){"use strict";var r,i,o,a,s=n(9037),c=n(1735),l=n(4071),u=n(9985),d=n(6812),h=n(3689),f=n(2688),g=n(6004),p=n(6420),m=n(1500),_=n(4764),y=n(806),S=s.setImmediate,b=s.clearImmediate,I=s.process,A=s.Dispatch,D=s.Function,v=s.MessageChannel,w=s.String,P=0,F={},T="onreadystatechange";h((function(){r=s.location}));var C=function(e){if(d(F,e)){var t=F[e];delete F[e],t()}},G=function(e){return function(){C(e)}},E=function(e){C(e.data)},R=function(e){s.postMessage(w(e),r.protocol+"//"+r.host)};S&&b||(S=function(e){m(arguments.length,1);var t=u(e)?e:D(e),n=g(arguments,1);return F[++P]=function(){c(t,void 0,n)},i(P),P},b=function(e){delete F[e]},y?i=function(e){I.nextTick(G(e))}:A&&A.now?i=function(e){A.now(G(e))}:v&&!_?(a=(o=new v).port2,o.port1.onmessage=E,i=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(R)?(i=R,s.addEventListener("message",E,!1)):i=T in p("script")?function(e){f.appendChild(p("script"))[T]=function(){f.removeChild(this),C(e)}}:function(e){setTimeout(G(e),0)}),e.exports={set:S,clear:b}},7578:function(e,t,n){"use strict";var r=n(8700),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5290:function(e,t,n){"use strict";var r=n(4413),i=n(4684);e.exports=function(e){return r(i(e))}},8700:function(e,t,n){"use strict";var r=n(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},3126:function(e,t,n){"use strict";var r=n(8700),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},690:function(e,t,n){"use strict";var r=n(4684),i=Object;e.exports=function(e){return i(r(e))}},3250:function(e,t,n){"use strict";var r=n(5904),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},5904:function(e,t,n){"use strict";var r=n(8700),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},8732:function(e,t,n){"use strict";var r=n(2615),i=n(8999),o=n(734),a=n(4849),s=n(5899),c=n(4201),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=a(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},8360:function(e,t,n){"use strict";var r=n(8732),i=n(734);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},3043:function(e,t,n){"use strict";var r={};r[n(4201)("toStringTag")]="z",e.exports="[object z]"===String(r)},4327:function(e,t,n){"use strict";var r=n(926),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},3691:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:function(e,t,n){"use strict";var r=n(8844),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},6837:function(e,t,n){"use strict";var r=n(3689),i=n(4201),o=n(7697),a=n(3931),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),a&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(a||!o)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},9525:function(e,t,n){"use strict";var r=n(146);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,n){"use strict";var r=n(7697),i=n(3689);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},9834:function(e,t,n){"use strict";var r=n(9037),i=n(9985),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},4201:function(e,t,n){"use strict";var r=n(9037),i=n(3430),o=n(6812),a=n(4630),s=n(146),c=n(9525),l=r.Symbol,u=i("wks"),d=c?l.for||l:l&&l.withoutSetter||a;e.exports=function(e){return o(u,e)||(u[e]=s&&o(l,e)?l[e]:d("Symbol."+e)),u[e]}},6350:function(e){"use strict";e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},4564:function(e,t,n){"use strict";var r=n(9989),i=n(7809),o=n(509),a=n(690),s=n(6310),c=n(7120);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=s(n);return o(e),(t=c(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},752:function(e,t,n){"use strict";var r=n(5290),i=n(7370),o=n(9478),a=n(618),s=n(2560).f,c=n(1934),l=n(7807),u=n(3931),d=n(7697),h="Array Iterator",f=a.set,g=a.getterFor(h);e.exports=c(Array,"Array",(function(e,t){f(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=g(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,l(void 0,!0);switch(e.kind){case"keys":return l(n,!1);case"values":return l(t[n],!1)}return l([n,t[n]],!1)}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},1386:function(e,t,n){"use strict";var r=n(9989),i=n(8820).right,o=n(6834),a=n(3615);r({target:"Array",proto:!0,forced:!n(806)&&a>79&&a<83||!o("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},278:function(e,t,n){"use strict";var r=n(9989),i=n(8820).left,o=n(6834),a=n(3615);r({target:"Array",proto:!0,forced:!n(806)&&a>79&&a<83||!o("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},5137:function(e,t,n){"use strict";var r=n(9989),i=n(8844),o=n(509),a=n(690),s=n(6310),c=n(8494),l=n(4327),u=n(3689),d=n(382),h=n(6834),f=n(7365),g=n(7298),p=n(3615),m=n(7922),_=[],y=i(_.sort),S=i(_.push),b=u((function(){_.sort(void 0)})),I=u((function(){_.sort(null)})),A=h("sort"),D=!u((function(){if(p)return p<70;if(!(f&&f>3)){if(g)return!0;if(m)return m<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)_.push({k:t+r,v:n})}for(_.sort((function(e,t){return t.v-e.v})),r=0;r<_.length;r++)t=_[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!I||!A||!D},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(D)return void 0===e?y(t):y(t,e);var n,r,i=[],u=s(t);for(r=0;r<u;r++)r in t&&S(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<u;)c(t,r++);return t}})},385:function(e,t,n){"use strict";n(7370)("flatMap")},5398:function(e,t,n){"use strict";var r=n(9989),i=n(9037);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},1692:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(509),a=n(8742),s=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=o(t.resolve),a=[],s=0,u=1;c(e,(function(e){var o=s++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,a[o]=e,--u||r(a))}),l)})),--u||r(a)}));return u.error&&l(u.value),n.promise}})},5089:function(e,t,n){"use strict";var r=n(9989),i=n(3931),o=n(7073).CONSTRUCTOR,a=n(7919),s=n(6058),c=n(9985),l=n(1880),u=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(a)){var d=s("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},6697:function(e,t,n){"use strict";var r,i,o,a=n(9989),s=n(3931),c=n(806),l=n(9037),u=n(2615),d=n(1880),h=n(9385),f=n(5997),g=n(4241),p=n(509),m=n(9985),_=n(8999),y=n(767),S=n(6373),b=n(9886).set,I=n(231),A=n(920),D=n(9302),v=n(4410),w=n(618),P=n(7919),F=n(7073),T=n(8742),C="Promise",G=F.CONSTRUCTOR,E=F.REJECTION_EVENT,R=F.SUBCLASSING,x=w.getterFor(C),M=w.set,O=P&&P.prototype,N=P,k=O,B=l.TypeError,L=l.document,j=l.process,U=T.f,W=U,H=!!(L&&L.createEvent&&l.dispatchEvent),z="unhandledrejection",K=function(e){var t;return!(!_(e)||!m(t=e.then))&&t},J=function(e,t){var n,r,i,o=t.value,a=1===t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&X(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),i=!0)),n===e.promise?l(new B("Promise-chain cycle")):(r=K(n))?u(r,n,c,l):c(n)):l(o)}catch(e){d&&!i&&d.exit(),l(e)}},V=function(e,t){e.notified||(e.notified=!0,I((function(){for(var n,r=e.reactions;n=r.get();)J(n,e);e.notified=!1,t&&!e.rejection&&Z(e)})))},Y=function(e,t,n){var r,i;H?((r=L.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!E&&(i=l["on"+e])?i(r):e===z&&A("Unhandled promise rejection",n)},Z=function(e){u(b,l,(function(){var t,n=e.facade,r=e.value;if(q(e)&&(t=D((function(){c?j.emit("unhandledRejection",r,n):Y(z,n,r)})),e.rejection=c||q(e)?2:1,t.error))throw t.value}))},q=function(e){return 1!==e.rejection&&!e.parent},X=function(e){u(b,l,(function(){var t=e.facade;c?j.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,V(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new B("Promise can't be resolved itself");var r=K(t);r?I((function(){var n={done:!1};try{u(r,t,Q(ee,n,e),Q($,n,e))}catch(t){$(n,t,e)}})):(e.value=t,e.state=1,V(e,!1))}catch(t){$({done:!1},t,e)}}};if(G&&(k=(N=function(e){y(this,k),p(e),u(r,this);var t=x(this);try{e(Q(ee,t),Q($,t))}catch(e){$(t,e)}}).prototype,(r=function(e){M(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new v,rejection:!1,state:0,value:void 0})}).prototype=d(k,"then",(function(e,t){var n=x(this),r=U(S(this,N));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=c?j.domain:void 0,0===n.state?n.reactions.add(r):I((function(){J(r,n)})),r.promise})),i=function(){var e=new r,t=x(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q($,t)},T.f=U=function(e){return e===N||undefined===e?new i(e):W(e)},!s&&m(P)&&O!==Object.prototype)){o=O.then,R||d(O,"then",(function(e,t){var n=this;return new N((function(e,t){u(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete O.constructor}catch(e){}h&&h(O,k)}a({global:!0,constructor:!0,wrap:!0,forced:G},{Promise:N}),f(N,C,!1,!0),g(C)},6409:function(e,t,n){"use strict";var r=n(9989),i=n(3931),o=n(7919),a=n(3689),s=n(6058),c=n(9985),l=n(6373),u=n(2945),d=n(1880),h=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),n=c(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&c(o)){var f=s("Promise").prototype.finally;h.finally!==f&&d(h,"finally",f,{unsafe:!0})}},3964:function(e,t,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(509),a=n(8742),s=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{race:function(e){var t=this,n=a.f(t),r=n.reject,l=s((function(){var a=o(t.resolve);c(e,(function(e){i(a,t,e).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},2092:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(8742);r({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},7905:function(e,t,n){"use strict";var r=n(9989),i=n(6058),o=n(3931),a=n(7919),s=n(7073).CONSTRUCTOR,c=n(2945),l=i("Promise"),u=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return c(u&&this===l?a:this,e)}})},2003:function(e,t,n){"use strict";var r=n(7697),i=n(9037),o=n(8844),a=n(5266),s=n(3457),c=n(5773),l=n(2741).f,u=n(3622),d=n(1245),h=n(4327),f=n(3477),g=n(7901),p=n(8055),m=n(1880),_=n(3689),y=n(6812),S=n(618).enforce,b=n(4241),I=n(4201),A=n(2100),D=n(6422),v=I("match"),w=i.RegExp,P=w.prototype,F=i.SyntaxError,T=o(P.exec),C=o("".charAt),G=o("".replace),E=o("".indexOf),R=o("".slice),x=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,O=/a/g,N=new w(M)!==M,k=g.MISSED_STICKY,B=g.UNSUPPORTED_Y,L=r&&(!N||k||A||D||_((function(){return O[v]=!1,w(M)!==M||w(O)===O||"/a/i"!==String(w(M,"i"))})));if(a("RegExp",L)){for(var j=function(e,t){var n,r,i,o,a,l,g=u(P,this),p=d(e),m=void 0===t,_=[],b=e;if(!g&&p&&m&&e.constructor===j)return e;if((p||u(P,e))&&(e=e.source,m&&(t=f(b))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),b=e,A&&"dotAll"in M&&(r=!!t&&E(t,"s")>-1)&&(t=G(t,/s/g,"")),n=t,k&&"sticky"in M&&(i=!!t&&E(t,"y")>-1)&&B&&(t=G(t,/y/g,"")),D&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,c=!1,l=0,u="";r<=n;r++){if("\\"===(t=C(e,r)))t+=C(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:T(x,R(e,r+1))&&(r+=2,c=!0),i+=t,l++;continue;case">"===t&&c:if(""===u||y(a,u))throw new F("Invalid capture group name");a[u]=!0,o[o.length]=[u,l],c=!1,u="";continue}c?u+=t:i+=t}return[i,o]}(e),e=o[0],_=o[1]),a=s(w(e,t),g?this:P,j),(r||i||_.length)&&(l=S(a),r&&(l.dotAll=!0,l.raw=j(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=C(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+C(e,++r);return i}(e),n)),i&&(l.sticky=!0),_.length&&(l.groups=_)),e!==b)try{c(a,"source",""===b?"(?:)":b)}catch(e){}return a},U=l(w),W=0;U.length>W;)p(j,w,U[W++]);P.constructor=j,j.prototype=P,m(i,"RegExp",j,{constructor:!0})}b("RegExp")},4043:function(e,t,n){"use strict";var r=n(9989),i=n(6308);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},5847:function(e,t,n){"use strict";var r=n(9037),i=n(7697),o=n(2148),a=n(9633),s=n(3689),c=r.RegExp,l=c.prototype;i&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==r||n!==r}))&&o(l,"flags",{configurable:!0,get:a})},1694:function(e,t,n){"use strict";var r=n(730).charAt,i=n(4327),o=n(618),a=n(1934),s=n(7807),c="String Iterator",l=o.set,u=o.getterFor(c);a(String,"String",(function(e){l(this,{type:c,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},6532:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(8844),a=n(4684),s=n(9985),c=n(981),l=n(1245),u=n(4327),d=n(4849),h=n(3477),f=n(7017),g=n(4201),p=n(3931),m=g("replace"),_=TypeError,y=o("".indexOf),S=o("".replace),b=o("".slice),I=Math.max,A=function(e,t,n){return n>e.length?-1:""===t?n:y(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,g,D,v,w,P,F,T=a(this),C=0,G=0,E="";if(!c(e)){if((n=l(e))&&(r=u(a(h(e))),!~y(r,"g")))throw new _("`.replaceAll` does not allow non-global regexes");if(o=d(e,m))return i(o,e,T,t);if(p&&n)return S(u(T),e,t)}for(g=u(T),D=u(e),(v=s(t))||(t=u(t)),w=D.length,P=I(1,w),C=A(g,D,0);-1!==C;)F=v?u(t(D,C,g)):f(D,g,C,[],void 0,t),E+=b(g,G,C)+F,G=C+w,C=A(g,D,C+P);return G<g.length&&(E+=b(g,G)),E}})},7267:function(e,t,n){"use strict";var r=n(1735),i=n(2615),o=n(8844),a=n(8678),s=n(3689),c=n(5027),l=n(9985),u=n(981),d=n(8700),h=n(3126),f=n(4327),g=n(4684),p=n(1514),m=n(4849),_=n(7017),y=n(6100),S=n(4201)("replace"),b=Math.max,I=Math.min,A=o([].concat),D=o([].push),v=o("".indexOf),w=o("".slice),P="$0"==="a".replace(/./,"$0"),F=!!/./[S]&&""===/./[S]("a","$0");a("replace",(function(e,t,n){var o=F?"$":"$0";return[function(e,n){var r=g(this),o=u(e)?void 0:m(e,S);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var a=c(this),s=f(e);if("string"==typeof i&&-1===v(i,o)&&-1===v(i,"$<")){var u=n(t,a,s,i);if(u.done)return u.value}var g=l(i);g||(i=f(i));var m,S=a.global;S&&(m=a.unicode,a.lastIndex=0);for(var P,F=[];null!==(P=y(a,s))&&(D(F,P),S);){""===f(P[0])&&(a.lastIndex=p(s,h(a.lastIndex),m))}for(var T,C="",G=0,E=0;E<F.length;E++){for(var R,x=f((P=F[E])[0]),M=b(I(d(P.index),s.length),0),O=[],N=1;N<P.length;N++)D(O,void 0===(T=P[N])?T:String(T));var k=P.groups;if(g){var B=A([x],O,M,s);void 0!==k&&D(B,k),R=f(r(i,void 0,B))}else R=_(x,s,M,O,k,i);M>=G&&(C+=w(s,G,M)+R,G=M+x.length)}return C+w(s,G)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!P||F)},6386:function(e,t,n){"use strict";n(1313);var r=n(9989),i=n(9558);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},1313:function(e,t,n){"use strict";var r=n(9989),i=n(9558);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},6544:function(e,t,n){"use strict";var r=n(9989),i=n(7697),o=n(9037),a=n(8844),s=n(6812),c=n(9985),l=n(3622),u=n(4327),d=n(2148),h=n(8758),f=o.Symbol,g=f&&f.prototype;if(i&&c(f)&&(!("description"in g)||void 0!==f().description)){var p={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(g,this)?new f(e):void 0===e?f():f(e);return""===e&&(p[t]=!0),t};h(m,f),m.prototype=g,g.constructor=m;var _="Symbol(description detection)"===String(f("description detection")),y=a(g.valueOf),S=a(g.toString),b=/^Symbol\((.*)\)[^)]+$/,I=a("".replace),A=a("".slice);d(g,"description",{configurable:!0,get:function(){var e=y(this);if(s(p,e))return"";var t=S(e),n=_?A(t,7,-1):I(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},9976:function(e,t,n){"use strict";var r=n(9037),i=n(2615),o=n(4872),a=n(6310),s=n(3250),c=n(690),l=n(3689),u=r.RangeError,d=r.Int8Array,h=d&&d.prototype,f=h&&h.set,g=o.aTypedArray,p=o.exportTypedArrayMethod,m=!l((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),_=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){g(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(m)return i(f,this,n,t);var r=this.length,o=a(n),l=0;if(o+t>r)throw new u("Wrong length");for(;l<o;)this[t+l]=n[l++]}),!m||_)},3356:function(e,t,n){"use strict";var r=n(9037),i=n(6576),o=n(3689),a=n(509),s=n(382),c=n(4872),l=n(7365),u=n(7298),d=n(3615),h=n(7922),f=c.aTypedArray,g=c.exportTypedArrayMethod,p=r.Uint16Array,m=p&&i(p.prototype.sort),_=!(!m||o((function(){m(new p(2),null)}))&&o((function(){m(new p(2),{})}))),y=!!m&&!o((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(h)return h<602;var e,t,n=new p(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));g("sort",(function(e){return void 0!==e&&a(e),y?m(this,e):s(f(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||_)},8832:function(e,t,n){"use strict";n(5398)},8320:function(e,t,n){"use strict";n(6532)},6265:function(e,t,n){"use strict";var r=n(9037),i=n(6338),o=n(3265),a=n(752),s=n(5773),c=n(4201),l=c("iterator"),u=c("toStringTag"),d=a.values,h=function(e,t){if(e){if(e[l]!==d)try{s(e,l,d)}catch(t){e[l]=d}if(e[u]||s(e,u,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in i)h(r[f]&&r[f].prototype,f);h(o,"DOMTokenList")},2625:function(e,t,n){"use strict";n(752);var r=n(9989),i=n(9037),o=n(2615),a=n(8844),s=n(7697),c=n(6837),l=n(1880),u=n(2148),d=n(6045),h=n(5997),f=n(974),g=n(618),p=n(767),m=n(9985),_=n(6812),y=n(4071),S=n(926),b=n(5027),I=n(8999),A=n(4327),D=n(5391),v=n(5684),w=n(5185),P=n(1664),F=n(7807),T=n(1500),C=n(4201),G=n(382),E=C("iterator"),R="URLSearchParams",x=R+"Iterator",M=g.set,O=g.getterFor(R),N=g.getterFor(x),k=Object.getOwnPropertyDescriptor,B=function(e){if(!s)return i[e];var t=k(i,e);return t&&t.value},L=B("fetch"),j=B("Request"),U=B("Headers"),W=j&&j.prototype,H=U&&U.prototype,z=i.RegExp,K=i.TypeError,J=i.decodeURIComponent,V=i.encodeURIComponent,Y=a("".charAt),Z=a([].join),q=a([].push),X=a("".replace),Q=a([].shift),$=a([].splice),ee=a("".split),te=a("".slice),ne=/\+/g,re=Array(4),ie=function(e){return re[e-1]||(re[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},oe=function(e){try{return J(e)}catch(t){return e}},ae=function(e){var t=X(e,ne," "),n=4;try{return J(t)}catch(e){for(;n;)t=X(t,ie(n--),oe);return t}},se=/[!'()~]|%20/g,ce={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},le=function(e){return ce[e]},ue=function(e){return X(V(e),se,le)},de=f((function(e,t){M(this,{type:x,target:O(e).entries,index:0,kind:t})}),R,(function(){var e=N(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,F(void 0,!0);var r=t[n];switch(e.kind){case"keys":return F(r.key,!1);case"values":return F(r.value,!1)}return F([r.key,r.value],!1)}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(I(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Y(e,0)?te(e,1):e:A(e)))};he.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,s,c,l=this.entries,u=P(e);if(u)for(n=(t=w(e,u)).next;!(r=o(n,t)).done;){if(a=(i=w(b(r.value))).next,(s=o(a,i)).done||(c=o(a,i)).done||!o(a,i).done)throw new K("Expected sequence with length 2");q(l,{key:A(s.value),value:A(c.value)})}else for(var d in e)_(e,d)&&q(l,{key:d,value:A(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=ee(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&(n=ee(t,"="),q(r,{key:ae(Q(n)),value:ae(Z(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],q(n,ue(e.key)+"="+ue(e.value));return Z(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){p(this,ge);var e=M(this,new he(arguments.length>0?arguments[0]:void 0));s||(this.size=e.entries.length)},ge=fe.prototype;if(d(ge,{append:function(e,t){var n=O(this);T(arguments.length,2),q(n.entries,{key:A(e),value:A(t)}),s||this.length++,n.updateURL()},delete:function(e){for(var t=O(this),n=T(arguments.length,1),r=t.entries,i=A(e),o=n<2?void 0:arguments[1],a=void 0===o?o:A(o),c=0;c<r.length;){var l=r[c];if(l.key!==i||void 0!==a&&l.value!==a)c++;else if($(r,c,1),void 0!==a)break}s||(this.size=r.length),t.updateURL()},get:function(e){var t=O(this).entries;T(arguments.length,1);for(var n=A(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=O(this).entries;T(arguments.length,1);for(var n=A(e),r=[],i=0;i<t.length;i++)t[i].key===n&&q(r,t[i].value);return r},has:function(e){for(var t=O(this).entries,n=T(arguments.length,1),r=A(e),i=n<2?void 0:arguments[1],o=void 0===i?i:A(i),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(e,t){var n=O(this);T(arguments.length,1);for(var r,i=n.entries,o=!1,a=A(e),c=A(t),l=0;l<i.length;l++)(r=i[l]).key===a&&(o?$(i,l--,1):(o=!0,r.value=c));o||q(i,{key:a,value:c}),s||(this.size=i.length),n.updateURL()},sort:function(){var e=O(this);G(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=O(this).entries,r=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),l(ge,E,ge.entries,{name:"entries"}),l(ge,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),s&&u(ge,"size",{get:function(){return O(this).entries.length},configurable:!0,enumerable:!0}),h(fe,R),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:fe}),!c&&m(U)){var pe=a(H.has),me=a(H.set),_e=function(e){if(I(e)){var t,n=e.body;if(S(n)===R)return t=e.headers?new U(e.headers):new U,pe(t,"content-type")||me(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(e,{body:v(0,A(n)),headers:v(0,t)})}return e};if(m(L)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return L(e,arguments.length>1?_e(arguments[1]):{})}}),m(j)){var ye=function(e){return p(this,W),new j(e,arguments.length>1?_e(arguments[1]):{})};W.constructor=ye,ye.prototype=W,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye})}}e.exports={URLSearchParams:fe,getState:O}},9307:function(e,t,n){"use strict";n(2625)},9391:function(e,t,n){"use strict";n(1694);var r,i=n(9989),o=n(7697),a=n(6837),s=n(9037),c=n(4071),l=n(8844),u=n(1880),d=n(2148),h=n(767),f=n(6812),g=n(5394),p=n(1055),m=n(9015),_=n(730).codeAt,y=n(6430),S=n(4327),b=n(5997),I=n(1500),A=n(2625),D=n(618),v=D.set,w=D.getterFor("URL"),P=A.URLSearchParams,F=A.getState,T=s.URL,C=s.TypeError,G=s.parseInt,E=Math.floor,R=Math.pow,x=l("".charAt),M=l(/./.exec),O=l([].join),N=l(1..toString),k=l([].pop),B=l([].push),L=l("".replace),j=l([].shift),U=l("".split),W=l("".slice),H=l("".toLowerCase),z=l([].unshift),K="Invalid scheme",J="Invalid host",V="Invalid port",Y=/[a-z]/i,Z=/[\d+-.a-z]/i,q=/\d/,X=/^0x/i,Q=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,oe=/[\t\n\r]/g,ae=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=E(e/256);return O(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ce=g({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),le=g({},ce,{"#":1,"?":1,"{":1,"}":1}),ue=g({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=_(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2===e.length&&M(Y,x(e,0))&&(":"===(n=x(e,1))||!t&&"|"===n)},ge=function(e){var t;return e.length>1&&fe(W(e,0,2))&&(2===e.length||"/"===(t=x(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===H(e)},me={},_e={},ye={},Se={},be={},Ie={},Ae={},De={},ve={},we={},Pe={},Fe={},Te={},Ce={},Ge={},Ee={},Re={},xe={},Me={},Oe={},Ne={},ke=function(e,t,n){var r,i,o,a=S(e);if(t){if(i=this.parse(a))throw new C(i);this.searchParams=null}else{if(void 0!==n&&(r=new ke(n,!0)),i=this.parse(a,null,r))throw new C(i);(o=F(new P)).bindURL(this),this.searchParams=o}};ke.prototype={type:"URL",parse:function(e,t,n){var i,o,a,s,c,l=this,u=t||me,d=0,h="",g=!1,_=!1,y=!1;for(e=S(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=L(e,re,""),e=L(e,ie,"$1")),e=L(e,oe,""),i=p(e);d<=i.length;){switch(o=i[d],u){case me:if(!o||!M(Y,o)){if(t)return K;u=ye;continue}h+=H(o),u=_e;break;case _e:if(o&&(M(Z,o)||"+"===o||"-"===o||"."===o))h+=H(o);else{if(":"!==o){if(t)return K;h="",u=ye,d=0;continue}if(t&&(l.isSpecial()!==f(he,h)||"file"===h&&(l.includesCredentials()||null!==l.port)||"file"===l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&he[l.scheme]===l.port&&(l.port=null));h="","file"===l.scheme?u=Ce:l.isSpecial()&&n&&n.scheme===l.scheme?u=Se:l.isSpecial()?u=De:"/"===i[d+1]?(u=be,d++):(l.cannotBeABaseURL=!0,B(l.path,""),u=Me)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!==o)return K;if(n.cannotBeABaseURL&&"#"===o){l.scheme=n.scheme,l.path=m(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Ne;break}u="file"===n.scheme?Ce:Ie;continue;case Se:if("/"!==o||"/"!==i[d+1]){u=Ie;continue}u=ve,d++;break;case be:if("/"===o){u=we;break}u=xe;continue;case Ie:if(l.scheme=n.scheme,o===r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query;else if("/"===o||"\\"===o&&l.isSpecial())u=Ae;else if("?"===o)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query="",u=Oe;else{if("#"!==o){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.path.length--,u=xe;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query,l.fragment="",u=Ne}break;case Ae:if(!l.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=xe;continue}u=we}else u=ve;break;case De:if(u=ve,"/"!==o||"/"!==x(h,d+1))continue;d++;break;case ve:if("/"!==o&&"\\"!==o){u=we;continue}break;case we:if("@"===o){g&&(h="%40"+h),g=!0,a=p(h);for(var b=0;b<a.length;b++){var I=a[b];if(":"!==I||y){var A=de(I,ue);y?l.password+=A:l.username+=A}else y=!0}h=""}else if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()){if(g&&""===h)return"Invalid authority";d-=p(h).length+1,h="",u=Pe}else h+=o;break;case Pe:case Fe:if(t&&"file"===l.scheme){u=Ee;continue}if(":"!==o||_){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()){if(l.isSpecial()&&""===h)return J;if(t&&""===h&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(h))return s;if(h="",u=Re,t)return;continue}"["===o?_=!0:"]"===o&&(_=!1),h+=o}else{if(""===h)return J;if(s=l.parseHost(h))return s;if(h="",u=Te,t===Fe)return}break;case Te:if(!M(q,o)){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()||t){if(""!==h){var D=G(h,10);if(D>65535)return V;l.port=l.isSpecial()&&D===he[l.scheme]?null:D,h=""}if(t)return;u=Re;continue}return V}h+=o;break;case Ce:if(l.scheme="file","/"===o||"\\"===o)u=Ge;else{if(!n||"file"!==n.scheme){u=xe;continue}switch(o){case r:l.host=n.host,l.path=m(n.path),l.query=n.query;break;case"?":l.host=n.host,l.path=m(n.path),l.query="",u=Oe;break;case"#":l.host=n.host,l.path=m(n.path),l.query=n.query,l.fragment="",u=Ne;break;default:ge(O(m(i,d),""))||(l.host=n.host,l.path=m(n.path),l.shortenPath()),u=xe;continue}}break;case Ge:if("/"===o||"\\"===o){u=Ee;break}n&&"file"===n.scheme&&!ge(O(m(i,d),""))&&(fe(n.path[0],!0)?B(l.path,n.path[0]):l.host=n.host),u=xe;continue;case Ee:if(o===r||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&fe(h))u=xe;else if(""===h){if(l.host="",t)return;u=Re}else{if(s=l.parseHost(h))return s;if("localhost"===l.host&&(l.host=""),t)return;h="",u=Re}continue}h+=o;break;case Re:if(l.isSpecial()){if(u=xe,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==r&&(u=xe,"/"!==o))continue}else l.fragment="",u=Ne;else l.query="",u=Oe;break;case xe:if(o===r||"/"===o||"\\"===o&&l.isSpecial()||!t&&("?"===o||"#"===o)){if(".."===(c=H(c=h))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(l.shortenPath(),"/"===o||"\\"===o&&l.isSpecial()||B(l.path,"")):pe(h)?"/"===o||"\\"===o&&l.isSpecial()||B(l.path,""):("file"===l.scheme&&!l.path.length&&fe(h)&&(l.host&&(l.host=""),h=x(h,0)+":"),B(l.path,h)),h="","file"===l.scheme&&(o===r||"?"===o||"#"===o))for(;l.path.length>1&&""===l.path[0];)j(l.path);"?"===o?(l.query="",u=Oe):"#"===o&&(l.fragment="",u=Ne)}else h+=de(o,le);break;case Me:"?"===o?(l.query="",u=Oe):"#"===o?(l.fragment="",u=Ne):o!==r&&(l.path[0]+=de(o,se));break;case Oe:t||"#"!==o?o!==r&&("'"===o&&l.isSpecial()?l.query+="%27":l.query+="#"===o?"%23":de(o,se)):(l.fragment="",u=Ne);break;case Ne:o!==r&&(l.fragment+=de(o,ce))}d++}},parseHost:function(e){var t,n,r;if("["===x(e,0)){if("]"!==x(e,e.length-1))return J;if(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return x(e,d)};if(":"===h()){if(":"!==x(e,1))return;d+=2,u=++l}for(;h();){if(8===l)return;if(":"!==h()){for(t=n=0;n<4&&M(ee,h());)t=16*t+G(h(),16),d++,n++;if("."===h()){if(0===n)return;if(d-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."===h()&&r<4))return;d++}if(!M(q,h()))return;for(;M(q,h());){if(o=G(h(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;d++}c[l]=256*c[l]+i,2!=++r&&4!==r||l++}if(4!==r)return;break}if(":"===h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!==l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!==l)return;return c}(W(e,1,-1)),!t)return J;this.host=t}else if(this.isSpecial()){if(e=y(e),M(te,e))return J;if(t=function(e){var t,n,r,i,o,a,s,c=U(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=c[r]))return e;if(o=10,i.length>1&&"0"===x(i,0)&&(o=M(X,i)?16:8,i=W(i,8===o?1:2)),""===i)a=0;else{if(!M(10===o?$:8===o?Q:ee,i))return e;a=G(i,o)}B(n,a)}for(r=0;r<t;r++)if(a=n[r],r===t-1){if(a>=R(256,5-t))return null}else if(a>255)return null;for(s=k(n),r=0;r<n.length;r++)s+=n[r]*R(256,3-r);return s}(e),null===t)return J;this.host=t}else{if(M(ne,e))return J;for(t="",n=p(e),r=0;r<n.length;r++)t+=de(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=ae(i),null!==o&&(l+=":"+o)):"file"===t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+O(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw new C(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(S(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=p(S(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=p(S(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Fe)},getPort:function(){var e=this.port;return null===e?"":S(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=S(e))?this.port=null:this.parse(e,Te))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+O(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=S(e))?this.query=null:("?"===x(e,0)&&(e=W(e,1)),this.query="",this.parse(e,Oe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=S(e))?("#"===x(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,Ne)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=h(this,Le),n=I(arguments.length,1)>1?arguments[1]:void 0,r=v(t,new ke(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Le=Be.prototype,je=function(e,t){return{get:function(){return w(this)[e]()},set:t&&function(e){return w(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(d(Le,"href",je("serialize","setHref")),d(Le,"origin",je("getOrigin")),d(Le,"protocol",je("getProtocol","setProtocol")),d(Le,"username",je("getUsername","setUsername")),d(Le,"password",je("getPassword","setPassword")),d(Le,"host",je("getHost","setHost")),d(Le,"hostname",je("getHostname","setHostname")),d(Le,"port",je("getPort","setPort")),d(Le,"pathname",je("getPathname","setPathname")),d(Le,"search",je("getSearch","setSearch")),d(Le,"searchParams",je("getSearchParams")),d(Le,"hash",je("getHash","setHash"))),u(Le,"toJSON",(function(){return w(this).serialize()}),{enumerable:!0}),u(Le,"toString",(function(){return w(this).serialize()}),{enumerable:!0}),T){var Ue=T.createObjectURL,We=T.revokeObjectURL;Ue&&u(Be,"createObjectURL",c(Ue,T)),We&&u(Be,"revokeObjectURL",c(We,T))}b(Be,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Be})},8730:function(e,t,n){"use strict";n(9391)},1656:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return a}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},5785:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return i}})},8593:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__);var e=__webpack_require__(5785);__webpack_require__(4043),__webpack_require__(752),__webpack_require__(9976),__webpack_require__(3356),__webpack_require__(6265),__webpack_require__(8730),__webpack_require__(9307),__webpack_require__(3964),__webpack_require__(2003),__webpack_require__(7267),__webpack_require__(6409),__webpack_require__(5847),__webpack_require__(5137);Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice});var t=__webpack_require__(6346),n=__webpack_require__(9956),r={"NotoNaskhArabic-Bold.ttf":"febcd5fae479715518a682af57a1422e","NotoNaskhArabic-Regular.ttf":"f11da773d5e424caa06cbe86b19c8c3b","NotoNirmalaui-Regular.ttf":"8300e4a9865b6231e32e46b1707b8f7b","NotoSans-Bold.ttf":"f0fbfd466cf418784f70671d60b1e3ae","NotoSans-BoldItalic.ttf":"50c48f215078a295208b49554aea3987","NotoSans-Regular.ttf":"7d9f89ded30222fd1266979e91adaf88","NotoSansCJKjp-DemiLight.otf":"30c649feb1b2f3e329d91796c3064110","NotoSansCJKjp-Light.otf":"b81b161eff7c869389aaa6015c04730a","NotoSansCJKjp-Medium.otf":"dd4cedc2ef66c81cab848ad9601e8144","NotoSansCJKjp-Regular.otf":"0501218c178d3763f2f9ae15744eae69","NotoSansCJKjp-Thin.otf":"27428f85a1f9fc06d37b1e4f772b332e","NotoSansCJKkr-DemiLight.otf":"f08d579f072fc995a0d0cf04930601c1","NotoSansCJKkr-Light.otf":"aa338e61e68bf72f6adfd2733847c90d","NotoSansCJKkr-Medium.otf":"3ebac294262ed84a17b4a4787837e23a","NotoSansCJKkr-Regular.otf":"4cf03dc23b8bb8d4a19bdca44c799133","NotoSansCJKkr-Thin.otf":"eae1fc05cf33c41e0031cdd11db599f7","NotoSansCJKtc-DemiLight.otf":"bec6ef360c6e7ac3734b6fe28a4126e2","NotoSansCJKtc-Light.otf":"468d6c5da548fecbda4fd5a23b912166","NotoSansCJKtc-Medium.otf":"f20459bfb276c641f12426b82f4be596","NotoSansCJKtc-Thin.otf":"8ecb59643a91f8e2c041f8fef92b47c2","NotoSansCanadianAboriginal-Regular.ttf":"462d533ae85cece0541123b8b3572374","NotoSansCherokee-Regular.ttf":"a88159ea01ed8715b9cdd68c4013fccb","NotoSansEthiopic-Bold.ttf":"22142e5eb5edaf965ce01e3fc1894c01","NotoSansEthiopic-Regular.ttf":"7e19f7808de91fd1c4c9789a5f0450de","NotoSansGujarati-Bold.ttf":"500303eb9e05a1de5e6c01fd25edf0b7","NotoSansGujarati-Regular.ttf":"a5f559c25908b12d7fcfdaa1600fd9f1","NotoSansHebrew-Bold.ttf":"b2c1b6906d9d77c5672fcc4f4a3c7b61","NotoSansHebrew-Regular.ttf":"681afbd524342551a9b3bf974c0ad433","NotoSansKhmer-Bold.ttf":"4a799c2835ed2e32e92d071add8e4228","NotoSansKhmer-Regular.ttf":"11217ceabbe48efc06cb950ec37189ef","NotoSansLao-Bold.ttf":"12da97798a3838ed577ca954d9d0c34b","NotoSansLao-Regular.ttf":"e5dadb678254367dcc3f91a1863fa74a","NotoSansMongolian-Regular.ttf":"e3426a66b65f03ca853cdc7bea355b8f","NotoSansMonoCJKjp-Regular.otf":"0beee38f74ab3756ada63bd7ce40cbad","NotoSansMonoCJKkr-Regular.otf":"2b7b9ff7c17b0de1c3b5e6059971e8b9","NotoSansMonoCJKsc-Regular.otf":"c24d3cd332ddf3aca147541507e5deec","NotoSansMonoCJKtc-Regular.otf":"fd7b80221cdfbed04eb69a371c0681b8","NotoSansPhagsPa-Regular.ttf":"857df25a1ff86fd325dc35efa2cb749d","NotoSansSC-Black.otf":"1a4015a208e09022a62256eac48eebe7","NotoSansSC-Bold.otf":"6038abbaa72926e043eac1ffc1726fd3","NotoSansSC-DemiLight.otf":"db2514b43a247c427c3732de541c09de","NotoSansSC-Light.otf":"65e7865c68f0062b0673296a266f888a","NotoSansSC-Medium.otf":"0c714136a7e02b5e4820a6c7c8e59be6","NotoSansSC-Regular.otf":"0a1fe01e7d921603e8ba185cdf1be994","NotoSansSC-Thin.otf":"fcc448ce50589e3a5309895b7e2716da","NotoSansSinhala-Bold.ttf":"d90775d13538cfa519812193a5c24986","NotoSansSinhala-Regular.ttf":"408ad25235ba342df73ed40683c5122a","NotoSansSyriacEastern-Regular.ttf":"555d860b3efcbedfd0928856bd0d1678","NotoSansTCLight.otf":"f5b0408d4cbf63865eba3dc8d9109bfd","NotoSansTaiLe-Regular.ttf":"1611c941bde482ee7c5b50a9c4dc5f9f","NotoSansTamil-Bold.ttf":"1bd32f3eab7154c43e689394a8c62033","NotoSansTamil-Regular.ttf":"7a9bd984400243ea3bf443be7a261a6c","NotoSansTelugu-Bold.ttf":"e47d4bd6e1d8a55d48b97b33b6b8b09d","NotoSansTelugu-Regular.ttf":"9c3e0075f045d1943a07b0c06cfde600","NotoSansThaana-Bold.ttf":"9c615895d006c4a4d74c12d5fa3c1eff","NotoSansThaana-Regular.ttf":"59d78c806149e8cc9f12211aabcf71fb","NotoSansThai-Bold.ttf":"269e5db28965fa7d9f7895a23d088c87","NotoSansThai-Regular.ttf":"057fa6d673e2dda7afbf19d4a5d30901","NotoSansTibetan-Bold.ttf":"7c712907f958ccf0ebfbc28bf275154a","NotoSansTibetan-Regular.ttf":"06a4dbcbf8ef798d42383f6f2869d7be","NotoSansYi-Regular.ttf":"9f73151e0398e0bc70c4e9549ff3b046","NotoSerifKhmer-Bold.ttf":"9ed9ad995a6ba799e64a1949ea2e88ad","NotoSerifKhmer-Regular.ttf":"6c7bde29fb840cdeb077cdb66da2d0ad","NotoSerifLao-Bold.ttf":"4d2fb002f26a6e146781a207e315f0c3","NotoSerifLao-Regular.ttf":"730051aa181cefd7357c1eefd1c228b2","NotoSerifThai-Bold.ttf":"d4d31e29ea92a2b72b01edabb8b8483b","NotoSerifThai-Regular.ttf":"657709f54d9b04cf4967fe32e03873ea","PTSansNarrow-Bold.ttf":"412e8550a8e343da624aaae655f0dad0","PTSansNarrow-Regular.ttf":"ed806804702a540ef05cffe3d56c793b"},i=__webpack_require__(301);const o="fontName",a="fontLib";let s=new i.Z(a,"FoxitPDFSDKForWeb_"+a),c=[];c=c.concat(c,[{nameMatches:[/verdana/,/franklingothic/,/segoeui/,/sylfaen/,/tahoma/,/couriernew/,/lucidasansunicode/,/calibri/,/cambria/,/candara/,/comicsansms/,/consolas/,/constantia/,/corbel/,/gabriola/,/georgia/,/impact/,/lucidaconsole/,/microsoftsansserif/,/msrefrencesansserif/,/palatinolinotype/,/segoeprint/,/segoescript/,/trebuchetms/,/notosans(bold)?/],charsets:[0,204,238],charRange:/[\u0000-\u00ff]/,glyphs:[{bold:-1,flags:64,url:"NotoSans-BoldItalic.ttf"},{bold:496,flags:-1,url:"NotoSans-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSans-Regular.ttf"}]},{nameMatches:[/(youyuan)|(simhei)|(simsun)|(simsunextb)|(kaiti)|()|(song)|()|()|()|()|()|()|()|()|()/,/(notosanssc)|(notosanscjksc)|(notosansmonocjksc)/],charsets:[134],charRange:/[\u0000-\u007f\u8140-\uA0FE\uA996\uA1A1-\uA9FE\uA840-\uA9A0\uF8A1-\uFEFE\uA140-\uA7A0\u200F-\u2027\u2E80-\u303F\u31C0-\u4DBF\u4E00-\u9FBF\uFF00-\uFFEF]/,glyphs:[{bold:-1,flags:1,url:"NotoSansMonoCJKsc-Regular.otf"},{bold:1,flags:-1,url:"NotoSansSC-Thin.otf"},{bold:2,flags:-1,url:"NotoSansSC-Light.otf"},{bold:4,flags:-1,url:"NotoSansSC-DemiLight.otf"},{bold:48,flags:-1,url:"NotoSansSC-Medium.otf"},{bold:192,flags:-1,url:"NotoSansSC-Bold.otf"},{bold:256,flags:-1,url:"NotoSansSC-Black.otf"},{bold:-1,flags:-1,url:"NotoSansMonoCJKsc-Regular.otf"},{bold:-1,flags:-1,url:"NotoSansSC-Regular.otf"}]},{nameMatches:[/(meiryo)|(meiryoui)|(msgothic)|(msmincho)|(mspgothic)|(mspmincho)|(uigothic)/,/(notosanscjkjp)|(notosansmonocjkjp(regular)?)/,/(notosanscjkjp(demilight)?)|(notosanscjkjp(light)?)|(notosanscjkjp(medium)?)|(notosanscjkjp(thin)?)|(notosanscjkjp(regular)?)/],charsets:[128],charRange:/[\u0000-\u007f\u2E80-\u4DBF\u4E00-\u9FBF\uF900-\uFAFF\uFE30-\uFE4F]/,glyphs:[{bold:-1,flags:1,url:"NotoSansMonoCJKjp-Regular.otf"},{bold:1,flags:-1,url:"NotoSansCJKjp-Thin.otf"},{bold:2,flags:-1,url:"NotoSansCJKjp-Light.otf"},{bold:4,flags:-1,url:"NotoSansCJKjp-DemiLight.otf"},{bold:496,flags:-1,url:"NotoSansCJKjp-Medium.otf"},{bold:-1,flags:-1,url:"NotoSansCJKjp-Regular.otf"}]},{nameMatches:[/(korean)/,/(notosanscjkkr)|(notosansmonocjkkr(regular)?)|(notosansmonocjkkr(bold)?)/,/(notosanscjkkr(demilight)?)|(notosanscjkkr(light)?)|(notosanscjkkr(medium)?)|(notosanscjkkr(bold)?)|(notosanscjkkr(thin)?)|(notosanscjkkr(regular)?)/],charsets:[129],charRange:/[\u0000-\u007f\u1100-\u11FF\u3130-\u318F\uAC00-\uD7AF\uFF00-\uFFEF\u2E80-\u303F\u31C0-\u4DBF\u4E00-\u9FBF\uF900-\uFAFF\uFE30-\uFE4F]/,glyphs:[{bold:-1,flags:1,url:"NotoSansMonoCJKkr-Regular.otf"},{bold:1,flags:-1,url:"NotoSansCJKkr-Thin.otf"},{bold:2,flags:-1,url:"NotoSansCJKkr-Light.otf"},{bold:4,flags:-1,url:"NotoSansCJKkr-DemiLight.otf"},{bold:496,flags:-1,url:"NotoSansCJKkr-Medium.otf"},{bold:-1,flags:-1,url:"NotoSansCJKkr-Regular.otf"}]},{nameMatches:[/(dfkaisb)|(microsoftjhenghei)|(mingliu)|(mingliuhkscs)|(mingliuhkscsextb)|(mingliuextb)|(pmingliu)|(pmingliuextb)/,/(notosanscjktc(demilight)?)|(notosanscjktc(light)?)|(notosanscjktc(medium)?)|(notosanscjktc(thin)?)|(notosansmonocjktc(regular)?)/],charsets:[136],charRange:/[\u4E00-\uA0FE\uA140-\uA3BF\uA259-\uA261\uA3C0-\uA3FE\u2E80-\u303F\u31C0-\u4DBF\uFF00-\uFFEF]/,glyphs:[{bold:-1,flags:1,url:"NotoSansMonoCJKtc-Regular.otf"},{bold:1,flags:-1,url:"NotoSansCJKtc-Thin.otf"},{bold:2,flags:-1,url:"NotoSansCJKtc-Light.otf"},{bold:4,flags:-1,url:"NotoSansCJKtc-DemiLight.otf"},{bold:496,flags:-1,url:"NotoSansCJKtc-Medium.otf"},{bold:-1,flags:-1,url:"NotoSansMonoCJKtc-Regular.otf"}]},{nameMatches:[/(arabic)|(andalus)|(arabictypesetting)|(sakkalmajalla)|(simplifiedarabic)|(simplifiedarabicfixed)|(traditionalarabic)/,/(notonaskharabicbold)|(notonaskharabic)/],charsets:[178],charRange:/[\u0000-\u007f\u0600-\u06FF\u0750-\u077F\uFB50-\uFDFF\uFE70-\uFEFF]/,glyphs:[{bold:496,flags:-1,url:"NotoNaskhArabic-Bold.ttf"},{bold:-1,flags:-1,url:"NotoNaskhArabic-Regular.ttf"}]},{nameMatches:[/(angsananew)|(angsanaupc)|(browallianew)|(browalliaupc)|(cordianew)|(cordiaupc)|(eucrosiaupc)|(freesiaupc)|(irisupc)|(jasmineupc)|(kodchiangupc)|(leelawadee)|(lilyupc)|(thonburi)/,/(notosansthaibold)|(notosansthai)|(notoserifthaibold)|(notoserifthai)/],charsets:[222],charRange:/[\u0E00-\u0E7F]/,glyphs:[{bold:496,flags:2,url:"NotoSerifThai-Bold.ttf"},{bold:-1,flags:2,url:"NotoSerifThai-Regular.ttf"},{bold:496,flags:-1,url:"NotoSansThai-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansThai-Regular.ttf"}]},{nameMatches:[/(aharoni)|(david)|(frankruehl)|(gisha)|(levenimmt)|(miriam)|(narkism)|(rod)/,/(notosanshebrewbold)|(notosanshebrew)/],charsets:[177],charRange:/[\u0590-\u05FF]/,glyphs:[{bold:496,flags:-1,url:"NotoSansHebrew-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansHebrew-Regular.ttf"}]},{nameMatches:[/(daunpenh)|(khmer)|(moolboran)/,/(notosanskhmerbold)|(notosanskhmer)|(notoserifkhmerbold)|(notoserifkhmer)/],charsets:[1],charRange:/[\u1780-\u17FF\u19E0-\u19FF]/,glyphs:[{bold:496,flags:2,url:"NotoSerifKhmer-Bold.ttf"},{bold:-1,flags:2,url:"NotoSerifKhmer-Regular.ttf"},{bold:496,flags:-1,url:"NotoSansKhmer-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansKhmer-Regular.ttf"}]},{nameMatches:[/(dokchampa)|(lao)/,/(notosanslaobold)|(notosanslao)|(notoseriflaobold)|(notoseriflao)/],charsets:[1],charRange:/[\u0E80-\u0EFF]/,glyphs:[{bold:496,flags:2,url:"NotoSerifLao-Bold.ttf"},{bold:-1,flags:2,url:"NotoSerifLao-Regular.ttf"},{bold:496,flags:-1,url:"NotoSansLao-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansLao-Regular.ttf"}]},{nameMatches:[/(vani)|(gautami)/,/(notosanstelugubold)|(notosanstelugu)/],charsets:[1],charRange:/[\u0C00-\u0C7F]/,glyphs:[{bold:496,flags:-1,url:"NotoSansTelugu-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansTelugu-Regular.ttf"}]},{nameMatches:[/(latha)|(vijaya)/,/(notosanstamilbold)|(notosanstamil)/],charsets:[1],charRange:/[\u0C00-\u0C7F]/,glyphs:[{bold:496,flags:-1,url:"NotoSansTamil-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansTamil-Regular.ttf"}]},{nameMatches:[/(moboli)|(mvboli)/,/(notosansthaanabold)|(notosansthaana)/],charsets:[1],charRange:/[\u0780-\u07BF]/,glyphs:[{bold:496,flags:-1,url:"NotoSansThaana-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansThaana-Regular.ttf"}]},{nameMatches:[/(taile)|(microsofttaile)/,/(notosanstaile)/],charsets:[1],charRange:/[\u1950-\u197F]/,glyphs:[{bold:-1,flags:-1,url:"NotoSansTaiLe-Regular.ttf"}]},{nameMatches:[/(estrangeloedessa)/,/(notosanssyriaceastern)/],charsets:[1],charRange:/[\u0700-\u074F]/,glyphs:[{bold:-1,flags:-1,url:"NotoSansSyriacEastern-Regular.ttf"}]},{nameMatches:[/(iskoolapota)/,/(notosanssinhalabold)|(notosanssinhala)/],charsets:[1],charRange:/[\u0D80-\u0DFF]/,glyphs:[{bold:496,flags:-1,url:"NotoSansSinhala-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansSinhala-Regular.ttf"}]},{nameMatches:[/(himalaya)|(microsofthimalaya)/,/(notosanstibetanbold)|(notosanstibetan)/],charsets:[1],charRange:/[\u0F00-\u0FFF]/,glyphs:[{bold:496,flags:-1,url:"NotoSansTibetan-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansTibetan-Regular.ttf"}]},{nameMatches:[/(phagspa)|(microsoftphagspa)/,/(notosansphagspa)/],charsets:[1],charRange:/[\uA840-\uA87F]/,glyphs:[{bold:-1,flags:-1,url:"NotoSansPhagsPa-Regular.ttf"}]},{nameMatches:[/(euphemia)|(gadugi)/,/(notosanscanadianaboriginal)/],charsets:[1],charRange:/[\u1400-\u167F\u18B0-\u18FF]/,glyphs:[{bold:-1,flags:-1,url:"NotoSansCanadianAboriginal-Regular.ttf"}]},{nameMatches:[/(plantagenetcherokee)|(notosanscherokee)/],charsets:[1],charRange:/[\u13A0-\u13FF]/,glyphs:[{bold:-1,flags:-1,url:"NotoSansCherokee-Regular.ttf"}]},{nameMatches:[/(nyala)|(ebrima)|(notosansethiopicbold)|(notosansethiopic)/],charsets:[1],charRange:/[\u1200-\u139F\u2D80-\u2DDF\uAB00-\uAB5F]/,glyphs:[{bold:496,flags:-1,url:"NotoSansEthiopic-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansEthiopic-Regular.ttf"}]},{nameMatches:[/(shruti)|(notosansgujaratibold)|(notosansgujarati)/],charsets:[1],charRange:/[\u0A80-\u0AFF]/,glyphs:[{bold:496,flags:-1,url:"NotoSansGujarati-Bold.ttf"},{bold:-1,flags:-1,url:"NotoSansGujarati-Regular.ttf"}]},{nameMatches:[/(mongolian)|(mongolianbaiti)|(notosansmongolian)/],charsets:[1],charRange:/[\u1800-\u18AF]/,glyphs:[{bold:-1,flags:-1,url:"NotoSansMongolian-Regular.ttf"}]},{nameMatches:[/(nirmalaui)|(notosansgujarati)/],charsets:[1],charRange:/[\u0A80-\u0E7F]/,glyphs:[{bold:-1,flags:-1,url:"NotoNirmalaui-Regular.ttf"}]},{nameMatches:[/(microsoftyibati)|(yi\b)|(notosansyi)/],charsets:[1],charRange:/[]/,glyphs:[{bold:-1,flags:-1,url:"NotoSansYi-Regular.ttf"}]},{nameMatches:[/notosans/],charsets:[0,204,238],charRange:/[\u0000-\u00ff]/,glyphs:[{bold:-1,flags:-1,url:"NotoSans-Regular.ttf"}]},{nameMatches:[/ptsansnarrow/],charsets:[0],charRange:/[\u0000-\u00ff]/,glyphs:[{bold:496,flags:-1,url:"PTSansNarrow-Bold.ttf"},{bold:-1,flags:-1,url:"PTSansNarrow-Regular.ttf"}]}]);let l=[],u=[],d={extralight:100,light:200,normal:300,regular:400,medium:500,bold:700,heavy:900,black:900,thin:100},h={},f={},g={},p={},m={};function _(e,t,n,r,i){if(!e)return;let o=function(e,t,n,r,i){return[e,t,n,r,i].join("-")}(e,t,n,r,i),a=h[o];if(a)return[a,f[o],g[o]];n=function(e,t,n){return t||64&n||/(italic)|(oblique)/.test(e.toLowerCase())}(e,n,i),n&&(i|=64);let s=function(e){return 1<<parseInt(e/100)-1}(function(e,t,n){for(var r in e=e.toLowerCase(),d)if(-1!=e.indexOf(r))return d[r];t<=400&&262144==(262144&n)&&(t=700);return d[t]||(parseInt(t/100)?t:t>400?700:400)}(e,r,i)),l=e;l=y(e=e.toLowerCase());let p=b(l,u,i,s,o,!0);if(p)return p;for(let e=0,t=u.length;e<t;e++){let t=u[e];if(S(l,t)){let e=t.glyphs||[];for(let n=0,r=e.length;n<r;n++){let r=e[n],a=r.bold||-1,c=r.flags||-1;if(s&a&&(-1===c||(i&c)===c))return h[o]=r,f[o]=t,g[o]=1,[r,t,1]}}}if(p=b(l,c,i,s,o,!1),p)return p;for(let e=0,t=c.length;e<t;e++){let t=c[e];if(S(l,t)){let e=t.glyphs||[];for(let n=0,r=e.length;n<r;n++){let r=e[n],a=r.bold||-1,c=r.flags||-1;if(s&a&&(-1===c||(i&c)===c))return h[o]=r,f[o]=t,[r,t]}}}if(t>1){for(let e=0,n=u.length;e<n;e++){let n=u[e];if(n.charsets&&-1!==n.charsets.indexOf(t)){let e=n.glyphs||[];for(let t=0,r=e.length;t<r;t++){let r=e[t],a=r.bold||-1,c=r.flags||-1;if(s&a&&(-1===c||(i&c)===c))return h[o]=r,f[o]=n,g[o]=1,[r,n,1]}}}for(let e=0,n=c.length;e<n;e++){let n=c[e];if(-1!==n.charsets.indexOf(t)){let e=n.glyphs||[];for(let t=0,r=e.length;t<r;t++){let r=e[t],a=r.bold||-1,c=r.flags||-1;if(s&a&&(-1===c||(i&c)===c))return h[o]=r,f[o]=n,[r,n]}}}}}function y(e){return e.replace(/,/g,"").replace(/-/g,"").replace(/\s/g,"").toLowerCase()}function S(e,t,n=!1){let r=t.nameMatches||[];for(let t=0,i=r.length;t<i;t++){let i=new RegExp(r[t]).test(e);if(n&&(i=new RegExp("^"+r[t].source.toLowerCase()+"$").test(e)||new RegExp("^"+r[t].source.toLowerCase().replace(/\s+/g,"")+"$").test(e)),i)return!0}return!1}function b(e,t,n,r,i,o){for(let a=0,s=t.length;a<s;a++){let s=t[a],c=s.nameMatches||[];for(let t=0,a=c.length;t<a;t++){let a=y(c[t].source);if(new RegExp("^"+a+"$").test(e)||new RegExp("^"+a.replace(/\s+/g,"")+"$").test(e)){let e=s.glyphs||[];for(let t=0,a=e.length;t<a;t++){let a=e[t],c=a.bold||-1,l=a.flags||-1;if(r&c&&(-1===l||(n&l)===l))return h[i]=a,f[i]=s,o?[a,s,1]:[a,s]}}}}}function I(e,t){let n;if(n=p[e])return n;let r=new XMLHttpRequest;r.open("get",e,!1),r.responseType="arraybuffer",r.send();let i=r.status,a=r.response;if(i>=200&&i<300||304===i&&a instanceof ArrayBuffer){if(t){a=(0,__webpack_require__(8331).Z)(new Uint8Array(a))}return s.set(e,a).then((function(){s.get(o).then((function(t){(t=t||{})[e]=1,s.set(o,t).catch((function(){}))}))}),(function(){})),p[e]=a}return null}function A(e,t,n,i,a,c){let l=_(t,n,i,a,c);if(!l)return null;let u=l[0],d=u.url;return l[2]?I(d,u.isBrotli):function(e,t){let n;if(n=p[t])return n;let i=e+"/"+t+".brotli?h="+r[t];if(n=m[i])return n;let a=new XMLHttpRequest;a.open("get",i,!1),a.responseType="arraybuffer",a.send();let c=a.status,l=a.response;if(c>=200&&c<300||304===c&&l instanceof ArrayBuffer)return l=(0,__webpack_require__(8331).Z)(new Uint8Array(l)),s.set(i,l).then((function(){s.get(o).then((function(e){(e=e||{})[i]=1,s.set(o,e).catch((function(){}))}),(function(){}))}),(function(){})),p[t]=l;return null}(e,d)}function D(e,t=!0,n=!1){t&&(e=y(e));let r=[];if(r=r.concat(u).concat(c),n)for(let t=0,n=r.length;t<n;t++){let n=r[t];if(S(e,n,!0))return(n.charsets||[0])[0]}for(let t=0,n=r.length;t<n;t++){let n=r[t];if(S(e,n,!1))return(n.charsets||[0])[0]}return-1}var v=__webpack_require__(7375),w=__webpack_require__(4578),P=__webpack_require__(7462),F=__webpack_require__(8881),T=__webpack_require__(8755),C=__webpack_require__(8972),G=__webpack_require__(1220),E=__webpack_require__(995),R=__webpack_require__(3219),x=__webpack_require__(6784);function M(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}let O=function(){function e(e,t){this.pdfPage=e,this.gsdkPage=t,this.annotationIdArray=e._getAnnotationIdArray(t),this.removedIds=[]}var t=e.prototype;return t.indexOf=function(e){return this.annotationIdArray.indexOf(e)},t.update=function(){const e=this.annotationIdArray.slice(0);this.annotationIdArray=this.pdfPage._getAnnotationIdArray(this.gsdkPage),e.forEach((e=>{-1===this.annotationIdArray.indexOf(e)&&-1===this.removedIds.indexOf(e)&&this.removedIds.push(e)}))},t.remove=function(...e){this.update()},e}(),N=function(t){function n(){return t.apply(this,arguments)||this}(0,w.Z)(n,t);var r=n.prototype;return r.constructEngineAnnot=function(e){return new this.engine.Markup(e)},r.getFillColor=function(){let e=0,t=this.annot;return t.HasProperty({value:3})&&(e=t.GetStyleFillColor?t.GetStyleFillColor():t.GetFillColor(),e|=4278190080),e>>>0},r.toJson=function(e){let n,r=t.prototype.toJson.call(this,e),i=this.annot,o=this.engine,a=this.getSummary.bind(this),s=this.JR.getPDFString(i.GetIntent()),c=i.GetPopup();c.IsEmpty()||(n=a(c,!0)),c.delete();let l,u,d=i.GetDict(),h=d.GetElement((0,G.n5)(o,"RT"));const f=(0,G.n5)(o,"IRT");u=d.GetElement(f),u&&(u=u.GetDict(),u=u.GetObjNum(),!d.HasKey((0,G.n5)(o,"StateModel"))&&h?(l=h.GetName(),l=l?l.toString():"R"):l="R");let g,p=[],m=!1,_=!1,y=[],S=[],b=[];if(e){let t=e[i.GetDict().GetObjNum()];_=!!t.isGroup;let n=t;_&&(t.isGroupHeader?(m=!0,n=t,g={objectNumber:t.objectNumber,id:t.id,index:t.index}):(n=t.groupHeader,g={objectNumber:n.objectNumber,id:n.id,index:n.index}),p=[{objectNumber:n.objectNumber,id:n.id,index:n.index}].concat(n.groupElements).sort((function(e,t){return e.index-t.index}))),n.replies&&(y=n.replies),n.markedStates&&(S=n.markedStates.sort((function(e,t){return e.time-t.time}))),n.reviewStates&&(b=n.reviewStates.sort((function(e,t){return e.time-t.time})))}else{_=i.IsGrouped();let e=i.GetGroupElements(),t=e.GetSize();if(_&&t>0){for(let n=t;n--;){let t=e.GetAt(n);p[n]=a(t),t.delete()}let n=i.GetGroupHeader();g=a(n),m=g.objectNumber===r.objectNumber,n.delete()}e.delete();for(let e=i.GetReplyCount();e--;){let t=i.GetReply(e),n=a(t);n.content=this.JR.getPDFString(t.GetIntent()),y[e]=n,t.delete()}let n=o.StateModel,s=n.e_StateModelMarked,c=n.e_StateModelReview;const l=i.GetStateAnnots(s),u=l.GetSize();for(let e=0;e<u;e++){let t=l.GetAt(e);t.GetDict().GetElement(f).GetDict().GetObjNum()===r.objectNumber&&(S.push(a(t)),t.delete())}const d=i.GetStateAnnots(c),h=d.GetSize();for(let e=0;e<h;e++){let t=d.GetAt(e);t.GetDict().GetElement(f).GetDict().GetObjNum()===r.objectNumber&&(b.push(a(t)),t.delete())}}let I,A=i.GetCreationDateTime(),D=0;A&&A.IsValid()&&(D=(0,x.B)(A));let v,w=(0,G.n5)(this.engine,"BM");d.HasKey(w)&&(I=d.GetElement(w).GetName().toString());let F=(0,G.n5)(this.engine,"ca");d.HasKey(F)&&(v=d.GetElement(F).GetFloat());let T={creationTimestamp:D,opacity:i.GetOpacity(),subject:this.JR.getPDFString(i.GetSubject()),title:this.JR.getPDFString(i.GetTitle()),isGrouped:_,isGroupHeader:m,groupElementsSummary:p,groupHeaderSummary:g,repliesSummary:y,markedStatesSummary:S,reviewStatesSummary:b,popupSummary:n,intent:s,RT:l,IRT:u,bm:I,ca:v};if(i.GetType()===this.engine.AnnotType.e_FreeText){let e=this.getRichText();T.richText=e}return(0,P.Z)(r,T)},r.setOpacity=function(e,t){let n=this.getShouldModifyAnnots(this);e=+e;for(let r=n.length;r--;){let i=n[r].annot;i.SetOpacity(e),i.ResetAppearanceStream(),!t&&v.Z.updateModifyTime(this.engine,i)}return this.updateModifyTime(),B(n)},r.setSubject=function(e,t){let n=this.getShouldModifyAnnots(this);e=new this.engine.WString(e);for(let r=n.length;r--;){let i=n[r].annot;i.SetSubject(e),!t&&v.Z.updateModifyTime(this.engine,i)}return B(n)},r.setTitle=function(e,t){let n=this.getShouldModifyAnnots(this);e=new this.engine.WString(e);for(let r=n.length;r--;){let i=n[r].annot;i.SetTitle(e),!t&&v.Z.updateModifyTime(this.engine,i)}return e.delete(),B(n)},r.setCreateDateTime=function(e){let t=this.getShouldModifyAnnots(this);const n=this.ToDateTime(e);for(let e=t.length;e--;)t[e].annot.SetCreationDateTime(n);return n.delete(),B(t)},r.addReply=function(e){switch(typeof e){case"string":return this.addReplyContent(e);case"object":return this.addReplyFromJSON(e)}},r.addReplyFromJSON=function(e){let{annot:t,engine:r}=this;t.IsGrouped()&&(t=t.GetGroupHeader());const i=t.AddReply(),o=new r.WString(e.name||(0,T.Z)());i.SetUniqueID(o);const a=new r.WString(e.contents||e.content||"");if(i.SetContent(a),e.flags){let t="number"==typeof e.flags?e.flags:n.parseFlagList(e.flags.split(","));i.SetFlags(t)}const s=new r.WString(e.title||this.JR.getUserName()||"Foxit Web");i.SetTitle(s);const c=n.parseDatetimeString(r,e.creationdate)||"number"==typeof e.creationTimestamp||e.creationTimestamp instanceof Date?this.ToDateTime(e.creationTimestamp):null,l=n.parseDatetimeString(r,e.date)||"number"==typeof e.date||e.date instanceof Date?this.ToDateTime(e.date):null;return c&&i.SetCreationDateTime(c),l&&i.SetModifiedDateTime(l),this.pdfPage.reloadAnnots(),(0,E.Z)(o,s,a,c,l),this.JR.annotManager.get(i,this.pdfPage)},r.addReplyContent=function(e){let t=this.annot,n=this.engine;t.IsGrouped()&&(t=t.GetGroupHeader());let r=t.AddReply();t.IsGrouped()&&t.delete();let i,o=new n.WString((0,T.Z)());r.SetUniqueID(o),i=e instanceof n.WString?e:new n.WString(e),r.SetContent(i);const a=this.ToDateTime(new Date);r.SetCreationDateTime(a),r.SetModifiedDateTime(a);const s=this.JR.getUserName()||"Foxit Web";let c=new n.WString(s);return r.SetTitle(c),(0,E.Z)(o,i,c,a),this.pdfPage.reloadAnnots(),this.JR.annotManager.get(r,this.pdfPage)},r.addReviewState=function(e){switch(e){case C.R3.ACCEPTED:case C.R3.CANCELLED:case C.R3.COMPLETED:case C.R3.NONE:case C.R3.REJECTED:case C.R3.DEFERRED:case C.R3.FUTURE:break;default:if("object"==typeof e)return this.addStateFromJSON(this.engine.StateModel.e_StateModelReview,e);throw new Error(`Illegal argument: unexpected review state name: ${e}`)}return this._addState(this.engine.StateModel.e_StateModelReview,e)},r.addMarkedState=function(e){switch(e){case C.R3.MARKED:case C.R3.UNMARKED:break;default:if("object"==typeof e)return this.addStateFromJSON(this.engine.StateModel.e_StateModelMarked,e);throw new Error(`Illegal Argument: unexpected marked state name : ${e}, it should be 'marked' or 'unmarked'`)}let t=this.engine.StateModel.e_StateModelMarked,n=this.annot.GetStateAnnots(t);if(n.GetSize()){let t=n.GetAt(0);return t.SetState(this.convertToEngineStateValue(e)),this.JR.annotManager.get(t,this.pdfPage,t.GetIndex())}return this._addState(t,e)},r._addState=function(e,t){let n=this.annot,r=this.engine;n.IsGrouped()&&(n=n.GetGroupHeader());const i=this.JR.getUserName()||"Foxit Web";let o=new r.WString(i);const a=n.AddStateAnnot(o,e,this.convertToEngineStateValue(t));let s=new r.WString((0,T.Z)());a.SetUniqueID(s);const c=this.ToDateTime(new Date);return a.SetCreationDateTime(c),a.SetModifiedDateTime(c),(0,E.Z)(s,o,c),this.JR.annotManager.get(a,this.pdfPage,a.GetIndex())},r.addStateFromJSON=function(e,t){let r=this.annot;const i=this.engine;r.IsGrouped()&&(r=r.GetGroupHeader());const o=new i.WString(t.title||this.JR.getUserName()||"Foxit Web"),a=r.AddStateAnnot(o,e,this.convertToEngineStateValue(t.state.toLowerCase())),s=new i.WString(t.name||(0,T.Z)());let c,l;if(a.SetUniqueID(s),t.creationdate&&(c=n.parseDatetimeString(i,t.creationdate)),c||(c="number"==typeof t.creationTimestamp||t.creationTimestamp instanceof Date?this.ToDateTime(t.creationTimestamp):this.ToDateTime(Date.now())),a.SetCreationDateTime(c),t.date&&(l=n.parseDatetimeString(i,t.date)),l||(l="number"==typeof t.date||t.date instanceof Date?this.ToDateTime(t.date):this.ToDateTime(Date.now())),a.SetModifiedDateTime(l),t.flags){const e="number"==typeof t.flags?t.flags:n.parseFlagList(t.flags.split(","));a.SetFlags(e)}return(0,E.Z)(o,s,c,l),this.JR.annotManager.get(a,this.pdfPage,a.GetIndex())},r.removeAllStateAnnots=function(){let e=this.annot;e.IsGrouped()&&(e=e.GetGroupHeader());const t=e.RemoveAllStateAnnots();return t&&this.updateModifyTime(),t},r.convertToEngineStateValue=function(e){let t=this.engine.MarkupState;switch(e){case C.R3.ACCEPTED:return t.e_StateAccepted;case C.R3.CANCELLED:return t.e_StateCancelled;case C.R3.COMPLETED:return t.e_StateCompleted;case C.R3.NONE:return t.e_StateNone;case C.R3.REJECTED:return t.e_StateRejected;case C.R3.UNMARKED:return t.e_StateUnmarked;case C.R3.MARKED:return t.e_StateMarked;case C.R3.DEFERRED:return t.e_StateDeferred;case C.R3.FUTURE:return t.e_StateFuture;default:throw new Error(`unsupported state: ${e}`)}},r.remove=function(e=new O(this.pdfPage,this.annot.GetPage())){let t,r=this.annot,i=r.GetPage();if((t=r.GetGroupHeader())&&!t.IsEmpty()&&(r=t),r.IsGrouped()){let t=r.GetGroupElements();for(let r=t.GetSize();r--;){let o=t.GetAt(r),a=o.GetDict().GetObjNum();const s=this.pdfPage.annotManager.get(o,this.pdfPage);s instanceof n&&s.removeRelatives(e),i.RemoveAnnot(o)&&e.remove(a)}}else{this.removeRelatives(e);let t=r.GetDict().GetObjNum();i.RemoveAnnot(r)&&e.remove(t)}return this.pdfPage.update().then((()=>e.removedIds))},r.removeRelatives=function(t){const n=this.engine,r=this.annot;let i=r.GetPage();const o=[];let a;if((a=r.GetPopup())&&!a.IsEmpty()){let e=a.GetDict().GetObjNum();i.RemoveAnnot(a)&&t.remove(e)}for(let e=r.GetReplyCount();e--;){const n=r.GetReply(e).GetDict().GetObjNum();o.push(n);const a=t.indexOf(n),s=i.GetAnnot(a);this.pdfPage.annotManager.get(s,this.pdfPage).removeRelatives(t)}r.RemoveAllReplies()&&o.length>0&&t.remove.apply(t,o);let s=[],c=[],l=n.StateModel,u=l.e_StateModelMarked,d=l.e_StateModelReview;const h=r.GetStateAnnots(u);for(let e=h.GetSize();e--;){const t=h.GetAt(e);s[e]=t.GetDict().GetObjNum()}const f=r.GetStateAnnots(d);for(let e=f.GetSize();e--;){const t=f.GetAt(e);c[e]=t.GetDict().GetObjNum(),i.RemoveAnnot(t)}t.remove.apply(t,M(e.Z,[].concat(c).concat(s)))},r.moveTo=function(e,n){let r=this.annot;if(r.IsGrouped()){const t=this.annot.GetRect();let i=e-t.left,o=n-t.top,a=this.getShouldModifyAnnots(this);for(let e=a.length;e--;){let t=a[e].annot;const n=F.Z.on(t.GetRect()).move(i,o).extract();t.Move(n),t.ResetAppearanceStream(),v.Z.updateModifyTime(this.engine,r)}return B(a)}return t.prototype.moveTo.call(this,e,n)},r.setIntent=function(e){let t=this.annot;return t.SetIntent(new this.engine.String(e)),3!=this.annot.GetType().value&&t.ResetAppearanceStream(),[this.getId()]},r.create=function(e){let n;(n=e.intent)&&this.setIntent(n),t.prototype.create.call(this,e);let r,i=e.creationTimestamp;r=i>0?new Date(i):new Date,this.setCreateDateTime(r);let o,a,s,c=e.date;if(o=c>0?new Date(c):r,this.setModifiedDateTime(o),void 0!==e.opacity){let t=+e.opacity;this.setOpacity(t,!0)}if((a=e.subject)&&this.setSubject(a,!0),(s=void 0===e.title?this.JR.getUserName():e.title)&&this.setTitle(s,!0),e.noPopup)return[this];if("freetext"===e.type&&e.richText&&this.addRichText(e.richText),"freetext"!=e.type){let t=this.annot,n=t.GetPage(),r=this.engine,i=n.AddAnnot(r.AnnotType.e_Popup,t.GetRect());return t.SetPopup(new r.Popup(i)),i=this.JR.annotManager.get(i,this.pdfPage),e.name=void 0,[this,i.create(e)[0]]}return[this]},r._setFillColor=function(e){if("number"!=typeof e)throw new Error(`Incorrect color value: ${e}`);e<0&&(e=0);this.annot;const t=this.engine;let n;n=0===e?function(e){e.RemoveProperty({value:3}),e.ResetAppearanceStream(),v.Z.updateModifyTime(t,e)}:function(n){n.SetFillColor&&n.SetFillColor(e),n.ResetAppearanceStream(),v.Z.updateModifyTime(t,n)};let r=t.AnnotType,i=[r.e_Square,r.e_Circle,r.e_FreeText,r.e_Polygon,r.e_Redact],o=this.getShouldModifyAnnots(this,(function(e){let t=e.annot;return-1!==i.indexOf[t.GetType()]}));for(let e=o.length;e--;)n(o[e].annot);return o},r.getShouldModifyAnnots=function(e,t=function(e){return!0}){let n=e.annot;if(!n.IsGrouped())return[e];let r=[],i=n.GetGroupElements(),o=this.JR.annotManager,a=e.pdfPage;for(let e=i.GetSize();e--;)r[e]=o.get(i.GetAt(e),a);return r.filter(t)},r.setContent=function(e,t=!1,n=!0){let r=this.annot;!t&&r.IsGrouped()&&(r=r.GetGroupHeader());let i=this.engine,o=new i.WString(e);r.SetContent(o),o.delete(),this.JR.setFontCacheEnabled(!1);let a=r.GetType(),s=this.JR.getPDFString(r.GetIntent());return n&&(a===i.AnnotType.e_FreeText||a===i.AnnotType.e_Line||a===i.AnnotType.e_PolyLine&&"PolyLineDimension"===s||a===i.AnnotType.e_Polygon&&"PolygonDimension"===s||a===i.AnnotType.e_Circle&&"CircleDimension"===s)&&r.ResetAppearanceStream(),this.JR.setFontCacheEnabled(!0),this.updateModifyTime(),r.GetDict().GetObjNum()},r.setBorderStyle=function(e,t){let n=this.getShouldModifyAnnots(this);for(let r=n.length;r--;)n[r]._setBorderStyle(e,t),n[r].updateModifyTime();return B(n)},r._setBorderStyle=function(e,n){return t.prototype.setBorderStyle.call(this,e,n)},r.getRichText=function(){let e=this.annot.GetRichTextCount(),t=[];for(let n=0;n<e;n++){let e={},r=this.annot.GetRichTextContent(n);e.content=this.JR.getPDFString(r);let i=this.annot.GetRichTextStyle(n);if(e.richTextStyle={textSize:i.text_size,textAlignment:i.text_alignment.value,textColor:i.text_color,isBold:i.is_bold,isItalic:i.is_italic,isUnderline:i.is_underline,isStrikethrough:i.is_strikethrough,cornerMarkStyle:i.mark_style.value},!i.font.IsEmpty()){const t=this.JR.getPDFString(i.font.GetName()),n=R.mz[t];e.richTextStyle.fontName=n?n.split("-")[0]:t}t.push(e)}return t},r.getPDFRichTextStyle=function(e,t){let n=new this.engine.RichTextStyle;if(e.font){let{name:t,styles:r,charset:i}=e.font,o=(0,R.T2)(t);if(void 0!==o){const e=[this.engine.StandardID.e_StdIDCourier,this.engine.StandardID.e_StdIDCourierB,this.engine.StandardID.e_StdIDCourierBI,this.engine.StandardID.e_StdIDCourierI,this.engine.StandardID.e_StdIDHelvetica,this.engine.StandardID.e_StdIDHelveticaB,this.engine.StandardID.e_StdIDHelveticaBI,this.engine.StandardID.e_StdIDHelveticaI,this.engine.StandardID.e_StdIDTimes,this.engine.StandardID.e_StdIDTimesB,this.engine.StandardID.e_StdIDTimesBI,this.engine.StandardID.e_StdIDTimesI,this.engine.StandardID.e_StdIDSymbol,this.engine.StandardID.e_StdIDZapfDingbats];n.font=new this.engine.Font(e[o])}else try{n.font=new this.engine.Font((0,G.Dp)(this.engine,t),r||0,this.engine.Charset.values[i]||this.engine.Charset.e_CharsetANSI,0)}catch(e){n.font=new this.engine.Font(0)}}return null!=e.textSize?n.text_size=e.textSize:null!=t&&(n.text_size=t.text_size),null!=e.textAlignment&&(n.text_alignment=this.engine.Alignment.values[e.textAlignment]||this.engine.Alignment.e_AlignmentLeft),null!=e.textColor&&(n.text_color=e.textColor),null!=e.isBold&&(n.is_bold=e.isBold),null!=e.isItalic&&(n.is_italic=e.isItalic),null!=e.isUnderline&&(n.is_underline=e.isUnderline),null!=e.isStrikethrough&&(n.is_strikethrough=e.isStrikethrough),null!=e.cornerMarkStyle&&(n.mark_style=this.engine.TextScriptType.values[e.cornerMarkStyle]||this.engine.TextScriptType.e_CornerMarkNone),n},r.setRichTextStyle=function(e,t){let n=this.annot.GetRichTextStyle(e),r=this.getPDFRichTextStyle(t,n);this.annot.SetRichTextStyle(e,r),r.delete()},r.updateRichTextStyle=function(e,t){if(e.GetType()===this.engine.AnnotType.e_FreeText){const n=e.GetRichTextCount();for(let r=0;r<n;r++){let n=e.GetRichTextStyle(r);n.text_alignment=this.engine.Alignment.values[t]||this.engine.Alignment.e_AlignmentLeft,e.SetRichTextStyle(r,n)}}},r.setRichText=function(e){let t=!1,n=!1;const r=e.filter((e=>{let{index:t,richTextStyle:n}=e;return n&&void 0!==t}));let i=this.annot.GetType()===this.engine.AnnotType.e_FreeText&&r.length>0;if(i){const e=r[r.length-1].richTextStyle.textAlignment||0;this.updateRichTextStyle(this.annot,e)}e.forEach((e=>{let{index:o,content:a,richTextStyle:s}=e;if(void 0!==o&&a&&s){if(a){let e=new this.engine.WString(a);this.annot.SetRichTextContent(o,e),e.delete(),n=!0}if(s){if(i){const e=r[r.length-1].richTextStyle.textAlignment||0;s.textAlignment=e}this.setRichTextStyle(o,s)}t=!0}})),n&&this.updateContent(),t&&this.annot.ResetAppearanceStream()},r.addRichText=function(e){let t=!1;if(0===(e=e.filter((e=>{let{content:t,richTextStyle:n}=e;return t&&n}))).length)return;let n=this.annot.GetType()===this.engine.AnnotType.e_FreeText;const r=e[e.length-1].richTextStyle.textAlignment||0;n&&this.updateRichTextStyle(this.annot,r),e.forEach((e=>{let{content:i,richTextStyle:o}=e;if(i&&o){let e=new this.engine.WString(i);n&&(o.textAlignment=r);let a=this.getPDFRichTextStyle(o);this.annot.AddRichText(e,a),e.delete(),a.delete(),t=!0}})),t&&this.updateContent(),t&&this.annot.ResetAppearanceStream()},r.insertRichText=function(e){let t=!1;if(0===(e=e.filter((e=>{let{index:t,content:n,richTextStyle:r}=e;return n&&r&&null!=t}))).length)return;let n=this.annot.GetType()===this.engine.AnnotType.e_FreeText;const r=e[e.length-1].richTextStyle.textAlignment||0;n&&this.updateRichTextStyle(this.annot,r),e.forEach((e=>{let{index:i,content:o,richTextStyle:a}=e;if(o&&a&&null!=i){let e=new this.engine.WString(o);n&&(a.textAlignment=r);let s=this.getPDFRichTextStyle(a);this.annot.InsertRichText(i,e,s),e.delete(),s.delete(),t=!0}})),t&&this.updateContent(),t&&this.annot.ResetAppearanceStream()},r.removeRichText=function(e){let t=!1,n=this.annot.GetRichTextCount();if(e.length>1){function r(e,t){return e>t?-1:e<t?1:0}e=e.sort(r)}e.forEach((e=>{e>=0&&e<n&&(this.annot.RemoveRichText(e),t=!0)})),t&&this.updateContent(),t&&this.annot.ResetAppearanceStream()},r.updateContent=function(){let e=this.annot.GetRichTextCount(),t="";for(let n=0;n<e;n++){t+=this.JR.getPDFString(this.annot.GetRichTextContent(n))}let n=new this.engine.WString(t);this.annot.SetContent(n),n.delete()},r.setCaptionColor=function(e,t=!0){if(!this.annot.SetCaptionColor)return!1;let n=this.annot;return e<0&&(e=0),n.SetCaptionColor(e),t&&n.ResetAppearanceStream(),this.updateModifyTime(),!0},n}(v.Z);var k=N;function B(e){let t=[];for(let n=e.length;n--;)t[n]=e[n].getId();return t}let L=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.TextMarkup(e)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.annot,i=this.engine,o=r.GetQuadPoints(),a=o.GetSize(),s=[],c=!1,l=[],u=this.pdfPage.getNormalTextPageSync(),d=u.IsEmpty();for(let e=a;e--;){let t=o.GetAt(e);if(s[e]=[{x:t.first.x,y:t.first.y},{x:t.second.x,y:t.second.y},{x:t.third.x,y:t.third.y},{x:t.fourth.x,y:t.fourth.y}],!d){let n=new this.engine.CFX_FloatRect(t.first.x,t.fourth.y,t.fourth.x,t.first.y);if(n.Normalize(),n.Width()>1&&n.Height()>1){let t=u.GetTextInRect(n).toString();t&&!/\n/.test(t)||(c=!0),l[e]=t}n.delete()}t.delete()}if(n.quadPoints=s,!d){if(n.text=l.join("\r\n"),c||!a)n.startCharIndex=-1,n.endCharIndex=-1;else{let e=o.GetAt(0),t=Math.atan2(e.first.y-e.second.y,e.second.x-e.first.x),r=new i.Matrix;r.Rotate(-t,!1),r.Rotate(-Math.PI/2,!1),r.Translate((e.first.x+e.third.x)/2,(e.first.y+e.third.y)/2,!1);let s=Math.min(3,Math.sqrt(Math.pow(e.third.y-e.first.y,2)+Math.pow(e.third.x-e.first.x,2))),c=0,l=s,d=r.a*c+r.c*l+r.e,h=r.b*c+r.d*l+r.f;r.delete();let f=n.startCharIndex=u.GetIndexAtPos(d,h,20);if(-1!==f){u.GetTextRectCount(f,1);let e=u.GetTextRect(0),t=e.left,r=e.right,i=e.top,o=e.bottom,a=u.GetBaselineRotation(0),s=this.getRectArray(u,f,f);s.length&&(0===a.value||2===a.value?(i=Math.max(s[0].top,i),o=Math.min(s[0].bottom,o)):(t=Math.max(s[0].left,t),r=Math.min(s[0].right,r))),n.startCharInfo={charIndex:f,left:t,right:r,top:i,bottom:o,rotation:a.value}}let g=o.GetAt(a-1),p=Math.atan2(g.first.y-g.second.y,g.second.x-g.first.x),m=new i.Matrix;m.Rotate(-p,!1),m.Rotate(-Math.PI/2,!1),m.Translate((g.second.x+g.fourth.x)/2,(g.second.y+g.fourth.y)/2,!1),s=Math.min(3,Math.sqrt(Math.pow(g.fourth.y-g.second.y,2)+Math.pow(g.fourth.x-g.second.x,2))),c=0,l=-s,d=m.a*c+m.c*l+m.e,h=m.b*c+m.d*l+m.f,m.delete();let _=n.endCharIndex=u.GetIndexAtPos(d,h,2);if(-1!==_){let e=u.GetTextRectCount(_,1),t=u.GetTextRect(e-1),r=t.left,i=t.right,o=t.top,a=t.bottom,s=u.GetBaselineRotation(0),c=this.getRectArray(u,_,_);c.length&&(0===s.value||2===s.value?(o=Math.max(c[0].top,o),a=Math.min(c[0].bottom,a)):(r=Math.max(c[0].left,r),i=Math.min(c[0].right,i))),n.endCharInfo={charIndex:_,left:r,right:i,top:o,bottom:a,rotation:s.value}}}if(n.startCharIndex>n.endCharIndex){let e=n.startCharIndex;n.startCharIndex=n.endCharIndex,n.endCharIndex=e,e=n.startCharInfo,n.startCharInfo=n.endCharInfo,n.endCharInfo=e}-1===n.startCharIndex||-1===n.endCharIndex?c=!0:n.continuousText=u.GetChars(n.startCharIndex,n.endCharIndex-n.startCharIndex+1),n.continuousText=n.continuousText||n.text}return n.isArea=c,o.delete(),u.delete(),n},n.updateQuadPointsByCharIndex=function(e,t){if(-1===e||-1===t)return!1;if(e>t){let n=e;e=t,t=n}let n=this.pdfPage.getNormalTextPageSync(),r=n.GetTextRectCount(e,t-e+1);if(r<1)return n.delete(),!1;let i=this.getRectArray(n,e,t),o=this.engine,a=new o.QuadPointsArray,s=o.QuadPoints,c=o.PointF;for(let e=0,t=r;e<t;e++){let t=n.GetTextRect(e),r=n.GetBaselineRotation(e),o=t.top,l=t.right,u=t.bottom,d=t.left;i[e]&&(0===r.value||2===r.value?(o=Math.max(i[e].top,o),u=Math.min(i[e].bottom,u)):(d=Math.max(i[e].left,d),l=Math.min(i[e].right,l)));let h,f,g,p,m=new c(d,o),_=new c(l,o),y=new c(d,u),S=new c(l,u);switch(r.value%4){case 0:h=m,f=_,g=y,p=S;break;case 1:h=m,f=y,g=_,p=S;break;case 2:h=S,f=y,g=_,p=m;break;case 3:h=S,f=_,g=y,p=m}a.Add(new s(h,f,g,p))}let l=this.annot;return l.SetQuadPoints(a),l.ResetAppearanceStream(),a.delete(),n.delete(),this.updateModifyTime(),!0},n.create=function(t){let n=e.prototype.create.call(this,t),r=this.engine;if(void 0!==t.startCharIndex&&void 0!==t.endCharIndex)this.updateQuadPointsByCharIndex(t.startCharIndex,t.endCharIndex);else if(t.coords){if(0===t.coords.length)throw new Error(`Annot [${t.type}] coords is missing!`);let e=t.coords,n=new r.QuadPointsArray,o=r.QuadPoints,a=r.PointF,s=this.pdfPage.getNormalTextPageSync();for(let t=0,r=e.length;t<r;t++){let r=e[t],c=r.top,l=r.right,u=r.bottom,d=r.left,h=s.GetIndexAtPos((d+l)/2,(u+c)/2,2),f=0;s.GetTextRectCount(h,3)>0&&(f=s.GetBaselineRotation(0).value),i(r,f,n,o,a)}let c=this.annot;c.SetQuadPoints(n),c.ResetAppearanceStream(),n.delete(),s.delete()}else{let e=t.rect;if(e.right-e.left<.5||e.top-e.bottom<.5)throw new Error(`Annot [${t.type}] rect is missing!`);let n=new r.QuadPointsArray,o=r.QuadPoints,a=r.PointF;this.pdfPage.getTextRectsAtRect2(t.rect).then((e=>{e.forEach((e=>{i(e,e.rotation,n,o,a)}));let t=this.annot;t.SetQuadPoints(n),t.ResetAppearanceStream(),n.delete()}))}return n;function i(e,t,n,r,i){let{left:o,top:a,right:s,bottom:c}=e;switch(t%4){case 0:n.Add(new r(new i(o,a),new i(s,a),new i(o,c),new i(s,c)));break;case 1:n.Add(new r(new i(o,c),new i(o,a),new i(s,c),new i(s,a)));break;case 2:n.Add(new r(new i(s,c),new i(o,c),new i(s,a),new i(o,a)));break;case 3:n.Add(new r(new i(s,a),new i(s,c),new i(o,a),new i(o,c)))}}},n.getRectArray=function(e,t,n){let r=[],i=t;for(;i<n+1;){let t=e.GetLineStart(i),o=e.GetLineEnd(i);-1===t&&(t=i),-1===o&&(o=i);let a=e.GetRectArray(t,o-t+1),s=o;s>n&&(s=n);let c=e.GetRectArray(i,s-i+1);if(a.GetSize()){let e=a.GetAt(0);for(let t=0;t<c.GetSize();t++){let n=c.GetAt(t),{left:i,top:o,right:a,bottom:s}=n;o=e.top,s=e.bottom,r.push({left:i,top:o,right:a,bottom:s})}}i=s+1}return r},t}(k);var j=L;let U=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Highlight(e)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.annot,i=this.engine;return r.GetDict().HasKey((0,G.n5)(i,"AreaHi"))&&(n.isArea=!0),n},n.setRect=function(t){let n=this.engine,r=new n.QuadPointsArray,i=n.QuadPoints,o=n.PointF;return r.Add(new i(new o(t.left,t.top),new o(t.right,t.top),new o(t.left,t.bottom),new o(t.right,t.bottom))),this.annot.SetQuadPoints(r),this.annot.ResetAppearanceStream(),e.prototype.setRect.call(this,t)},n.move=function(e,t){const n=this.annot.GetRect(),r=n.left+e,i=n.right+e,o=n.top+t,a=n.bottom+t;let s=this.engine,c=new s.QuadPointsArray,l=s.QuadPoints,u=s.PointF;c.Add(new l(new u(r,o),new u(i,o),new u(r,a),new u(i,a))),this.annot.SetQuadPoints(c),c.delete(),this.annot.ResetAppearanceStream();let d=new this.engine.CFX_FloatRect(r,a,i,o),h=this.annot.Move(d);return d.delete(),h},n.create=function(t){let n=e.prototype.create.call(this,t),r=t.color;return r=r||0==r?r:16776960,this.setBorderColor(r),n},t}(j);var W=U;let H=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.StrikeOut(e)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t);return n.IRT&&"Group"==n.RT&&""==n.intent&&(n.intent="StrikeOutTextEdit"),this.isReplace()&&(n.typeAlias="Replace"),n},n.updateQuadPointsByCharIndex=function(t,n){return e.prototype.updateQuadPointsByCharIndex.call(this,t,n)},n.isReplace=function(){let e,t,n=this.annot;if(n.IsGrouped()&&(e=n.GetGroupElements())&&2===(t=e.GetSize())){let n=["AnnotType_e_StrikeOut","AnnotType_e_Caret"];for(let r=t;r--;){let t=e.GetAt(r),i=n.indexOf(t.GetType().constructor.name);if(t.delete(),-1===i)return e.delete(),!1}return e.delete(),!0}return e&&e.delete(),!1},n.create=function(t){let n=e.prototype.create.call(this,t),r=t.color;return t.subject&&"replace"===t.subject.toLocaleLowerCase()?(r=r||0==r?r:255,this.setBorderColor(r)):(r=r||0==r?r:16711680,this.setBorderColor(r)),n},t}(j);var z=H;let K=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Underline(e)},n.create=function(t){let n=e.prototype.create.call(this,t),r=t.color;return r=r||0==r?r:6736947,this.setBorderColor(r),n},t}(j);var J=K;function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Y=__webpack_require__(1656);const Z="vertical",q="horizontal";let X=function(){function e(e,t){this.fromInchRate=e,this.name=t,Object.defineProperties(this,{fromInchRate:{value:e,enumerable:!0,writable:!1,configurable:!0},name:{value:t,enumerable:!0,writable:!1,configurable:!0}})}var t=e.prototype;return t.convertTo=function(e,t){return e/this.fromInchRate*t.fromInchRate},t.convertAreaTo=function(e,t){return e/Math.pow(this.fromInchRate,2)*Math.pow(t.fromInchRate,2)},(0,Y.Z)(e,[{key:"isPixel",get:function(){return!1}}]),e}(),Q=function(e){function n(n){var r;return(r=e.call(this,0,"px")||this).orientation=n,Object.defineProperty(V(r),"fromInchRate",{get(){const e=(0,t.EF)();switch(n){case q:return e.x;case Z:return e.y;default:return e.x}}}),r}return(0,w.Z)(n,e),(0,Y.Z)(n,[{key:"isPixel",get:function(){return!0}}]),n}(X);var $={inch:"inch",custom:"custom",mi:"mi",pt:"pt",ft:"ft",yd:"yd",km:"km",m:"m",cm:"cm",mm:"mm",pica:"pica"};const ee=new X(1,$.inch),te=new X(1,$.custom),ne=new X(1/63360,$.mi),re=new X(72,$.pt),ie=new X(1/12,$.ft),oe=new X(1/36,$.yd),ae=new X(.0254/1e3,$.km),se=new X(.0254,$.m),ce=new X(2.54,$.cm),le=new X(25.4,$.mm),ue=new X(6,$.pica),de=new Q(q),he=(new Q(Z),{[ee.name]:ee,[te.name]:te,[ne.name]:ne,[re.name]:re,[ie.name]:ie,[oe.name]:oe,[ae.name]:ae,[se.name]:se,[ce.name]:ce,[le.name]:le,[ue.name]:ue,[de.name]:de});function fe(e){switch(e=(e=e.toLowerCase()).replace(/[^a-z]/g,"")){case"in":e="inch";break;case"p":e="pica"}return he[e]}function ge(e){let t=1;switch(e){case"pt":t=72;break;case"in":case"inch":default:t=1;break;case"cm":t=2.54;break;case"p":case"pica":t=5.9;break;case"mm":t=25.4}return t}function pe(e){const t=e.match(/(\d+(\.\d+)?)\s+(\w+)\s+=\s+(\d+(\.\d+)?)\s+(\w+)/);if(!t)return;let[,n,,r,i,,o]=t;return"in"===r&&(r="inch"),"in"===o&&(o="inch"),{fScale:parseFloat(n),fUnit:fe(r),tScale:parseFloat(i),tUnit:fe(o)}}let me=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Line(e)},n.calculateLength=function(){let e=this.annot.GetMeasureRatio().toString(),t=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString();if(0==t.length&&(t=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString()),0==e.length)return;"p"==t&&(t="pica");let n=this.annot.GetEndPoint(),r=this.annot.GetStartPoint(),i=n.x-r.x,o=n.y-r.y,a=Math.sqrt(i*i+o*o);const s=pe(e);if(!s)return;const{fScale:c,fUnit:l,tScale:u,tUnit:d}=s;a=a*u/l.convertTo(c,re),a=Math.round(100*a)/100;let h=this.annot.GetContent().toString();const f=h.indexOf("\n"),g=h.lastIndexOf(" "),p=(g>=0&&h.substr(g+1),h.substr(0,-1===f?f:f+1));let m=new this.engine.WString(p+a+" "+t);this.annot.SetContent(m),m.delete()},n.enableCaption=function(e){return this.annot.EnableCaption(e),this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0},n.setFillColor=function(e){if("number"!=typeof e)throw new Error(`Incorrect color value: ${e}`);return 0===e?(this.annot.RemoveProperty({value:3}),this.annot.ResetAppearanceStream()):(this.annot.SetStyleFillColor(e),this.annot.ResetAppearanceStream()),this.updateModifyTime(),[this]},n.setCaptionOffset=function(e,t){let n=new this.engine.PointF(e,t);this.annot.SetCaptionOffset(n),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setCaptionPositionType=function(e){},n.setEndPoint=function(e,t){let n=new this.engine.PointF(e,t);this.annot.SetEndPoint(n),this.calculateLength(),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setLeaderLineExtensionLength=function(e){this.annot.SetLeaderLineExtensionLength(e),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setLeaderLineLength=function(e){this.annot.SetLeaderLineLength(e),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setLeaderLineOffset=function(e){this.annot.SetLeaderLineOffset(e),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setLineEndStyle=function(e){let t=this.engine.EndingStyle.values[e];this.annot.SetLineEndStyle(t),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setLineStartStyle=function(e){let t=this.engine.EndingStyle.values[e];this.annot.SetLineStartStyle(t),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setMeasureConversionFactor=function(e,t){},n.setMeasureRatio=function({userSpaceValue:e=1,userSpaceUnit:t="inch",realValue:n=1,realUnit:r="inch"}={}){let i=new this.engine.String(`${e} ${t} = ${n} ${r}`);this.annot.SetMeasureRatio(i),this.calculateLength(),this.annot.ResetAppearanceStream(),i.delete()},n.setMeasureUnit=function(e,t=2){let n=new this.engine.String(e);this.annot.SetMeasureUnit(this.engine.MeasureType.values[t],n),this.calculateLength(),this.annot.ResetAppearanceStream(),n.delete()},n.setStartPoint=function(e,t){let n=new this.engine.PointF(e,t);this.annot.SetStartPoint(n),n.delete(),this.calculateLength(),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.create=function(t){let n=e.prototype.create.call(this,t),r=this.annot,{startStyle:i,endStyle:o,rect:a,enableCaption:s,startPoint:c,endPoint:l}=t;if(i=i||0,o=o||0,void 0!==C.E2[i]&&this.setLineStartStyle(i),t.length&&this.setLeaderLineLength(t.length),t.intent==C.WA.LINE_DIMENSION&&(t.leaderLineLength&&this.setLeaderLineLength(t.leaderLineLength),t.leaderLineExtend&&this.setLeaderLineExtensionLength(t.leaderLineExtend)),t.borderWidth&&this.setBorderWidth(t.borderWidth),t.borderStyle&&this.setBorderStyle(t.borderStyle,t.borderStyleParam),t.styleFillColor&&this.setFillColor(t.styleFillColor),t.fillColor&&this.setFillColor(t.fillColor),C.E2[o]&&this.setLineEndStyle(o),"boolean"==typeof s&&r.EnableCaption(s),(t.captionColor||0===t.captionColor)&&("string"==typeof t.captionColor&&(t.captionColor=parseInt(t.captionColor,16)),this.setCaptionColor(t.captionColor,!1)),void 0!==c?this.setStartPoint(c.x,c.y):this.setStartPoint(a.left,a.top),void 0!==l?this.setEndPoint(l.x,l.y):this.setEndPoint(a.right,a.bottom),t.measure){this.annot.SetMeasureConversionFactor(0,2);let{userSpaceValue:e=1,userSpaceUnit:n="inch",realValue:r=1,realUnit:i="inch"}=t.measure.ratio,o=new this.engine.String(t.measure.unit);this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeA,o),o=new this.engine.String(i),this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD,o),o=new this.engine.String(n);let a=ge(n);a=a*r/e,this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX,o),this.annot.SetMeasureConversionFactor(this.engine.MeasureType.e_MeasureTypeX,1*a/72),this.setMeasureRatio(t.measure.ratio),o.delete()}return this.calculateLength(t.label),n},n.toJson=function(t){let n=e.prototype.toJson.call(this,t);if(0==n.borderInfo.width){n.borderInfo.width=1;let e=this.annot.GetBorderInfo();e.width=1,this.annot.SetBorderInfo(e)}let r,i,o=this.annot.GetCaptionOffset(),a=this.annot.GetCaptionPositionType(),s=this.annot.GetEndPoint(),c=this.annot.GetLeaderLineExtensionLength(),l=this.annot.GetLeaderLineLength(),u=this.annot.GetLeaderLineOffset(),d=this.annot.GetLineEndStyle(),h=this.annot.GetLineStartStyle(),f=this.annot.GetMeasureConversionFactor(0);try{r=this.annot.GetMeasureRatio().toString(),i=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString(),0==i.length&&(i=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString())}catch(e){r=this.JR.getHexString(this.annot.GetMeasureRatio()),i=this.JR.getHexString(this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD)),0==i.length&&(i=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString())}let g=this.annot.GetStartPoint();n.styleFillColor=this.getFillColor();let p=this.annot.HasCaption(),m=this.annot.GetCaptionColor(),_={captionOffset:{x:o.x,y:o.y},capPos:a.value,endPoint:{x:s.x,y:s.y},leaderLineExtensionLength:c,leaderLineLength:l,leaderLineOffset:u,endingStyle:d.value,startStyle:h.value,measureConversionFactor:f,measureRatio:r,measureUnit:i,startPoint:{x:g.x,y:g.y},hasCaption:p,captionColor:m};return(0,P.Z)(_,n)},t}(k);var _e=me;__webpack_require__(278),__webpack_require__(4564),__webpack_require__(385);let ye=function(){function e(e,t){this.startPoint=e,this.points=t}var t=e.prototype;return t.isEmpty=function(){return 0===this.points.length},t.optimize=function(){const t=Array.from(new Set(this.points.map((e=>JSON.stringify(e))))).map((e=>JSON.parse(e)));if(1===t.length){const e=t[0];"lineTo"===e.type&&e.x===this.startPoint.x&&e.y===this.startPoint.y&&(t.length=0)}return new e(this.startPoint,t)},e}(),Se=function(){function e(e,t){this.startPoint=e,this.points=t}e.fromGSDKPath=function(t,n){const r=t.GetPointCount();if(0===r)return null;const i=n.PointType,o=[];let a=0;for(;;){const e=t.GetPointType(a),n=t.GetPoint(a);switch(e){case i.e_TypeLineTo:case i.e_TypeLineToCloseFigure:o.push({type:"lineTo",x:n.x,y:n.y,closeFigure:e===i.e_TypeLineToCloseFigure}),a++;break;case i.e_TypeMoveTo:o.push({type:"moveTo",x:n.x,y:n.y}),a++;break;case i.e_TypeBezierTo:const r=[],s=a+3;for(;a<s;a++){const e=t.GetPoint(a);r.push({x:e.x,y:e.y,closeFigure:t.GetPointType(a)===i.e_TypeBezierToCloseFigure})}o.push({type:"cubicBezierTo",operands:r})}if(a>=r-1)break}return new e(o[0],o.slice(1))},e.fromPointArray=function(t){if(t.length<2)throw new Error("Invalid path point array! The point count must be greater than 2");if("moveTo"!==t[0].type)throw new Error("Invalid path point array!, The type of first point must be 'moveTo'");return new e(t[0],t.slice(1))};var n=e.prototype;return n.getSegments=function(){return this.points.reduce(((e,t)=>{const n=e[e.length-1];return"lineTo"===t.type||"cubicBezierTo"==t.type?n.points.push(t):e.push(new ye(t,[])),e}),[new ye(this.startPoint,[])])},n.toPointArray=function(){return[this.startPoint].concat(this.points)},n.toVertexesArray=function(){return this.toPointArray().flatMap((function(e){return"cubicBezierTo"===e.type?e.operands.map((e=>({type:e.closeFigure?C.Xt.BEZIER_TO_CLOSE_FIGURE:C.Xt.BEZIER_TO,x:e.x,y:e.y}))):[{x:e.x,y:e.y,type:"lineTo"===e.type?e.closeFigure?C.Xt.LINE_TO_CLOSE_FIGURE:C.Xt.LINE_TO:C.Xt.MOVE_TO}]}))},n.updatePoint=function(e,n){!function(e){if((0,t.qh)(e.x)&&(0,t.qh)(e.y))return!0;throw new Error(`Incorrect point: ${JSON.stringify(e)}`)}(n);const r=[this.startPoint].concat(this.points.flatMap((e=>"cubicBezierTo"===e.type?e.operands:e)));r[e].x=n.x,r[e].y=n.y},n.toGSDKPath=function(e){const t=new e.Path,n=e.PointF;return this.toPointArray().forEach((e=>{switch(e.type){case"moveTo":t.MoveTo(new n(e.x,e.y));break;case"lineTo":t.LineTo(new n(e.x,e.y)),e.closeFigure&&t.CloseFigure();break;case"cubicBezierTo":const r=e.operands;t.CubicBezierTo(new n(r[0].x,r[0].y),new n(r[1].x,r[1].y),new n(r[2].x,r[2].y));break;default:throw new Error(`Incorrect point: ${JSON.stringify(e)}, its type must be one of 'moveTo', 'lineTo' or 'cubicBezier'`)}})),t},e}();let be=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.PolyLine(e)},n.setLineEndStyle=function(e){let t=this.engine.EndingStyle.values[e];this.annot.SetLineEndStyle(t),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setLineStartStyle=function(e){let t=this.engine.EndingStyle.values[e];this.annot.SetLineStartStyle(t),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setFillColor=function(e){if("number"!=typeof e)throw new Error(`Incorrect color value: ${e}`);return 0===e?(this.annot.RemoveProperty({value:3}),this.annot.ResetAppearanceStream()):(this.annot.SetStyleFillColor(e),this.annot.ResetAppearanceStream()),this.updateModifyTime(),[this]},n.calculatePerimeter=function(){let e=this.annot.GetMeasureRatio().toString(),t=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString();if(0==t.length&&(t=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString()),0==e.length)return;let n=this.annot.GetVertexes();if(n.length<2)return;const r=pe(e);if(!r)return;const{fScale:i,fUnit:o,tScale:a,tUnit:s}=r;let c=0,l=n.GetAt(0);for(let e=1;e<n.GetSize();e++){let t=n.GetAt(e),r=t.x-l.x,s=t.y-l.y,u=Math.sqrt(r*r+s*s);u=u*a/o.convertTo(i,re),c+=u,l=t}let u=this.annot.GetContent().toString();const d=u.indexOf("\n"),h=u.substr(0,-1===d?d:d+1);let f=new this.engine.WString(h+Math.round(100*c)/100+" "+t);this.annot.SetContent(f),f.delete()},n.setMeasureUnit=function(e,t=2){let n=new this.engine.String(e);this.annot.SetMeasureUnit(this.engine.MeasureType.values[t],n),this.calculatePerimeter(),this.annot.ResetAppearanceStream(),n.delete()},n.enableCaption=function(e){return this.annot.EnableCaption(e),this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0},n.updateVertexes=function(e,t,n){let r=this.annot.GetVertexes(),i=new this.engine.PointF(t,n);r.SetAt(parseInt(e),i),i.delete(),this.annot.SetVertexes(r),this.calculatePerimeter(),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setVertexes=function(e){const t=e.reduce(((e,{x:t,y:n})=>{let r=new this.engine.PointF(t,n);return e.Add(r),r.delete(),e}),new this.engine.PointFArray);this.annot.SetVertexes(t),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setMeasureRatio=function({userSpaceValue:e=1,userSpaceUnit:t="inch",realValue:n=1,realUnit:r="inch"}={}){let i=new this.engine.String(`${e} ${t} = ${n} ${r}`);this.annot.SetMeasureRatio(i),this.calculatePerimeter(),this.annot.ResetAppearanceStream(),i.delete()},n.getPath=function(){const e=this.annot.GetPath(),t=Se.fromGSDKPath(e,this.engine);return t?t.toPointArray():null},n.setPath=function(e){this.annot.SetPath(Se.fromPointArray(e).toGSDKPath(this.engine)),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.updatePathPoint=function(e,t){const n=Se.fromGSDKPath(this.annot.GetPath(),this.engine);n.updatePoint(e,t),this.annot.SetPath(n.toGSDKPath(this.engine)),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.create=function(t){let n=e.prototype.create.call(this,t);if("boolean"==typeof t.enableCaption&&this.annot.EnableCaption(t.enableCaption),t.vertexes){const e=t.vertexes.reduce(((e,{x:t,y:n})=>{let r=new this.engine.PointF(t,n);return e.Add(r),r.delete(),e}),new this.engine.PointFArray);this.annot.SetVertexes(e),this.annot.ResetAppearanceStream()}if(t.fillColor&&this.setFillColor(t.fillColor),t.borderWidth&&this.setBorderWidth(t.borderWidth),t.borderStyle&&this.setBorderStyle(t.borderStyle,t.borderStyleParam),t.startStyle&&this.setLineStartStyle(t.startStyle),t.endStyle&&this.setLineEndStyle(t.endStyle),(t.captionColor||0===t.captionColor)&&("string"==typeof t.captionColor&&(t.captionColor=parseInt(t.captionColor,16)),this.setCaptionColor(t.captionColor,!1)),t.measure){this.annot.SetMeasureConversionFactor(0,2);let{userSpaceValue:e=1,userSpaceUnit:n="inch",realValue:r=1,realUnit:i="inch"}=t.measure.ratio,o=new this.engine.String(t.measure.unit);this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeA,o),o=new this.engine.String(i),this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD,o),o=new this.engine.String(n);let a=ge(n);a=a*r/e,this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX,o),this.annot.SetMeasureConversionFactor(this.engine.MeasureType.e_MeasureTypeX,1*a/72),this.setMeasureRatio(t.measure.ratio),o.delete()}return n},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.annot.HasCaption(),i=this.annot.GetCaptionColor(),o=this.annot.GetLineEndStyle(),a=this.annot.GetLineStartStyle(),s=this.annot.GetVertexes();n.fillColor=this.getFillColor();let c,l,u=this.annot.GetMeasureConversionFactor(0);try{c=this.annot.GetMeasureRatio().toString(),l=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString(),0==l.length&&(l=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString())}catch(e){c=this.JR.getHexString(this.annot.GetMeasureRatio()),l=this.JR.getHexString(this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD)),0==l.length&&(l=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString())}let d=[];for(let e=0;e<s.GetSize();e++){let t=s.GetAt(e);d.push({x:t.x,y:t.y})}const h=this.getPath();let f={endingStyle:o.value,startStyle:a.value,vertexes:d,path:h,measureConversionFactor:u,measureRatio:c,measureUnit:l,hasCaption:r,captionColor:i};return(0,P.Z)(f,n)},t}(k);var Ie=be;let Ae=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Polygon(e)},t.caculateTriangleArea=function(e,t,n,r){r[FIELD_USER_SPACE_SCALE],r[FIELD_USER_SPACE_UNIT],r[FIELD_REAL_SCALE]},t.caculatePolygonArea=function(e,t){let n={x:0,y:0},r=0;for(let i=1;i<=e.length;++i)i<e.length?r+=MathAlgorithm.caculateTriangleArea(n,e[i-1],e[i],t):r+=MathAlgorithm.caculateTriangleArea(n,e[i-1],e[0],t);return Math.abs(r)},n.calculateArea=function(){let e=this.annot.GetMeasureRatio().toString(),t=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString();if(0==t.length&&(t=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString()),0==e.length)return;let n=this.annot.GetVertexes();if(n.length<2)return;const r=pe(e);if(!r)return;const{fScale:i,fUnit:o,tScale:a,tUnit:s}=r;let c=(e,t,n)=>{let r=e.x*t.y+t.x*n.y+n.x*e.y-(e.x*n.y+t.x*e.y+n.x*t.y);return r/=2,re.convertAreaTo(r,o)*Math.pow(a/i,2)},l=(e=>{let t={x:0,y:0},n=0;for(let r=1;r<=e.GetSize();++r)r<e.GetSize()?n+=c(t,e.GetAt(r-1),e.GetAt(r)):n+=c(t,e.GetAt(r-1),e.GetAt(0));return Math.abs(n)})(n),u=this.annot.GetContent().toString();const d=u.indexOf("\n");let h=u.substr(0,-1===d?d:d+1)+Math.round(100*l)/100+" sq "+t;(l<1e-6||0===parseFloat(l.toFixed(2)))&&(h="");let f=new this.engine.WString(h);this.annot.SetContent(f),f.delete()},n.updateVertexes=function(e,t,n){let r=this.annot.GetVertexes(),i=new this.engine.PointF(t,n);r.SetAt(parseInt(e),i),i.delete(),this.annot.SetVertexes(r),this.calculateArea(),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setVertexes=function(e){const t=e.reduce(((e,{x:t,y:n})=>{let r=new this.engine.PointF(t,n);return e.Add(r),r.delete(),e}),new this.engine.PointFArray);this.annot.SetVertexes(t),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setMeasureRatio=function({userSpaceValue:e=1,userSpaceUnit:t="inch",realValue:n=1,realUnit:r="inch"}={}){let i=new this.engine.String(`${e} ${t} = ${n} ${r}`);this.annot.SetMeasureRatio(i),this.calculateArea(),this.annot.ResetAppearanceStream(),i.delete()},n.setMeasureUnit=function(e,t=2){let n=new this.engine.String(e);this.annot.SetMeasureUnit(this.engine.MeasureType.values[t],n),this.calculateArea(),this.annot.ResetAppearanceStream(),n.delete()},n.enableCaption=function(e){return this.annot.EnableCaption(e),this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0},n.getPath=function(){const e=this.annot.GetPath(),t=Se.fromGSDKPath(e,this.engine);return t?t.toPointArray():null},n.setPath=function(e){this.annot.SetPath(Se.fromPointArray(e).toGSDKPath(this.engine)),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.updatePathPoint=function(e,t){const n=Se.fromGSDKPath(this.annot.GetPath(),this.engine);n.updatePoint(e,t),this.annot.SetPath(n.toGSDKPath(this.engine)),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.create=function(t){let n=e.prototype.create.call(this,t);if("boolean"==typeof t.enableCaption&&this.annot.EnableCaption(t.enableCaption),t.vertexes&&this.setVertexes(t.vertexes),t.borderInfo&&this.setBorderInfo(t.borderInfo),t.fillColor&&this.setFillColor(t.fillColor),(t.captionColor||0===t.captionColor)&&("string"==typeof t.captionColor&&(t.captionColor=parseInt(t.captionColor,16)),this.setCaptionColor(t.captionColor,!1)),t.measure){this.annot.SetMeasureConversionFactor(0,2);let{userSpaceValue:e=1,userSpaceUnit:n="inch",realValue:r=1,realUnit:i="inch"}=t.measure.ratio,o=new this.engine.String(t.measure.unit);this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeA,o),o=new this.engine.String(i),this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD,o),o=new this.engine.String(n);let a=ge(n);a=a*r/e,this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX,o),this.annot.SetMeasureConversionFactor(this.engine.MeasureType.e_MeasureTypeX,1*a/72),this.setMeasureRatio(t.measure.ratio),o.delete()}return n},n.toJson=function(t){let n=e.prototype.toJson.call(this,t);n.fillColor=this.getFillColor();let r=this.annot.HasCaption(),i=this.annot.GetCaptionColor(),o=this.annot.GetVertexes(),a=[];for(let e=0;e<o.GetSize();e++){let t=o.GetAt(e);a.push({x:t.x,y:t.y})}const s=this.annot.GetMeasureConversionFactor(0);let c,l;try{c=this.annot.GetMeasureRatio().toString(),l=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString(),0==l.length&&(l=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString())}catch(e){c=this.JR.getHexString(this.annot.GetMeasureRatio()),l=this.JR.getHexString(this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD)),0==l.length&&(l=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString())}let u={vertexes:a,path:this.getPath(),measureRatio:c,measureUnit:l,measureConversionFactor:s,hasCaption:r,captionColor:i};return(0,P.Z)(u,n)},n.setFillColor=function(t){return e.prototype._setFillColor.call(this,t)},t}(k);var De=Ae;let ve=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Squiggly(e)},n.create=function(t){let n=e.prototype.create.call(this,t),r=t.color;return r=r||0==r?r:16737843,this.setBorderColor(r),n},t}(j);var we=ve;let Pe=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Note(e)},n.setIconName=function(e){let t=this.annot;return t.SetIconName((0,G.n5)(this.engine,e)),t.ResetAppearanceStream(),this.updateModifyTime(),!0},n.setOpenStatus=function(e){return this.annot.SetOpenStatus(e),annot.ResetAppearanceStream(),this.updateModifyTime(),!0},n.setStateName=function(e){let t=this.engine.StateModel;const n=this.annot;if(!n.IsStateAnnot())return!1;let r,i=this.engine.MarkupState;switch(n.GetStateModel()){case t.e_StateModelMarked:switch(e){case C.R3.UNMARKED:r=i.e_StateUnmarked;break;case C.R3.MARKED:r=i.e_StateMarked;break;default:throw new Error(`Illegal argument: incorrect state name in marked state model: ${e}`)}break;case t.e_StateModelReview:switch(e){case C.R3.ACCEPTED:r=i.e_StateAccepted;break;case C.R3.CANCELLED:r=i.e_StateCancelled;break;case C.R3.COMPLETED:r=i.e_StateCompleted;break;case C.R3.NONE:r=i.e_StateNone;break;case C.R3.REJECTED:r=i.e_StateRejected;break;case C.R3.DEFERRED:r=i.e_StateDeferred;break;case C.R3.FUTURE:r=i.e_StateFuture;break;default:throw new Error(`Illegal argument: incorrect state name in review state model: ${e}`)}}return n.SetState(r),this.updateModifyTime(),!0},n.toJson=function(t){let n=e.prototype.toJson.call(this,t);if(n.flag|=24,n.iconName=this.annot.GetIconName().toString(),this.annot.IsStateAnnot()){let e=this.engine.MarkupState;switch(n.isStateAnnot=!0,this.annot.GetState()){case e.e_StateAccepted:n.state=C.R3.ACCEPTED;break;case e.e_StateCancelled:n.state=C.R3.CANCELLED;break;case e.e_StateCompleted:n.state=C.R3.COMPLETED;break;case e.e_StateNone:n.state=C.R3.NONE;break;case e.e_StateRejected:n.state=C.R3.REJECTED;break;case e.e_StateDeferred:n.state=C.R3.DEFERRED;break;case e.e_StateFuture:n.state=C.R3.FUTURE;break;case e.e_StateUnmarked:n.state=C.R3.UNMARKED;break;case e.e_StateMarked:n.state=C.R3.MARKED;break;default:n.isStateAnnot=!1}let t=this.annot.GetStateModel();t&&(n.stateMode=t.value);let r=this.annot.GetDict().GetElement(new this.engine.String("IRT")).GetDict();void 0===this.pdfPage._getAnnotIndexById(r.GetObjNum())&&this.pdfPage.addFakeAnnot(r,{markedStatesSummary:[{objectNumber:n.id}]})}else n.isStateAnnot=!1;return n.isOpen=this.annot.GetOpenStatus(),n},n.create=function(t){let n=e.prototype.create.call(this,t);return t.icon&&this.setIconName(t.icon),this.annot.ResetAppearanceStream(),n},t}(k);var Fe=Pe;let Te=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Circle(e)},n._calculateRectDiffer=function(){const e=this.annot.GetRect(),t=this.annot.GetInnerRect();return F.Z.subtract(e,t)},n.move=function(e,t){const n=this.annot,r=F.Z.on(n.GetRect()).move(e,t).extract();return this.annot.Move(r),this.annot.ResetAppearanceStream(),!0},n.setRect=function(e){const t=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top),n=this.annot.Move(t);return t.delete(),this.calculateArea(),this.annot.ResetAppearanceStream(),this.updateModifyTime(),n},n.setInnerRect=function(e){let t=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);return this.annot.SetInnerRect(t),this.annot.ResetAppearanceStream(),t.delete(),this.updateModifyTime(),!0},n.getInnerRect=function(){return F.Z.on(this.annot.GetInnerRect()).toPlainObject()},n.setAnnotRectAndInnerRect=function(e,t){const n=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top),r=this.annot.Move(n),i=new this.engine.CFX_FloatRect(t.left,t.bottom,t.right,t.top);return this.annot.SetInnerRect(i),i.delete(),n.delete(),this.calculateArea(),this.annot.ResetAppearanceStream(),this.updateModifyTime(),r},n.enableCaption=function(e){return this.annot.EnableCaption(e),this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0},n.toJson=function(t){const n=e.prototype.toJson.call(this,t),r=this.getFillColor(),i=F.Z.on(this.annot.GetInnerRect()).toPlainObject(),o=this.annot.GetMeasureConversionFactor(0);let a,s;try{a=this.annot.GetMeasureRatio().toString(),s=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString(),0==s.length&&(s=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX).toString())}catch(e){a=this.JR.getHexString(this.annot.GetMeasureRatio()),s=this.JR.getHexString(this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD)),0==s.length&&(s=this.JR.getHexString(this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX)))}const c={fillColor:r,innerRect:i,measureConversionFactor:o,measureRatio:a,measureUnit:s,hasCaption:this.annot.HasCaption(),captionColor:this.annot.GetCaptionColor()};return(0,P.Z)(n,c)},n.setFillColor=function(t){return e.prototype._setFillColor.call(this,t)},n.create=function(t){let n=e.prototype.create.call(this,t);if(t.borderWidth&&this.setBorderWidth(t.borderWidth),t.fillColor&&this.setFillColor(t.fillColor),t.borderStyle&&this.setBorderStyle(t.borderStyle,t.borderStyleParam),"boolean"==typeof t.enableCaption&&this.annot.EnableCaption(t.enableCaption),(t.captionColor||0===t.captionColor)&&("string"==typeof t.captionColor&&(t.captionColor=parseInt(t.captionColor,16)),this.setCaptionColor(t.captionColor,!1)),t.measure){this.annot.SetMeasureConversionFactor(0,2);let{userSpaceValue:e=1,userSpaceUnit:n="inch",realValue:r=1,realUnit:i="inch"}=t.measure.ratio,o=new this.engine.String(t.measure.unit);this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeA,o),o=new this.engine.String(i),this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD,o),o=new this.engine.String(n);let a=ge(n);a=a*r/e,this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX,o),this.annot.SetMeasureConversionFactor(this.engine.MeasureType.e_MeasureTypeX,1*a/72),this.setMeasureRatio(t.measure.ratio),o.delete()}return n},n.calculateArea=function(){let e=this.annot.GetMeasureRatio().toString(),t=this.annot.GetMeasureUnit(this.engine.MeasureType.e_MeasureTypeD).toString();if(0==e.length)return;const n=pe(e);if(!n)return;const{fScale:r,fUnit:i,tScale:o,tUnit:a}=n;let s=(()=>{let e=this.annot.GetRect(),t=(e.right-e.left)*(e.top-e.bottom)*Math.PI;return re.convertAreaTo(t/4,i)*Math.pow(o/r,2)})(),c=this.annot.GetContent().toString();const l=c.indexOf("\n");let u=c.substr(0,-1===l?l:l+1)+Math.round(100*s)/100+" sq "+t;(s<1e-6||0===parseFloat(s.toFixed(2)))&&(u="");let d=new this.engine.WString(u);this.annot.SetContent(d),d.delete()},n.setMeasureConversionFactor=function(e){this.annot.SetMeasureConversionFactor(0,e),this.calculateArea(),this.annot.ResetAppearanceStream()},n.setMeasureRatio=function({userSpaceValue:e=1,userSpaceUnit:t="inch",realValue:n=1,realUnit:r="inch"}={}){let i=new this.engine.String(`${e} ${t} = ${n} ${r}`);this.annot.SetMeasureRatio(i),this.calculateArea(),this.annot.ResetAppearanceStream(),i.delete()},n.setMeasureUnit=function(e,t=2){let n=new this.engine.String(e);this.annot.SetMeasureUnit(this.engine.MeasureType.values[t],n),this.calculateArea(),this.annot.ResetAppearanceStream(),n.delete()},n.setBorderStyle=function(t,n){let r=this.annot.GetBorderInfo(),i=this.engine.BorderInfoStyle;const o=e.prototype.setBorderStyle.call(this,t,n);if(t!==C.M8.CLOUDY&&r.style===i.e_Cloudy){const e=this.annot.GetInnerRect(),t=this.annot.GetRect();this.annot.SetInnerRect(t),this.annot.Move(e),this.annot.ResetAppearanceStream()}return o},t}(k);__webpack_require__(6544);var Ce=__webpack_require__(8191);let Ge=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.FileAttachment(e)},n.toJson=function(t){const n=e.prototype.toJson.call(this,t);let r=this.engine,i=this.annot,o=i.GetDict(),a=new Ce.Z(this.getFileSpec(),this);n.fileSpec=a.toJson();let s=o.GetElement((0,G.n5)(r,"Contents"));if(s&&n.fileSpec){const e=s.GetWideString().toString();e!==n.fileSpec.fileName&&(n.fileSpec.description=e)}n.iconName=i.GetIconName().toString();let c=o.GetElement((0,G.n5)(r,"FS"));return c&&(c=c.GetDirectObject(),n.fObjNum=c.GetObjNum()),n},n.setIconName=function(e){let t=this.annot;return t.SetIconName(new this.engine.String(e)),t.ResetAppearanceStream(),this.updateModifyTime(),!0},n.getFileSpec=function(){return this.annot.GetFileSpec()},n.create=function(t){let n=e.prototype.create.call(this,t),r=this.engine;try{t.iconName&&(t.icon=t.iconName),t.icon&&this.annot.SetIconName((0,G.n5)(r,t.icon))}catch(e){console.log(e),isNaN(e)||(e=r.getErrorCode(e)),console.warn(e)}return this.setFile(t),this.annot.ResetAppearanceStream(),n},n.setFile=function(e){try{if(e.fObjNum){let t=this.doc,n=this.annot.GetDict(),r=new this.engine.String("FS");n.SetAtReference(r,t.GetIndirectObject(+e.fObjNum),t)}else if(e.buffer){let t=Ce.Z.createFile(this.engine,this.annot.GetPage().GetDocument(),e.buffer),n=new Ce.Z(t,this);e.fileName&&n.setFileName(e.fileName),e.file&&e.file.lastModified&&n.setModifiedDateTime(v.Z.ToDateTime(this.engine,e.file.lastModified)),this.annot.SetFileSpec(t)}}catch(e){let t=this.engine,n=e instanceof t.ErrorCode?e:t.getErrorCode(e);console.warn(n)}return!0},n.getStream=function({writeStream:e}){return new Ce.Z(this.getFileSpec(),this).getStream(e)},t}(k);var Ee=Ge;let Re=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Caret(e)},n.moveRectByCharIndex=function(e){let t=this.annot,n=this.pdfPage.getNormalTextPageSync(),r=(n.GetTextRectCount(e,1),n.GetTextRect(0));n.delete();let i=t.GetRect(),o=new this.engine.CFX_FloatRect;const a=i.right-i.left,s=i.top-i.bottom;o.left=r.right-a/2,o.right=r.right+a/2,o.top=r.bottom+s/5,o.bottom=r.bottom-4*s/5,t.Move(o),t.ResetAppearanceStream(),o.delete()},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.annot.GetInnerRect();return n.innerRect={top:r.top,right:r.right,bottom:r.bottom,left:r.left},r.delete(),this.isReplace()&&""==n.intent&&(n.intent="Replace"),n},n.create=function(t){let n=e.prototype.create.call(this,t),r=t.color;if(r||(r=t.subject&&"replace"===t.subject.toLocaleLowerCase()?r||0==r?r:255:r||0==r?r:10040217,this.setBorderColor(r)),t.rotation){let e=this.engine,n=new e.Matrix;n.Rotate(-t.rotation,!1),this.annot.GetDict().GetElement((0,G.n5)(e,"AP")).GetDict().GetElement((0,G.n5)(e,"N")).GetDict().SetAtMatrix((0,G.n5)(e,"Matrix"),n),n.delete()}return n},n.isReplace=function(){let e,t,n=this.annot;if(n.IsGrouped()&&(e=n.GetGroupElements())&&2===(t=e.GetSize())){let n=["AnnotType_e_StrikeOut","AnnotType_e_Caret"];for(let r=t;r--;){let t=e.GetAt(r),i=n.indexOf(t.GetType().constructor.name);if(t.delete(),-1===i)return e.delete(),!1}return e.delete(),!0}return e&&e.delete(),!1},t}(k);var xe=Re;let Me=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Square(e)},n._calculateRectDiffer=function(){const e=this.annot.GetRect(),t=this.annot.GetInnerRect();return F.Z.subtract(e,t)},n.move=function(e,t){const n=this.annot,r=F.Z.on(n.GetRect()).move(e,t).extract();return this.annot.Move(r)},n.setRect=function(e){const t=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);let n=this.annot.Move(t);return this.annot.ResetAppearanceStream(),t.delete(),this.calculateArea(),this.updateModifyTime(),n},n.setInnerRect=function(e){let t=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);return this.annot.SetInnerRect(t),this.annot.ResetAppearanceStream(),t.delete(),this.updateModifyTime(),!0},n.setAnnotRectAndInnerRect=function(e,t){const n=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);let r=this.annot.Move(n);const i=new this.engine.CFX_FloatRect(t.left,t.bottom,t.right,t.top);return this.annot.SetInnerRect(i),n.delete(),i.delete(),this.annot.ResetAppearanceStream(),this.calculateArea(),this.updateModifyTime(),r},n.getInnerRect=function(){return F.Z.on(this.annot.GetInnerRect()).toPlainObject()},n.setBorderStyle=function(t,n){let r=this.annot.GetBorderInfo(),i=this.engine.BorderInfoStyle;const o=e.prototype.setBorderStyle.call(this,t,n);if(t!==C.M8.CLOUDY&&r.style===i.e_Cloudy){const e=this.annot.GetInnerRect(),t=this.annot.GetRect();this.annot.SetInnerRect(t),this.annot.Move(e),this.annot.ResetAppearanceStream()}return o},n.toJson=function(t){const n=e.prototype.toJson.call(this,t),r=this.getFillColor(),i=F.Z.on(this.annot.GetInnerRect()).toPlainObject(),o=this.annot.GetMeasureConversionFactor(0);let a,s;try{a=this.annot.GetMeasureRatio().toString(),s=this.annot.GetMeasureUnit(0).toString()}catch(e){a=this.JR.getHexString(this.annot.GetMeasureRatio()),s=this.JR.getHexString(this.annot.GetMeasureUnit(0))}const c={fillColor:r,innerRect:i,measureConversionFactor:o,measureRatio:a,measureUnit:s};return(0,P.Z)(n,c)},n.setFillColor=function(t){return e.prototype._setFillColor.call(this,t)},n.create=function(t){let n=e.prototype.create.call(this,t);if(t.fillColor&&this.setFillColor(t.fillColor),t.borderWidth&&this.setBorderWidth(t.borderWidth),t.borderStyle&&this.setBorderStyle(t.borderStyle,t.borderStyleParam),t.measure){this.annot.SetMeasureConversionFactor(0,2);let e=new this.engine.String(t.measure.unit);this.annot.SetMeasureUnit(this.engine.MeasureType.e_MeasureTypeX,e),this.setMeasureRatio(t.measure.ratio),e.delete()}return n},n.calculateArea=function(){let e=this.annot.GetMeasureRatio().toString(),t=this.annot.GetMeasureUnit(0).toString();if(0==e.length)return;let n=e.match(/(\d+) (\w+) = (\d+) (\w+)/);if(!n)return;let[,r,i,o,a]=n;i=fe(i),r=parseInt(r),o=parseInt(o),a=fe(a);let s=(()=>{let e=this.annot.GetRect(),t=(e.right-e.left)*(e.top-e.bottom);return re.convertAreaTo(t,i)*Math.pow(o/r,2)})(),c=new this.engine.WString(Math.round(100*s)/100+" sq "+t);this.annot.SetContent(c),c.delete()},n.setMeasureConversionFactor=function(e){this.annot.SetMeasureConversionFactor(0,e),this.calculateArea(),this.annot.ResetAppearanceStream()},n.setMeasureRatio=function({userSpaceValue:e=1,userSpaceUnit:t="inch",realValue:n=1,realUnit:r="inch"}={}){let i=new this.engine.String(`${e} ${t} = ${n} ${r}`);this.annot.SetMeasureRatio(i),this.calculateArea(),this.annot.ResetAppearanceStream(),i.delete()},n.setMeasureUnit=function(e,t=0){let n=new this.engine.String(e);this.annot.SetMeasureUnit(this.engine.MeasureType.values[t],n),this.calculateArea(),this.annot.ResetAppearanceStream(),n.delete()},t}(k);var Oe=__webpack_require__(4213),Ne=__webpack_require__(1357);let ke=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.FreeText(e)},n.updateCalloutFigure=function(e,t,n){return this.setRect(e,!1),this.setInnerRect(t,!1),this.setCalloutLinePoints(n),this.pdfPage.resetBitmapCache(),!0},n.updateRectFigure=function(e,t){return this.setRect(e,!1),this.setInnerRect(t,!1),this.annot.ResetAppearanceStream(),this.updateModifyTime(),this.pdfPage.resetBitmapCache(),!0},n.setBorderStyle=function(t,n){let r=this.annot.GetBorderInfo(),i=this.engine.BorderInfoStyle;const o=e.prototype.setBorderStyle.call(this,t,n);if(r.style===i.values[i.e_Cloudy.value]){if("Textbox"===this.annot.GetSubject().toString()&&t!==C.M8.CLOUDY){const e=this.annot.GetInnerRect();this.annot.Move(e),this.annot.SetInnerRect(e),this.annot.ResetAppearanceStream()}}return o},n.setAlignment=function(e){this.annot.SetAlignment({value:e}),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.getRotation=function(){return 90*this.annot.GetRotation().value},n.setRotation=function(e){let t=e/90;return this.annot.SetRotation({value:t}),this.annot.ResetAppearanceStream(),this.updateModifyTime(),[this.getId()]},n.toJson=function(t){let n=this.annot.GetDict(),r=e.prototype.toJson.call(this,t),i=this.annot;if(r.intent===C.WA.FREETEXT_CALLOUT){let e=i.GetCalloutLineEndingStyle().value,t=i.GetCalloutLinePoints(),n=[];for(let e=t.GetSize();e--;){let r=t.GetAt(e);n[e]={x:r.x,y:r.y}}r.calloutLineEndingStyle=e,r.calloutLinePoints=n}let o=i.GetAlignment().value;r.intent===C.WA.FREETEXT_TYPEWRITER&&0!==o&&(o=0,i.SetAlignment(this.engine.Alignment.e_AlignmentLeft)),r.justification=o;let a=this.getRotation();r.rotation=a;let s=i.GetDefaultAppearance(),c=s.font,l={};if(s.font.IsEmpty()){const e=n.GetElement((0,G.n5)(this.engine,"DA"));if(e){const t=this.JR.getPDFString(e.GetString()).match(/\/(\w*) /);t&&(r.fontName=t[1],l={name:t[1]})}}else{r.fontName=c.GetName().toString();let e="";try{e=this.JR.getPDFString(c.GetBaseFontName(this.doc))}catch(t){e=""}l={name:r.fontName,baseName:e,styles:c.GetStyles(this.doc)}}r.fontName=R.mz[r.fontName]||r.fontName,l.name=R.mz[l.name]||l.name,r.defaultAppearance={flags:s.flags,textColor:s.text_color,textSize:s.text_size,font:l};let u=(0,G.n5)(this.engine,"RC"),d=n.GetElement(u),h="";d&&(h=this.JR.getPDFString(d.GetString())),r.fillColor=this.getFillColor();let f=i.GetInnerRect();return r.innerRect={top:f.top,right:f.right,bottom:f.bottom,left:f.left},r.RC=h,u=(0,G.n5)(this.engine,"FoxitTag"),n.GetElement(u)&&(r.modifiable=!1),r},n.setCalloutLineEndingStyle=function(e){this.annot.SetCalloutLineEndingStyle({value:e}),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setInnerRect=function(e,t=!0){let n=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);return this.annot.SetInnerRect(n),"FreeTextCallout"!=this.annot.GetIntent()&&this.annot.ResetAppearanceStream(),n.delete(),t&&this.updateModifyTime(),!0},n.setAnnotRectAndInnerRect=function(e,t){let n;e.left>e.right&&(n=e.right,e.right=e.left,e.left=n),e.bottom>e.top&&(n=e.top,e.top=e.bottom,e.bottom=n);let r=e.top-e.bottom,i=e.right-e.left,o=this.annot.GetRect(),a=!0;Math.abs(r-o.right+o.left)<.01&&Math.abs(i-o.top+o.bottom)<.01&&(a=!1);const s=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);let c=this.annot.Move(s);const l=new this.engine.CFX_FloatRect(t.left,t.bottom,t.right,t.top);return this.annot.SetInnerRect(l),s.delete(),l.delete(),c&&(this.updateModifyTime(),a&&this.annot.ResetAppearanceStream(),this.pdfPage.resetBitmapCache()),c},n.setCalloutLinePoints=function(e){const t=new this.engine.PointFArray,n=this.engine.PointF,r=e.length;for(let i=0;i<r;i++){let r=new n(e[i].x,e[i].y);t.Add(r),r.delete()}return this.annot.SetCalloutLinePoints(t),this.annot.ResetAppearanceStream(),t.delete(),this.updateModifyTime(),!0},n.setDefaultAp=function(e){let{textColor:t,textSize:n,font:r}=e;0===t&&(t|=4278190080,t>>>=0);let i=this.annot.GetDefaultAppearance(),o=i.font.IsEmpty()?new this.engine.Font(1):i.font,a=o.GetName().toString(),s=1;if(r&&a!==r.name){let{name:e,url:t,styles:n,charset:i}=r,a=this.engine;if(t&&a.Font.createFromBuffer){let e=this.JR.getFontFromServer(t);const n=a.StreamCallback.implement({GetSize:()=>e.byteLength,GetPosition:()=>0,ReadBlock:(t,n,r)=>{const i=new Uint8Array(e,n,r);return a.HEAPU8.set(i,t),!0},Release:()=>{}});o=a.Font.createFromBuffer(n)}else if(e){s=a.DefAPFlags.e_FlagFont.value;const t={Courier:{value:0},Helvetica:{value:4},"Times-Roman":{value:8},Symbol:{value:12},ZapfDingbats:{value:13}}[e];o=void 0===t?new a.Font((0,G.Dp)(a,e),n||0,a.Charset.values[i]||a.Charset.e_CharsetANSI,0):new a.Font(t)}}if(t&&(s|=2),n&&(s|=4),!s)return;const c=new this.engine.DefaultAppearance(s,o,n,t);return this.annot.SetDefaultAppearance(c),this.annot.GetDict().RemoveAt((0,G.n5)(this.engine,"RC")),this.annot.ResetAppearanceStream(),o.delete(),c.delete(),this.updateModifyTime(),!0},n.setFillColor=function(t){return e.prototype._setFillColor.call(this,t)},n.create=function(t){if(e.prototype.create.call(this,t),t.rotation){const e=(0,Ne.q)(this.engine,t.rotation);this.annot.SetRotation(e)}let n;(n=t["interior-color"]||t.interiorColor)&&this.setFillColor(n),void 0!==t.fillColor&&this.setFillColor(t.fillColor),t.alignment&&this.setAlignment(t.alignment),!t.richText&&t.contents&&this.setContent(t.contents,!0,!1),t.borderWidth&&this.setBorderWidth(t.borderWidth,!1),t.borderStyle&&this.setBorderStyle(t.borderStyle,t.borderStyleParam);let r=!0;if(!t.richText&&t.DA){let e=this.engine;this.annot.GetDict().SetAtString((0,G.n5)(e,"DA"),(0,G.n5)(e,t.DA));let n={textColor:t.fontColor,textSize:Number(t.DA.split(" ")[1])};this.setDefaultAp(n),r=!1}if(!t.richText&&t.defaultAppearance&&"{}"!==JSON.stringify(t.defaultAppearance)){let e={textColor:t.defaultAppearance.textColor?Number(t.defaultAppearance.textColor):4278190080,textSize:t.defaultAppearance.textSize?Number(t.defaultAppearance.textSize):0};t.defaultAppearance.font&&(e.font=t.defaultAppearance.font),this.setDefaultAp(e),r=!1}if(this.setRect(t.rect),t.innerRect&&this.setInnerRect(t.innerRect),t.calloutLinePoints&&(this.setCalloutLinePoints(t.calloutLinePoints),r=!1),"FreeTextCallout"==t.intent){let e=t.calloutLineEndingStyle||t.startStyle;null==e?this.setCalloutLineEndingStyle(4):this.setCalloutLineEndingStyle(e),r=!1}return r&&this.annot.ResetAppearanceStream(),[this]},n.getWoffBlob=function(){let e=this.annot;if(!e.GetDefaultAppearance().font.IsEmpty()){let t="",n=(e.GetDict().GetElement(new this.engine.String("DA")).GetString().toString()+" ").match(/\/([^\s]*) /);if(n&&n.length>1){t=n[1].replace(/#20/g," ");let e=this.JR.getFontBuffer(t.toString(),524322);if(e)return new Blob([e],{type:"application/woff"})}return null}},n.getWoff=function(){let e=this.engine,t=this.annot.GetDefaultAppearance(),n=this.pdfPage.doc,r=t.font;if(r.IsEmpty())return null;if(r.IsEmbedded(n))return Oe.Z.getWoffDataBuffer(r.GetWoffData(n),this.engine);{let t=e.Charset.e_CharsetDefault.value;r.GetFontType(n)==e.FontTypes.e_FontTypeCIDFont&&(t=r.GetFontType(n).value);let i=this.JR.getFontBuffer(r.GetBaseFontName(n).toString(),r.GetStyles(n),0,t,r.IsBold()?700:400,!0);return i?{buffer:i}:null}},n.setContent=function(t,n=!1,r=!0){let i=this.annot,o=i.GetDict(),a=(0,G.n5)(this.engine,"RC");if(o.GetElement(a)&&o.RemoveAt(a),n){let e=i.GetDefaultAppearance();i.SetDefaultAppearance(e)}return e.prototype.setContent.call(this,t,!0,r)},t}(k);var Be=ke,Le=__webpack_require__(4127);const je="author name",Ue="author name, date and time",We="date and time",He="date";var ze=__webpack_require__(3469);const Ke="Digital",Je="date";let Ve,Ye=function(){function e(){this.docsMap={},this.formsMap={},this.iconCatalog="Static",this._enable=!1,this.seperator=", ",this.timeFormat="YYYY-MM-DD, HH:mm:ss",this.icons={},this.hasSetIconProvider=!1,this.digitalTimeFormat="YYYY.MM.DD",this.identityInfo={}}var t=e.prototype;return t.setIcons=function(e){this.removeIcon("stamp"),this.icons="string"==typeof e?JSON.parse(e):e},t.addIcon=function(e){let t=e.annotType||"stamp",n=e.category,r=e.name;if(!n)return;let i;e.fileType,e.url;var o,a;(t in this.icons||(this.icons[t]={}),n in this.icons[t]||(this.icons[t][n]={}),this.icons[t][n][r]={...e},i=this.docsMap[t])&&((i=i[n])&&(i=i[r])&&(null==(o=i.fields)||o.forEach((e=>e.delete())),null==(a=i.form)||a.delete(),!i.page.isDeleted()&&i.page.delete(),i.doc.delete(),delete this.docsMap[t][n][r]));return!0},t.removeIcon=function(e,t,n){let r=this.docsMap[e];if(r)for(var i in r){let e=r[i];for(let r in e){var o,a;let d=e[r];var s,c,l,u;if(n){if(t==i&&r==n)return null==(s=d.fields)||s.forEach((e=>e.delete())),null==(c=d.form)||c.delete(),!d.page.isDeleted()&&d.page.delete(),d.doc.delete(),void delete e[r]}else if(t)i==t&&(null==(l=d.fields)||l.forEach((e=>e.delete())),null==(u=d.form)||u.delete(),!d.page.isDeleted()&&d.page.delete(),d.doc.delete(),delete e[r]);else null==(o=d.fields)||o.forEach((e=>e.delete())),null==(a=d.form)||a.delete(),!d.page.isDeleted()&&d.page.delete(),d.doc.delete(),delete e[r]}}},t.activeIcon=function(e,t){this.iconCatalog=e,this.iconName=t,this._enable=!0},t.setDynamicInfoFormula=function(e,t){this.seperator=e,this.timeFormat=t},t.getDynamicInfoFormula=function(){return{seperator:this.seperator,timeFormat:this.timeFormat}},t.setDigitalTimeFormat=function(e){this.digitalTimeFormat=e},t.setDigitalInfo=function(e){this.identityInfo=e},t.enable=function(e){this._enable=e,e||(this.iconCatalog=null,this.iconName=null)},t.previewIconDoc=function(e){this.addIcon(e);const t=this.engine,{category:n,name:r}=e,i=this.getIconPDFDoc("stamp",n,r),{doc:o,page:a}=i;a.StartParse(0,null,!1),this.setFieldValue(i,"stamp",n,r),n===Ke&&a.ClipPage();const s=3*a.GetWidth(),c=3*a.GetHeight();let l=new t.Bitmap(s,c,t.DIBFormat.e_DIBArgb,0,0),u=new t.Renderer(l,!1),d=a.GetDisplayMatrix(0,0,s,c,{value:0}),h=u.StartRender(a,d,null),f=h.Continue();for(;1===f.value;)f=h.Continue();h.delete();let g=new t.Image;g.AddFrame(l);let p=[],m=t.StreamCallback.implement({Release:()=>{m.delete()},Flush:()=>!0,GetSize:()=>0,WriteBlock:(e,n,r)=>{let i,o=t.HEAPU8.buffer;return i=o.slice?new Uint8Array(o.slice(e,e+r)):new Uint8Array(o,e,r),p.push(i),!0}});g.SaveAs(m,(0,G.Dp)(t,".png")),g.delete(),a.delete(),u.delete(),l.delete();return new Blob(p,{type:"image/png"})},t.getIconPDFDoc=function(e,t,n){if(this.docsMap[e]&&this.docsMap[e][t]&&this.docsMap[e][t][n])return this.docsMap[e][t][n];let r,i,o,a=this.engine,s=this.jr,c=this.icons[e][t][n];if(!c)return null;let l=[],u=s.createReaderCallback(c.url);switch(c.fileType){case"pdf":let e=(0,G.n5)(a,"");r=a.createPDFDocWithReaderCallback(u,!1);r.Load(e);if(i=new a.Form(r),!i.IsEmpty()){let e=(0,G.Dp)(a,"");const t=i.GetFieldCount(e);for(let n=0;n<t;n++){let t=i.GetField(n,e);if(t=t.IsEmpty()?null:t,t){let e=new a.FieldArray;e.Add(t),i.SetFieldsInCalculationOrder(e),e.delete();let n=a.PDFDictionary.Create();n.SetAtName((0,G.n5)(a,"Type"),(0,G.n5)(a,"Action")),n.SetAtName((0,G.n5)(a,"S"),(0,G.n5)(a,"JavaScript")),n.SetAtString((0,G.n5)(a,"JS"),(0,G.n5)(a,"AFDate_FormatEx")),r.AddIndirectObject(n);let o=a.PDFDictionary.Create();o.SetAtReference((0,G.n5)(a,"C"),n,r),t.GetDict().SetAt((0,G.n5)(a,"AA"),o)}l.push(t)}}o=r.GetPage(0);break;case"bmp":case"jpg":case"jpeg":case"png":case"tif":case"tiff":let t=new a.Image(u),n=t.GetFrameBitmap(0);r=new a.PDFDoc;let s=new a.PointF(0,0);if(o=r.InsertPage(0,n.GetWidth(),n.GetHeight()),o.StartParse(0,null,!1),o.AddImage(t,0,s,o.GetWidth(),o.GetHeight(),!0),c.field){let{form:e,field:t}=this.createFormField(r,o,c.field);i=e,l.push(t)}n.delete(),s.delete()}return this.docsMap[e]=this.docsMap[e]||{},this.docsMap[e][t]=this.docsMap[e][t]||{},this.docsMap[e][t][n]={doc:r,page:o,form:i,fields:l}},t.createFormField=function(e,t,n){const r=this.engine,i=new r.Form(e);let{rect:o}=n,a=new r.WString("stamp field"),s=new r.CFX_FloatRect(o.left,o.bottom,o.right,o.top);const c=i.AddControl(t,a,r.FieldType.values[ze.fS.Text],s),l=c.GetField();s.delete(),a.delete();let u=new r.FieldArray;u.Add(l),i.SetFieldsInCalculationOrder(u);let d=r.PDFDictionary.Create();d.SetAtName((0,G.n5)(r,"Type"),(0,G.n5)(r,"Action")),d.SetAtName((0,G.n5)(r,"S"),(0,G.n5)(r,"JavaScript")),d.SetAtString((0,G.n5)(r,"JS"),(0,G.n5)(r,"AFDate_FormatEx")),e.AddIndirectObject(d);let h=r.PDFDictionary.Create();return h.SetAtReference((0,G.n5)(r,"C"),d,e),l.GetDict().SetAt((0,G.n5)(r,"AA"),h),n.font&&this.setDefaultAppearance(c,n.font),{form:i,field:l}},t.setDefaultAppearance=function(e,t){let n,r=this.engine,i=e.GetWidget(),o=i.GetControl(),a=void 0!==t.name?r.DefAPFlags.e_FlagFont.value:0,s=void 0!==t.color?r.DefAPFlags.e_FlagTextColor.value:0,c=void 0!==t.size?r.DefAPFlags.e_FlagFontSize.value:0;if(t.name){let e=R.BD.find((e=>e.name==t.name));if(e){let i=(0,R.T2)(e.value);if(i){let e=[r.StandardID.e_StdIDCourier,r.StandardID.e_StdIDCourierB,r.StandardID.e_StdIDCourierBI,r.StandardID.e_StdIDCourierI,r.StandardID.e_StdIDHelvetica,r.StandardID.e_StdIDHelveticaB,r.StandardID.e_StdIDHelveticaBI,r.StandardID.e_StdIDHelveticaI,r.StandardID.e_StdIDTimes,r.StandardID.e_StdIDTimesB,r.StandardID.e_StdIDTimesBI,r.StandardID.e_StdIDTimesI,r.StandardID.e_StdIDSymbol,r.StandardID.e_StdIDZapfDingbats];n=new this.engine.Font(e[i])}else n=new this.engine.Font((0,G.Dp)(r,t.name),0,r.Charset.e_CharsetANSI,0)}else n=new this.engine.Font((0,G.Dp)(r,t.name),0,r.Charset.e_CharsetANSI,0)}else n=new this.engine.Font(0);let l=new this.engine.DefaultAppearance(a|s|c,n,0,t.color?t.color:0);try{o.SetDefaultAppearance(l)}catch(e){return isNaN(e)||(e=r.getErrorCode(e)),void console.warn(e)}i.ResetAppearanceStream()},t.initIconProvider=function(e,t){this.engine&&this.hasSetIconProvider||(this.jr=e,!this.engine&&(this.engine=t),t.IconProviderCallback&&(t.setAnnotIconProviderCallback(this.getEngineIconProvider(t)),this.hasSetIconProvider=!0))},t.setFieldValue=function(e,t,n,r){try{if(n===Ke)for(let t=0;t<e.fields.length;t++){const n=e.fields[t],r=Object.keys(this.identityInfo);r.push(Je);const i=n.GetName().toString();if(n&&!n.IsEmpty()&&r.includes(i)){let e="";if(i===Je)e=(0,Le.Z)(new Date,this.digitalTimeFormat);else if("name"===i){const{surname:t,name:n}=this.identityInfo;let r=t+n;r.length<3?(r=r.split("").join("\n"),e="\n"+r):e=r.split("").join("\n")}else e=this.identityInfo[i];let t=new this.engine.WString(e);n.SetValue(t),t.delete(),n.GetControl(0).GetWidget().ResetAppearanceStream()}}else{const i=e.fields[0];if(i&&!i.IsEmpty()){let e="";const o=this.icons[t][n][r];if(o.field){const{textType:t,value:n}=o.field;switch(t){case je:e=this.jr.getUserName();break;case Ue:e=this.jr.getUserName(),this.timeFormat.length>0&&(e.length>0&&(e+=this.seperator),e+=(0,Le.Z)(new Date,this.timeFormat));break;case We:e=(0,Le.Z)(new Date,this.timeFormat);break;case He:e=(0,Le.Z)(new Date,this.timeFormat.split(this.seperator)[0]);break;default:e=n}}else e=this.jr.getUserName(),this.timeFormat.length>0&&(e.length>0&&(e+=this.seperator),e+=(0,Le.Z)(new Date,this.timeFormat));let a=new this.engine.WString(e);i.SetValue(a),a.delete(),i.GetControl(0).GetWidget().ResetAppearanceStream()}}}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}},t.getEngineIconProvider=function(){let e=this.engine;return e.IconProviderCallback.implement({Release:()=>{for(let e in this.docsMap)for(let t in this.docsMap[e])for(let n in this.docsMap[e][t])this.docsMap[e][t][n].delete()},GetProviderID:()=>(0,G.n5)(e,"gsdk"),GetProviderVersion:()=>new e.String(this.iconCatalog+(new Date).valueOf()),HasIcon:(e,t)=>{if(!this._enable)return!1;let n=this.iconName,r="stamp";if(0===e.value)r="note";return!!(this.icons&&this.icons[r]&&this.icons[r][this.iconCatalog]&&this.icons[r][this.iconCatalog][n])},CanChangeColor:(e,t)=>!0,GetIcon:(e,t,n)=>{switch(t=this.iconName,e.value){case 0:break;case 13:let e=this.getIconPDFDoc("stamp",this.iconCatalog,t);return e?(this.setFieldValue(e,"stamp",this.iconCatalog,t),this.iconCatalog===Ke&&e.page.ClipPage(),e.page):new this.engine.PDFPage(null)}},GetShadingColor:(e,t,n,r,i)=>(i.first_color=n,i.second_color=n,!0),GetDisplayWidth:(e,t)=>0,GetDisplayHeight:(e,t)=>0})},e}();var Ze=()=>Ve||(Ve=new Ye);!function(){let e,t=navigator.userAgent.toLowerCase();!(!("ActiveXObject"in self)||!(e=t.match(/msie ([\d\.]+)/)))&&parseInt(e[1])}();let qe;qe=function(e,t,n=!0){if(t.IsEmpty())return{};let r=t.GetWidth(),i=t.GetHeight(),o=new e.Image;o.AddFrame(t);let a=[],s=e.StreamCallback.implement({Release:()=>{s.delete()},Flush:()=>!0,GetSize:()=>0,WriteBlock:(t,n,r)=>{let i,o=e.HEAPU8.buffer;return i=o.slice?new Uint8Array(o.slice(t,t+r)):new Uint8Array(o,t,r),a.push(i),!0}});o.SaveAs(s,(0,G.Dp)(e,".png")),n&&(o.delete(),t.delete());let c="image/png";return{type:c,image:new Blob(a,{type:c}),width:r,height:i}};let Xe=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Stamp(e)},n.setIconName=function(e){},n.getIconName=function(){return this.JR.getPDFString(this.annot.GetIconName())},n.create=function(t){let n=e.prototype.create.call(this,t),r=this.engine,i=this.annot;try{if(t.rotation&&this.setRotation(t.rotation),t.apObjeNum){t.rect&&this.setRect(t.rect);let e=this.doc,n=i.GetDict(),o=(0,G.n5)(r,"AP"),a=n.GetElement(o);a||(a=r.PDFDictionary.Create().GetDict(),n.SetAt(o,a)),a.GetDirectObject().GetDict().SetAtReference((0,G.n5)(r,"N"),e.GetIndirectObject(+t.apObjeNum),e)}else{let e=Ze();if(e.jr&&e.hasSetIconProvider||e.initIconProvider(this.JR,this.engine),t.iconInfo&&(e.addIcon(t.iconInfo),t.iconCategory=t.iconInfo.category,t.icon=t.iconInfo.name),t.iconCategory&&(e.activeIcon(t.iconCategory,t.icon),e.enable(!0)),t.icon){let n=new r.WString(t.icon);i.SetIconName(n.UTF8Encode()),i.ResetAppearanceStream(),e.enable(!1),n.delete()}}}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}return n},n.setAnnotAPBitmap=function(e,t){let n=this.engine.ReaderCallback.implement({Release:function(){},GetSize:()=>t,ReadBlock:(t,n,r)=>{let i=new Uint8Array(this.JR.requestData("GET",!1,e,n,r));return this.engine.HEAPU8.set(i,t),!0}}),r=new this.engine.Image(n);this.annot.SetImage(r,0,0),this.annot.ResetAppearanceStream(),this.updateModifyTime()},n.setRotation=function(e){let t=this.annot.GetRotation(),n=this.annot;return n.Rotate((360-t)%360),n.Rotate(e%360),n.ResetAppearanceStream(),this.updateModifyTime(),[this.getId()]},n.toJson=function(t){let n=e.prototype.toJson.call(this,t);n.rotation=this.annot.GetRotation(),n.iconName=this.getIconName();let r=this.engine,i=this.annot.GetDict().GetElement((0,G.n5)(r,"AP")),o=i&&i.GetDirectObject().GetDict(),a=o&&o.GetElement((0,G.n5)(r,"N")),s=a&&a.GetDirectObject();return s&&(n.apObjeNum=s.GetObjNum()),n},n.getBitmapBuffer=function(){let e=this.annot.GetBitmap();return qe(this.engine,e)},t}(k);var Qe=Xe,$e=__webpack_require__(26);let et=function(e){function t(t,n,r){var i;let o=(t=(i=e.call(this,t,n,r)||this).annot).GetAction();o.IsEmpty()||(i.action=i.JR.actionManager.get(o,i.doc,i.JR));let a=i.engine,s=(0,G.n5)(a,"AP"),c=i.annot.GetDict().GetElement(s);return s=(0,G.n5)(a,"N"),64&t.GetFlags()?V(i):(c&&c.GetDict().HasKey(s)||t.ResetAppearanceStream(),i)}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Link(e)},n.destroy=function(){this.action&&this.action.destroy(),e.prototype.destroy.call(this)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.annot.GetHighlightingMode()||{value:0};n.highlightingMode=r.value,n.action=this.action&&this.action.toJson();let i=this.annot.GetDict().GetElement((0,G.n5)(this.engine,"A")),o=i&&i.GetDirectObject();return o&&(n.aObjNum=o.GetObjNum()),n},n.setHighlightingMode=function(e){return this.annot.SetHighlightingMode(this.engine.HighlightingMode.values[e]),this.annot.ResetAppearanceStream(),this.updateModifyTime(),[this.getId()]},n.setAction=function(e,t,n){const r=this.engine;let i,o=t.type,a=this.annot.GetPage().GetDocument();if(i=o?this.JR.actionManager.create(a,t.type):this.JR.actionManager.create(a,t),n){const e=this.annot.GetAction();if(!e.IsEmpty()){let n=e.GetSubActionCount();return e.InsertSubAction(n,i),o&&this.JR.actionManager.get(i,this.doc,this.JR).create(t),this.JR.actionManager.get(e,this.doc,this.JR)}}if(this.action&&this.action.action.GetType()===r.ActionType.e_TypeURI&&r.ActionType["e_"+(o?t.type:t)]===r.ActionType.e_TypeGoto){const e=this.annot.GetDict(),t=e.GetElement(new r.String("A")).GetDirectObject();e.SetAtReference(new r.String("PA"),t,this.doc)}this.annot.SetAction(i);let s=this.JR.actionManager.get(this.annot.GetAction(),this.doc,this.JR);return o&&s.create(t),this.updateModifyTime(),s},n.create=function(t){let n=e.prototype.create.call(this,t);if(t.borderWidth&&this.setBorderWidth(t.borderWidth),t.borderStyle&&this.setBorderStyle(t.borderStyle,t.borderStyleParam),void 0!==t.highlightingMode&&this.setHighlightingMode(t.highlightingMode),t.aObjNum){let e=this.annot.GetDict(),n=new this.engine.String("A");e.GetElement(n)||e.SetAtReference(n,this.doc.GetIndirectObject(+t.aObjNum),this.doc);let r=this.annot.GetAction();r.IsEmpty()||(this.action=this.JR.actionManager.get(r,this.doc,this.JR))}return n},n.setBorderStyle=function(t,n){return e.prototype.setBorderStyle.call(this,t,n),[this.getId()]},n.hasPA=function(){const e=this.engine;return this.annot.GetDict().HasKey(new e.String("PA"))},n.resetAByPA=function(){if(!this.hasPA())return!1;const e=this.engine,t=this.annot.GetDict(),n=new e.String("PA"),r=t.GetElement(n).GetDirectObject();return t.SetAtReference(new e.String("A"),r,this.doc),t.RemoveAt(n),!0},n.removeAction=function(e,t){let n=this.engine,r=this.pdfPage.pdfDoc.doc,i=this.annot,o=i.GetAction();return o=(0,$e.Z)(n,r,o,t),t&&o?(i.SetAction(o),[this.JR.actionManager.get(o,this,this.JR).toJson()]):(i.RemoveAction(),this.updateModifyTime(),[])},n.moveAction=function(e){let{action:t,direction:n}=e,r=this.annot,i=r.GetAction(),o=i.GetSubActionCount(),a=[i];for(let e=0;e<o;e++)a.push(i.GetSubAction(e));let s=a.findIndex((e=>e.GetDict().GetObjNum()===t.objNumber));if(-1==s)return;let c=n?s+1:s-1;if(0==c||0==s){r.RemoveAction(),a[0].RemoveAllSubActions();let e=0==s?c:s;r.SetAction(a[e]),a.splice(e,1),i=r.GetAction();for(let e=0;e<a.length;e++)i.InsertSubAction(e,a[e])}else{i.RemoveAllSubActions(),[a[s],a[c]]=[a[c],a[s]];for(let e=1;e<a.length;e++)i.InsertSubAction(e,a[e])}},t}(v.Z);var tt=et;let nt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Ink(e)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.annot.GetInkList(),i=[];if(!r.IsEmpty()){let e=r.GetPointCount();for(let t=0;t<e;t++){let e=r.GetPoint(t),n=r.GetPointType(t);i.push({x:e.x,y:e.y,type:n.value})}}return n.inkList=i,n},n.setInkList=function(e){let t=new this.engine.Path;return e.forEach((e=>{let{x:n,y:r,type:i}=e,o=new this.engine.PointF(n,r);switch(i){case 1:t.MoveTo(o);break;case 2:t.LineTo(o);break;case 3:const e=new this.engine.CFX_FloatRect(n-.5,r+.5,n+.5,r-.5);t.MoveTo(o),t.AppendEllipse(e),e.delete()}o.delete()})),this.annot.SetInkList(t),t.delete(),this.annot.ResetAppearanceStream(),!0},n.create=function(t){t.borderWidth&&this.setBorderWidth(t.borderWidth);let n=e.prototype.create.call(this,t),r=t.inkList;return r&&this.setInkList(r),n},t}(k);var rt=nt,it=__webpack_require__(9402),ot=__webpack_require__(6976),at=__webpack_require__(5315);const st=[0,90,180,270];let ct=function(e){function n(t,n,r){var i;(i=e.call(this,t,n,r)||this).isAudioVideo=!1;let o=i.annot.GetAction();return o.IsEmpty()||(i.action=i.JR.actionManager.get(o,i.doc,i.JR),"ActionType_e_TypeRendition"==i.action.getType()&&(i.isAudioVideo=!0)),i}(0,w.Z)(n,e);var r=n.prototype;return r.constructEngineAnnot=function(e){return new this.engine.Screen(e)},r.getRectJson=function(){const t=e.prototype.getRectJson.call(this);return t.isAudioVideo=this.isAudioVideo,t.borderWidth=this.annot.GetBorderInfo().width,t},r.toJson=function(t){let n=e.prototype.toJson.call(this,t);this.isAudioVideo||(n.action=this.action&&this.action.toJson()),n.opacity=this.getOpacity(),n.rotation=st[this.getRotation()],n.title=this.getTitle(),n.isAudioVideo=this.isAudioVideo;let r=this.annot.GetDict(),i=this.engine,o=r.GetElement((0,G.n5)(i,"MK")),a=o&&o.GetDirectObject().GetDict(),s=r.GetElement((0,G.n5)(i,"A")),c=s&&s.GetDirectObject();if(c&&(n.aObjNum=c.GetObjNum()),a){let e=a.GetElement((0,G.n5)(i,"I")),t=e&&e.GetDirectObject();t&&(n.iObjNum=t.GetObjNum())}n.AA=(0,at.S)(this.JR,this.pdfPage.doc,this.annot.GetDict(),17,21);let l=r.GetElement((0,G.n5)(i,"AP"));if(l){let e=l.GetDirectObject().GetDict().GetElement((0,G.n5)(i,"N"));e&&e.GetDirectObject()&&(n.apObjNum=e.GetDirectObject().GetObjNum())}return n},r.setBorderColor=function(e){let t=this.annot;if(0==e)t.RemoveProperty({value:2});else{if(-1==e)return;t.SetBorderColor(e)}t.ResetAppearanceStream()},r.getAction=function(){return this.action?this.action:null},r.setAction=function(e,t,n){let r,i=this.engine,o=this.JR.actionManager,a=this.annot,s=this.annot.GetPage().GetDocument();if(r=o.create(s,t.type),-1==e)try{a.SetAction(r)}catch(e){isNaN(e)||(e=i.getErrorCode(e)),console.warn(e)}else{let t=a.GetDict();this.pdfPage.pdfDoc.addAA(t,r,{trigger:e},n)}let c=o.get(r,s,this.JR);return c.create(t),this.updateModifyTime(),c},r.getOpacity=function(){return this.annot.GetOpacity()},r.getRotation=function(){return this.annot.GetRotation().value},r.getTitle=function(){return this.annot.GetTitle().toString()},r.create=function(t){if(t.rotation){const e={0:0,90:1,180:2,270:3}[t.rotation]||0;this.annot.SetRotation(this.engine.Rotation.values[e]||0)}t.borderWidth?this.setBorderWidth(t.borderWidth):this.setBorderWidth(0);let n=e.prototype.create.call(this,t);if(void 0!==t.opacity){let e=+t.opacity;this.setOpacity(e)}if(t.apObjNum){let e=this.doc,n=this.annot.GetDict(),r=this.engine,i=(0,G.n5)(r,"AP"),o=(0,G.n5)(r,"MK"),a=n.GetElement(i),s=n.GetElement(o);if(a||(a=r.PDFDictionary.Create().GetDict(),n.SetAt(i,a)),s||(s=r.PDFDictionary.Create().GetDict(),n.SetAt(o,s)),a.GetDirectObject().GetDict().SetAtReference((0,G.n5)(r,"N"),e.GetIndirectObject(+t.apObjNum),e),t.aObjNum){let i=(0,G.n5)(r,"A");n.GetElement(i)||n.SetAtReference(i,e.GetIndirectObject(+t.aObjNum),e);let o=this.annot.GetAction();o.IsEmpty()||(this.action=this.JR.actionManager.get(o,this.doc,this.JR),"ActionType_e_TypeRendition"==this.action.getType()&&(this.isAudioVideo=!0))}if(t.iObjNum){let n=s.GetDirectObject().GetDict();n.SetAtReference((0,G.n5)(r,"I"),e.GetIndirectObject(+t.iObjNum),e);let i=(0,G.n5)(r,"IF"),o=n.GetElement(i);o||(o=r.PDFDictionary.Create().GetDict(),n.SetAt(i,o));let a=o.GetDirectObject().GetDict(),c=(0,G.n5)(r,"FB"),l=(0,G.n5)(r,"P"),u=(0,G.n5)(r,"S"),d=r.PDFObject.CreateFromBoolean(!0),h=r.PDFObject.CreateFromName(l);a.SetAt(c,d),a.SetAt(u,h),(0,E.Z)(d,h)}}else if(t.multiBuffer&&(this.setMultiMedia(t.multiBuffer,t.fileName,t.contentType),this.isAudioVideo=!0),t.buffer&&!this.setImage(t.buffer))return null;return n},r.setMultiMedia=function(e,t="video.mp4",n="video/mp4"){let r=this.annot.GetPage().GetDocument(),i=this.engine.Action.Create(r,this.engine.ActionType.e_TypeRendition),o=new this.engine.RenditionAction(i);o.SetOperationType(this.engine.OperationType.e_OpTypeAssociate),o.SetScreenAnnot(this.annot);let a=new this.engine.Rendition(r,null),s=new this.engine.WString(t);a.SetRenditionName(s),a.SetMediaClipName(s);let c=Ce.Z.createFile(this.engine,r,e);c.SetFileName(s),a.SetMediaClipFile(c);let l=new this.engine.String(n);a.SetMediaClipContentType(l),o.InsertRendition(a,-1),this.annot.SetAction(o),this.annot.ResetAppearanceStream(),(0,E.Z)(s,l,a,o),this.action=this.JR.actionManager.get(i,this.doc,this.JR)},r.setImage=function(e){try{let t=ot.Z.createImage(this.engine,e);this.annot.SetImage(t,0,0),this.annot.ResetAppearanceStream(),this.updateModifyTime()}catch(e){let n=this.engine,r=e instanceof n.ErrorCode?n.getErrorCode(e):e;return t.mA.getLogger("setImage").warn(r),!1}return!0},r.setOpacity=function(e){let t=this.annot;return e=+e,t.SetOpacity(e),t.ResetAppearanceStream(),[this.getId()]},r.setRotation=function(e){let t=this.annot,n=this.engine.Rotation,r={0:n.e_Rotation0,90:n.e_Rotation90,180:n.e_Rotation180,270:n.e_Rotation270};return t.SetRotation(r[e]),t.ResetAppearanceStream(),this.updateModifyTime(),[this.getId()]},r.setBorderStyle=function(t,n){return e.prototype.setBorderStyle.call(this,t,n),[this.getId()]},r.setTitle=function(e){let t=this.annot,n=new this.engine.WString(e);return t.SetTitle(n),v.Z.updateModifyTime(this.engine,t),n.delete(),[this.getId()]},r.removeAction=function(e,t){let n=this.engine,r=this.pdfPage.pdfDoc.doc,i=this.annot;if(this.updateModifyTime(),"-1"==e){let e=i.GetAction();return e=(0,$e.Z)(n,r,e,t),t&&e?(i.SetAction(e),[this.JR.actionManager.get(e,this,this.JR).toJson()]):(i.RemoveAction(),[])}return e=n.TriggerEvent.values[e],[i.GetDict()].map((i=>{if(!i)return;let o,a=(0,G.n5)(n,"AA"),s=i.GetElement(a);if(!s)return;let c=s.GetDict();if(o=new n.AdditionalAction(r,c),t){let i=o.GetAction(e);if(i.IsEmpty())return;if(i=(0,$e.Z)(n,r,i,t),i)return o.SetAction(e,i),this.JR.actionManager.get(i,this,this.JR).toJson();o.RemoveAction(e)}else o.RemoveAction(e)}))},r.moveAction=function(e){let{trigger:t,action:n,direction:r}=e,i=this.engine;t=i.TriggerEvent.values[t];let o=this.pdfPage.pdfDoc.doc,a=this.annot.GetDict();if(!a)return;let s,c=(0,G.n5)(i,"AA"),l=a.GetElement(c);if(!l)return;let u=l.GetDict();s=new i.AdditionalAction(o,u);let d=s.GetAction(t);if(d.IsEmpty())return;let h=d.GetSubActionCount(),f=[d];for(let e=0;e<h;e++)f.push(d.GetSubAction(e));let g=f.findIndex((e=>e.GetDict().GetObjNum()===n.objNumber));if(-1==g)return;let p=r?g+1:g-1;if(0==p||0==g){s.RemoveAction(t);let e=0==g?p:g;d=f[e],s.SetAction(t,d),f[0].RemoveAllSubActions(),f.splice(e,1);for(let e=0;e<f.length;e++)d.InsertSubAction(e,f[e])}else{d.RemoveAllSubActions(),[f[g],f[p]]=[f[p],f[g]];for(let e=1;e<f.length;e++)d.InsertSubAction(e,f[e])}this.updateModifyTime()},r.getBitmapBuffer=function(){let e=this.annot.GetBitmap();return qe(this.engine,e)},r.destroy=function(){this.action&&this.action.destroy(),e.prototype.destroy.call(this)},n}(v.Z),lt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Popup(e)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.annot;return n.openStatus=r.GetOpenStatus(),n},n.create=function(t){e.prototype.create.call(this,t);let n=(t.open||"no").toString();"yes"===n||"true"===n?this.setOpenStatus(!0):this.setOpenStatus(!1);let r=t.popId;return r&&this.annot.SetUniqueID((0,G.Dp)(this.engine,r)),[this]},n.setOpenStatus=function(e){return this.annot.SetOpenStatus(e),this.updateModifyTime(),e},t}(v.Z);var ut=__webpack_require__(4463);let dt=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r)||this).gsdkIDs=[i.engine.StandardID.e_StdIDCourier,i.engine.StandardID.e_StdIDCourierB,i.engine.StandardID.e_StdIDCourierBI,i.engine.StandardID.e_StdIDCourierI,i.engine.StandardID.e_StdIDHelvetica,i.engine.StandardID.e_StdIDHelveticaB,i.engine.StandardID.e_StdIDHelveticaBI,i.engine.StandardID.e_StdIDHelveticaI,i.engine.StandardID.e_StdIDTimes,i.engine.StandardID.e_StdIDTimesB,i.engine.StandardID.e_StdIDTimesBI,i.engine.StandardID.e_StdIDTimesI,i.engine.StandardID.e_StdIDSymbol,i.engine.StandardID.e_StdIDZapfDingbats],i}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Redact(e)},n.apply=function(){if(!this.engine.Library.HasModuleLicenseRight({value:3}))return Promise.reject(ut.v.noRedactionLicense);let e={},t=[];return this.pdfPage.getAnnots().then((t=>(t.forEach((t=>{let n=t.getId();n&&(e[n]=t)})),this.annot.Apply()?this.pdfPage.update():new Error))).then((n=>{for(var r in e){e[r];-1===n.annotIds.indexOf(Number(r))&&t.push(r)}return t}))},n.setRedactOverlayText=function(e){return this.engine.Library.HasModuleLicenseRight({value:3})?(void 0!==e&&(this.annot.SetOverlayText((0,G.Dp)(this.engine,e)),this.annot.ResetAppearanceStream()),this.updateModifyTime(),!0):Promise.reject(ut.v.noRedactionLicense)},n.removeRedactOverlayText=function(){return this.engine.Library.HasModuleLicenseRight({value:3})?(this.annot.RemoveOverlayText(),this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0):Promise.reject(ut.v.noRedactionLicense)},n.setRedactOverlayTextAlignment=function(e){if(!this.engine.Library.HasModuleLicenseRight({value:3}))return Promise.reject(ut.v.noRedactionLicense);const t=[this.engine.Alignment.e_AlignmentLeft,this.engine.Alignment.e_AlignmentCenter,this.engine.Alignment.e_AlignmentRight];return t[e]&&(this.annot.SetOverlayTextAlignment(t[e]),this.annot.ResetAppearanceStream()),this.updateModifyTime(),!0},n.setRedactRepeat=function(e){return this.engine.Library.HasModuleLicenseRight({value:3})?(void 0!==e&&(this.annot.SetRepeat(e),this.annot.ResetAppearanceStream()),this.updateModifyTime(),!0):Promise.reject(ut.v.noRedactionLicense)},n.setRedactAutoFontSize=function(e){return this.engine.Library.HasModuleLicenseRight({value:3})?(void 0!==e&&(this.annot.SetAutoFontSize(e),this.annot.ResetAppearanceStream()),this.updateModifyTime(),!0):Promise.reject(ut.v.noRedactionLicense)},n.getRedactDefaultAppearance=function(){if(!this.engine.Library.HasModuleLicenseRight({value:3}))return Promise.reject(ut.v.noRedactionLicense);const{font:e,text_color:t,text_size:n}=this.annot.GetDefaultAppearance(),r={textColor:t,textSize:n};return e.IsEmpty()||(r.fontName=e.GetName().toString()),r},n.setRedactDefaultAppearance=function(e){if(!this.engine.Library.HasModuleLicenseRight({value:3}))return Promise.reject(ut.v.noRedactionLicense);const t=this.annot.GetDefaultAppearance();let n,{textColor:r,textSize:i,fontName:o}=e;if(void 0===r&&(r=t.text_color),void 0===i&&(i=t.text_size),o){const e=(0,R.T2)(o);n=null!=e?new this.engine.Font(this.gsdkIDs[e]):new this.engine.Font((0,G.Dp)(this.engine,o),0,this.engine.Charset.e_CharsetANSI,0)}else t.font.IsEmpty()&&(n=new this.engine.Font(this.engine.StandardID.e_StdIDHelvetica));n=n||t.font;const a=(n?this.engine.DefAPFlags.e_FlagFont.value:0)|this.engine.DefAPFlags.e_FlagTextColor.value|(i>0?this.engine.DefAPFlags.e_FlagFontSize.value:0),s=new this.engine.DefaultAppearance(a,n,i,r||16711680),c=this.annot.SetDefaultAppearance(s);return this.annot.ResetAppearanceStream(),this.updateModifyTime(),c},n.setRedactOpacity=function(e,t){return this.engine.Library.HasModuleLicenseRight({value:3})?(this.annot.SetOpacity(e,t),this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0):Promise.reject(ut.v.noRedactionLicense)},n.setRedactApplyFillColor=function(e){return this.engine.Library.HasModuleLicenseRight({value:3})?(this.annot.SetApplyFillColor(e),this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0):Promise.reject(ut.v.noRedactionLicense)},n.toJson=function(t){let n=e.prototype.toJson.call(this,t);n.quadPoints=this.getQuadPointsArray(),0===n.quadPoints.length?n.isArea=!0:n.isArea=!1,n.applyFillColor=this.annot.GetApplyFillColor(),n.fillColor=this.annot.GetFillColor(),n.overlayText=this.annot.GetOverlayText().toString(),n.justification=this.annot.GetOverlayTextAlignment().value;let r=this.annot.GetDefaultAppearance();if(n.defaultAppearance={flags:r.flags,textColor:r.text_color,textSize:r.text_size},!r.font.IsEmpty()){const e=r.font.GetName().toString();n.fontName=R.mz[e]}n.isRepeat=this.annot.GetRepeat(),n.isOverlayCode=this.annot.HasOverlayCode(),n.overlayCode=[];const i=this.annot.GetOverlayCode();for(let e=0;e<i.GetSize();e++)n.overlayCode.push(i.GetAt(e));return n},n.getQuadPointsArray=function(){let e=[],t=this.annot.GetDict(),n=(0,G.n5)(this.engine,"QuadPoints");if(t.HasKey(n)){let r=t.GetElement(n).GetArray(),i=r.GetElementCount()/8;for(let t=0;t<i;t++){let n=[];n.push({x:r.GetElement(8*t).GetFloat(),y:r.GetElement(8*t+1).GetFloat()},{x:r.GetElement(8*t+2).GetFloat(),y:r.GetElement(8*t+3).GetFloat()},{x:r.GetElement(8*t+4).GetFloat(),y:r.GetElement(8*t+5).GetFloat()},{x:r.GetElement(8*t+6).GetFloat(),y:r.GetElement(8*t+7).GetFloat()}),e.push(n)}}return e},n.updateQuadPointsByCharIndex=function(e,t){try{if(-1===e||-1===t)return!1;if(e>t){let n=e;e=t,t=n}let n=this.pdfPage.getNormalTextPageSync(),r=n.GetTextRectCount(e,t-e+1);if(r<1)return n.delete(),!1;let i=this.engine,o=(new i.QuadPointsArray,i.QuadPoints,i.PointF),a=i.PDFArray.Create();for(let e=0,t=r;e<t;e++){let t,r,i,s,c=n.GetTextRect(e),l=n.GetBaselineRotation(e),u=c.top,d=c.right,h=c.bottom,f=c.left,g=new o(f,u),p=new o(d,u),m=new o(f,h),_=new o(d,h);switch(l.value%4){case 0:t=g,r=p,i=m,s=_;break;case 1:t=g,r=m,i=p,s=_;break;case 2:t=_,r=m,i=p,s=g;break;case 3:t=_,r=p,i=m,s=g}a.AddFloat(t.x),a.AddFloat(t.y),a.AddFloat(r.x),a.AddFloat(r.y),a.AddFloat(i.x),a.AddFloat(i.y),a.AddFloat(s.x),a.AddFloat(s.y)}let s=this.annot;return s.GetDict().SetAt((0,G.n5)(i,"QuadPoints"),a),s.ResetAppearanceStream(),n.delete(),this.updateModifyTime(),!0}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e))}},n.create=function(t){return e.prototype.create.call(this,t)},n.setRedactAppearance=function({applyFillColor:e,isAutoFontSize:t,textColor:n,textSize:r,fontName:i,justification:o,isRepeat:a,overlayText:s,redactionCode:c}){const l=this.engine,u=this.annot.GetDefaultAppearance();let d;if(void 0!==e&&this.annot.SetApplyFillColor(e),void 0!==t&&this.annot.SetAutoFontSize(t),n=void 0===n?u.text_color:n,r=void 0===r?u.text_size:parseFloat(r),i){const e=(0,R.T2)(i);d=null!=e?new l.Font(this.gsdkIDs[e]):new l.Font((0,G.Dp)(l,i),0,l.Charset.e_CharsetANSI,0)}else u.font.IsEmpty()&&(d=new l.Font(l.StandardID.e_StdIDHelvetica));d=d||u.font;const h=(d?l.DefAPFlags.e_FlagFont.value:0)|l.DefAPFlags.e_FlagTextColor.value|(r>0?l.DefAPFlags.e_FlagFontSize.value:0),f=new l.DefaultAppearance(h,d,r,n||16711680);if(this.annot.SetDefaultAppearance(f),"0"===o&&this.annot.SetOverlayTextAlignment(l.Alignment.e_AlignmentLeft),"1"===o&&this.annot.SetOverlayTextAlignment(l.Alignment.e_AlignmentCenter),"2"===o&&this.annot.SetOverlayTextAlignment(l.Alignment.e_AlignmentRight),void 0!==a&&this.annot.SetRepeat(a),void 0!==s&&this.annot.SetOverlayText((0,G.Dp)(l,s)),c){const e=new l.Int32Array;c.forEach((t=>e.Add(t))),this.annot.SetOverlayCode(e)}else this.annot.RemoveOverlayCode();return this.annot.ResetAppearanceStream(),this.updateModifyTime(),!0},n.removeOverlayText=function(){this.engine;return this.annot.RemoveOverlayText(),this.annot.ResetAppearanceStream(),!0},n.setRedactFillColor=function(e,t){if("number"!=typeof e)throw new Error(`Incorrect color value: ${e}`);void 0===t&&(t=!1),e<0&&(e=0);let n=this.annot;const r=this.engine;0===e?n.RemoveProperty({value:3}):(n.SetOpacity(n.GetOpacity(),t),n.SetFillColor&&n.SetFillColor(e)),n.ResetAppearanceStream(),v.Z.updateModifyTime(r,n)},t}(k);var ht=dt;const ft=(e,t,n)=>{let r,i=e.HEAPU8.buffer;return r=i.slice?i.slice(t,t+n):new Uint8Array(i,t,n).buffer,r};let gt=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r)||this).isAudioVideo=!0,i}(0,w.Z)(t,e);var n=t.prototype;return n.constructEngineAnnot=function(e){return new this.engine.Sound(e)},n.getSoundStream=function(){return this.annot.GetSoundStream()},n.toJson=function(t){let n=e.prototype.toJson.call(this,t),r=this.engine;this.isAudioVideo||(n.action=this.action&&this.action.toJson()),n.opacity=this.getOpacity(),n.isAudioVideo=this.isAudioVideo;try{n.title=this.annot.GetTitle().toString();let e=this.getSoundStream(),t=this.annot.GetSamplingRate(),i=this.annot.GetBits(),o=this.annot.GetChannelCount();if(e){let a=e.GetDataSize(!1);if(a>0){let s=r._malloc(a);e.GetData(!1,a,s);let c=ft(r,s,a);n.soundObj={data:c,sampleRate:t,sampleBits:i,channel:o,size:a},r._free(s)}}}catch(e){console.error(e)}let i=this.annot.GetDict(),o=i.GetElement((0,G.n5)(r,"AP"));if(o){let e=o.GetDirectObject().GetDict().GetElement((0,G.n5)(r,"N")),t=i.GetElement((0,G.n5)(r,"A")),a=t&&t.GetDirectObject();a&&(n.aObjNum=a.GetObjNum()),e&&e.GetDirectObject()&&(n.apObjNum=e.GetDirectObject().GetObjNum())}let a=i.GetElement((0,G.n5)(r,"MK")),s=a&&a.GetDirectObject().GetDict();if(s){let e=s.GetElement((0,G.n5)(r,"I")),t=e&&e.GetDirectObject();t&&(n.iObjNum=t.GetObjNum())}let c=i.GetElement((0,G.n5)(r,"Name"));return c&&(n.iconName=(c.GetName()||"").toString()),n},n.setBorderColor=function(e){let t=this.annot;if(0==e)t.RemoveProperty({value:2});else{if(-1==e)return;t.SetBorderColor(e)}t.ResetAppearanceStream()},n.getOpacity=function(){return this.annot.GetOpacity()},n.getTitle=function(){return this.annot.GetTitle()},n.create=function(t){t.rotate&&this.annot.SetRotation(this.engine.Rotation.values[t.rotate]),t.borderWidth&&this.setBorderWidth(t.borderWidth);let n=e.prototype.create.call(this,t);if(this.setBorderWidth(0),void 0!==t.opacity){let e=+t.opacity;this.setOpacity(e)}if(t.apObjNum){let e=this.doc,n=this.annot.GetDict(),r=this.engine,i=(0,G.n5)(r,"AP"),o=(0,G.n5)(r,"MK"),a=n.GetElement(i),s=n.GetElement(o);if(a||(a=r.PDFDictionary.Create().GetDict(),n.SetAt(i,a)),s||(s=r.PDFDictionary.Create().GetDict(),n.SetAt(o,s)),a.GetDirectObject().GetDict().SetAtReference((0,G.n5)(r,"N"),e.GetIndirectObject(+t.apObjNum),e),t.aObjNum){let i=(0,G.n5)(r,"A");n.GetElement(i)||n.SetAtReference(i,e.GetIndirectObject(+t.aObjNum),e);let o=this.annot.GetAction();o.IsEmpty()||(this.action=this.JR.actionManager.get(o,this.doc,this.JR),"ActionType_e_TypeRendition"==this.action.getType()&&(this.isAudioVideo=!0))}if(t.iObjNum){let n=s.GetDirectObject().GetDict();n.SetAtReference((0,G.n5)(r,"I"),e.GetIndirectObject(+t.iObjNum),e);let i=(0,G.n5)(r,"IF"),o=n.GetElement(i);o||(o=r.PDFDictionary.Create().GetDict(),n.SetAt(i,o));let a=o.GetDirectObject().GetDict(),c=(0,G.n5)(r,"FB"),l=(0,G.n5)(r,"P"),u=(0,G.n5)(r,"S"),d=r.PDFObject.CreateFromBoolean(!0),h=r.PDFObject.CreateFromName(l);a.SetAt(c,d),a.SetAt(u,h),(0,E.Z)(d,h)}}else t.multiBuffer&&(this.setMultiMedia(t.multiBuffer,t.fileName,t.contentType),this.isAudioVideo=!0),t.buffer?this.setImage(t.buffer):this.annot.ResetAppearanceStream();return n},n.setMultiMedia=function(e,t,n){let r=this.annot.GetPage().GetDocument(),i=this.engine.Action.Create(r,this.engine.ActionType.e_TypeRendition),o=new this.engine.RenditionAction(i);o.SetOperationType(this.engine.OperationType.e_OpTypeAssociate),o.SetScreenAnnot(this.annot);let a=new this.engine.Rendition(r,null),s=new this.engine.WString(t);a.SetRenditionName(s),a.SetMediaClipName(s);let c=Ce.Z.createFile(this.engine,r,e);c.SetFileName(s),a.SetMediaClipFile(c);let l=new this.engine.String(n);a.SetMediaClipContentType(l),o.InsertRendition(a,-1),this.annot.SetAction(o),this.annot.ResetAppearanceStream(),(0,E.Z)(s,l,a,o),this.action=this.JR.actionManager.get(i,this.doc,this.JR)},n.setImage=function(e){try{let t=ot.Z.createImage(this.engine,e);this.annot.SetImage(t,0,0),this.annot.ResetAppearanceStream(),this.updateModifyTime()}catch(e){let t=this.engine,n=e instanceof t.ErrorCode?e:t.getErrorCode(e);console.warn(n)}return!0},n.setOpacity=function(e){let t=this.annot;return e=+e,t.SetOpacity(e),t.ResetAppearanceStream(),[this.getId()]},n.setRotation=function(e){let t=this.annot,n=this.engine.Rotation,r={0:n.e_Rotation0,90:n.e_Rotation90,180:n.e_Rotation180,270:n.e_Rotation270};return t.SetRotation(r[e]),t.ResetAppearanceStream(),this.updateModifyTime(),[this.getId()]},n.setBorderStyle=function(t,n){return e.prototype.setBorderStyle.call(this,t,n),[this.getId()]},n.removeAction=function(){return this.annot.RemoveAction(),this.updateModifyTime(),!0},t}(k),pt=function(){function e(e){this.engine=e}return e.prototype.get=function(e,t,n){let r=this.engine.AnnotType;switch(e.GetType()){case r.e_Highlight:return new W(e,t,n);case r.e_Squiggly:return new we(e,t,n);case r.e_StrikeOut:return new z(e,t,n);case r.e_Underline:return new J(e,t,n);case r.e_Line:return new _e(e,t,n);case r.e_PolyLine:return new Ie(e,t,n);case r.e_FileAttachment:return new Ee(e,t,n);case r.e_Note:return new Fe(e,t,n);case r.e_Circle:return new Te(e,t,n);case r.e_Caret:return new xe(e,t,n);case r.e_Polygon:return new De(e,t,n);case r.e_FreeText:return new Be(e,t,n);case r.e_Square:return new Me(e,t,n);case r.e_Sound:return new gt(e,t,n);case r.e_Ink:return new rt(e,t,n);case r.e_Stamp:return new Qe(e,t,n);case r.e_Link:return new tt(e,t,n);case r.e_Screen:return new ct(e,t,n);case r.e_Widget:return new it.Z(e,t,n);case r.e_Popup:return new lt(e,t,n);case r.e_Redact:return new ht(e,t,n);default:return new v.Z(e,t,n)}},e}();var mt=pt;let _t=function(){function e(e,t,n,r){this.engine=n,this.doc=t,this.JR=r,this.originAction=e,this.action=this.createAction(e),this.initSubActions()}e.create=function(e,t,n){const r=e.Action.Create(t,n);return n===e.ActionType.e_TypeSetOCGState?new e.SetOCGStateAction(r):n===e.ActionType.e_TypeThread?new e.ThreadAction(r):r};var t=e.prototype;return t.createAction=function(e){return e},t.destroy=function(){this.subAction.forEach((function(e){e.destroy()})),this.subAction=[],this.action.delete(),this.originAction.delete()},t.toJson=function(){let e=this.getType().replace(/^ActionType_e_/,""),t=[],n=this.action.GetDict().GetObjNum(),r=this.action.GetSubActionCount();return this.subAction.forEach((e=>{t.push(e.toJson())})),{objNumber:n,type:e,subAction:t,subActionCount:r}},t.setActionDataByIndex=function(e,t=0){let n=this;for(let e=1;e<=t;e++)n=n.subAction[0];return n.setActionData(e),this},t.setSubAction=function(e,t){let n,r="[object Object]"===Object.prototype.toString.call(t);n=r?this.JR.actionManager.create(this.doc,t.type):this.JR.actionManager.create(this.doc,t),this.action.SetSubAction(e,n);let i=this.JR.actionManager.get(this.action.GetSubAction(e),this.doc,this.JR);return r&&i.create(t),this.initSubActions(),i},t.insertSubAction=function(e,t){const n=this.action.GetSubActionCount();e=Math.max(0,Math.min(n,e));let r,i="[object Object]"===Object.prototype.toString.call(t);r=i?this.JR.actionManager.create(this.doc,t.type):this.JR.actionManager.create(this.doc,t),this.action.InsertSubAction(e,r);let o=this.JR.actionManager.get(this.action.GetSubAction(e),this.doc,this.JR);return i&&o.create(t),this.initSubActions(),o},t.removeAllSubActions=function(){this.action.RemoveAllSubActions(),this.initSubActions()},t.removeSubAction=function(e){this.action.RemoveSubAction(e),this.initSubActions()},t.isEmpty=function(){return this.action.IsEmpty()},t.getType=function(){return this.action.GetType().constructor.name},t.setActionData=function(e){return!1},t.initSubActions=function(){const e=this.action.GetSubActionCount();if(this.subAction=[],e>0)for(let t=0;t<e;t++)this.subAction.push(this.JR.actionManager.get(this.action.GetSubAction(t),this.doc,this.JR))},t.create=function(e){},e}(),yt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.URIAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);return t.uri=this.getURI(),t},n.setActionData=function(e){return this.setURI(e.uri),!0},n.create=function(e){return e.uri&&this.setURI(e.uri),!0},n.getURI=function(){let e,t=this.action.GetURI();try{e=t.toString()}catch(n){isNaN(n)||(n=this.engine.getErrorCode(n)),console.warn(n);let r="",i=t.GetLength(),o=t.GetBuffer();for(let e=0;e<i;e++){let t=this.engine.HEAP8[o+e]>>>0&255;r+=String.fromCharCode(t)}e=r}return e},n.setURI=function(e){let t=new this.engine.String(e);this.action.SetURI(t),t.delete()},t}(_t);var St=__webpack_require__(1098);let bt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.GotoAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this),n=this.getDestination();return t.destination=n.toJson(),t},n.getDestination=function(){return new St.Z(this.action.GetDestination(),this.doc,this.engine)},n.setActionData=function(e){return this.setDestination(e.destination||e)},n.create=function(e){if(e.destination)return this.setDestination(e.destination)},n.setDestination=function(e){let t=this.doc;t.doc&&(t=t.doc);const n=St.Z.create(this.engine,t,e);return this.action.SetDestination(n),!0},t}(_t),It=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.LaunchAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this),n=this.getFileSpec();return t.fileSpec=n.toJson(),t},n.getFileSpec=function(){return this.fileSpec=new Ce.Z(this.action.GetFileSpec(),this)},n.setActionData=function(e){try{if(e.fileSpec)return this.create(e);e.buffer&&this.setFileSpec(e)}catch(e){return!1}return!0},n.create=function(e){if(e.fileSpec){let t=new this.engine.FileSpec(this.doc);return t.SetFileName((0,G.Dp)(this.engine,e.fileSpec.fileName)),this.action.SetFileSpec(t),!0}try{data.buffer&&this.setFileSpec(e)}catch(e){return!1}return!0},n.setFileSpec=function(e){let t=Ce.Z.createFile(this.engine,this.doc,e.buffer);new Ce.Z(t,this).setFileName(e.fileName),this.action.SetFileSpec(t)},t}(_t),At=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.NamedAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);return t.name=this.getName(),t},n.setActionData=function(e){try{this.setName(e.name)}catch(e){return!1}return!0},n.create=function(e){try{this.setName(e.name)}catch(e){return!1}return!0},n.getName=function(){return this.JR.getPDFString(this.action.GetName())},n.setName=function(e){let t=new this.engine.String(e);this.action.SetName(t),t.delete()},t}(_t),Dt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.JavaScriptAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);return t.javascript=this.getScript(),t},n.setActionData=function(e){try{this.setScript(e.script||e.javascript)}catch(e){return!1}return!0},n.create=function(e){let t=e.script;t||(t=e.javascript);try{t&&this.setScript(t)}catch(e){return!1}return!0},n.getScript=function(){return this.JR.getPDFString(this.action.GetScript())},n.setScript=function(e){let t=this.engine,n=(0,G.Dp)(t,e);this.action.GetDict().SetAtWString((0,G.n5)(t,"JS"),n),n.delete()},t}(_t),vt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.SubmitFormAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);return t.flags=this.getFlags(),t.url=this.getURL(),t.fieldNames=this.getFieldNames(),t},n.setActionData=function(e){try{this.setFlags(e.flags||0),e.url&&this.setURL(e.url),e.fieldNames&&this.setFieldNames(e.fieldNames)}catch(e){return!1}return!0},n.create=function(e){try{e.flags&&this.setFlags(e.flags),e.url&&this.setURL(e.url),e.fieldNames&&this.setFieldNames(e.fieldNames)}catch(e){return!1}return!0},n.getFieldNames=function(){let e=this.action.GetFieldNames(),t=[],n=e.GetSize();for(let r=0;r<n;r++)t.push(this.JR.getPDFString(e.GetAt(r)));return t},n.getFlags=function(){return this.action.GetFlags()},n.getURL=function(){let e=this.action.GetURL();return 0===e.GetLength()?null:this.JR.getPDFString(e)},n.setFieldNames=function(e){let t=new this.engine.WStringArray;e.forEach((e=>{let n=new this.engine.WString(e);t.Add(n),n.delete()}));let n=this.action.SetFieldNames(t);return t.delete(),n},n.setFlags=function(e){return this.action.SetFlags(Number(e))},n.setURL=function(e){return this.action.SetURL(new this.engine.String(e))},t}(_t),wt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.ResetFormAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);return t.flags=this.getFlags(),t.fieldNames=this.getFieldNames(),t},n.setActionData=function(e){try{e.flags&&this.setFlags(e.flags),e.fieldNames&&this.setFieldNames(e.fieldNames)}catch(e){return!1}return!0},n.create=function(e){try{e.flags&&this.setFlags(e.flags),e.fieldNames&&this.setFieldNames(e.fieldNames)}catch(e){return!1}return!0},n.getFieldNames=function(){let e=this.action.GetFieldNames(),t=[],n=e.GetSize();for(let r=0;r<n;r++)t.push(this.JR.getPDFString(e.GetAt(r)));return t},n.getFlags=function(){return this.action.GetFlags()},n.setFieldNames=function(e){let t=new this.engine.WStringArray;e.forEach((e=>{let n=new this.engine.WString(e);t.Add(n),n.delete()}));let n=this.action.SetFieldNames(t);return t.delete(),n},n.setFlags=function(e){return this.action.SetFlags(Number(e))},t}(_t),Pt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.ImportDataAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this),n=this.getFDFFileSpec();return t.fileSpec=n.toJson(),t},n.setActionData=function(e){try{if(e.fileSpec)return this.create(e);e.buffer&&this.setFDFFileSpec(e)}catch(e){return!1}return!0},n.create=function(e){if(e.fileSpec){let t=new this.engine.FileSpec(this.doc);return t.SetFileName((0,G.Dp)(this.engine,e.fileSpec.fileName)),this.action.SetFDFFileSpec(t),!0}try{e.buffer&&this.setFDFFileSpec(e)}catch(e){return!1}return!0},n.getFDFFileSpec=function(){return this.fileSpec=new Ce.Z(this.action.GetFDFFileSpec(),this)},n.setFDFFileSpec=function(e){let t=Ce.Z.createFile(this.engine,this.doc,e.buffer);new Ce.Z(t,this).setFileName(e.fileName),this.action.SetFDFFileSpec(t)},t}(_t),Ft=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.RenditionAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this),n=this.action.GetRenditionCount(),r=[];for(let e=0;e<n;e++){let t,n=this.action.GetRendition(e),i=n.GetMediaClipContentType();try{t=i.toString()}catch(e){let n="",r=i.GetLength(),o=i.GetBuffer();for(let e=0;e<r;e++){let t=this.engine.HEAP8[o+e]>>>0&255;n+=String.fromCharCode(t)}t=n}let o=n.GetMediaClipFile(),a=o.GetFileName().toString(),s=new Ce.Z(o,this),c=s.getFileSize(),l=new Uint8Array(c);s.getStream(((e,t,n)=>{var r=new Uint8Array(e);l.set(r,t)})),r.push({fileSize:c,fileName:a,contentType:t,buffer:l})}return t.renditions=r,t},t}(_t),Tt=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.HideAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);return t.fieldNames=this.getFieldNames(),t.hideState=this.getHideState(),t},n.getFieldNames=function(){let e=this.action.GetFieldNames(),t=[];for(let n=0;n<e.GetSize();n++){let r=e.GetAt(n);t.push(r.toString()),r.delete()}return e.delete(),t},n.getHideState=function(){return this.action.GetHideState()},n.setActionData=function(e){try{this.setFieldNames(e.fieldNames),this.setHideState(e.hideState)}catch(e){return!1}return!0},n.create=function(e){try{e.fieldNames&&this.setFieldNames(e.fieldNames),this.setHideState(e.hideState)}catch(e){return!1}return!0},n.setFieldNames=function(e){let t=new this.engine.WStringArray;e.forEach((e=>{let n=new this.engine.WString(e);t.Add(n),n.delete()}));let n=this.action.SetFieldNames(t);return t.delete(),n},n.setHideState=function(e){return this.action.SetHideState(e)},t}(_t),Ct=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.RemoteGotoAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);t.destinationName=this.getDestinationName();let n=this.getDestination();t.destination=n.toJson();let r=this.getFileSpec();return t.fileSpec=r.toJson(),t.newWindowFlag=this.getNewWindowFlag(),t},n.getDestinationName=function(){return this.JR.getPDFString(this.action.GetDestinationName())},n.getDestination=function(){return new St.Z(this.action.GetDestination(),this.doc,this.engine)},n.getFileSpec=function(){return this.fileSpec=new Ce.Z(this.action.GetFileSpec(),this)},n.getNewWindowFlag=function(){return this.action.GetNewWindowFlag().value},n.setActionData=function(e){this.setDestination(e),e.destinationName&&this.setDestinationName(e.destinationName),this.setFileSpec(e.buffer,e.fileName),e.newWindowFlag&&this.setNewWindowFlag(e.newWindowFlag)},n.create=function(e){this.setDestination(e.destination),e.destinationName&&this.setDestinationName(e.destinationName),this.setFileSpec(e.buffer,e.fileName),e.newWindowFlag&&this.setNewWindowFlag(e.newWindowFlag)},n.setDestination=function(e){let t=this.doc,n=null;switch(e.type){case"ZoomXYZ":n=St.Z.createXYZ;break;case"ZoomFitPage":n=St.Z.createFitPage;break;case"ZoomFitHorz":n=St.Z.createFitHorz;break;case"ZoomFitVert":n=St.Z.createFitVert;break;case"ZoomFitRect":n=St.Z.createFitRect;break;case"ZoomFitBBox":n=St.Z.createFitBBox;break;case"ZoomFitBHorz":n=St.Z.createFitBHorz;break;default:n=St.Z.createFitBVert}let r=n(this.engine,t,e);return this.action.SetDestination(r),!0},n.setDestinationName=function(e){return this.action.SetDestinationName(e),!0},n.setFileSpec=function(e,t){let n=Ce.Z.createFile(this.engine,this.doc,e);new Ce.Z(n,this).setFileName(t),this.action.SetFileSpec(n)},n.setNewWindowFlag=function(e){let t=[this.engine.NewWindowFlag.e_NewWindowFlagFalse,this.engine.NewWindowFlag.e_NewWindowFlagTrue,this.engine.NewWindowFlag.e_NewWindowFlagNone];this.action.SetNewWindowFlag(t[e])},t}(_t),Gt=function(){function e(e,t,n){this.engine=t,this.doc=n,this.embeddedGotoTarget=e}e.create=function(e,t){return new e.EmbeddedGotoTarget(t)};var t=e.prototype;return t.toJson=function(){let e,t=this.getAttachedFileName(),n=this.getFileAttachmentAnnotIndex(),r=this.getPageIndex(),i=this.getRelationship(),o=this.embeddedGotoTarget.GetTarget();if(!o.IsEmpty()){let t=new this.constructor(o);e=t.toJson(),t.destroy()}return o.delete(),{attachedFileName:t,fileAttachmentAnnotIndex:n,pageIndex:r,relationship:i,target:e}},t.getAttachedFileName=function(){return this.embeddedGotoTarget.GetAttachedFileName().toString()},t.getFileAttachmentAnnotIndex=function(){return this.embeddedGotoTarget.GetFileAttachmentAnnotIndex()},t.getPageIndex=function(){return this.embeddedGotoTarget.GetPageIndex()},t.getRelationship=function(){return this.embeddedGotoTarget.GetRelationship().toString()},t.getTarget=function(){return new this.constructor(this.embeddedGotoTarget.GetTarget())},t.setAttachedFileName=function(e){let t=new this.engine.WString(e);this.embeddedGotoTarget.SetAttachedFileName(t),t.delete()},t.setFileAttachmentAnnotIndex=function(e){this.embeddedGotoTarget.SetFileAttachmentAnnotIndex(e)},t.setPageIndex=function(e){this.embeddedGotoTarget.SetPageIndex(e)},t.setRelationship=function(e){let t=new this.engine.String(e);this.embeddedGotoTarget.SetRelationship(t),t.delete()},t.setTarget=function(e){let{attachedFileName:t,fileAttachmentAnnotIndex:n,pageIndex:r,relationship:i,target:o}=e,a=this.constructor.create(this.engine,this.doc),s=new this.constructor(a,this.engine,this.doc);t&&s.setAttachedFileName(t),n>=0&&s.setFileAttachmentAnnotIndex(n),r>=0&&s.setPageIndex(r),i&&s.setRelationship(i),o&&s.setTarget(o),this.embeddedGotoTarget.SetTarget(a)},e}(),Et=function(e){function t(){return e.apply(this,arguments)||this}(0,w.Z)(t,e);var n=t.prototype;return n.createAction=function(e){return new this.engine.EmbeddedGotoAction(e)},n.toJson=function(){let t=e.prototype.toJson.call(this);t.destinationName=this.getDestinationName();let n=this.getDestination();t.destination=n.toJson();let r=this.getRootFile();return t.rootFile=r.toJson(),t.newWindowFlag=this.getNewWindowFlag(),this.action.GetTarget().IsEmpty()||(t.target=this.getTarget().toJson()),t},n.getDestinationName=function(){return this.JR.getPDFString(this.action.GetDestinationName())},n.getDestination=function(){return new St.Z(this.action.GetDestination(),this.doc,this.engine)},n.getRootFile=function(){return this.fileSpec=new Ce.Z(this.action.GetRootFile(),this)},n.getNewWindowFlag=function(){return this.action.GetNewWindowFlag().value},n.getTarget=function(){return new Gt(this.action.GetTarget(),this.engine,this.doc)},n.setActionData=function(e){this.setDestination(e),e.destinationName&&this.setDestinationName(e.destinationName),e.buffer&&this.setRootFile(e.buffer,e.fileName),e.newWindowFlag&&this.setNewWindowFlag(e.newWindowFlag),this.setTarget(e.target)},n.create=function(e){this.setDestination(e.destination),e.destinationName&&this.setDestinationName(e.destinationName),e.buffer&&this.setRootFile(e.buffer,e.fileName),e.newWindowFlag&&this.setNewWindowFlag(e.newWindowFlag),e.target&&this.setTarget(e.target)},n.setDestination=function(e){let t=this.doc,n=null;switch(e.type){case"ZoomXYZ":n=St.Z.createXYZ;break;case"ZoomFitPage":n=St.Z.createFitPage;break;case"ZoomFitHorz":n=St.Z.createFitHorz;break;case"ZoomFitVert":n=St.Z.createFitVert;break;case"ZoomFitRect":n=St.Z.createFitRect;break;case"ZoomFitBBox":n=St.Z.createFitBBox;break;case"ZoomFitBHorz":n=St.Z.createFitBHorz;break;default:n=St.Z.createFitBVert}let r=n(this.engine,t,e);return this.action.SetDestination(r),!0},n.setDestinationName=function(e){return this.action.SetDestinationName(e),!0},n.setRootFile=function(e,t){let n=Ce.Z.createFile(this.engine,this.doc,e);new Ce.Z(n,this).setFileName(t);try{this.action.SetRootFile(n)}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}},n.setNewWindowFlag=function(e){let t=[this.engine.NewWindowFlag.e_NewWindowFlagFalse,this.engine.NewWindowFlag.e_NewWindowFlagTrue,this.engine.NewWindowFlag.e_NewWindowFlagNone];this.action.SetNewWindowFlag(t[e])},n.setTarget=function(e){let{attachedFileName:t,fileAttachmentAnnotIndex:n,pageIndex:r,relationship:i,target:o}=e,a=Gt.create(this.engine,this.doc),s=new Gt(a,this.engine,this.doc);t&&s.setAttachedFileName(t),n>=0&&s.setFileAttachmentAnnotIndex(n),r>=0&&s.setPageIndex(r),i&&s.setRelationship(i),o&&s.setTarget(o),this.action.SetTarget(a)},t}(_t);var Rt=__webpack_require__(329);let xt=function(e){function t(t,n,r,i){var o;(o=e.call(this,t,n,r,i)||this).action=new o.engine.SetOCGStateAction(t);const a=n.doc||n;return o.pdflayer=new Rt.Z(a,r),o}(0,w.Z)(t,e);var n=t.prototype;return n.toJson=function(){let t=e.prototype.toJson.call(this);const n=[],r=[],i=this.action.GetOCGStateCount();for(let e=0;e<i;e++){const t=this.action.GetOCGStateArray(e),i=t.GetSize();for(let o=0;o<i;o++){const i=t.GetAt(o).GetObjNum();0===e?n.push(i):r.push(i)}}return t.visibleLayerIds=n,t.hideLayerIds=r,t},n.setOCGState=function(e,t){const{e_OCGStateOff:n,e_OCGStateOn:r}=this.engine.OCGState;return e.length>0&&this._setState(e,n),t.length>0&&this._setState(t,r),this.toJson()},n._setState=function(e,t){const n=new this.engine.PDFDictionaryArray;for(let t=0;t<e.length;t++){const{layer_node:r}=this.pdflayer.getLayerNodeById(e[t]);n.Add(r.GetDict())}this.action.InsertOCGStates(this.doc,0,t,n)},n.setActionData=function(e){this.create(e)},n.create=function({hideLayerIds:e,visibleLayerIds:t}){try{return this.setOCGState(e,t)}catch(e){return console.error(e),!1}},t}(_t),Mt=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t,n,r,i)||this).doc=n,o.engine=r,o.action=new o.engine.ThreadAction(t),o}(0,w.Z)(t,e);var n=t.prototype;return n.toJson=function(){const t=e.prototype.toJson.call(this);return this.action.IsDestThreadInCurrentDoc()?(t.dest_thread=this.action.GetDestinationThread(),t.dest_thread_index=this.action.GetDestinationThreadIndex(),t.dest_thread_title=this.action.GetDestinationThreadTitle().toString()):t.file_spec=this.action.GetFileSpec(),t},n.setActionData=function(e){try{this.setThreadIndex(e.dest_thread_index)}catch(e){return!1}return!0},n.create=function(e){try{this.setThreadIndex(e.dest_thread_index)}catch(e){console.error(e)}return!0},n.setThreadIndex=function(e){const t=new this.engine.FileSpec(this.doc);this.action.SetDestinationThreadIndex(t,e)},t}(_t),Ot=function(){function e(e){this.engine=e}var t=e.prototype;return t.get=function(e,t,n){let r=this.engine,i=r.ActionType;switch(e&&!e.IsEmpty()&&e.GetType()||null){case i.e_TypeThread:return new Mt(e,t,r,n);case i.e_TypeSetOCGState:return new xt(e,t,r,n);case i.e_TypeURI:return new yt(e,t,r,n);case i.e_TypeLaunch:return new It(e,t,r,n);case i.e_TypeNamed:return new At(e,t,r,n);case i.e_TypeJavaScript:return new Dt(e,t,r,n);case i.e_TypeResetForm:return new wt(e,t,r,n);case i.e_TypeSubmitForm:return new vt(e,t,r,n);case i.e_TypeImportData:return new Pt(e,t,r,n);case i.e_TypeGoto:return new bt(e,t,r,n);case i.e_TypeRendition:return new Ft(e,t,r,n);case i.e_TypeHide:return new Tt(e,t,r,n);case i.e_TypeGoToR:return new Ct(e,t,r,n);case i.e_TypeGoToE:return new Et(e,t,r,n);case i.e_TypeUnknown:case i.e_TypeSound:case i.e_TypeMovie:case i.e_TypeTrans:case i.e_TypeGoTo3DView:default:return new _t(e,t,r,n)}},t.create=function(e,t){let n=this.engine.ActionType;return _t.create(this.engine,e,n["e_"+t])},t.getActionByDict=function(e,t){return new this.engine.Action(e,t)},e}(),Nt=function(){function e(e,n,r,i,o){this.id=(0,t.Ki)("graphics_object"),this.engine=i,this.c_page=n,!r.objectMap&&(r.objectMap=new Map),r.objectMap.set(e,this.id),this.parent=r,this.graphicsObject=e,this.jr=o}var n=e.prototype;return n.getType=function(){const e=this.graphicsObject.GetType();return e?e.value:-1},n.isParentPage=function(){return!this.parent.c_page},n.toJson=function(){let e=this.graphicsObject,t=(e.GetBlendMode().value,e.GetFillColor()),n=e.GetStrokeColor(),r=e.GetGraphState(),i=[];for(let e=0;e<r.dashes.GetSize();e++)i.push(r.dashes.GetAt(e));let o=e.GetMatrix(),a=o,s=e.GetRect();if(!this.isParentPage()){let e=this.parent.matrix;e.TransformRect(s),a=new this.engine.Matrix(e.a,e.b,e.c,e.d,e.e,e.f),a.Concat(o.a,o.b,o.c,o.d,o.e,o.f,!1)}return{id:this.id,graphState:{dashes:i,lineCap:r.line_cap.value,lineJoin:r.line_join.value,lineWidth:r.line_width,lineLimit:r.line_limit},fillColor:t,strokeColor:n,hasTransparency:e.HasTransparency(),type:e.GetType()?e.GetType().value:-1,matrix:{a:a.a,b:a.b,c:a.c,d:a.d,e:a.e,f:a.f},rect:{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}},n.setMatrix=function(e){let t=new this.engine.Matrix;t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,this.graphicsObject.SetMatrix(t),this.c_page.GenerateContent(),t.delete},n.setRect=function(e){let t=this.graphicsObject.GetMatrix(),n=this.graphicsObject.GetRect();if(n.IsEmpty())return;let r=new this.engine.CFX_FloatRect(e.left,e.bottom,e.right,e.top);if(r.IsEmpty())return;if(!this.isParentPage()){let e=new this.engine.Matrix;e.SetReverse(this.parent.matrix),e.TransformRect(r)}let i=new this.engine.Matrix;i.MatchRect(r,n),this.graphicsObject.Transform(i,!0),r.delete(),this.c_page.GenerateContent(),t.delete()},n.render=function(e=1,t=0){let n=this.engine,r=this.graphicsObject.GetRect(),i=new n.Matrix;if(i.d=-1,i.f=r.Height(),i.Scale(e,e,!1),this.isParentPage())i.Rotate(this.c_page.GetRotation().value*Math.PI/2+t/180*Math.PI,0);else{let e=this.parent.getMatrix(),r=new n.Matrix(e.a,e.b,e.c,e.d,e.e,e.f),o=new n.Matrix;o.Rotate(-this.c_page.GetRotation().value*Math.PI/2+t/180*Math.PI,0),r.Concat(o,!1),r.Concat(i,!1),o.delete(),i.delete(),i=r}i.TransformRect(r),i.e-=r.left,i.f-=r.bottom;let o=r.Width(),a=r.Height(),s=Math.max(o*e,1),c=Math.max(a*e,1),l=new n.Bitmap(s,c,n.DIBFormat.e_DIBArgb,0,0),u=new n.Renderer(l,!0);u.RenderGraphicsObject(this.graphicsObject,this.c_page,i);let d=l;s=d.GetWidth(),c=d.GetHeight();let h,f=d.GetBuffer(),g=c*d.GetPitch(),p=f+g;return h=n.HEAPU8.buffer.slice?n.HEAPU8.buffer.slice(f,p):new Uint8Array(n.HEAPU8.buffer,f,g).buffer,i.delete(),u.delete(),l.delete(),{buffer:h,width:s,height:c}},n.updateGraphState=function(e,t,n=[]){let r=this.graphicsObject.GetGraphState();switch(e){case"BorderStyle":let e=new this.engine.FloatArray;e.SetSize(n.length,-1);for(let t=0;t<n.length;t++)e.SetAt(t,n[t]);r.dashes=e;break;case"BorderWidth":r.line_width=t}this.graphicsObject.SetGraphState(r),r.dashes.delete()},n.setBorderStyle=function(e,t,n=!0){return this.updateGraphState("BorderStyle",e,t),n&&this.c_page.GenerateContent(),this.toJson()},n.setBorderWidth=function(e,t=!0){return this.updateGraphState("BorderWidth",e),t&&this.c_page.GenerateContent(),this.toJson()},n.setBorderColor=function(e,t=!0){let n=255*this.graphicsObject.GetStrokeOpacity()|0;return this.graphicsObject.SetStrokeColor((16777215&e|n<<24)>>>0),t&&this.c_page.GenerateContent(),this.toJson()},n.setFillColor=function(e,t=!0){let n=255*this.graphicsObject.GetFillOpacity()|0;return this.graphicsObject.SetFillColor((16777215&e|n<<24)>>>0),t&&this.c_page.GenerateContent(),this.toJson()},n.setOpacity=function(e,t=!0){return this.graphicsObject.SetFillOpacity(e),this.graphicsObject.SetStrokeOpacity(e),t&&this.c_page.GenerateContent(),this.toJson()},n.remove=function(e=!0){if(this.isParentPage())this.c_page.RemoveGraphicsObject(this.graphicsObject);else{var t=this.parent.graphicsObject.GetGraphicsObjects();t.RemoveGraphicsObject(this.graphicsObject),t.GenerateContent()}e&&this.c_page.GenerateContent()},n.moveToPosition=function(e,t){const n=this.isParentPage()?this.c_page:this.parent.graphicsObject.GetGraphicsObjects();let r;if(e!=C.Bo.FIRST&&e!=C.Bo.LAST)for(const[e,n]of this.parent.objectMap)r=n==t?e:null;const i=n.GetGraphicsObjectPosition(this.graphicsObject);let o;switch(e){case C.Bo.FIRST:o=n.GetLastGraphicsObjectPosition(this.engine.GraphicsObjectType.e_TypeAll);break;case C.Bo.LAST:o=0;break;case C.Bo.BEFORE:o=n.GetGraphicsObjectPosition(r);break;case C.Bo.AFTER:let e=n.GetGraphicsObjectPosition(r);o=n.GetPrevGraphicsObjectPosition(e,this.engine.GraphicsObjectType.e_TypeAll)}return n.MoveGraphicsObjectByPosition(i,o),n.GenerateContent(),this.toJson()},e}();__webpack_require__(8320);function kt(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}let Bt=function(e){function t(t,n,r,i,o){var a;return(a=e.call(this,t,n,r,i)||this).graphicsObject=t.GetTextObject(),a.jr=o,a}(0,w.Z)(t,e),t.create=function(e,t,n,r,i,o=0){let a=r.TextObject.Create(),s=e.originPosition;if(!s)throw new Error("originPosition is required");let c,l=s.x,u=s.y,d=e.charspace||0,h=e.wordspace||0,f=e.fontSize||12,g=e.textmatrix||[1,0,0,1],p=r.Mode.values[e.textmode||0];if(e.font){let t=e.font;if(void 0!==t.standardId)c=new r.Font(r.StandardID.values[t.standardId]);else{let e=new r.WString(t.name);c=new r.Font(e,t.styles,r.Charset.values[1==t.charset?0:t.charset],t.weight||0),(0,E.Z)(e)}}else c=new r.Font((0,G.Dp)(r,"FoxitSansOTF"),458863,r.Charset.e_CharsetANSI,400);let m=a.GetTextState(t);m.font=c,m.font_size=f,m.charspace=d,m.wordspace=h,m.textmode=p;let _=new r.PointF(l,u);//!!info.italic, info.weight || 400);
if(m.origin_position=_,m.textmatrix=g,a.SetTextState(t,m,!1,400),e.matrix){let t=e.matrix;a.SetMatrix(new r.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]))}let y=new r.WString(e.text||"");a.SetText(y),e.fillColor&&a.SetFillColor((4278190080|e.fillColor)>>>0),o=o||t.GetLastGraphicsObjectPosition(r.GraphicsObjectType.e_TypeAll),t.InsertGraphicsObject(o,a),e.text&&t.GenerateContent();let S=i.get(a,t,n);return e.text&&e.text.length>0&&S.setText(e.text),(0,E.Z)(c,_,y),S};var n=t.prototype;return n.toJson=function(){let t=e.prototype.toJson.call(this),n={},r=this.engine,i=this.c_page,o=i.GetDocument(),a=this.graphicsObject.GetTextState(i),s=a.font,c={};if(!s.IsEmpty()){c.name=s.GetName().toString();let e=s.GetFamilyName().toString();c.familyName=e;let t=c.name;try{t=s.GetBaseFontName(o).toString()||t}catch(e){}c.baseName=t,c.ascent=s.GetAscent(),c.descent=s.GetDescent(),c.isItalic=s.IsItalic(),c.isBold=s.IsBold(),!c.isItalic&&t.toLowerCase().includes("italic")&&(c.isItalic=!0),!c.isBold&&t.toLowerCase().includes("bold")&&(c.isBold=!0);let n,i=c.isBold?700:400,a=c.styles=s.GetStyles(o),l=r.Charset.e_CharsetDefault.value;s.GetFontType(o)==r.FontTypes.e_FontTypeCIDFont&&(l=s.GetCIDCharset(o),void 0!==l&&l!==r.Charset.e_CharsetDefault||(l=r.Charset.values[D(t,!0,!0)],l||(l=r.Charset.e_CharsetANSI)),l===r.CIDCharset.e_CIDCharsetJAPAN1?l=r.Charset.e_CharsetShift_JIS:l===r.CIDCharset.e_CIDCharsetKOREA1&&(l=r.Charset.e_CharsetHangeul),l=l.value),c.charset=l,s.IsEmbedded(o)?(c.isEmbedded=!0,c.nameKey="fv_"+this.id):s.IsStandardFont(o)?(c.isStandard=!0,c.standardId=s.GetStandard14Font(o).value,(n=_(t,l,0,i,a))&&(n="fv_"+n[0].url.replace(/\./g,"_"),c.nameKey=n)):(n=_(t,l,0,i,a))&&(n="fv_"+n[0].url.replace(/\./g,"_"),c.nameKey=n)}return n.textState={text:this.graphicsObject.GetText().toString(),charSpace:a.charspace,font:c,size:a.font_size,vertical_size:a.font_vertical_size,position:{x:a.origin_position.x,y:a.origin_position.y},matrix:[a.GetMatrixA(),a.GetMatrixB(),a.GetMatrixC(),a.GetMatrixD()],mode:a.textmode.value,wordSpace:a.wordspace},(0,P.Z)({},t,n)},n.setText=function(e){let t=this.engine,n=this.c_page;var r=n;this.isParentPage()||(r=this.parent.graphicsObject.GetGraphicsObjects());let i=n.GetDocument(),o=this.graphicsObject,a=o.GetTextState(n),s=o.GetMatrix(),c=parseInt(180*Math.atan2(s.b,s.a)/Math.PI),l=a.font,u=Ht(o,r,t.GraphicsObjectType.e_TypeText)||n.GetLastGraphicsObjectPosition(t.GraphicsObjectType.e_TypeAll),d=e.split(/\n/),h=[o];for(let e=d.length-1,n=0;e>n;e--){let n=o.Clone().GetTextObject();h[e]=n,n.SetText((0,G.Dp)(t,"")),r.InsertGraphicsObject(u,n)}let f=[];if(l.IsEmpty())return Promise.resolve();if(l.IsStandardFont(i))for(let r=0,i=d.length;r<i;r++)if(e=d[r],o=h[r],!e||/^[\u0000-\u00FF]+$/.test(e))o.SetText(new this.engine.WString(e)),f[r]=[o];else{let i=/[\u0000-\u00FF]+/g;f[r]=zt(e,i,o,n,l,t,this,r)}else if(l.IsEmbedded(i)){let r=o.GetText().toString().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),i=new RegExp("^["+r+"]+$");for(let a=0,s=d.length;a<s;a++)e=d[a],o=h[a],!e||i.test(e)?(o.SetText(new this.engine.WString(e)),f[a]=[o]):f[a]=zt(e,new RegExp("["+r+"]+","g"),o,n,l,t,this)}else for(let s=0,c=d.length;s<c;s++)if(e=d[s],o=h[s],l.GetFontType(i)==t.FontTypes.e_FontTypeCIDFont){let a=jt(t,l,i);if(a&&a!==t.Charset.e_CharsetDefault){a=a.value;let i=Wt(a);if(i)!e||new RegExp("^"+i.source+"$").test(e)?(o.SetText(new t.WString(e)),f[s]=[o]):f[s]=zt(e,i,o,n,l,t,this,s);else{let i=Kt(e,o,n,l,t,r,0);f[s]=i,i.length>1&&(s||this.graphicsObject!==o||(this.graphicsObject=i[0]),r.RemoveGraphicsObject(o))}}else{let i=Kt(e,o,n,l,t,r,0);f[s]=i,i.length>1&&(s||this.graphicsObject!==o||(this.graphicsObject=i[0]),r.RemoveGraphicsObject(o))}}else{let c=l.GetName().toString();try{c=l.GetBaseFontName(i).toString()||c}catch(e){}let u=D(c,!1,!0)||t.Charset.e_CharsetANSI.value;/(FoxitSansOTF)|(FoxitSansPS)/.test(c)&&(u=t.Charset.e_CharsetANSI.value);let d=l.IsSupportEmbedded(i),h=[t.Charset.e_CharsetANSI,t.Charset.e_CharsetSymbol,t.Charset.e_CharsetShift_JIS,t.Charset.e_CharsetHangeul,t.Charset.e_CharsetGB2312,t.Charset.e_CharsetChineseBig5];if(d&&-1===h.indexOf(u)){let e=l.Embed(i);e.IsEmpty()||(l=e,a.font=l,o.SetTextState(n,a,!1,400))}let g=Wt(u);if(g)!e||new RegExp("^"+g.source+"$").test(e)?(o.SetText(new t.WString(e)),f[s]=[o]):f[s]=zt(e,g,o,n,l,t,this,s);else{let i=Kt(e,o,n,l,t,r,0);f[s]=i,i.length>1&&(s||this.graphicsObject!==o||(this.graphicsObject=i[0]),r.RemoveGraphicsObject(o))}}let g=0,p=0;for(let e=0,t=f.length;e<t;e++){let t=f[e];for(let e=0,n=t.length;e<n;e++){let n=t[e].GetRect(),r=n.top-n.bottom;g=Math.max(g,r);let i=n.right-n.left;p=Math.max(p,i)}}g+=3,p+=3;let m=0,_=0;for(let e=1,r=f.length;e<r;e++){switch(c){case 0:m-=g;break;case 90:_+=p;break;case 180:case-180:m+=g;break;case 270:case-90:_-=p}let r=f[e];for(let e=0,i=r.length;e<i;e++){let i=r[e],o=i.GetTextState(n);if(o.origin_position=new t.PointF(o.origin_position.x+_,o.origin_position.y+m),i.SetTextState(n,o,!1,400),!i.GetText().toString()){let e=new t.WString("");i.SetText(e)}}}return r.GenerateContent(),this.reParsePage()},n.setItalic=function(e){let t,n=this.c_page,r=n.GetDocument(),i=this.graphicsObject,o=this.engine,a=i.GetTextState(n),s=a.font;if(s.IsEmpty())return Promise.resolve();if(s.IsStandardFont(r)){let n,i=o.StandardID,a=s.GetStandard14Font(r);if(e)switch(a){case i.e_StdIDCourier:n=i.e_StdIDCourierI;break;case i.e_StdIDCourierB:n=i.e_StdIDCourierBI;break;case i.e_StdIDHelvetica:n=i.e_StdIDHelveticaI;break;case i.e_StdIDHelveticaB:n=i.e_StdIDHelveticaBI;break;case i.e_StdIDTimes:n=i.e_StdIDTimesI;break;case i.e_StdIDTimesB:n=i.e_StdIDTimesBI}else switch(a){case i.e_StdIDCourierI:n=i.e_StdIDCourier;break;case i.e_StdIDCourierBI:n=i.e_StdIDCourierB;break;case i.e_StdIDHelveticaI:n=i.e_StdIDHelvetica;break;case i.e_StdIDHelveticaBI:n=i.e_StdIDHelveticaB;break;case i.e_StdIDTimesI:n=i.e_StdIDTimes;break;case i.e_StdIDTimesBI:n=i.e_StdIDTimesB}n&&(t=new o.Font(n))}else{let n=s.GetStyles(r),i=o.Styles.e_StyleItalic.value;e?n|=i:n&=~i;let a=jt(o,s,r),c=s.GetName().toString();try{c=s.GetBaseFontName(r).toString()||c}catch(e){}if(!(/(FoxitSansOTF)|(FoxitSansPS)/.test(c)||a&&a!==o.Charset.e_CharsetDefault)){let e=D(c,!0,!0);-1!==e&&(a=o.Charset.values[e])}if(a&&a!==o.Charset.e_CharsetDefault||(a=o.Charset.e_CharsetANSI),c=c.toLowerCase(),e){if(c.includes("regular"))c=c.replace("regular","italic");else{let e=c.includes(",")?"italic":",italic";c+=e}c.includes("notosansmonocjksc")&&(c=c.replace("notosansmonocjksc","notosanssc"))}else c.includes("italic")?c=c.replaceAll("italic",""):c.includes("oblique")&&(c=c.replaceAll("oblique","")),c.endsWith(",")&&(c=c.substr(0,c.length-1)),c.includes("foxitsansps")&&(c=c.replace("foxitsansps","foxitsansotf"));let l=new o.WString(c),u=s.IsBold()||c.includes("blod");t=new o.Font(l,n,a,u?700:400),(0,E.Z)(l)}if(t){if(a.font=t,i.SetTextState(n,a,!1,400),i.GetText().toString()||i.SetText(new this.engine.WString("")),!this.isParentPage())this.parent.graphicsObject.GetGraphicsObjects().GenerateContent();return n.GenerateContent(),(0,E.Z)(t),this.reParsePage()}return Promise.resolve()},n.setBold=function(e){let t,n=this.c_page,r=n.GetDocument(),i=this.graphicsObject,o=this.engine,a=i.GetTextState(n),s=a.font;if(s.IsEmpty())return Promise.resolve();if(s.IsStandardFont(r)){let n,i=o.StandardID,a=s.GetStandard14Font(r);if(e)switch(a){case i.e_StdIDCourier:n=i.e_StdIDCourierB;break;case i.e_StdIDCourierI:n=i.e_StdIDCourierBI;break;case i.e_StdIDHelvetica:n=i.e_StdIDHelveticaB;break;case i.e_StdIDHelveticaI:n=i.e_StdIDHelveticaBI;break;case i.e_StdIDTimes:n=i.e_StdIDTimesB;break;case i.e_StdIDTimesI:n=i.e_StdIDTimesBI}else switch(a){case i.e_StdIDCourierB:n=i.e_StdIDCourier;break;case i.e_StdIDCourierBI:n=i.e_StdIDCourierI;break;case i.e_StdIDHelveticaB:n=i.e_StdIDHelvetica;break;case i.e_StdIDHelveticaBI:n=i.e_StdIDHelveticaI;break;case i.e_StdIDTimesB:n=i.e_StdIDTimes;break;case i.e_StdIDTimesBI:n=i.e_StdIDTimesI}n&&(t=new o.Font(n))}else{let n=s.GetStyles(r),i=o.Styles.e_StylesBold.value;e?n|=i:n&=~i;let a=jt(o,s,r),c=s.GetName().toString();try{c=s.GetBaseFontName(r).toString()||c}catch(e){}if(!(/(FoxitSansOTF)|(FoxitSansPS)/.test(c)||a&&a!==o.Charset.e_CharsetDefault)){let e=D(c,!0,!0);-1!==e&&(a=o.Charset.values[e])}if(a&&a!==o.Charset.e_CharsetDefault||(a=o.Charset.e_CharsetANSI),c=c.toLowerCase(),e){if(c.includes("regular"))c=c.replace("regular","bold");else if(c.includes("italic"))c=c.replace("italic","bolditalic");else if(c.includes("oblique"))c=c.replace("oblique","boldoblique");else{let e=c.includes(",")?"bold":",bold";c+=e}c.includes("notosansmonocjksc")&&(c=c.replace("notosansmonocjksc","notosanssc"))}else c.includes("bold")&&(c=c.replaceAll("bold","")),c.endsWith(",")&&(c=c.substr(0,c.length-1)),c.includes("foxitsansps")&&(c=c.replace("foxitsansps","foxitsansotf"));let l=new o.WString(c);t=new o.Font(l,n,a,e?700:400),(0,E.Z)(l)}if(t){if(a.font=t,i.SetTextState(n,a,!1,400),i.GetText().toString()||i.SetText(new this.engine.WString("")),!this.isParentPage())this.parent.graphicsObject.GetGraphicsObjects().GenerateContent();return n.GenerateContent(),(0,E.Z)(t),this.reParsePage()}return Promise.resolve()},n.setFontSize=function(e,t=1){let n=this.c_page,r=this.graphicsObject,i=r.GetTextState(n),o=(i.font,i.font_vertical_size/i.font_size);(i.font_size=e/o,r.SetTextState(n,i,!1,400),r.GetText().toString()||r.SetText((0,G.Dp)(this.engine,"")),this.isParentPage())||this.parent.graphicsObject.GetGraphicsObjects().GenerateContent();return n.GenerateContent(),this.reParsePage()},n.setStandardFont=function(e){let t=this.graphicsObject,n=t.GetText().toString(),r=this.engine,i=this.c_page;e=r.StandardID.values[e];let o=t.GetTextState(i),a=o.font;return a=new r.Font(e),o.font=a,t.SetTextState(i,o,!1,400),this.setText(n)},n.setFontByName=function(e,t=458863,n=0){let r=this.c_page,i=this.graphicsObject,o=i.GetText().toString(),a=i.GetTextState(r),s=a.font,c=this.engine,l=new c.WString(e);return s=new c.Font(l,t,c.Charset.values[n]||c.Charset.e_CharsetANSI,400),(0,E.Z)(l),a.font=s,i.SetTextState(r,a,!1,400),this.setText(o)},n.setFillColor=function(e){(this.graphicsObject.SetFillColor((4278190080|e)>>>0),this.isParentPage())||this.parent.graphicsObject.GetGraphicsObjects().GenerateContent();return this.c_page.GenerateContent(),this.toJson()},n.reParsePage=function(){return Promise.resolve()},n.getWoff=function(){let e=this.engine,t=this.c_page,n=t.GetDocument(),r=this.graphicsObject.GetTextState(t).font;if(r.IsEmpty())return null;if(r.IsEmbedded(n))return Oe.Z.getWoffDataBuffer(r.GetWoffData(n),this.engine);{let t=jt(e,r,n)||0;t&&(t=t.value);let i=r.GetName().toString();try{i=r.GetBaseFontName(n).toString()||i}catch(e){}let o=this.jr.getFontBuffer(i,r.GetStyles(n),0,t,r.IsBold()?700:400,!0);return o?{buffer:o}:null}},t}(Nt);var Lt=Bt;function jt(e,t,n){let r,i=e.Charset,o=e.CIDCharset;if(t.GetFontType(n)==e.FontTypes.e_FontTypeCIDFont)switch(t.GetCIDCharset(n)){case o.e_CIDCharsetGB1:case o.CIDCharsetCNS1:case o.CIDCharsetJAPAN1:case o.CIDCharsetKOREA1:r=i.e_CharsetGB2312;break;case o.CIDCharsetUNICODE:r=i.e_CharsetANSI}return r}function Ut(t){let n=[[/[\u0000-\u00FF]+/g,{name:"Arial",styles:32,charset:1}],[/[\u0000-\u007f\u8140-\uA0FE\uA996\uA1A1-\uA9FE\uA840-\uA9A0\uF8A1-\uFEFE\uA140-\uA7A0\u200F-\u2027\u2E80-\u303F\u31C0-\u4DBF\u4E00-\u9FBF\uFF00-\uFFEF]+/g,{name:"SimSun",styles:34,charset:134}],[/[\u4E00-\uA0FE\uA140-\uA3BF\uA259-\uA261\uA3C0-\uA3FE\u2E80-\u303F\u31C0-\u4DBF\uFF00-\uFFEF]+/g,{name:"SimSun",styles:34,charset:136}],[/[\u0000-\u007f\u2E80-\u4DBF\u4E00-\u9FBF\uF900-\uFAFF\uFE30-\uFE4F\uFF00-\uFFEF]+/g,{name:"Meiryo",styles:34,charset:128}],[/[\u0000-\u007f\u1100-\u11FF\u3130-\u318F\uAC00-\uD7AF\uFF00-\uFFEF\u2E80-\u303F\u31C0-\u4DBF\u4E00-\u9FBF\uF900-\uFAFF\uFE30-\uFE4F\uFF00-\uFFEF]+/g,{name:"Korean",styles:32,charset:129}],[/[\u0E00-\u0E7F]+/g,{name:"Angsana New",styles:32,charset:222}],[/[\u0370-\u03FF\u1F00-\u1FFF]+/g,{name:"Arial",styles:32,charset:161}],[/[\u0590-\u05FF]+/g,{name:"Aharoni",styles:32,charset:177}],[/[\u0600-\u06FF\u0750-\u077F\uFB50-\uFDFF\uFE70-\uFEFF]+/g,{name:"Arabic",styles:32,charset:178}]];for(let e=0,r=n.length;e<r;e++)if(new RegExp("^"+n[e][0].source+"$").test(t))return[{text:t,info:n[e][1]}];let r,i=[],o=0;for(let a=0,s=n.length;a<s;a++){for(n[a][0].lastIndex=o;r=n[a][0].exec(t);){let s=r.index;if(s>o){let n=t.slice(o,s);i.push.apply(i,kt(e.Z,Ut(n)))}let c=r[0];i.push({text:c,info:n[a][1]}),o=s+c.length}if(o>=t.length)break}return i.length?i:[{text:t,info:null}]}function Wt(e){switch(e){case 0:case 2:case 238:case 204:return/[\u0000-\u00FF]+/g;case 134:return/[\u0000-\u007f\u8140-\uA0FE\uA996\uA1A1-\uA9FE\uA840-\uA9A0\uF8A1-\uFEFE\uA140-\uA7A0\u200F-\u2027\u2E80-\u303F\u31C0-\u4DBF\u4E00-\u9FBF\uFF00-\uFFEF]+/g;case 136:return/[\u4E00-\uA0FE\uA140-\uA3BF\uA259-\uA261\uA3C0-\uA3FE\u2E80-\u303F\u31C0-\u4DBF\uFF00-\uFFEF]+/g;case 128:return/[\u0000-\u007f\u2E80-\u4DBF\u4E00-\u9FBF\uF900-\uFAFF\uFE30-\uFE4F]+/g;case 129:return/[\u0000-\u007f\u1100-\u11FF\u3130-\u318F\uAC00-\uD7AF\uFF00-\uFFEF\u2E80-\u303F\u31C0-\u4DBF\u4E00-\u9FBF\uF900-\uFAFF\uFE30-\uFE4F]+/g;case 222:return/[\u0E00-\u0E7F]+/g;case 161:case 162:case 186:return/[\u0370-\u03FF\u1F00-\u1FFF]+/g;case 177:return/[\u0590-\u05FF]+/g;case 178:return/[\u0600-\u06FF\u0750-\u077F\uFB50-\uFDFF\uFE70-\uFEFF]+/g;default:return!1}}function Ht(e,t,n){let r=t.GetFirstGraphicsObjectPosition(n);for(;r;){if(t.GetGraphicsObject(r).GetTextObject().$$.ptr===e.$$.ptr)return r;r=t.GetNextGraphicsObjectPosition(r,n)}return r}function zt(t,n,r,i,o,a,s,c){let l=[],u=0,d=n.exec(t),h=t.length;if(d){let e=d.index,n=d[0];e!==u&&l.push([0,t.slice(u,e)]),l.push([1,n]),u=e+n.length}else l=[[0,t]],u=h;for(;d=n.exec(t);){let e=d.index,n=d[0];l.push([0,t.slice(u,e)]),l.push([1,n]),u=e+n.length}u<h&&l.push([0,t.slice(u)]);let f=0,g=[],p=l.length;var m=i;s.isParentPage()||(m=s.parent.graphicsObject.GetGraphicsObjects());let _,y=Ht(r,m,a.GraphicsObjectType.e_TypeText)||i.GetLastGraphicsObjectPosition(a.GraphicsObjectType.e_TypeAll);for(let e=p;e--;){let t=r.Clone().GetTextObject();m.InsertGraphicsObject(y,t),g[e]=t}p&&(s.graphicsObject=g[0]);let S=[];for(let t=0,n=p;t<n;t++){let n=g[t],r=l[t],u=r[0],d=r[1],h=n.GetTextState(i);if(h.origin_position=new a.PointF(h.origin_position.x+f,h.origin_position.y),n.SetTextState(i,h,!1,400),u)n.SetText(new a.WString(d)),S.push(n);else{let t=Kt(d,n,i,o,a,m,f);S.push.apply(S,kt(e.Z,t)),t.length>1&&(c||s.graphicsObject!==n||(s.graphicsObject=t[0]),m.RemoveGraphicsObject(n))}_=n.GetRect(),f+=_.right-_.left+1}return p&&m.RemoveGraphicsObject(r),S}function Kt(e,t,n,r,i,o,a){let s=r.IsBold()?700:400,c=r.IsItalic(),l=[i.Charset.e_CharsetANSI,i.Charset.e_CharsetSymbol,i.Charset.e_CharsetShift_JIS,i.Charset.e_CharsetHangeul,i.Charset.e_CharsetGB2312,i.Charset.e_CharsetChineseBig5],u=n.GetDocument(),d=Ut(e);if(1===d.length){let e=t,r=d[0].info;if(r){let o=t.GetTextState(n),a=i.Charset.values[r.charset]||i.Charset.e_CharsetANSI,d=r.styles;c&&(d|=64),s>=700&&(d|=262144),o.font=new i.Font(new i.WString(r.name),d,a,s);let h=o.font.IsEmbedded(u);if(o.font.IsSupportEmbedded(u)&&!h&&-1===l.indexOf(a)){let e=o.font.Embed(u);e.IsEmpty()||(o.font=e)}e.SetTextState(n,o,!1,400)}return e.SetText(new i.WString(d[0].text)),[e]}let h=Ht(t,o,i.GraphicsObjectType.e_TypeText)||n.GetLastGraphicsObjectPosition(i.GraphicsObjectType.e_TypeAll),f=[];for(let e=d.length;e--;){let n=t.Clone().GetTextObject();o.InsertGraphicsObject(h,n),f[e]=n}for(let e=0,t=d.length;e<t;e++){let t,r=f[e],o=r.GetTextState(n),h=d[e],g=h.text,p=h.info;if(o.origin_position=new i.PointF(o.origin_position.x+a,o.origin_position.y),p){t=new i.WString(p.name);let e=i.Charset.values[p.charset]||i.Charset.e_CharsetANSI,n=p.styles;c&&(n|=64),s>=700&&(n|=262144),o.font=new i.Font(t,n,e,s);let r=o.font.IsEmbedded(u);if(o.font.IsSupportEmbedded(u)&&!r&&-1===l.indexOf(e)){let e=o.font.Embed(u);e.IsEmpty()||(o.font=e)}(0,E.Z)(t)}r.SetTextState(n,o,!1,400),t=new i.WString(g),r.SetText(t);let m=r.GetRect();a+=m.right-m.left+1,(0,E.Z)(t,o.origin_position)}return f}function Jt(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}let Vt=function(t){function n(e,n,r,i){var o;if((o=t.call(this,e,n,r,i)||this).matrix=e.GetMatrix(),!o.isParentPage()){let e=o.parent.getMatrix();o.matrix.Concat(e,!1)}return o.graphicsObject=e.GetFormXObject(),o}(0,w.Z)(n,t);var r=n.prototype;return r.getMatrix=function(){return this.matrix},r.getGraphicsObjectsInRect=function(t,n,r){let i=this.graphicsObject.GetGraphicsObjects(),o=this.engine.GraphicsObjectType.e_TypeAll,a=[],s=i.GetFirstGraphicsObjectPosition(o);for(;s;){let c=i.GetGraphicsObject(s),l=c.GetRect();if(this.matrix.TransformRect(l),t.Contains(l)){let i=r.get(c,this.c_page,this),o=i.getType();if(n!=o&&0!=n&&5!=o);else{if(0==n&&targetType<4)a.push(element);else if(0==n&&targetType>3)continue;o===n?a.push(i):5===o&&a.push.apply(a,Jt(e.Z,i.getGraphicsObjectsInRect(t,n,r)))}}s=i.GetNextGraphicsObjectPosition(s,o)}return a},r.getGraphicsObjectAtPoint=function(e,t,n,r){let i=this.graphicsObject.GetGraphicsObjects(),o=this.engine.GraphicsObjectType.e_TypeAll,a=i.GetFirstGraphicsObjectPosition(o);for(;a;){let s=i.GetGraphicsObject(a),c=s.GetRect();if(this.matrix.TransformRect(c),c.Contains(e,t)){let i=r.get(s,this.c_page,this),o=s.GetType().value;if(o===n)return i;if(5===o)return i.getGraphicsObjectAtPoint(e,t,n,r)}a=i.GetNextGraphicsObjectPosition(a,o)}return null},r.getGraphicsObjectsAtPoint=function(e,t,n,r,i){let o=[],a=this.graphicsObject.GetGraphicsObjects(),s=this.engine.GraphicsObjectType.e_TypeAll,c=a.GetFirstGraphicsObjectPosition(s);for(;c;){let l=a.GetGraphicsObject(c),u=l.GetRect();if(this.matrix.TransformRect(u),u.Contains(e,t)){let a=i.get(l,this.c_page,this),s=l.GetType().value;5===s?o=o.concat(a.getGraphicsObjectsAtPoint(e,t,n,r,i)):s!==n&&0!=n||o.push(a)}c=a.GetNextGraphicsObjectPosition(c,s)}return o},r.toJson=function(){return null},n}(Nt),Yt=function(e){function t(t,n,r,i,o){var a;return(a=e.call(this,t,n,r,i,o)||this).graphicsObject=t.GetPathObject(),a}(0,w.Z)(t,e);var n=t.prototype;return n.toJson=function(){let t=this.graphicsObject,n=e.prototype.toJson.call(this),r=this.graphicsObject.GetPathData(),i=r.GetPointCount(),o=[];for(let e=0;e<i;e++){let t=r.GetPoint(e);o.push({x:t.x,y:t.y,type:r.GetPointType(e).value})}let a={fillMode:t.GetFillMode().value,strokeState:t.GetStrokeState(),path:o,needStroke:t.GetStrokeState()};return(0,P.Z)(a,n)},n.setBorderColor=function(t){return this.graphicsObject.SetStrokeState(0!==t),e.prototype.setBorderColor.call(this,t)},n.setFillColor=function(e,t=!0){if(0===e)this.graphicsObject.SetFillColor(4278190080),this.graphicsObject.SetFillMode(this.engine.FillMode.e_FillModeNone);else{let t=255*(this.opacity||this.graphicsObject.GetFillOpacity())|0;this.graphicsObject.SetFillColor((16777215&e|t<<24)>>>0),this.graphicsObject.SetFillMode(this.engine.FillMode.e_FillModeWinding)}return t&&this.c_page.GenerateContent(),this.toJson()},n.setOpacity=function(t,n=!0){return this.opacity=t,e.prototype.setOpacity.call(this,t,n)},n.isPointInLine=function(e,t,n=3){let r,i,o,a,s,c,l=this.graphicsObject.GetPathData(),u=l.GetPointCount(),d=this.graphicsObject.GetMatrix();if(this.parent instanceof Vt){let e=this.parent.graphicsObject.GetMatrix();e.Concat(d.a,d.b,d.c,d.d,d.e,d.f,!1),d.delete(),d=e}let h=[];for(let f=0;f<u;f++){let u=l.GetPoint(f);switch(u=d.TransformPoint(u.x,u.y),l.GetPointType(f).value){case 1:i=r=[u.x,u.y];break;case 2:o=[u.x,u.y],a=o[0]-i[0],s=o[1]-i[1],c=Math.max(Math.abs(a),Math.abs(s));for(let r=0;r<c;r++){if(Zt([e,t],[i[0]+a*r/c,i[1]+s*r/c])<n)return!0}i=o;break;case 3:a=i[0]-r[0],s=i[1]-r[1],c=Math.max(Math.abs(a),Math.abs(s));for(let i=0;i<c;i++){if(Zt([e,t],[r[0]+a*i/c,r[1]+s*i/c])<n)return!0}r=i=[];case 4:case 5:let l=[u.x,u.y];if(h.push(l),c=Math.ceil(Math.max(Math.abs(u.x-i[0]),Math.abs(u.y-i[1]))),3==h.length){for(let r=0;r<c;r++){if(Zt([e,t],qt(r/c,i,h[0],h[1],h[2]))<n)return!0}h=[],i=l}}}return!1},t.create=function(e,t,n,r,i){let o=r.PathObject.Create();try{let n,i=new r.Path,a=[];for(let t of e.points)switch(t[0]){case"m":n=new r.PointF(t[1],t[2]),i.MoveTo(n),n.delete();break;case"l":n=new r.PointF(t[1],t[2]),i.LineTo(n),n.delete();break;case"c":a.push(new r.PointF(t[1],t[2])),3==a.length&&(i.CubicBezierTo(a[0],a[1],a[2]),a.length=0);break;case"h":i.CloseFigure()}(0,E.Z)(a),o.SetPathData(i),i.delete(),o.SetStrokeColor(4278190080);let s=o.GetGraphState();s.line_width=e.borderWidth||1,o.SetGraphState(s);let c=t.GetLastGraphicsObjectPosition(r.GraphicsObjectType.e_TypeAll);t.InsertGraphicsObject(c,o),t.GenerateContent(),t.StartParse(0,null,!0),c=t.GetLastGraphicsObjectPosition(r.GraphicsObjectType.e_TypeAll),o=t.GetGraphicsObject(c)}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}return i.get(o,t,n)},t}(Nt);function Zt(e,t){let n=t[1]-e[1],r=t[0]-e[0];return Math.sqrt(r*r+n*n)}function qt(e,t,n,r,i){var o=[1,1],a=1-e;return o[0]=t[0]*a*a*a+3*n[0]*e*a*a+3*r[0]*e*e*a+i[0]*e*e*e,o[1]=t[1]*a*a*a+3*n[1]*e*a*a+3*r[1]*e*e*a+i[1]*e*e*e,o}let Xt=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t,n,r,i)||this).imageObject=t.GetImageObject(),o}(0,w.Z)(t,e);var n=t.prototype;return n.setRotation=function(e,t=!0){let n=e*Math.PI/180,r=this.graphicsObject.GetRect(),i=(r.right+r.left)/2,o=(r.top+r.bottom)/2,a=new this.engine.Matrix;return a.RotateAt(-n,-i,-o,0),this.graphicsObject.Transform(a,!0),this.c_page.GenerateContent(),a.delete(),this.toJson()},t.create=function(e,t,n,r,i){let o=r.ImageObject.Create(n.doc);try{let n=ot.Z.createImage(r,e.buffer);o.SetImage(n,0);let i=o.GetMatrix();const{left:a,right:s,top:c,bottom:l}=e.rect;i.a=s-a,i.d=c-l,i.Translate(a,l,0),o.SetMatrix(i);let u=t.GetLastGraphicsObjectPosition(r.GraphicsObjectType.e_TypeAll);t.InsertGraphicsObject(u,o),t.GenerateContent(),t.StartParse(0,null,!0),u=t.GetLastGraphicsObjectPosition(r.GraphicsObjectType.e_TypeAll),o=t.GetGraphicsObject(u)}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}return i.get(o,t,n)},n.getStream=function(){const e=this.engine,t=this.imageObject.GetStream();if(!t)return;let n=t.GetDataSize(!1);if(n<=0)return;const r=e._malloc(n);t.GetData(!1,n,r);const i=ft(e,r,n);return e._free(r),i},t}(Nt),Qt=function(){function e(e,t){this.engine=e,this.jr=t}var t=e.prototype;return t.get=function(e,t,n){let r=this.engine,i=r.GraphicsObjectType;switch(e.GetType()){case i.e_TypeText:return new Lt(e,t,n,r,this.jr);case i.e_TypePath:return new Yt(e,t,n,r,this.jr);case i.e_TypeImage:return new Xt(e,t,n,r,this.jr);case i.e_TypeFormXObject:return new Vt(e,t,n,r,this.jr);default:return new Nt(e,t,n,r,this.jr)}},t.create=function(e,t,n){let r=this.engine,i=r.GraphicsObjectType;switch(e.type){case i.e_TypeText.value:return Lt.create(e,t,n,r,this);case i.e_TypePath.value:return Yt.create(e,t,n,r,this);case i.e_TypeImage.value:return Xt.create(e,t,n,r,this);default:return}},e}();var $t=__webpack_require__(355);__webpack_require__(6486);let en=navigator.userAgent.toLowerCase(),tn=!1,nn=en.indexOf("safari")>-1&&-1==en.indexOf("chrome");function rn(){return tn}tn=!(nn&&parseFloat(en.match(/ applewebkit\/(\d+)/)[1])<607),tn=!(!tn||"object"!=typeof WebAssembly);let on=navigator.platform,an=0;/^win/i.test(on)?an=0:/^mac/i.test(on)?an=1:(/^linux/i.test(on)||/^x11/i.test(on))&&(an=2);var sn=an,cn=__webpack_require__(9033);__webpack_require__(8832);t.mA.getLogger("fxjse.init");let ln={},un=0;ln[un++]=null;let dn=0,hn={};hn[dn++]=null;let fn={},gn=0;fn[gn++]=null;let pn={},mn=0;pn[mn++]=null;let _n={},yn=0;_n[yn++]=null;function Sn(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}const bn="cache",In=new i.Z(bn,"FoxitPDFSDKForWeb_"+bn);const An="wasmBinary",Dn="asmMem",vn="FOPN_foweb",wn=[{bsStandardName:"Helvetica",bsSubstName:"Arial",wWeight:400,bItalic:0},{bsStandardName:"Helvetica-Bold",bsSubstName:"Arial",wWeight:700,bItalic:0},{bsStandardName:"Helvetica-BoldOblique",bsSubstName:"Arial",wWeight:700,bItalic:1},{bsStandardName:"Helvetica-Oblique",bsSubstName:"Arial",wWeight:400,bItalic:1},{bsStandardName:"Times-Roman",bsSubstName:"Times New Roman",wWeight:400,bItalic:0},{bsStandardName:"Times-Bold",bsSubstName:"Times New Roman",wWeight:700,bItalic:0},{bsStandardName:"Times-BoldItalic",bsSubstName:"Times New Roman",wWeight:700,bItalic:1},{bsStandardName:"Times-Italic",bsSubstName:"Times New Roman",wWeight:400,bItalic:1}];let Pn=function(){function r(e,{postMessageToUi:n,cache:r={},enginePath:i=".",fontPath:o="http://webpdf.foxitsoftware.com/webfonts",readBlock:a=8192,fontMap:s,brotli:c,fontInfoPath:l}={}){let u=(0,t.dD)(),d=u.promise;this.jrEnginePromise=d,this.enginePath=i,this.fontPath=o,this.fontInfoPath=l,this.serverFontCache={};let h=c.core;this.customFontMaps=[],this.certCacheMap=new Map,this.isFontCacheEnabled=!0;let f,g={onRuntimeInitialized:function(){},printErr:function(e){console.warn("[JR ENGINE]",e)},locateFile:e=>"gsdk.wasm"===e?!1===h||-1!==navigator.userAgent.indexOf("Edge")?[i,e].join("/")+"?h="+$t.wasmHash:"data:application/octet-stream;base64,"+[i,e+".brotli"].join("/")+"?h="+$t.wasmHash:"gsdk.asm.js.mem"===e?[i,e].join("/")+"?h="+$t.asmMemHash:[i,e].join("/")+"?h="+$t.wasmHash,readBinary:function(e){let t="data:application/octet-stream;base64,";return 0===e.indexOf(t)&&(e=e.replace(t,"")),new Promise((function(t,i){!1===h?Cn(e,t,i):Tn(e,t,i,An,n,r.wasmBinary)}))},readAsync:function(e,t,i){if(!1===h)Cn(e,t,i);else{if(r.asmMem===e)return void In.get(r.asmMem).then((o=>{o?t(o):Tn(e,t,i,Dn,n,r.asmMem)}),(function(){Tn(e,t,i,Dn,n)}));Tn(e,t,i,Dn,n)}}};if(r.wasmBinary===[i,"gsdk.wasm.brotli"].join("/")+"?h="+$t.wasmHash){let e=(0,t.dD)();f=e.promise,In.get(An).then((e=>{e&&(g.wasmBinary=e)})).finally((function(){e.resolve()}))}else f=Promise.resolve();f.then((e=>{let t;return g.wasmBinary||(t=rn()?g.readBinary(g.locateFile("gsdk.wasm")).then((e=>e&&(g.wasmBinary=e))):Promise.resolve()),t})).then((()=>GSDK(g).then((e=>{this.engine=e,e.wasmBinary=null,GSDK=null,this.annotManager=new mt(e),this.actionManager=new Ot(e),this.graphicsObjectManager=new Qt(e,this),u.resolve()})))),this.pdfDocCache={},this.fontInfoMap={},this.userName="Foxit Web",this.defaultReadBlockSize=a,this.id=Date.now()+Math.random()}var i=r.prototype;return i.initFontManager=function(){this.jrEnginePromise.then((()=>{let e=this.engine,t=0,n=0;e.setThirdPartyFontMgr(e.ThirdPartyFontMgrCallback.implement({GetThirdPartyFont:(t,n,r,i,o)=>{for(let e=0;e<wn.length;e++)if(t===wn[e].bsStandardName){let n=8388608|o;e%4==1||e%4==2?n=16777216:n&=-16777217,e%4>=2?n|=33554432:n&=-33554433,t=wn[e].bsSubstName,r=wn[e].bItalic,i=wn[e].wWeight,o=n;break}try{let a=[t,n,r,i,o].join("-");if(this.fontInfoMap[a])return this.fontInfoMap[a];let s=A(this.fontPath,t,n,r,i,o);if(!s)return null;let c=e.ThirdPartyFontInfo.implement({GetFaceIndex:function(){return 0},GetFontFileData:function(){let t=e._malloc(s.byteLength);return e.HEAPU8.set(new Uint8Array(s),t),t},GetFontFileSize:function(){return s.byteLength}});return this.fontInfoMap[a]=c}catch(e){return isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e),null}},GetWebFontFileStream(t){let n=function(e){let t=l[e-1];return t?I(t.url,t.isBrotli):null}(t);if(!n)return null;let r=null;try{r=e.StreamCallback.implement({Release:()=>{},Flush:()=>!0,GetSize:()=>n.byteLength,WriteBlock:(e,t,n)=>(console.warn("readonly mode, write function shouldn't be called"),!0),ReadBlock:(t,r,i)=>{let o=n.slice(r,r+i);return e.HEAPU8.set(o,t),!0}})}catch(e){isNaN(e)||(e=this.engine.getErrorCode(e)),console.warn(e)}return r},GetFontFilesPos(e){return function(e){return 0===l.length?0:(e+1)%(l.length+1)}(e)},GetPlatformIDFromThirdParty:()=>sn,CountCachedFontFromThirdParty:()=>this.getCustomUploadFontsCount(),MGetCachedFontDataFromThirdParty:e=>{n=e;let r=this.getCustomUploadFontByIndex(e);if(!r)return 0;let i=new Uint8Array(r.value);t=i.byteLength;let o=this.engine._malloc(t);return this.engine.HEAPU8.set(i,o),o},GetCachedName:()=>{let e=this.getCustomUploadFontByIndex(n);if(!e)return 0;let t="custom__"+e.name;return new this.engine.WString(t)},MGetFontFileDataByNameFromThirdParty:e=>{if(e=(e=e.toString()).trim(),this.isFontCacheEnabled&&(this.fontDataCache||(this.fontDataCache=new Map),""!=e&&this.fontDataCache.has(e))){const n=this.fontDataCache.get(e);return t=n.fontSize,n.fontData}let n,r=/^custom__/;if(r.test(e)){e=e.replace(r,"");let t=this.getCustomUploadFontByName(e);n=t?t.value:null}else n=this.getFontFromServer(e);if(!n)return t=0,0;let i=new Uint8Array(n);t=i.byteLength;let o=this.engine._malloc(t);return this.engine.HEAPU8.set(i,o),this.isFontCacheEnabled&&this.fontDataCache.set(e,{fontData:o,fontSize:t}),o},MGetNotExistFontFamilyFromThirdParty:()=>{let e=this.getNotExistFontsString();if(!e)return 0;let n=new this.engine.String(e),r=this.engine.HEAPU8.slice(n.GetBuffer(),n.GetBuffer()+e.length);t=e.length;let i=this.engine._malloc(e.length);return this.engine.HEAPU8.set(r,i),i},GetSize:function(){return t},MGetFoxitFontDataByFontNameFromThirdParty:n=>{let r=this.enginePath+"/../FoxitFonts/"+n.toString(),i=this.getFontFromServer(r,!1);if(!i)return t=0,0;let o=new Uint8Array(i);t=o.byteLength;let a=e._malloc(t);return e.HEAPU8.set(o,a),a},MGetNotExistFreeFontFileName:()=>0,MGetNotExistFreeFontFileNameFromThirdParty:()=>new e.String(""),MGetAllFreeFontInfoFromThirdParty:()=>{let n=this.getAllFreeFont(this.fontInfoPath);if(!n)return t=0,0;let r=new Uint8Array(n);t=r.byteLength;let i=e._malloc(t);return e.HEAPU8.set(r,i),i}}));let r=0;e.SetThirdPartyCMapProVider(e.ThirdPartyCMapProviderCallback.implement({MGetCMapFileDataFromThirdParty:t=>{let n=this.enginePath+"/../cmaps/"+t.toString(),i=this.getFontFromServer(n,!1);if(!i)return r=0,0;let o=new Uint8Array(i);r=o.byteLength;let a=e._malloc(r);return e.HEAPU8.set(o,a),a},GetSize:()=>r}))})).then((function(){setTimeout((function(){s.get(o).then((function(e){if(e){let t=Object.keys(e);for(let e=t.length;e--;)!function(e){s.get(e).then((function(t){t&&(m[e]=t)}),(function(){}))}(t[e])}}),(function(){}))}),0)}))},i.setFontCacheEnabled=function(e){this.isFontCacheEnabled=e},i.getFontBuffer=function(e,t,n=!1,r=0,i=400,o=!1){return A(this.fontPath,e,r,n,i,t)},i.updatePdfDocCache=function(e){let t=e.id;this.pdfDocCache[t]=e},i.getPDFDocById=function(e){return this.pdfDocCache[e]||null},i.destroyDoc=function(e){delete this.pdfDocCache[e]},i.checkLicense=function(e="",n=C.cm){let r=(0,t.dD)();return this.jrEnginePromise.then((()=>this.engine.initialize(e,n).toString().split(" "))).then((e=>{let t=0==+e[0];return t&&(this.engine.Library.SetDefaultFileSize(this.defaultReadBlockSize),this.engine.Library.SetRenderConfig(new this.engine.RenderConfig(1)),this.engine.setCacheSize(572),this.initFontManager()),r.resolve({flag:t,id:this.id,other:e.slice(1).join(" ")})})),r.promise},i.checkLicense2=function(e){let n=(0,t.dD)();return this.jrEnginePromise.then((()=>this.engine.initialize(e,"").toString().split(" "))).then((e=>0===+e[0]?(this.engine.Library.SetDefaultFileSize(8192),this.engine.setCacheSize(572),this.engine.Library.SetRenderConfig(new this.engine.RenderConfig(1)),this.initFontManager(),n.resolve({flag:!0,id:this.id,other:e.slice(1).join(" ")})):n.resolve({flag:!1}))),n.promise},i.createNewPortfolioDoc=function(e,t,r){const i=this.engine,o=new FileReaderSync,a=new n.Z(this,{isCreatePortfolio:!0}),s=a.pdfPortfolio.portfolio;if(s.SetInitialViewMode(i.InitialViewMode.e_InitialViewTileMode),e instanceof Blob){const t=o.readAsArrayBuffer(e),n=t.byteLength;let r=i._malloc(n);i.HEAPU8.set(new Uint8Array(t),r);const s=i.createPDFDocWithBuffer(r,n);s.Load(new i.String("")),a.doc.RemovePage(0),a.doc.InsertDocument(0,s,0,new i.WString),r&&i._free(r),r=null}if(Array.isArray(t)&&t.length){const e=new i.PortfolioFolderNode(s.GetRootNode());t.forEach(((t,n)=>{const r=i.ReaderCallback.implement({Release:()=>{},GetSize:()=>t.size,GetPosition:()=>t.size,ReadBlock:(e,n,r)=>{const a=new Uint8Array(o.readAsArrayBuffer(t.slice(n,n+r)));return i.HEAPU8.set(a,e),!0}}),a=e.AddFile(r,new i.WString(t.name));0===n&&s.SetInitialFileSpecKeyName(a.GetKeyName());a.GetFileSpec().SetModifiedDateTime(v.Z.ToDateTime(i,t.lastModified||t.lastModifiedDate))}));const n=s.GetSchemaFields();for(let e=0;e<n.GetSize();e++){if(n.GetAt(e).GetKeyName().toString()==s.GetSortingFieldKeyName().toString()){n.RemoveAt(e);break}}s.SetSchemaFields(n),s.SetSortingFieldKeyName(new i.String("FileName"))}this.setMetaData(a,r,"");const c=[];return a.getStream({writeStream:(e,t,n)=>{c.push(e)}},0).then((e=>{const t=new Uint8Array(e);let n=0;for(let e=0,r=c.length;e<r;e++){const r=c[e];t.set(new Uint8Array(r),n),n+=r.byteLength}return a.destroy(),t.buffer}))},i.createNewDoc=function(e,t,r){let i,o,a=new n.Z(this,{isCreate:!0});return this.setMetaData(a,e,t),r&&(r.width&&(i=r.width),r.height&&(o=r.height)),a.insertPage(0,i,o).then((e=>{let t=[];return a.getStream({writeStream:function(e,n,r){t.push(e)}},0).then((function(e){let n=new Uint8Array(e),r=0;for(let e=0,i=t.length;e<i;e++){let i=t[e];n.set(new Uint8Array(i),r),r+=i.byteLength}return a.destroy(),n.buffer}))}))},i.setMetaData=function(e,t,n){let r,i,o=this.engine,a=(0,G.Dp)(o,"Title"),s=(0,G.Dp)(o,"Author"),c=(0,G.Dp)(o,"Producer");r=t?(0,G.Dp)(o,t):(0,G.Dp)(o,"Untitled.pdf"),i=n?(0,G.Dp)(o,n):(0,G.Dp)(o,"Unknown");let l=(0,G.Dp)(o,"Foxit PDFWebSDK");e.setMetadataValue(a,r),e.setMetadataValue(s,i),e.setMetadataValue(c,l);let u=(new Date).toString();e.setMetadataValue("CreationDate",u),e.setMetadataValue("ModDate",u)},i.getPDFDoc=function(e){let t=new n.Z(this,e);return this.updatePdfDocCache(t),t},i.getPDFDocByEngineDoc=function(e){const t=new n.Z(this,{doc:e});return this.updatePdfDocCache(t),t},i.getFDFDoc=function({size:e,getBuffer:t,release:n}){let r=this.engine.ReaderCallback.implement({Release:function(){},GetSize:()=>e,ReadBlock:(e,n,r)=>{let i=new Uint8Array(t(n,r));return this.engine.HEAPU8.set(i,e),!0}});return Promise.resolve(new this.engine.FDFDoc(r))},i.getFDFFromURL=function(e){var t=+this.requestData("GET",!1,e,1,1,!0).getResponseHeader("Content-Range").match("bytes[^]+?/([^]+)")[1];let n=this.engine.ReaderCallback.implement({Release:function(){},GetSize:()=>t,ReadBlock:(t,n,r)=>{let i=new Uint8Array(this.requestData("GET",!1,e,n,r));return this.engine.HEAPU8.set(i,t),!0}});return Promise.resolve(new this.engine.FDFDoc(n))},i.getPDFDocAsync=function({size:e,getBuffer:t,release:r}){let i=new n.Z(this,{getBuffer:t,size:e,release:r,async:!0});return this.updatePdfDocCache(i),i},i.getPDFDocByReaderCalback=function(e){let t=new n.Z(this.engine,{readerCallbackParams:e});return this.updatePdfDocCache(t),t},i.getPDFDocByAsyncReaderCallback=function(e){let t=new n.Z(this.engine,{readerCallbackParams:e,async:!0});return this.updatePdfDocCache(t),t},i.requestData=function(e,t,n,r,i,o){var a=new XMLHttpRequest;if(a.open(e,n,t),void 0!==r){var s="bytes="+r+"-"+(r+i-1);a.setRequestHeader("Range",s)}a.responseType="arraybuffer",a.send(null);let c=a.status;if(c>=200&&c<300||304===c)return o?a:a.response},i.createReaderCallback=function(e){let t=this.engine;return this.engine.ReaderCallback.implement({jr:this,engine:t,url:e,load:function(){let e=this.jr.requestData("GET",!1,this.url),t=this.docBuffer=new Uint8Array(e);this.size=t.length},Release:function(){this.docBuffer=null},GetSize:function(){return this.size||this.load(),this.size},ReadBlock:function(e,t,n){this.size||this.load();let r=this.docBuffer.slice(t,t+n);return this.engine.HEAPU8.set(r,e),!0}})},i.createReaderCallbackByBuffer=function(e){let t=this.engine;return this.engine.ReaderCallback.implement({jr:this,engine:t,load:function(){let t=this.docBuffer=new Uint8Array(e);this.size=t.length},Release:function(){this.docBuffer=null},GetSize:function(){return this.size||this.load(),this.size},ReadBlock:function(e,t,n){this.size||this.load();let r=this.docBuffer.slice(t,t+n);return this.engine.HEAPU8.set(r,e),!0}})},i.registerSecurityCallback=function(e,t){return this.unRegisterSecurityCallback(e),"FoxitDRM"===e&&this.registerDRMSecurityCallback(t)},i.registerCustomWebPluginSecurityCallback=function(e,t,n,r=0){const i=e||"untitled.pdf";let o=this.engine;this.registeredCustomWebPluginSecurityCallback&&this.unRegisterSecurityCallback(t);const a=(null==n?void 0:n.securityCallback)||{};try{let e=o.CustomSecurityCallback.implement({JSUseStandardCryptoMethod:()=>{if(!a.JSUseStandardCryptoMethod)return!1;let e=null,t=a.JSUseStandardCryptoMethod,n=new XMLHttpRequest;return n.open("POST",t,!1),n.responseType="json",n.onreadystatechange=()=>{n.readyState===XMLHttpRequest.DONE&&(e=n.response)},n.send(JSON.stringify({fileName:i})),e},JSCreateContext:(e,t,n)=>{if(!a.JSCreateContext)return r;let o=null,s=a.JSCreateContext,c=new XMLHttpRequest;return c.open("POST",s,!1),c.responseType="text",c.onreadystatechange=()=>{c.readyState===XMLHttpRequest.DONE&&(o=c.responseText)},c.send(JSON.stringify({fileName:i})),r},JSReleaseContext:e=>{if(!a.JSReleaseContext)return!0;let t=null,n=a.JSReleaseContext,r=new XMLHttpRequest;return r.open("POST",n,!1),r.responseType="json",r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&(t=r.response)},r.send(JSON.stringify({fileName:i})),t},JSGetUserPermissions:(e,t)=>{if(!a.JSGetUserPermissions){let e=0;return 4&t&&(e|=4),8&t&&(e|=8),16&t&&(e|=16),32&t&&(e|=32),e}let n=null,r=a.JSGetUserPermissions,i=new XMLHttpRequest;return i.open("POST",r,!1),i.responseType="json",i.onreadystatechange=()=>{i.readyState===XMLHttpRequest.DONE&&(n=i.response)},i.send(JSON.stringify({permission:t})),n},JSIsOwner:e=>{if(!a.JSIsOwner)return!1;let t=null,n=a.JSIsOwner,r=new XMLHttpRequest;return r.open("POST",n,!1),r.responseType="json",r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&(t=r.response)},r.send(JSON.stringify({fileName:i})),t},JSGetCipher:e=>{if(!a.JSGetCipher)return o.CipherType.e_CipherAES;let t=null,n=a.JSGetCipher,r=new XMLHttpRequest;return r.open("POST",n,!1),r.responseType="json",r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&(t=r.response)},r.send(JSON.stringify({fileName:i})),o.CipherType.e_CipherAES},JSGetEncryptKey:e=>{if(!a.JSGetEncryptKey){return new o.String("")}let t=null,n=a.JSGetEncryptKey,r=new XMLHttpRequest;return r.open("POST",n,!1),r.responseType="json",r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&(t=r.response)},r.send(JSON.stringify({size:size})),t},JSGetDecryptedSize:(e,t)=>{if(!a.JSGetDecryptedSize)return t;let n=null,r=a.JSGetDecryptedSize,o=new XMLHttpRequest;return o.open("POST",r,!1),o.responseType="json",o.onreadystatechange=()=>{o.readyState===XMLHttpRequest.DONE&&(n=o.response)},o.send(JSON.stringify({fileName:i,size:t})),t},JSStartDecryptor:(e,t,n)=>{if(!a.JSStartDecryptor)return 0;let r=null,o=a.JSStartDecryptor,s=new XMLHttpRequest;return s.open("POST",o,!1),s.responseType="json",s.onreadystatechange=()=>{s.readyState===XMLHttpRequest.DONE&&(r=s.response)},s.send(JSON.stringify({fileName:i,objNum:t,genNum:n})),0},JSDecryptData:(e,t,n)=>{var r=null;let s,c=new o.String(""),l=o._malloc(n),u=o.HEAPU8.buffer;s=u.slice?new Uint8Array(u.slice(t,t+n)):new Uint8Array(u,t,n),o.HEAPU8.set(s,l);let d=new Uint8Array(n);for(let e=0;e<n;e++)d[e]=o.HEAP8[l+e];let h=a.JSDecryptData,f=new XMLHttpRequest;f.open("POST",h,!1),f.onreadystatechange=()=>{f.readyState===XMLHttpRequest.DONE&&(r=this.stringToUint8Array(atob(f.responseText)))},f.send(JSON.stringify({buf:btoa(String.fromCharCode.apply(null,d)),fileName:i}));for(let e=0;e<n;e++)o.HEAP8[l+e]=r[e];return c.Load(l,n),c},JSFinishDecryptor:e=>{if(!a.JSFinishDecryptor)return new o.String("");let t=null,n=a.JSFinishDecryptor,r=new XMLHttpRequest;return r.open("POST",n,!1),r.responseType="json",r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&(t=r.response)},r.send(),new o.String("")},JSGetEncryptedSize:(e,t,n,r,o)=>{if(!a.JSGetEncryptedSize)return o;let s=null,c=a.JSGetEncryptedSize,l=new XMLHttpRequest;return l.open("POST",c,!1),l.responseType="json",l.onreadystatechange=()=>{l.readyState===XMLHttpRequest.DONE&&(s=l.response)},l.send(JSON.stringify({fileName:i,srcDataLen:o,genNum:n})),o},JSEncryptData:(e,t,n,r,s,c,l)=>{let u,d=null,h=o.HEAPU8.buffer;u=h.slice?new Uint8Array(h.slice(r,r+s)):new Uint8Array(h,r,s),o.HEAPU8.set(u,c);let f=a.JSEncryptData,g=new XMLHttpRequest;g.open("POST",f,!1),g.onreadystatechange=()=>{g.readyState===XMLHttpRequest.DONE&&(d=this.stringToUint8Array(atob(g.responseText)))},g.send(JSON.stringify({buf:btoa(String.fromCharCode.apply(null,u)),fileName:i}));for(let e=0;e<s;e++)o.HEAP8[c+e]=d[e];return s}});this.customWebPluginSecurityCallback=e;let n=o.Library.RegisterCustomSecurityCallback((0,G.n5)(o,t),e);return n&&(this.registeredCustomWebPluginSecurityCallback=!0),n}catch(e){return console.log(e),!1}},i.registerDRMSecurityCallback=function(){if(this.registeredDRMSecurityCallback)return!0;try{let e=this.engine,t=e.DRMSecurityCallback.implement({Release:()=>{},GetSecurityType:()=>e.EncryptType.e_EncryptFoxitDRM,IsOwner:(e,t)=>{let n=this.getPDFDocFromCDoc(e);return!!n&&this.getDrmProperty(n,"isOwner")},GetUserPermissions:(e,t)=>{let n=this.getPDFDocFromCDoc(e);return n?this.getDrmProperty(n,"userPermissions"):0},GetCipherType:(t,n)=>{let r=this.getPDFDocFromCDoc(t);return r?e.CipherType.values[this.getDrmProperty(r,"cipher")]:e.CipherType.e_CipherNone},GetKeyLength:(e,t)=>{let n=this.getPDFDocFromCDoc(e);return n?this.getDrmProperty(n,"keyLength"):16},GetFileID:(t,n)=>{let r=this.getPDFDocFromCDoc(t);return r?new e.String(this.getDrmProperty(r,"fileId","")):new e.String("")},GetInitialKey:(t,n)=>{let r=this.getPDFDocFromCDoc(t);return r?new e.String(this.getDrmProperty(r,"initialKey","")):new e.String("")}}),n=e.Library.RegisterSecurityCallback((0,G.n5)(e,"FoxitDRM"),t);return n&&(this.registeredDRMSecurityCallback=!0),n}catch(e){return!1}},i.stringToUint8Array=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(e.charCodeAt(n));return new Uint8Array(t)},i.registerOpenFileSecurityCallback=function(e){let t=this.engine;this.registeredOpenFileSecurityCallback&&this.unRegisterSecurityCallback(vn);try{let n=t.CustomSecurityCallback.implement({JSUseStandardCryptoMethod:()=>!0,JSCreateContext:(t,n,r)=>e.$$ptr,JSReleaseContext:e=>!0,JSGetUserPermissions:(e,t)=>{let n=0;return 4&t&&(n|=4),8&t&&(n|=8),16&t&&(n|=16),32&t&&(n|=32),n},JSIsOwner:e=>!1,JSGetCipher:n=>e.cipher&&2===e.cipher?t.CipherType.e_CipherAES:t.CipherType.e_CipherRC4,JSGetEncryptKey:n=>{let r=new t.String(""),i=t._malloc(e.encryptKey.length),o=new Uint8Array(e.encryptKey);return t.HEAPU8.set(o,i),r.Load(i,e.encryptKey.length),r},JSGetDecryptedSize:(e,t)=>{},JSStartDecryptor:(e,t,n)=>{},JSDecryptData:(e,t,n)=>{},JSFinishDecryptor:e=>{},JSGetEncryptedSize:(e,t,n,r,i)=>{},JSEncryptData:(e,t,n,r,i,o,a)=>{}}),r=t.Library.RegisterCustomSecurityCallback((0,G.n5)(t,vn),n);return r&&(this.registeredOpenFileSecurityCallback=!0),r}catch(e){return!1}},i.unRegisterSecurityCallback=function(e){let t=this.engine,n=(0,G.n5)(t,e);try{return this.engine.Library.UnregisterSecurityCallback(n)}catch(e){try{return this.engine.Library.UnregisterSecurityCallback(n)}catch(e){return!1}}},i.unRegisterSecurityHandler=function(e,t){return this.customWebPluginSecurityCallback=null,this.unRegisterSecurityCallback(t)},i.setUserName=function(e){this.userName=e},i.getUserName=function(){return this.userName},i.getRotatedAnnotRect=function(e){let t=e.GetRect(),n={left:t.left,top:t.top,right:t.right,bottom:t.bottom,rotate:0};return t.delete(),n},i.getHexString=function(e){let t="",n=e.GetLength(),r=e.GetBuffer();for(let e=0;e<n;e++){let n=this.engine.HEAP8[r+e]>>>0&255;t+=String.fromCharCode(n)}return t},i.getPDFDocFromCDoc=function(e){let t=this.pdfDocCache;for(let n in t){let r=t[n];if(e.Equals(r.doc))return r}},i.getDrmProperty=function(e,t,n=0){let r=e.otherData;if(!r)return n;let i=r.drm;return i?i[t]:n},i.getPDFString=function(e){let t;try{t=e.toString()}catch(n){let r="";e.GetBuffer||(e=e.UTF8Encode());let i=e.GetBuffer();for(let t=0,n=e.GetLength();t<n;t++){let e=this.engine.HEAP8[i+t]>>>0&255;r+=String.fromCharCode(e)}t=this.pdfNameDecoding(r)}return t},i.pdfNameDecoding=function(e){if(254==e.charCodeAt(0)&&255==e.charCodeAt(1)){for(var t="",n=2;n<e.length;n+=2)t+=String.fromCharCode((e.charCodeAt(n)<<8)+e.charCodeAt(n+1));return t}return e},i.setFontMap=function(e){!function(e){e&&(u=e)}(e)},i.setWatermarkFontMap=function(e){!function(e){e&&(l=e)}(e)},i.addFontMap=function(e){e&&(this.customFontMaps=this.customFontMaps.concat(e))},i.getCharsetByFontName=function(e){if(e){for(let t=0,n=this.customFontMaps.length;t<n;t++){let n=this.customFontMaps[t];if(n.name.replace(" ","").replace("-","")===e)return this.engine.Charset.values[n.charset||0]}return this.engine.Charset.e_CharsetANSI}},i.getFontInfoByFontName=function(e){if(e){for(let t=0,n=this.customFontMaps.length;t<n;t++){let n=this.customFontMaps[t];if(n.name.replace(" ","").replace("-","")===e)return{charset:this.engine.Charset.values[n.charset||0],style:n.style}}return{charset:this.engine.Charset.e_CharsetANSI,style:0}}},i.setActionToDict=function(e,t,n){let r,i=this.engine,o=this.actionManager;if(r=o.create(e,actionJson.type),-1==trigger)try{this.engineWidget.SetAction(jsaction)}catch(e){isNaN(e)||(e=i.getErrorCode(e)),console.warn(e)}else{let e,t=(0,G.n5)(i,"AA"),n=engineWidget.GetDict(),o=n.GetElement(t);if(o){let t=o.GetDict();e=new i.AdditionalAction(this.pdfPage.doc,t)}else{let r=i.PDFDictionary.Create();n.SetAt(t,r),e=new i.AdditionalAction(this.pdfPage.doc,r)}e.SetAction(i.TriggerEvent.values[trigger],r)}let a=o.get(r,this.doc,this.JR);return a.create(actionJson),a},i.asyncOperation=function(e,n){n||(n=(0,t.dD)());try{n.resolve(e())}catch(t){if(17!==this.engine.getErrorCode(t).value)throw t;return setTimeout((()=>{this.asyncOperation(e,n)}),30),n.promise}return n.promise},i.setJPXDownSample=function(e){this._JPXDownSample=e},i.getJPXDownSample=function(){let e=this._JPXDownSample;return void 0===e||!!e},i.SetJSObjectRef=function(e){return this.objectMap=this.objectMap||{},this.objectMap[e.$$.ptr]=e,e.$$.ptr},i.GetJSObjectFromPtr=function(e){if(this.objectMap)return this.objectMap[e]},i.storeNotExistFonts=function(e){this._notExistFonts=e},i.getNotExistFontsString=function(){return(this._notExistFonts||[]).join("\n")},i.checkFontNotExist=function(e){return(this._notExistFonts||[]).find((function(t){return t===e}))},i.checkCertificatePassword=function(e,t){const n=this.engine;if("string"==typeof e){const t=new XMLHttpRequest;t.open("get",e,!1),t.responseType="blob",t.send(),e=t.response}const r=(new FileReaderSync).readAsArrayBuffer(e),i=n.StreamCallback.implement({GetSize:()=>r.byteLength,GetPosition:()=>0,ReadBlock:(e,t,i)=>{const o=new Uint8Array(r,t,i);return n.HEAPU8.set(o,e),!0}});return n.CheckCertPassword(i,new n.String(t))},i.getCertificateString=function(e,t){let n;const r=this.engine;if(e instanceof ArrayBuffer)n=e;else{const t=new FileReaderSync;n=t.readAsArrayBuffer(e)}const i=r.StreamCallback.implement({GetSize:()=>n.byteLength,GetPosition:()=>0,ReadBlock:(e,t,i)=>{const o=new Uint8Array(n,t,i);return r.HEAPU8.set(o,e),!0}});let o;return o=t?r.GetCerFromPfx(i,new r.String(t)):r.ReadFileContent(i),o},i.getCertificateInfo=function(e,t){const n=this.engine,r={};let i=this.getCertificateString(e,t);if(t&&(r.pfxFile=e),!i.GetLength())return r;const o=n.HEAPU8.subarray(i.GetBuffer(),i.GetBuffer()+i.GetLength());r.cerFile=new Blob([o],{type:"application/pkix-cert"}),r.serial=n.GetCertificateInfo(i,new n.String("SerialNumber")).toString(),r.validPeriodFrom=n.GetCertificateInfo(i,new n.String("ValidPeriodFrom")).toString(),r.validPeriodTo=n.GetCertificateInfo(i,new n.String("ValidPeriodTo")).toString();n.GetCertificateInfo(i,new n.String("Issuer")).toString().split(",").forEach((e=>{const[t,n]=e.split("=");switch(t.replace(/^\s+|\s+$/g,"")){case"CN":r.subjectName=n,r.issuerName=n;break;case"E":r.email=n;break;case"O":r.orgName=n;break;case"OU":r.orgUnit=n;break;case"C":r.country=n}}));const a=n.GetCertificateInfo(i,new n.String("KeyUsage")).toString();return r.keyUsageStr=a,a.indexOf("Digital Signature")>=0&&a.indexOf("Data Encipherment")>=0?r.keyUsage=2:a.indexOf("Digital Signature")>=0?r.keyUsage=0:a.indexOf("Data Encipherment")>=0?r.keyUsage=1:r.keyUsage=-1,r},i.storeCustomUploadFonts=function(e){this._customUploadFonts=e},i.getCustomUploadFontsCount=function(){return this._customUploadFonts?this._customUploadFonts.length:0},i.getCustomUploadFontByIndex=function(e){let t=this._customUploadFonts;return t?t[e]:null},i.getCustomUploadFontByName=function(e){let t=this._customUploadFonts;return t?t.find((function(t){return t.name===e})):null},i.storeFontServerRoot=function(e){this._fontServerRoot=e},i.getFontServerRoot=function(){return this._fontServerRoot||""},i.getFontFromServer=function(e,t=!0){const n=Date.now();let r=(t?this.getFontServerRoot():"")+e,i=this.serverFontCache[r];if(i)return i;let o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(),o.status>=200&&o.status<300||304===o.status||self.location.href.startsWith("file:")&&0===o.status?(postMessage({workflow:"fontProfile",name:e,time:Date.now()-n}),this.serverFontCache[r]=o.response):void 0},i.getAllFreeFont=function(e){if(e)return this.getFontFromServer(e,!1)},i.cacheFontConfig=function(e={}){this.storeNotExistFonts(e.notExistFonts),this.storeCustomUploadFonts(e.customUploadFonts),this.storeFontServerRoot(e.fontServerRoot)},i.getFxcoreFontList=function(){let e=this.engine,t=[];if(!e.getFontCommonList)return t;let n=e.getFontCommonList();for(let e=n.GetSize();e--;)t[e]=n.GetAt(e).toString();return t},i.getPDFCertArrayFromPDFFile=async function(e,t,n,r=[]){let i=[];if(e instanceof ArrayBuffer){let o=this.getPDFDoc({buffer:e});if(await o.parseByPassword(),o.doc.GetPDFCertArray){let e=o.doc.GetPDFCertArray(),a=e.GetSize();for(let o=0;o<a;o++){let a=e.GetAt(o);if(a.IsEmpty())continue;let s=a.GetCertBuffer(),c=!1;r.length&&(c=r.some((e=>e.IsEqual(s))));let l=a.GetIsOwner();a.GetTrustType();if(c?l?a.SetTrustType(this.engine.TrustType.e_TrustTypeOwner.value):a.SetTrustType(this.engine.TrustType.e_TrustTypeEUTL.value|this.engine.TrustType.e_TrustTypeFATL.value):(r.push(s),2==t?a.SetTrustType(this.engine.TrustType.e_TrustTypeEUTL.value):l?a.SetTrustType(this.engine.TrustType.e_TrustTypeOwner.value):a.SetTrustType(this.engine.TrustType.e_TrustTypeFATL.value)),c)continue;let u=(0,cn.bs)(this.engine,s),{issuerChain:d=[],subjectChain:h=[]}=u,{issuerName:f="",issuerInfo:g=""}=d[d.length-1]||{},p={...h[h.length-1]||{}};delete p.level;let m=a.GetIsTrustedRoot();if(!c){let e={cerFile:new Blob([new Uint8Array(this.engine.HEAP8.slice(s.GetBuffer(),s.GetBuffer()+s.GetLength()))]),type:n,isCertTrustedRoot:m,issuerName:f,issuerInfo:g,...p};i.push(e);let{serialNumber:t,country:r}=e,o=`${t}_${r}_${f}`;this.certCacheMap.set(o,{uniqueSerialNumber:o,cert:s})}}}}return i},i.getFATLAndEUTLList=function(n=[]){let r=(0,t.dD)(),i=[],o=[],a=[];return n.forEach((({url:e,trust_type:t,type:n})=>{let r=this.requestData("GET",!1,e);o.push(this.getPDFCertArrayFromPDFFile(r,t,n,a))})),Promise.all(o).then((t=>{t.forEach((t=>{i.push.apply(i,Sn(e.Z,t))})),r.resolve(i)})),r.promise},i.getAllTrustCert=function(e=[]){return this.getCertsByKeys(e)},i.updateCertCacheMap=function(e=[]){e.forEach((({uniqueSerialNumber:e="",cert:t})=>{this.certCacheMap.set(e,{uniqueSerialNumber:e,cert:t})}))},i.getCertsByKeys=function(e=[]){let t=[];return e.forEach((e=>{this.certCacheMap.has(e)&&t.push(this.certCacheMap.get(e))})),t},i.ensureSideModeLoaded=function(e="openssl"){if(this.sideModuleMap=this.sideModuleMap||{},"openssl"===e)this.sideModuleMap[e]||(this.sideModuleMap[e]=!0,Promise.resolve());return Promise.resolve()},i.getCharBBox=function(e,t){let n=new this.engine.Font(e).GetCharBBox(t);return{top:n.top,left:n.left,right:n.right,bottom:n.bottom,width:n.Width(),height:n.Height()}},i.getFontToneByFontID=function(e){const t=new this.engine.Font(e);return{ascent:t.GetAscent(),descent:t.GetDescent()}},i.getCharWidthByFontID=function(e,t){return new this.engine.Font(e).GetCharWidth(t)},r}();var Fn=Pn;function Tn(e,t,n,r,i){Cn(e,(function(n){var o=(0,__webpack_require__(8331).Z)(new Uint8Array(n)).buffer;t(o),In.set(r,o).then((function(){i(r,e)}),(function(){}))}),n)}function Cn(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}let Gn=function(){function e(){}return e.prototype.extendsWorkerAPI=function(e,t,n,r,i,o){let{apis:a,workerObj:s}=this;for(let t in a)e[t]=a[t];(0,P.Z)(s,{getPageByID:n,getDocByID:t,jrPromise:r,resolve:i,reject:o})},e}();var En=Gn;let Rn,xn={},Mn={},On=new(function(e){function t(){var t;return(t=e.call(this)||this).workerObj=xn,t.apis=Mn,t}return(0,w.Z)(t,e),t}(En));const Nn=(e,t)=>{if(!t)throw console.warn(e),new Error("Unable to updateField: document not found by id: "+e)};function kn(e,t,n){return xn.getDocByID(n).then((e=>{if(e.doc.HasForm()){return e.loadForm().toJson()}return null})).then((t=>{let n=[];t&&(n=t.fields.map((e=>e.image?e.image.buffer:null)).filter(Boolean)),xn.resolve(e,t,n)})).catch((r=>{if(isNaN(r)||(r=t.getErrorCode(r)),r!==t.ErrorCode.e_ErrDataNotReady)throw r;setTimeout((()=>{kn(e,t,n)}),200)}))}Mn.loadForm=(e,{docId:t})=>{if(Rn)return kn(e,Rn,t);xn.jrPromise.then((n=>(Rn=n.engine,kn(e,Rn,t))))},Mn.reloadFieldByName=(e,{docId:t,fieldName:n})=>xn.getDocByID(t).then((e=>(Nn(t,e),e.loadForm().getField(n).toJson()))).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.hasForm=(e,{docId:t})=>xn.getDocByID(t).then((t=>{xn.resolve(e,t.hasForm())})),Mn.updateField=(e,{docId:t,title:n,key:r,value:i})=>xn.getDocByID(t).then((e=>{let t=e.loadForm().getField(n);return t&&t.update(r,i)||t.toJson()})).then((t=>{xn.resolve(e,t)})),Mn.setFieldValue=(e,{docId:t,title:n,value:r})=>xn.getDocByID(t).then((i=>{Nn(t,i);let o=i.loadForm().getField(n);o&&o.setValue(r),xn.resolve(e)})),Mn.updateMKProperty=(e,{docId:t,pageId:n,annotId:r,key:i,value:o})=>xn.getDocByID(t).then((e=>e.getPageById(n).getAnnotById(r))).then((t=>{xn.resolve(e,t.updateMKProperty(i,o))})),Mn.setWidgetAS=(e,{docId:t,pageId:n,annotId:r,AS:i})=>xn.getDocByID(t).then((e=>e.getPageById(n).getAnnotById(r))).then((t=>(t.setAS(i),xn.resolve(e)))),Mn.getFieldsValue=(e,{docId:t})=>xn.getDocByID(t).then((t=>{let n=t.loadForm();xn.resolve(e,n.getFieldsValue())})),Mn.destroyForm=(e,{docId:t})=>xn.getDocByID(t).then((t=>{xn.resolve(e,t&&t.destroyForm())})),Mn.addControl=(e,{docId:t,pageIndex:n,fieldName:r,fieldType:i,rect:o,options:a})=>xn.getDocByID(t).then((e=>{Nn(t,e);let s=e.loadForm(),c=s.engineForm,l=e.engine,u=e.JR,d=new l.WString(""),h=c.GetFieldCount(d);d.delete();let f=new l.CFX_FloatRect(o.left,o.bottom,o.right,o.top);return e.getPageByIndex(n).then((t=>{let n,o,d=new l.WString(r);if(r){let e=c.ValidateFieldName(l.FieldType.values[i],d);if(!e){let t=r.replace(/[^0-9]/gi,""),n=r.substr(0,r.indexOf(t)),o=parseInt(t);for(;o++,d=new l.WString(n+o),e=c.ValidateFieldName(l.FieldType.values[i],d),!e;);}}if(7==i){const e=a&&a.isESignCN;if(o=e?t.page.AddSignature(f,d,l.SignatureType.e_SignatureTypeOrdinary,!1,!1):t.page.AddSignature(f,d,l.SignatureType.e_SignatureTypeOrdinary,!1),o.IsEmpty())return{failed:!0};n=o.GetControl(0);let r=n.GetWidget();a&&void 0!==a.mkRotate&&(r.SetMKRotation({value:a.mkRotate}),r.ResetAppearanceStream())}else try{n=c.AddControl(t.page,d,l.FieldType.values[i],f);let h=n.GetWidget();if(a&&void 0!==a.mkRotate&&h.SetMKRotation({value:a.mkRotate}),1==i){const e=h.GetMKIconFit();e.horizontal_fraction=parseFloat(.5),e.vertical_fraction=parseFloat(.5),e.scale_way_type=l.ScaleWayType.e_ScaleWayAlways,h.SetMKIconFit(e)}if(a&&a.stateName,a&&"CreateImageStateHandler"===a.stateName){h.SetMKIconCaptionRelation(l.MKIconCaptionRelation.e_MKRelationNoCaption),h.SetHighlightingMode(l.HighlightingMode.e_HighlightingInvert);const t=h.GetMKIconFit();t.is_proportional_scaling=!0,h.SetMKIconFit(t);const n=u.createReaderCallback(a.imagePath),i=new l.Image(n);h.SetMKNormalIconImage(i,0);const o=l.Action.Create(e.doc,l.ActionType.e_TypeJavaScript),c=new l.JavaScriptAction(o);c.SetScript(new l.WString("event.target.buttonImportIcon()")),s.addAAToDict(h.GetDict(),c,{trigger:14,field:r})}h.ResetAppearanceStream(),o=n.GetField()}catch(e){console.log(e)}if(!o)throw new Error("Field not exist");if(o.IsEmpty())throw new Error("Permission error");f.delete();let g=new l.WString(""),p=c.GetFieldCount(g);return g.delete(),d.delete(),t.update().then((()=>{let e=o.GetFlags(),t=o.GetDict();if(t){let n=new l.String("Ff"),r=t.GetElement(n);r&&(e=r.GetInteger()),n.delete()}if(r=o.GetName().toString(),0==h)return s.toJson().then((t=>({form:t,fieldName:r,fieldFlags:e})));if(p==h)return s.getField(r).getControlsJson().then((t=>({controls:t,fieldName:r,fieldFlags:e})));{let t=s.addJRField(o,r,p-1);return 7==i?t.toJson():t.getControlsJson().then((t=>({controls:t,fieldName:r,fieldFlags:e})))}}))}))})).then((t=>{xn.resolve(e,t)})),Mn.createFieldByCopyControl=(e,{docId:t,pageIndex:n,fieldType:r,newFieldName:i,newRect:o,srcFieldName:a,srcObjectNumber:s})=>xn.getDocByID(t).then((e=>{Nn(t,e);let c=e.loadForm(),l=c.engineForm,u=e.engine,d=new u.WString(""),h=l.GetFieldCount(d);d.delete();let f=new u.CFX_FloatRect(o.left,o.bottom,o.right,o.top);return e.getPageByIndex(n).then((e=>{let t,n,o=new u.WString(i);if(i){let e=l.ValidateFieldName(u.FieldType.values[r],o);if(!e){let t=i.replace(/[^0-9]/gi,""),n=i.substr(0,fieldName.indexOf(t)),a=parseInt(t);for(;a++,o=new u.WString(n+a),e=l.ValidateFieldName(u.FieldType.values[r],o),!e;);}}if(7==r){if(n=e.page.AddSignature(f,o,u.SignatureType.e_SignatureTypeOrdinary,!1),n.IsEmpty())return{failed:!0}}else try{t=l.AddControl(e.page,o,u.FieldType.values[r],f);let i=t.GetWidget(),c=new u.WString(a),d=function(e,t){for(let n=0,r=e.GetControlCount();n<r;n++)if(e.GetControl(n).GetDictionaryObjectNumber()==t)return e.GetControl(n).GetWidget()}(l.GetField(0,c),s);i.CopyPropertyFromOtherWidget(d),i.ResetAppearanceStream(),n=t.GetField()}catch(e){console.log(e)}if(!n)throw new Error("Field not exist");if(n.IsEmpty())throw new Error("Permission error");f.delete();let d=new u.WString(""),g=l.GetFieldCount(d);return d.delete(),o.delete(),e.update().then((()=>{let e=n.GetFlags(),t=n.GetDict();if(t){let n=new u.String("Ff"),r=t.GetElement(n);r&&(e=r.GetInteger()),n.delete()}if(i=n.GetName().toString(),0==h)return c.toJson().then((t=>({form:t,fieldName:i,fieldFlags:e})));if(g==h)return c.getField(i).getControlsJson().then((t=>({controls:t,fieldName:i,fieldFlags:e})));{let t=c.addJRField(n,i,g-1);return 7==r?t.toJson():t.getControlsJson().then((t=>({controls:t,fieldName:i,fieldFlags:e})))}}))}))})).then((t=>{xn.resolve(e,t)})),Mn.validateFieldName=(e,{docId:t,fieldName:n,fieldType:r})=>xn.getDocByID(t).then((e=>{Nn(t,e),8==r&&(r=6);let i=e.engine,o=e.loadForm().engineForm,a=new i.WString(n),s=o.ValidateFieldName(i.FieldType.values[r],a),c=o.GetField(0,a);return a.delete(),(c.IsEmpty()||7!=c.GetType().value)&&s})).then((t=>{xn.resolve(e,t)})),Mn.renameField=(e,{docId:t,fieldName:n,newName:r})=>xn.getDocByID(t).then((e=>{Nn(t,e);let i=e.engine,o=e.loadForm(),a=o.engineForm;delete e.form;let s=new i.WString(n),c=a.GetField(0,s);if(s.delete(),s=new i.WString(r),c.IsEmpty())return!1;let l=a.RenameField(c,s);c=a.GetField(0,s);let u=c.GetControlCount();for(let e=0;e<u;e++){c.GetControl(e).GetWidget().ResetAppearanceStream()}return s.delete(),o.destroy(),!!l&&e.loadForm().toJson()})).then((t=>{xn.resolve(e,t)})),Mn.removeField=(e,{docId:t,fieldName:n})=>xn.getDocByID(t).then((e=>{if(!e)throw console.warn(t),new Error(t);let r=e.engine,i=e.loadForm().engineForm,o=new r.WString(n),a=i.GetField(0,o);o.delete();let s={},c=a.GetControlCount();for(let e=0;e<c;e++){s[a.GetControl(e).GetWidget().GetPage().GetIndex()]=1}7==a.GetType().value?e.doc.RemoveSignature(new r.Signature(a)):i.RemoveField(a),e.reloadPageAnnots(Object.keys(s))})).then((t=>{xn.resolve(e,!0)})),Mn.removeControl=(e,{docId:t,pageIndex:n,fieldName:r,controlObjectNumber:i})=>xn.getDocByID(t).then((o=>{Nn(t,o);let a=o.loadForm(),s=a.engineForm,c=a.getField(r).engineField;if(7==c.GetType().value)n=c.GetControl(0).GetWidget().GetPage().GetIndex(),o.doc.RemoveSignature(c);else{let e,t=c.GetControlCount();for(let r=0;r<t;r++){let t=c.GetControl(r);t.GetWidget().GetDict().GetObjNum()==i&&(e=t,n=e.GetWidget().GetPage().GetIndex())}e&&!e.IsEmpty()&&s.RemoveControl(e)}0===c.GetControlCount()&&a.removeField(r),o.getPageByIndex(n).then((e=>{e.update()})),xn.resolve(e,!0)})),Mn.isLastSignature=(e,{docId:t,fieldName:n})=>xn.getDocByID(t).then((r=>{let i;Nn(t,r);const o=r.loadForm().engineForm,a=(0,G.Dp)(r.engine,""),s=o.GetFieldCount(a);for(let e=0;e<s;e++){const t=o.GetField(e,a);if(!t.IsEmpty()&&t.GetName().toString()===n){i=t;break}}let c;i&&7===i.GetType().value&&(i=new r.engine.Signature(i),c=i.IsLast()),xn.resolve(e,c)})),Mn.fixPageFields=(e,{docId:t,pageIndex:n})=>xn.getDocByID(t).then((r=>{Nn(t,r),r.loadForm().engineForm.FixPageFields(n),xn.resolve(e,!0)})),Mn.getControlCount=(e,{docId:t,pageIndex:n})=>xn.getDocByID(t).then((e=>(Nn(t,e),Promise.all([e,e.getPageByIndex(n)])))).then((([e,t])=>{if(t.isVirtual)return 0;return e.loadForm().engineForm.GetControlCount(t.page)})).then((t=>{xn.resolve(e,t)})),Mn.setFieldsValue=(e,{docId:t,fieldsValue:n,resetAP:r})=>xn.getDocByID(t).then((i=>{Nn(t,i),i.loadForm().setFieldsValue(n,r),xn.resolve(e,!0)})),Mn.updateFormControl=(e,{docId:t,fieldName:n,objectNumber:r,key:i,value:o})=>xn.getDocByID(t).then((a=>{Nn(t,a);let s=a.loadForm().updateFormControl(n,r,i,o);xn.resolve(e,s||!0)})),Mn.setLockAction=(e,{docId:t,title:n,type:r,fieldNames:i})=>xn.getDocByID(t).then((e=>{Nn(t,e);let o=e.loadForm().getField(n);o&&o.setLockAction(r,i)})).then((()=>{xn.resolve(e)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.VerifySignature=(e,{docId:t,fieldName:n,verifyConfig:r})=>xn.getDocByID(t).then((e=>(Nn(t,e),e.loadForm().getField(n).VerifySignature(r)))).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.getDigitalSignatureInfo=(e,{docId:t,fieldName:n,trustedCertificateList:r})=>xn.getDocByID(t).then((e=>(Nn(t,e),e.loadForm().getField(n).getDigitalSignatureInfo(r)))).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.verifyDocSignature=(e,{docId:t,verifyConfig:n})=>xn.getDocByID(t).then((e=>(Nn(t,e),e.verifyDocSignature(n)))).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.verifySignatureLtv=(e,{docId:t,fieldName:n,verifyConfig:r})=>xn.getDocByID(t).then((e=>(Nn(t,e),e.loadForm().getField(n).verifySignatureLtv(r)))).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.clearSignature=(e,{docId:t,fieldName:n,verifyConfig:r})=>xn.getDocByID(t).then((e=>(Nn(t,e),e.loadForm().getField(n).clearSignature(r)))).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.getSignatureBitmap=(e,{docId:t,fieldName:n})=>xn.getDocByID(t).then((e=>{Nn(t,e);return e.loadForm().getField(n).getSignatureBitmap()})).then((t=>{xn.resolve(e,t,t?[t.buffer]:[])}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.setSignatureBitmap=(e,{docId:t,fieldName:n,buffer:r})=>xn.getDocByID(t).then((e=>{Nn(t,e);return e.loadForm().getField(n).setSignatureBitmap(r)})).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.getControlPageIndex=(e,{docId:t,fieldName:n,objectNumber:r})=>xn.getDocByID(t).then((e=>{Nn(t,e);let i=e.loadForm().getField(n);if(!i)return-1;let o=i.engineField,a=o.GetControlCount();for(let e=0;e<a;e++){let t=o.GetControl(e);if(r==t.GetDictionaryObjectNumber()){let e=t.GetWidget();return e.IsEmpty()?-1:e.GetPage().GetIndex()}}return-1})).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.copyControls=(e,{docId:t,pageIndex:n,dstPageIndex:r,controls:i})=>xn.getDocByID(t).then((e=>(Nn(t,e),Promise.all([0,e.getPageByIndex(r)]).then((([t,n])=>e.loadForm().copyControls(t,n,i)))))).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.duplicateWidget=(e,{docId:t,pages:n,fieldName:r,objectNumber:i})=>xn.getDocByID(t).then((e=>{Nn(t,e);let o=n.map((t=>e.getPageByIndex(t))),a=e.loadForm();return Promise.all(o).then((e=>a.duplicateWidget(e,r,i)))})).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.removeAction=(e,{docId:t,pageId:n,annotId:r,trigger:i,parentObject:o,objectNumber:a})=>xn.getDocByID(t).then((e=>e.getPageById(n).getAnnotById(r))).then((t=>{xn.resolve(e,t.removeAction(i,a))})),Mn.duplicateField=(e,{docId:t,fieldName:n,pageIndex:r,annotObjNum:i,columns:o,rows:a,positions:s})=>xn.getDocByID(t).then((e=>(Nn(t,e),Promise.all([e,e.getPageByIndex(r)])))).then((([e,t])=>e.loadForm().duplicateField(n,t,i,o,a,s))).then((e=>e.loadForm().toJson())).then((t=>{xn.resolve(e,t)}),(t=>{xn.reject(e,{err:-1},[],t)})),Mn.setCO=(e,{docId:t,CO:n})=>xn.getDocByID(t).then((r=>{Nn(t,r);r.engine;r.loadForm().setCO(n),xn.resolve(e,!0)})),Mn.moveControl=(e,{docId:t,fieldId:n,fieldName:r,newName:i})=>xn.getDocByID(t).then((e=>{Nn(t,e);let o=e.engine,a=e.loadForm(),s=a.engineForm,c=a.getField(r).engineField,l=c.GetControlCount(),u=new o.WString(i),d="";for(let e=0;e<l;e++){const t=c.GetControl(e);if(t.GetWidget().GetDict().GetObjNum()===n){d=s.MoveControl(t,u);break}}return delete e.form,u.delete(),a.destroy(),!!d&&e.loadForm().toJson()})).then((t=>{xn.resolve(e,t)})),Mn.getAAJson=(e,{docId:t,fieldName:n})=>xn.getDocByID(t).then((e=>e.loadForm().getField(n).getAAJson())).then((t=>{xn.resolve(e,t)}));var Bn=On.extendsWorkerAPI.bind(On);let Ln={},jn={},Un=new(function(e){function t(){var t;return(t=e.call(this)||this).workerObj=Ln,t.apis=jn,t}(0,w.Z)(t,e);var n=t.prototype;return n.extendsWorkerAPI=function(...t){return e.prototype.extendsWorkerAPI.apply(this,t),this},n.clearObjectFromCache=function(...e){Vn.apply(null,e)},t}(En));var Wn={};function Hn(e,t,n){let r=Wn[t]=Wn[t]||{};(r[n]=r[n]||{})[e.id]=e}var zn={};function Kn(e,t,n,r){let i=zn[t]=zn[t]||{};(i[n]=i[n]||{})[r]=e}function Jn(e,t,n,r=!1){let i;try{i=Wn[e][t][n]}catch(e){}if(!i&&!r)throw new Error("Couldn't obtain the graphic object from cache and the operation cannot be performed!");return i}function Vn(e,t,n){try{n?delete Wn[e][t][n]:t?delete Wn[e][t]:e&&delete Wn[e]}catch(e){}}jn.getGraphicsObjectAtPoint=function(e,{docId:t,pageId:n,point:r,tolerance:i,type:o,rect:a}){return Ln.getPageByID(t,n).then((e=>a?e.getGraphicsObjectsInRect(a,i,o):e.getGraphicsObjectAtPoint(r,i,o))).then((r=>{if(r instanceof Array){let i=[];return r.forEach((e=>{Hn(e,t,n),i.push(e.toJson())})),void Ln.resolve(e,i)}r?(Hn(r,t,n),Ln.resolve(e,r.toJson())):Ln.resolve(e,{})}))},jn.setGraphicsObjectMatrix=function(e,{docId:t,pageId:n,id:r,matrix:i}){let o=Jn(t,n,r);o.setMatrix(i),Ln.resolve(e,o.toJson())},jn.setGraphicsObjectRect=function(e,{docId:t,pageId:n,id:r,rect:i}){let o=Jn(t,n,r);o.setRect(i,!0),Ln.resolve(e,o.toJson())},jn.getGraphicsObjectBitmap=function(e,{docId:t,pageId:n,id:r,scale:i,rotation:o}){let a=Jn(t,n,r).render(i,o,null);Ln.resolve(e,a,[a.buffer])},jn.setGraphicsObjectBorderStyle=function(e,{docId:t,pageId:n,id:r,style:i,dashes:o}){let a=Jn(t,n,r);a.setBorderStyle(i,o,!0),Ln.resolve(e,a.toJson())},jn.setGraphicsObjectBorderWidth=function(e,{docId:t,pageId:n,id:r,width:i}){let o=Jn(t,n,r);o.setBorderWidth(i,!0),Ln.resolve(e,o.toJson())},jn.setGraphicsObjectBorderColor=function(e,{docId:t,pageId:n,id:r,color:i}){let o,a=Jn(t,n,r);a&&(o=a.setBorderColor(i,!0)),Ln.resolve(e,o)},jn.setGraphicsObjectFillColor=function(e,{docId:t,pageId:n,id:r,color:i}){let o=Jn(t,n,r);o.setFillColor(i,!0),Ln.resolve(e,o.toJson())},jn.setGraphicsObjectOpacity=function(e,{docId:t,pageId:n,id:r,opacity:i}){let o,a=Jn(t,n,r);a&&(o=a.setOpacity(parseFloat(i),!0)),Ln.resolve(e,o)},jn.addGraphicsObject=function(e,{docId:t,pageId:n,info:r}){return Promise.all([Ln.jrPromise,Ln.getPageByID(t,n)]).then((([e,t])=>Promise.all([e,t,t.c_pagePromise]))).then((([e,t,n])=>e.graphicsObjectManager.create(r,n,t))).then((r=>{Hn(r,t,n),Ln.resolve(e,r.toJson())}))},jn.setImageObjectOpacity=function(e,{docId:t,pageId:n,id:r,opacity:i}){let o,a=Jn(t,n,r);a&&(o=a.setOpacity(i,!0)),Ln.resolve(e,o)},jn.removeGraphicsObject=function(e,{docId:t,pageId:n,id:r,resetContent:i}){let o,a=Jn(t,n,r,!0);a&&(o=a.remove(i),a=null,Vn(t,n,r)),Ln.resolve(e,o)},jn.moveGraphicsObjectByPosition=function(e,{docId:t,pageId:n,id:r,type:i,graphicObjectId:o}){let a,s=Jn(t,n,r,!0);s&&(a=s.moveToPosition(i,o)),Ln.resolve(e,a)},jn.setImageObjectRotation=function(e,{docId:t,pageId:n,id:r,rotation:i}){let o=Jn(t,n,r);o.setRotation(i,!0),Ln.resolve(e,o.toJson())},jn.getImageObjectStream=function(e,{docId:t,pageId:n,id:r}){let i=Jn(t,n,r);Ln.resolve(e,i.getStream())},jn.setTextObjectChar=function(e,{docId:t,pageId:n,id:r,char:i}){let o=Jn(t,n,r);return o.setText(i).then((function(){Ln.resolve(e,o.toJson())}))},jn.setTextObjectItalic=function(e,{docId:t,pageId:n,id:r,italic:i}){let o=Jn(t,n,r);return o.setItalic(i).then((function(){Ln.resolve(e,o.toJson())}))},jn.setTextObjectBold=function(e,{docId:t,pageId:n,id:r,bold:i}){let o=Jn(t,n,r);return o.setBold(i).then((function(){Ln.resolve(e,o.toJson())}))},jn.setTextObjectFontSize=function(e,{docId:t,pageId:n,id:r,size:i}){let o=Jn(t,n,r);return o.setFontSize(i).then((function(){Ln.resolve(e,o.toJson())}))},jn.setTextObjectStandardFont=function(e,{docId:t,pageId:n,id:r,standardId:i}){let o=Jn(t,n,r);return o.setStandardFont(i).then((function(){Ln.resolve(e,o.toJson())}))},jn.setTextObjectFontByName=function(e,{docId:t,pageId:n,id:r,name:i,styles:o,charset:a}){let s=Jn(t,n,r);return s.setFontByName(i,o,a).then((function(){Ln.resolve(e,s.toJson())}))},jn.getTextObjectWoff=function(e,{docId:t,pageId:n,id:r}){let i=Jn(t,n,r).getWoff();return Ln.resolve(e,i,[])},jn.pasteGraphicObject=function(e,t,n,r,i,o){let a=zn[t][r.id][i],s=n.page,c=s.GetLastGraphicsObjectPosition(n.engine.GraphicsObjectType.e_TypeAll);s.InsertGraphicsObject(c,a.graphicsObject),a.setRect(o),s.GenerateContent(),Hn(a,t,n.id),function(e,t,n){try{n?delete zn[e][t][n]:t?delete zn[e][t]:e&&delete zn[e]}catch(e){}}(t,r.id,i);let l=a.graphicsObject.Clone();Kn(n.JR.graphicsObjectManager.get(l,s,n),t,r.id,i),Ln.resolve(e,a.toJson())},jn.getGraphicsObjectByIndex=function(e,{docId:t,pageId:n,index:r}){return Ln.getPageByID(t,n).then((e=>e.getGraphicsObjectByIndex(r))).then((r=>{r?(Hn(r,t,n),Ln.resolve(e,r.toJson())):Ln.resolve(e,{})}))},jn.getGraphicsObjectsCount=function(e,{docId:t,pageId:n}){return Ln.getPageByID(t,n).then((e=>e.getGraphicsObjectsCount())).then((t=>{Ln.resolve(e,t)}))},jn.addPageImage=function(e,{docId:t,pageId:n,imageBuffer:r,point:i,width:o,height:a,rotation:s}){return Ln.getPageByID(t,n).then((e=>e.addImage(r,i,o,a,s))).then((r=>{r&&Hn(r,t,n),Ln.resolve(e,r&&r.toJson())}))},jn.cloneGraphicObject=function(e,{docId:t,pageId:n,srcPageId:r,ids:i}){zn={};let o=i.map((e=>Jn(t,r,e)));return Ln.getPageByID(t,n).then((n=>{let r=o.map((e=>e.graphicsObject.Clone())),a=n.page,s=[],c=[];r.forEach((e=>{s.push(n.JR.graphicsObjectManager.get(e,a,n))})),s.forEach(((e,r)=>{Kn(e,t,n.id,i[r]),c.push(e.toJson())})),Ln.resolve(e,c)}))},jn.getGraphicsObjectsByRect=function(e,{docId:t,pageId:n,rect:r,tolerance:i,type:o,isInRect:a}){return Ln.getPageByID(t,n).then((e=>e.getGraphicsObjectsByRect(r,i,o,a))).then((r=>{if(Array.isArray(r)){let i=[];return r.forEach((e=>{Hn(e,t,n),i.push(e.toJson())})),void Ln.resolve(e,i)}r?(Hn(r,t,n),Ln.resolve(e,r.toJson())):Ln.resolve(e,{})}))};var Yn=Un.extendsWorkerAPI.bind(Un);function Zn(e,t){const n=e.engine.PageLabelsStyle;switch(t){case n.e_None:return"none";case n.e_DecimalNums:return"decimalNums";case n.e_UpperRomanNums:return"upperRomanNums";case n.e_LowerRomanNums:return"lowerRomanNums";case n.e_UpperLetters:return"upperLetters";case n.e_LowerLetters:return"lowerLetters"}return"decimalNums"}function qn(e,t,n,r={}){!0===t?function(e,t){const n=e.engine,r=new n.PageLabels(e.doc),i=e.doc.GetPageCount(),[o,a]=t,s=a+1;let c=!0;if(s<i){const e=r.HasPageLabel(a);if(0==r.HasPageLabel(s)){let t=n.PageLabelsStyle.e_None,i="",l=-1;if(0==e){for(let e=a-1;e>=0;e--)if(r.HasPageLabel(e)){t=r.GetPageLabelStyle(e),i=r.GetPageLabelPrefix(e),o<=e?l=r.GetPageLabelStart(e):c=!1;break}-1===l&&(l=o+1)}else t=r.GetPageLabelStyle(a),i=r.GetPageLabelPrefix(a),l=r.GetPageLabelStart(a);i=i instanceof n.WString?i:new n.WString(i),r.SetPageLabel(s,t,l,i)}}if(0==c)return;for(let e=a;e>=o;e--)0!=e&&r.HasPageLabel(e)&&r.RemovePageLabel(e)}(e,n):function(e,t,{styleType:n="decimalNums",prefix:r="",start:i=1}){const o=e.engine,a=new o.PageLabels(e.doc),s=e.doc.GetPageCount(),[c,l]=t,u=l+1;if(u<s){const e=a.HasPageLabel(l);if(0==a.HasPageLabel(u)){let t=o.PageLabelsStyle.e_DecimalNums,n="",r=-1;if(0==e){for(let e=l-1;e>=0;e--)if(a.HasPageLabel(e)){t=a.GetPageLabelStyle(e),n=a.GetPageLabelPrefix(e);let i=a.GetPageLabelStart(e);r=c<=e?i:c-e+i;break}-1===r&&(r=c+1)}else t=a.GetPageLabelStyle(l),n=a.GetPageLabelPrefix(l),r=a.GetPageLabelStart(l);n=n instanceof o.WString?n:new o.WString(n),a.SetPageLabel(u,t,r,n)}}const d=new o.WString(r),h=function(e,t){const n={none:"e_None",decimalNums:"e_DecimalNums",upperRomanNums:"e_UpperRomanNums",lowerRomanNums:"e_LowerRomanNums",upperLetters:"e_UpperLetters",lowerLetters:"e_LowerLetters"}[t];return e.engine.PageLabelsStyle[n]}(e,n);a.SetPageLabel(c,h,i,d);for(let e=c+1;e<=l;e++)a.HasPageLabel(e)&&a.RemovePageLabel(e)}(e,n,r)}let Xn=function(){function e(){}return e.insertPagesByRange=function(e,t){for(const n of t)this.insertPages(e,n,1)},e.insertPages=function(e,t,n){const r=e.engine;let i=new r.PageOperationInfo;i.type=r.PageOperationType.e_PageOperationInsert,i.page_index_1=t,i.page_count=n,e.doc.UpdatePageLabels(i)},e.deletePages=function(e,t){const n=e.engine;let r=new n.PageOperationInfo;r.type=n.PageOperationType.e_PageOperationDelete;for(let[e,i]of t)i=void 0===i?e:i,r.page_index_range.AddSegment(e,i,n.RangeFilter.e_All);e.doc.UpdatePageLabels(r)},e.reversePages=function(e,t){const n=e.engine;let r=new n.PageOperationInfo;r.type=n.PageOperationType.e_PageOperationReverse;for(const e of t)r.page_index_range.AddSegment(e,e,n.RangeFilter.e_All);e.doc.UpdatePageLabels(r)},e.replacePages=function(e,t,n,r,i){const o=e.engine;let a=new o.PageOperationInfo;a.type=o.PageOperationType.e_PageOperationReplace,a.page_index_1=t,a.page_count=n-t+1,a.page_index_range.AddSegment(r,i,o.RangeFilter.e_All),e.doc.UpdatePageLabels(a)},e.swapPages=function(e,t,n){const r=e.engine;let i=new r.PageOperationInfo;i.type=r.PageOperationType.e_PageOperationSwap,i.page_index_1=t,i.page_index_2=n,e.doc.UpdatePageLabels(i)},e.movePages=function(e,t,n){const r=e.doc.GetPageCount();let i=n;t[0]<n&&(i=n-1),i<0&&(i=0),i>=r&&(i=r-1);const o=e.engine;let a=new o.PageOperationInfo;a.type=o.PageOperationType.e_PageOperationMove;for(const e of t)a.page_index_range.AddSegment(e,e,o.RangeFilter.e_All);a.page_index_1=i,e.doc.UpdatePageLabels(a)},e}(),Qn=0;const $n=(e,t)=>{if(!(Qn&t)){switch(t){case 2:e.initTouchup();case 1:if(1&Qn)break;Qn|=1,e.initPageEditor();break;case 4:e.initExporter()}Qn|=t}};const er=["bRemoveBookmark","bRemoveComment","bRemoveContent","bRemoveFileattachment","bRemoveForm","bRemoveHideLayer","bRemoveHideText","bRemoveLink","bRemoveMetadata","bRemoveOverlaping","bRemoveSearchIndex"];var tr=__webpack_require__(2426),nr=__webpack_require__(5420);const rr=navigator.userAgent.toLowerCase(),ir=/opera|opr/.test(rr),or=/msie/.test(rr),ar=/trident/.test(rr),sr=/\sapplewebkit\//.test(rr),cr=/chrome/.test(rr),lr=/safari/.test(rr),ur=(/firefox/.test(rr),/edg\//.test(rr),(ar||or)&&!ir&&"msSaveBlob"in navigator&&(()=>{const e=rr.match(/msie ([\d\.]+)/);!!e&&parseInt(e[1])})(),rr.indexOf("edge"),ir),dr=sr,hr=!/huawei/.test(rr)&&!ur&&lr&&!cr;navigator.product,/maxthon/.test(rr),/tencenttraveler/.test(rr)||/qqbrowser/.test(rr),/wechat/.test(rr),/metasr/.test(rr)||/sogou/.test(rr),/baidubrowser/.test(rr),/ucbrowser/.test(rr),/liebao/.test(rr),/miuibrowser/.test(rr),/huaweibrowser/.test(rr)||/huaweialp/.test(rr),/crios/.test(rr);var fr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function gr(e,t){return fr(this,void 0,void 0,(function*(){const n=yield e.getPageByIndex(t);return yield function(e){return fr(this,void 0,void 0,(function*(){const t=(yield e.doParsePage()).ExportDataForChatGPT(),n=[];for(let e=0;e<t.GetSize();e++){const r=t.GetAt(e),{left:i,right:o,top:a,bottom:s}=r.rect,c={left:i,right:o,top:a,bottom:s};if(!1===r.is_table){n.push({is_table:!1,rect:c,text_content:r.text_content.toString()});continue}const l=[];for(let e=0;e<r.table_data.GetSize();e++){const t=r.table_data.GetAt(e),n=[];for(let e=0;e<t.cell_array.GetSize();e++){const i=t.cell_array.GetAt(e),{left:o,right:a,top:s,bottom:c}=r.rect,l={left:o,right:a,top:s,bottom:c};n.push({content:i.content.toString(),rect:l})}l.push({cells:n})}n.push({is_table:!0,rect:c,table_data:l})}return n}))}(n)}))}function pr(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}const mr="cache",_r=new i.Z(mr,"FoxitPDFSDKForWeb_"+mr),yr="asmJs",Sr=navigator.userAgent.toLowerCase();function br(){let e;return!(!("ActiveXObject"in self)||!(e=Sr.match(/msie ([\d\.]+)/)))&&10===parseInt(e[1])}/iP(hone|od|ad)/i.test(Sr);let Ir={};self.trace=e=>{};let Ar=(0,t.dD)(),Dr=Ar.promise,vr=!1,wr=!1,Pr=!1,Fr={},Tr=(0,t.dD)(),Cr=Tr.promise,Gr=!1,Er={};Bn(Er,Zr,Xr,Dr,zr,Hr);let Rr=Yn(Er,Zr,Xr,Dr,zr,Hr),xr={},Mr=function(){let e={};return{push:function(t,...n){let r=e[t]=e[t]||[];r.push.apply(r,n)},get:function(t){return e[t]||[]}}}(),Or={},Nr={},kr={},Br=function(e,t){this.reason=e,this.transfers=t};function Lr(e){return Or[e]}function jr(e,t){let n=e.params||[],r=e.more.paramsInfo||[],i=[];for(let e=n.length;e--;){let o=n[e],a=r[e]||{};a.isObject?!(i[e]=Lr(o))&&a.enumName&&(i[e]=Ur(o,a.enumName,t)):i[e]=n[e]}return i}function Ur(e,t,n){let r=t.split("."),i=n;for(let e=0,t=r.length;e<t;e++)i=i[r[e]];return i.values[e]}function Wr(e,t){try{self.postMessage(e,t)}catch(t){self.postMessage(e)}}function Hr(e,t={error:-1},n=[],r=null){br()&&(n=n[0]),t&&r&&(t.e=r.constructor?r.constructor.name:r),Wr({id:e,type:1,params:t},n)}function zr(e,t,n=[]){br()&&(n=n[0]),Wr({id:e,type:0,params:t},n)}function Kr(e,n,r=[]){br()&&(r=r[0]);let i=(0,t.Ki)("worker_back"),o=(0,t.dD)();return xr[i]=function(e){o.resolve(e)},Wr({callId:e,params:n,backId:i},r),o.promise}function Jr(e,t,n=[]){br()&&(n=n[0]),Wr({uiListener:e,params:t},n)}var Vr;function Yr(e,t,n){let r=new XMLHttpRequest;r.open("GET",e,!1),r.responseType="arraybuffer",r.send(),r.status>=200&&r.status<300||304===r.status||n.reject(new Error("request error: "+r.status));var i=new Uint8Array(r.response);let o=(0,__webpack_require__(8331).Z)(i);_r.set(yr,o).then((function(){Jr(yr,e)}),(function(){}));let a,s,c=new Blob([o],{type:"application/javascript"});try{a=URL.createObjectURL(c),s=Promise.resolve(a)}catch(e){s=Kr(t,c)}return s.then((function(e){importScripts(e)})).then((function(){n.resolve()}),(function(e){n.reject(e)}))}function Zr(e){const t=new Error(`The document corresponding to the ID("${e}") cannot be found or has been deleted!`);return Dr.then((t=>t.getPDFDocById(e))).then((e=>{if(!e)throw t;return e}))}function qr(e,t){return Zr(e).then((e=>e.getPageByIndex(t))).then((e=>{if(!e)throw new Error(`Cannot access the page with the specified index: ${t}`);return e}))}function Xr(e,t){return Zr(e).then((e=>e.getPageById(t)))}function Qr(e,{docId:t,pageId:n,x:r,y:i,width:o,height:a,scale:s,rotate:c},l){return Xr(t,n).then((e=>e.getImageDataByTile(r,i,o,a,s,c,l))).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)}))}self.onmessage=e=>{const n=e.data,r=n.params,i=n.backId;if(i)return xr[i](r);const o=n.name,a=n.id;try{let e=Er[o];if(e){const t=e(a,r);t instanceof Promise&&t.catch((e=>{let t,n;e instanceof Br?(n=e.reason,t=e.transfers):(t=[],n=e),Dr.then((function(e){if(n instanceof e.engine.ErrorCode&&(n=n.value),"number"==typeof n){let i=e.engine.getErrorCode(n);"number"!=typeof i&&(i=n),Hr(a,{error:n,message:`Unknown engine error! error: ${n}, code: ${i}, Worker function name: ${o}, parameters: ${JSON.stringify(r)}`},t,null)}else n instanceof Error&&Hr(a,{error:"number"==typeof n.error?n.error:-1,message:n.message,stack:n.stack},t,n)}))}))}else!function(e){const n=e.id;let r=e.name,i=r.split(".");Dr.then((function(e){return e.engine})).then((function(n){let r=n;for(let t=0,n=i.length;t<n;t++){let n;if(n=r[i[t]]){let o=i[t+1];if("prototype"===o){let o;try{o=e.more.self,r=Lr(o)}catch(e){r=new n}if(t++,"destroy"===i[t+1])return o}else"create"===o?(r=new n.apply(n,jr(e)),t++):r="function"==typeof n?n.apply(r,jr(e)):n}}return function(e){if(!e)return"";let n=(0,t.Ki)("obj");return Or[n]=e,n}(r)})).then((function(e){zr(n,e)}),(function(e){Hr(n,{code:e.code,stack:e.stack,message:e.message})}))}(n)}catch(e){Hr(a,{error:-1,message:"web-pdf-jr-worker-error\r\n"+o+"\r\n"+e.toString(),stack:e.stack})}},Er.initJREngine=function(e,{enginePath:n,licenseSN:r,licenseKey:i,fontPath:o,cache:a,compatibilityURL:s,l:c,d:l,readBlock:u=8192,fontMap:d=[],brotli:h={},fontInfoPath:f}){if(Pr)return zr(e,{version:self.gsdkVersion});const g=e=>{nr.Z.init(e,"initAction"),nr.Z.init(e,"initAnnot"),nr.Z.init(e,"initForm"),nr.Z.init(e,"initGraphicsObject"),nr.Z.init(e,"initCompare"),nr.Z.init(e,"initDocProcess"),nr.Z.init(e,"initOptimizer"),nr.Z.init(e,"initConnectPDF"),nr.Z.init(e,"initFillSign"),nr.Z.init(e,"initLayer"),nr.Z.init(e,"initPDFObject"),nr.Z.init(e,"initPortfolio")};if(Dr.then((t=>{if(Vr)return zr(e,{other:Vr,version:self.gsdkVersion}),g(t.engine);zr(e,{version:self.gsdkVersion}),g(t.engine)})),wr||vr)return;let p=(0,t.dD)();vr=p.promise.then((function(){return wr=!0,new Fn(null,{enginePath:n,fontPath:o,cache:a,postMessageToUi:Jr,readBlock:u,fontMap:d,brotli:h,fontInfoPath:f})})).then((function(t){t.jrEnginePromise.catch((t=>{Hr(e,{error:3},null,t)})),(c?t.checkLicense2(c):t.checkLicense(r,i)).then((({flag:n,other:r})=>{if(self.gsdkVersion=t.engine.Library.GetVersion().toString(),n){let n,o=t.engine.Library.GetLicenseKeyInfo;try{n=o().toString()}catch(e){}if(n){let t=n.match(/<Domains>((.|\r?\n)*)<\/Domains>/);if(t){t=t[1];let n,r=/<Domain>([^<]+)<\/Domain>/g,o=!1,a=!1;for(;n=r.exec(t);){let e,t=n[1];if(t){var i=t.split(/,||\r?\n/);for(let t=i.length;t--;){let n=i[t];if(n){let t;o=!0;try{let e="";t=new RegExp(n.replace(/\./g,"\\.").replace(/\*\*/g,e).replace(/\*/g,".?").replace(new RegExp(e,"g"),".*")).test(l)}catch(e){}if(t){a=!0,e=!0;break}}}}if(e)break}if(o&&!a)return void Hr(e,{error:2})}}if(r&&(r=JSON.parse(r))){let t=!0;if(r.h){t=!1;let e=r.h;0;for(let n=e.length;n--;){let r=e[n];if(new RegExp(r).test(l)){t=!0;break}}}if(!t)return void Hr(e,{error:2});let n=Date.now(),i=r.b;if(i&&(t=n>i,!t))return void Hr(e,{error:2});let o=r.e;if(o&&(t=n<o,!t))return void Hr(e,{error:2});if(!t)return void Hr(e,{error:2})}Vr=r,Pr=!0,Ar.resolve(t)}else Hr(e,{error:2})}))}),(function(){Hr(e)}));try{if(rn())importScripts(n+"/gsdk.js?h="+$t.jsHash),p.resolve();else{let e;!1===h.core?(e=n+"/gsdk.asm.js?h="+$t.asmJSHash,importScripts(e),p.resolve()):(e=n+"/gsdk.asm.js.brotli?h="+$t.asmJSHash,e===a.asmJs?_r.get(yr).then((function(t){if(t)try{let e,n,r=new Blob([t],{type:"application/javascript"});try{n=URL.createObjectURL(r),e=Promise.resolve(n)}catch(t){e=Kr(s,r)}e.then((function(e){importScripts(e),p.resolve()}),(function(e){p.reject(e)}))}catch(e){p.reject(e)}else Yr(e,s,p)}),(function(){Yr(e,s,p)})):Yr(e,s,p))}wr=!0}catch(t){return console.error(t),Hr(e,{error:1})}},Er.getPDFDocByFile=function(e,{file:t,option:n}){return Dr.then((e=>{if(t instanceof ArrayBuffer)return e.getPDFDoc({buffer:t});let r=ai(t);return r.size<20971520&&!n.ReadBlockOption?e.getPDFDoc({buffer:r.read(0,r.size)}):e.getPDFDoc({size:r.size,getBuffer:function(e,t){return r.read(e,t)},destroyCallback:function(){r.destroy()},ReadBlockOption:n.ReadBlockOption})})).then((e=>(e.setOriginalStream(t),e.id))).then((t=>{zr(e,t)}))},Er.getPDFDocFromImageFile=function(e,t,n=""){return Dr.then((r=>{const i=r.engine,o=ai(t),a=o.read(0,o.size),s=ot.Z.createImage(i,a),c=s.GetWidth(),l=s.GetHeight(),u=t.name,d={width:c,height:l};return r.createNewDoc(u,n,d).then((e=>r.getPDFDoc({buffer:e}))).then((t=>{zr(e,{docId:t.id,width:c,height:l,buffer:a})}))}))},Er.createNewDoc=function(e,{title:t,author:n,pageSize:r}){return Dr.then((e=>e.createNewDoc(t,n,r))).then((t=>{zr(e,t,[t])}))},Er.createNewPortfolioDoc=function(e,{fileCoversheet:t,files:n,title:r}){return Dr.then((e=>e.createNewPortfolioDoc(t,n,r))).then((t=>{zr(e,t,[t])}))},Er.createSummarizeComments=function(e,{docId:t,writeStream:n,param:r}){let i;return Zr(t).then((e=>(i=e,e.createSummarizeComments({writeStream:function(e,t,r){Kr(n,{arrayBuffer:e,offset:t,size:r},[e])}},r)))).then((t=>{Mr.push(i.id,n),zr(e,t)}),(t=>{Hr(e,{err:-1},[],t)}))},Er.setIcons=function(e,{icons:t}){Dr.then((e=>{let n=Ze();n.initIconProvider(e,e.engine),n.setIcons(t)})),zr(e)},Er.addIcon=function(e,{icon:t}){zr(e,Ze().addIcon(t))},Er.removeIcon=function(e,{type:t,catalog:n,name:r}){Ze().removeIcon(t,n,r),zr(e)},Er.previewIconDoc=function(e,{icon:t}){return Dr.then((n=>{let r=Ze();r.initIconProvider(n,n.engine);const i=r.previewIconDoc(t);zr(e,i,[i])}))},Er.checkCertificatePassword=function(e,{pfxFile:t,password:n}){return Dr.then((e=>e.checkCertificatePassword(t,n))).then((t=>{zr(e,t)}))},Er.getCertificateInfo=function(e,{file:t,password:n}){return Dr.then((e=>e.getCertificateInfo(t,n))).then((t=>{zr(e,t)}))},Er.createCertificateFile=function(e,{docId:t,info:n}){return Zr(t).then((e=>e.createCertificateFile(n))).then((t=>{zr(e,t)}))},Er.getCertificateSerials=function(e,{docId:t}){return Zr(t).then((e=>e.getCertificateSerials())).then((t=>{zr(e,t)}))},Er.parseByCertificate=function(e,{docId:t,info:n}){return Zr(t).then((t=>{t.parseByCertificate(n).then((n=>{0===n.code&&(n.info=t.toJson()),zr(e,n)}))})).catch((t=>{Hr(e,null,[],t)}))},Er.parsePDFDocByPassword=function(e,{id:t,password:n,initData:r={}}){let i;return Dr.then((e=>{e.engine.Library.SetDefaultFileSize(r.readBlock||e.defaultReadBlockSize);const t=Array.isArray(r.fdf);if(r.fdf&&r.fdf.file){let t=r.fdf.file,n=ti(t),i=ni(t);return e.getFDFDoc({size:n,getBuffer:function(e,t){return i(e,t)}}).then((e=>{r.fdf.file=e}))}if(t)return Promise.all(r.fdf.map(((t,n)=>{let i=ti(t.file),o=ni(t.file);return e.getFDFDoc({size:i,getBuffer:function(e,t){return o(e,t)}}).then((e=>r.fdf[n].file=e))})))})).then((()=>Zr(t))).then((e=>(i=e,e.parseByPassword(n,r)))).then((t=>{if(Dr.then((e=>{})),0===t.code){t.info=i.toJson();const e=i.doc.CheckPassword(new i.engine.String(n||""));t.info.hasOwnerPassword=3===e.value||i.doc.HasOwnerPassword()}zr(e,t)})).catch((t=>{Hr(e,null,[],t)})).finally((e=>i=null))},Er.getPageCount=function(e,t){return Zr(t).then((e=>e.getPageCount())).then((t=>{zr(e,t)}),(t=>{Hr(e,null,[],t)}))},Er.getFileVersion=function(e,t){return Zr(t).then((e=>e.getFileVersion())).then((t=>{zr(e,t)}),(t=>{Hr(e,null,[],t)}))},Er.getPDFDocInfoById=function(e,t){return Zr(t).then((t=>{zr(e,t.toJson())}))},Er.getMetadata=function(e,t){return Zr(t).then((t=>{zr(e,t.getMetadata())}))},Er.setMetadataValue=function(e,{id:t,key:n,value:r}){return Zr(t).then((t=>{zr(e,t.setMetadataValue(n,r))}))},Er.getPageInfoByIndex=function(e,{id:t,index:n}){return qr(t,n).then((e=>e.preparsed?e.preparseJsonPromise:e.toJson())).then((t=>{zr(e,t)})).catch((e=>{0}))},Er.getDocPermission=function(e,t){return Zr(t).then((e=>e.getPermission())).then((t=>{zr(e,t)}))},Er.getPageWidth=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getWidth())).then((t=>{zr(e,t)}))},Er.getPageHeight=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getHeight())).then((t=>{zr(e,t)}))},Er.getPageImageData=function(e,{docId:t,pageId:n,scale:r}){return Xr(t,n).then((e=>e.getImageData(r))).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)}))},Er.destroyDoc=function(e,{id:t}){Mr.get(t).forEach((function(e){var t;t=e,self.postMessage({destroyId:t})})),kr[t]&&delete Nr[kr[t]],Zr(t).then((n=>Dr.then((function(e){e.destroyDoc(t)})).then((()=>{Rr.clearObjectFromCache(t),n&&n.destroy();let r=Fr[t];r&&(r(),delete Fr[t]),zr(e)})))).catch((t=>{Hr(e,null,[],t)}))},Er.getImageDataByTile=Qr,Er.getImageDataWithoutAnnotByTile=function(e,{docId:t,pageId:n,x:r,y:i,width:o,height:a,scale:s,rotate:c}){return Dr.then((l=>{Qr(e,{docId:t,pageId:n,x:r,y:i,width:o,height:a,scale:s,rotate:c},[l.engine.ContentFlag.e_RenderPage.value])}))},Er.getAnnot=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e?e.getAnnotById(r):null)).then((e=>e?e.toJson():{})).then((function(t){zr(e,t)}))},Er.getPageAnnotIDList=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getAnnotIDList())).then((t=>{zr(e,t)}))},Er.getAnnots=function(t,{docId:n,pageId:r,idList:i,reload:o}){let a;return Xr(n,r).then((e=>e?(a=e,e.getAnnots(i,void 0,o)):[])).then((async e=>{let t={};e.map(((e,n)=>{let r=e.annot;if(0===r.GetType().value)return!1;let i=r.GetDict(),o=i.GetObjNum(),a=t[o]=t[o]||{},s=o;a.index=n,a.id=s,a.objectNumber=s;let c=e.engine,l=(0,G.n5)(c,"IRT");if(i.HasKey(l)){let e=i.GetElement(l).GetDict().GetObjNum(),o=(0,G.n5)(c,"RT"),u=(0,G.n5)(c,"State"),d=(0,G.n5)(c,"StateModel"),h=t[e]=t[e]||{};if(i.HasKey(u)&&i.HasKey(d)){let e=i.GetElement(d).GetString().toString(),t=r.GetModifiedDateTime(),o=0;switch(t.IsValid()&&(t=t.ToUTCTime(),o=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.milliseconds)),e){case"Marked":(h.markedStates=h.markedStates||[]).push({index:n,id:s,time:o,objectNumber:s});break;case"Review":(h.reviewStates=h.reviewStates||[]).push({index:n,id:s,time:o,objectNumber:s})}}else if(i.HasKey(o)){if("Group"===i.GetElement(o).GetString().toString()){h.isGroupHeader=!0,h.isGroup=!0,(h.groupElements=h.groupElements||[]).push({index:n,id:s,objectNumber:s}),a.isGroup=!0,a.groupHeader=h}else{h.hasReplies=!0,(h.replies=h.replies||[]).push({index:n,id:s,content:r.GetContent().toString(),objectNumber:s})}}else{h.hasReplies=!0,(h.replies=h.replies||[]).push({index:n,id:s,content:r.GetContent().toString(),objectNumber:s})}}}));let n=[];for(const r of e){const e=r.engine,i=r.annot;if(!i)continue;const o=i.GetType().value;0!==o&&(n.push(r.toJson(t)),o===e.AnnotType.e_FileAttachment.value&&await new Promise((e=>setTimeout(e))))}return n})).then((n=>{a&&!a.isVirtual&&n.push.apply(n,pr(e.Z,a.getFakeAnnots())),zr(t,n)}))},Er.setRenderFlag=function(e,{docId:t,flags:n}){return Zr(t).then((e=>{e.setRenderFlag(n)}))};let $r={};function ei(e,{progressiveId:t}){let n=$r[t];n?(n.bitmap.delete(),n.renderer.delete(),n.progressive.delete(),delete $r[t],e&&zr(e)):zr(e)}function ti(e){return e instanceof Blob?e.size:e.byteLength}function ni(e){return e instanceof Blob?(e=new Blob([e]),function(t,n){return(new FileReaderSync).readAsArrayBuffer(e.slice(t,t+n))}):e.slice?function(t,n){return e.slice(t,t+n)}:function(t,n){return new Uint8Array(e,t,n).buffer}}Er.getPageBitmap=function(e,{docId:t,pageId:n,scale:r,rotate:i,rect:o,flags:a,usage:s,id:c,isSharedPage:l,annotData:u}){return Xr(t,n).then((e=>e?e.getBitmap(r,i,o,a,s,""==c,l,u):null)).then((t=>{if(!t)return void zr(e,null);const n=t.image;if(t.isVirtual)return void zr(e,n,[n.buffer]);let r=[];n.buffer&&(r=[n.buffer]),n.progressiveId=c,zr(e,n,r),delete t.image,100==n.rate?(t.bitmap.delete(),t.renderer.delete(),t.progressive.delete()):$r[c]=t}))},Er.progressContinue=function(e,{progressiveId:t}){let n=$r[t];if(!n)return void zr(e,{isEmpty:1,progressiveId:t});let r=n.progressive,i=r.GetRateOfProgress();100==i&&zr(e,{rate:100}),tr.Z.startTick(100);let o=r.Continue(),{page:a,renderer:s,usage:c,matrix:l,renderFlags:u}=n;i=2==o.value?100:r.GetRateOfProgress(),100==i&&a.renderAnnots(s,c,l,u);let d=n.getBitmapBuffer(n.engine,n.bitmap,n.renderer,!1);d.rate=i,d.progressiveId=t,d.x=n.x,d.y=n.y;let h=[];d.buffer&&(h=[d.buffer]),zr(e,d,h),100==d.rate&&ei(null,{progressiveId:t})},Er.cancleProgress=ei,Er.getPageAndHighlightBitmap=function(e,{docId:t,pageId:n,scale:r,rotate:i,rect:o,exclude:a}){return Xr(t,n).then((e=>e.getPageAndHighlightBitmap(r,i,o,a))).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)}))},Er.getAnnotBitmap=function(e,{docId:t,pageId:n,annotId:r,scale:i,rotate:o,rect:a,renderAppearanceType:s}){return Xr(t,n).then((e=>e.getAnnotBitmap(r,i,o,a,s))).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)}))},Er.getAnnotBitmapByRange=function(e,{docId:t,pageId:n,range:r,scale:i,rotate:o,rect:a}){return Xr(t,n).then((e=>e.getAnnotBitmapByRange(r,i,o,a))).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)}))},Er.getAnnotIdAtPoint=function(e,{docId:t,pageId:n,points:r,tolerance:i}){return Xr(t,n).then((e=>e.getAnnotIdAtPoint(r.x,r.y,i))).then((t=>{zr(e,t)}))},Er.getAnnotIdAtDevicePoint=function(e,{docId:t,pageId:n,points:r,tolerance:i,matrix:o}){return Xr(t,n).then((e=>e.getAnnotIdAtDevicePoint(r.x,r.y,i,o))).then((t=>{zr(e,t)}))},Er.getAnnotObjectNumAtPoint=function(e,{docId:t,pageId:n,points:r,tolerance:i}){return Xr(t,n).then((e=>e.getAnnotObjectNumAtPoint(r.x,r.y,i))).then((t=>{zr(e,t)}))},Er.getAnnotObjectNumAtDevicePoint=function(e,{docId:t,pageId:n,points:r,tolerance:i,matrix:o}){return Xr(t,n).then((e=>e.getAnnotObjectNumAtDevicePoint(r.x,r.y,i,o))).then((t=>{zr(e,t)}))},Er.getAnnotObjNumByNM=function(e,{docId:t,pageId:n,nm:r}){return Xr(t,n).then((e=>e.getAnnotObjNumByNM(r))).then((t=>{zr(e,t)}))},Er.getCharInfoAtPoint=function(e,{docId:t,pageId:n,points:r,tolerance:i}){return Xr(t,n).then((e=>e.getCharInfoAtPoint(r.x,r.y,i))).then((t=>{zr(e,t)}))},Er.getThumb=function(e,{docId:t,pageId:n,rotate:r,ratio:i}){return Xr(t,n).then((t=>t?t.getThumb(r,i).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)})):Hr(e,new Error("Page not exists: "+n))))},Er.getMediaBoxBitmap=function(e,{docId:t,pageId:n,width:r,height:i}){return Xr(t,n).then((t=>t?t.getMediaBoxBitmap(r,i).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)})):Hr(e,new Error("Page not exists: "+n))))},Er.updateAnnotQuadPointsByCharIndex=function(e,{docId:t,pageId:n,annotId:r,startCharIndex:i,endCharIndex:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.updateQuadPointsByCharIndex(i,o))).then((t=>{zr(e,t)}))},Er.setAnnotContent=function(e,{docId:t,pageId:n,annotId:r,content:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setContent(i))).then((t=>{zr(e,t)}))},Er.setAnnotBorderColor=function(e,{docId:t,pageId:n,annotId:r,color:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setBorderColor(i))).then((()=>{zr(e,!0)}))},Er.setAnnotOpacity=function(e,{docId:t,pageId:n,annotId:r,opacity:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setOpacity(i))).then((t=>{zr(e,t)}))},Er.setAnnotRotation=function(e,{docId:t,pageId:n,annotId:r,rotation:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRotation(i))).then((t=>{zr(e,t)}))},Er.removeAnnot=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>{if(e.hasAnnot(r))return e.getAnnotById(r)})).then((e=>{if(!e)return[r];return e.remove()})).then((t=>{zr(e,t||[])}))},Er.annotAddReply=function(e,{docId:t,pageId:n,annotId:r,content:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.addReply(i))).then((e=>e.pdfPage.update().then((()=>e)))).then((t=>{zr(e,t.toJson()),t.destroy()}))},Er.setAnnotRect=function(e,{docId:t,pageId:n,annotId:r,rect:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRect(i))).then((t=>{zr(e,t)}))},Er.setAnnotRectAndInnerRect=function(e,{docId:t,pageId:n,annotId:r,rect:i,innerRect:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setAnnotRectAndInnerRect(i,o))).then((t=>{zr(e,t)}))},Er.getAnnotInnerRect=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{t.getInnerRect?zr(e,t.getInnerRect()):zr(e,!1)}))},Er.moveAnnotTo=function(e,{docId:t,pageId:n,annotId:r,position:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.moveTo(i.left,i.top))).then((t=>zr(e,t)))},Er.setAnnotInnerRect=function(e,{docId:t,pageId:n,annotId:r,rect:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setInnerRect(i))).then((t=>zr(e,t)))},Er.setAnnotAPBitmap=function(e,{docId:t,pageId:n,annotId:r,url:i,size:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setAnnotAPBitmap(i,o))).then((t=>zr(e,t)))},Er.getBitmapBuffer=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.getBitmapBuffer())).then((t=>{let n=[];t.buffer&&(n=[t.buffer]),zr(e,t,n)}))},Er.getPDFDocStream=function(e,{docId:t,writeStream:n,flag:r,endAllOperations:i}){let o;return Zr(t).then((e=>(o=e,e.getStream({writeStream:function(e,t,r){Kr(n,{arrayBuffer:e,offset:t,size:r},[e])},endAllOperations:i},r)))).then((t=>{Mr.push(o.id,n),zr(e,t)}))},Er.setAnnotBorderStyle=function(e,{docId:t,pageId:n,annotId:r,style:i,styleParam:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setBorderStyle(i,o))).then((t=>{zr(e,t)}))},Er.setAnnotBorderWidth=function(e,{docId:t,pageId:n,annotId:r,width:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setBorderWidth(i))).then((t=>{zr(e,t)}))},Er.setAnnotFillColor=function(e,{docId:t,pageId:n,annotId:r,color:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>!!e.setFillColor(i).length)).then((t=>{zr(e,t)}))},Er.setRedactAnnotFillColor=function(e,{docId:t,pageId:n,annotId:r,color:i,onlyForFill:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>(e.setRedactFillColor(i,o),!0))).then((t=>{zr(e,t)}))},Er.setAnnotBorderInfo=function(e,{docId:t,pageId:n,annotId:r,borderInfo:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>(e.setBorderInfo(i),!0))).then((t=>{zr(e,t)}))},Er.setRedactOverlayText=function(e,{docId:t,pageId:n,annotId:r,overlayText:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactOverlayText(i))).then((t=>{zr(e,t)}))},Er.setRedactApplyFillColor=function(e,{docId:t,pageId:n,annotId:r,color:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactApplyFillColor(i))).then((t=>{zr(e,t)}))},Er.removeRedactOverlayText=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.removeRedactOverlayText())).then((t=>{zr(e,t)}))},Er.setRedactOverlayTextAlignment=function(e,{docId:t,pageId:n,annotId:r,alignment:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactOverlayTextAlignment(i))).then((t=>{zr(e,t)}))},Er.setRedactRepeat=function(e,{docId:t,pageId:n,annotId:r,isRepeat:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactRepeat(i))).then((t=>{zr(e,t)}))},Er.setRedactAutoFontSize=function(e,{docId:t,pageId:n,annotId:r,isAutoFontSize:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactAutoFontSize(i))).then((t=>{zr(e,t)}))},Er.getRedactDefaultAppearance=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{zr(e,t.getRedactDefaultAppearance())}))},Er.setRedactDefaultAppearance=function(e,{docId:t,pageId:n,annotId:r,appearance:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactDefaultAppearance(i))).then((t=>{zr(e,t)}))},Er.setRedactOpacity=function(e,{docId:t,pageId:n,annotId:r,opacity:i,only4Fill:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactOpacity(i,o))).then((t=>{zr(e,t)}))},Er.setAnnotIconName=function(e,{docId:t,pageId:n,annotId:r,iconName:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setIconName(i))).then((t=>{zr(e,t)}))},Er.getFileattachmentStream=function(e,{docId:t,pageId:n,annotId:r,writeStream:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.getStream({writeStream:function(e,t,n){Kr(i,{arrayBuffer:e,offset:t,size:n},[e])}}))).then((t=>{Mr.push(r,i),zr(e,t)}))},Er.setAnnotEndingStyle=function(e,{docId:t,pageId:n,annotId:r,isBeginning:i,style:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{o=parseInt(o),i?e.setLineStartStyle(o):e.setLineEndStyle(o)})).then((()=>{zr(e)}))},Er.setLineStartPoint=function(e,{docId:t,pageId:n,annotId:r,x:i,y:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setStartPoint(i,o)})).then((()=>{zr(e)}))},Er.setLineEndPoint=function(e,{docId:t,pageId:n,annotId:r,x:i,y:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setEndPoint(i,o)})).then((()=>{zr(e)}))},Er.setAnnotLeaderLineLength=function(e,{docId:t,pageId:n,annotId:r,length:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setLeaderLineLength(i)})).then((()=>{zr(e)}))},Er.setAnnotLeaderLineExtend=function(e,{docId:t,pageId:n,annotId:r,length:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setLeaderLineExtensionLength(i)})).then((()=>{zr(e)}))},Er.setAnnotLeaderLineOffset=function(e,{docId:t,pageId:n,annotId:r,offset:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setLeaderLineOffset(i)})).then((()=>{zr(e)}))},Er.setAnnotCaptionOffset=function(e,{docId:t,pageId:n,annotId:r,x:i,y:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setCaptionOffset(i,o)})).then((()=>{zr(e)}))},Er.updateAnnotVertexes=function(e,{docId:t,pageId:n,annotId:r,pointIndex:i,x:o,y:a}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.updateVertexes(i,o,a)})).then((()=>{zr(e)}))},Er.setAnnotVertexes=function(e,{docId:t,pageId:n,annotId:r,vertexes:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setVertexes(i)})).then((()=>{zr(e)}))},Er.setHighlightingMode=function(e,{docId:t,pageId:n,annotId:r,highlightingMode:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setHighlightingMode(i))).then((t=>{zr(e,t)}))};var ri=65536;let ii=function(e,t,n){this.bufStart=e,this.bufSize=t,this.buffer=n},oi=function(){function e(e){this.blob=e,this.bufferMap={}}var t=e.prototype;return t.loadFSToMem=function(e,t){let n=Math.floor(e/ri);var r=new FileReaderSync;const i=Math.min(t,this.blob.size-e);let o=r.readAsArrayBuffer(this.blob.slice(e,e+i)),a=this.bufferMap[n]=new ii(e,i,o),s=n;for(;s<=n+Math.ceil((t-1)/ri)-1;)this.bufferMap[s]=a,s++},t.read=function(e,t){const{bufferMap:n}=this;let r=Math.floor(e/ri),i=new Uint8Array(t);for(let o=r,a=0;a<t;o++){if(!n[o]){let n=Math.max(ri,((t-a-1)/ri|1)*ri);o*ri+n<e+t&&(n+=ri),this.loadFSToMem(o*ri,n)}const{bufSize:r,bufStart:s,buffer:c}=n[o],l=Math.min(t-a,r-(e+a-s));i.set(new Uint8Array(c,e+a-s,l),a),a+=l}return i},e}();function ai(e){let t,n;var r=[];if(e instanceof Blob){e=new Blob([e]),t=e.size;Math.ceil(t/ri);let r=new oi(e);n=function(e,t){return r.read(e,t)}}else t=e.byteLength,n=e.slice?function(t,n){return e.slice(t,t+n)}:function(t,n){return new Uint8Array(e,t,n).buffer};return{size:t,read:n,destroy:function(){e=null,t=0,n=null;for(var i=r.length;i--;)delete r[i];r=null}}}function si(e){let t=[],n=e.GetMatchRects();for(let e=0,r=n.GetSize();e<r;e++){let r=n.GetAt(e);t[e]={left:r.left,right:r.right,top:r.top,bottom:r.bottom}}return{pageIndex:e.GetMatchPageIndex(),startCharIndex:e.GetMatchStartCharIndex(),endCharIndex:e.GetMatchEndCharIndex(),sentenceStartIndex:e.GetMatchSentenceStartIndex(),sentence:e.GetMatchSentence().toString(),rectArray:t}}Er.importFromFDF=function(e,{docId:t,fdf:n,dataType:r}){return Dr.then((e=>{let r=ti(n),i=ni(n),o=function(e,t){return i(e,t)};return e.getFDFDoc({size:r,getBuffer:o}).then((n=>n.IsEmpty()&&hr?Promise.all([e.getFDFDoc({size:r,getBuffer:o}),Zr(t)]):Promise.all([n,Zr(t)])))})).then((([e,t])=>[t.importFromFDF(e,r),t])).then((([e,t])=>Promise.all(t.getAllLoadedPages().map((e=>e.update()))))).then((()=>{zr(e)}))},Er.importFromFDFFile=function(e,{docId:t,file:n,size:r,type:i}){return Dr.then((e=>{let t;return n instanceof Uint8Array?t=e.getFDFDoc({size:n.byteLength,getBuffer:function(e,t){return n.slice?n.slice(e,e+t):new Uint8Array(n,e,t).buffer}}):"string"==typeof n&&(t=e.getFDFFromURL(n,r)),t})).then((e=>Promise.all([e,Zr(t)]))).then((([e,t])=>{const n=t.importFromFDF(e,i);return Promise.all(t.getAllLoadedPages().map((e=>e.update()))).then((()=>n))})).then((t=>{zr(e,t)}))},Er.setCalloutLineEndingStyle=function(e,{docId:t,pageId:n,annotId:r,endingStyle:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setCalloutLineEndingStyle(i)})).then((()=>{zr(e)}))},Er.setDefaultAppearance=function(e,{docId:t,pageId:n,annotId:r,da:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{t.setDefaultAppearance(i);zr(e)}))},Er.setAction=function(e,{docId:t,pageId:n,annotId:r,type:i,trigger:o,append:a}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setAction(o,i,a))).then((t=>{zr(e,t.toJson())}))},Er.removeAnnotAction=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.removeAction())).then((t=>{zr(e,t)}))},Er.getAction=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.getAction())).then((t=>{let n;n=t?t.toJson():null,zr(e,n)}))},Er.getArticleList=function(e,{docId:t}){return Zr(t).then((e=>{if(!e.engine.Articles)return[];return e.getArticle().toJson()})).then((t=>{zr(e,t)}))},Er.getStructureRoles=function(e,{docId:t}){return Zr(t).then((e=>e.getStructureRoles(e))).then((t=>{zr(e,t)}))},Er.addBookmarksFromStructureRoles=(e,{docId:t,structureRoles:n,rootTitle:r})=>Zr(t).then((e=>e.addBookmarksFromStructureRoles(n,r))).then((t=>{zr(e,t)})),Er.addAnnotReviewState=function(e,{docId:t,pageId:n,annotId:r,stateName:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.addReviewState(i))).then((e=>e.pdfPage.update().then((()=>e)))).then((t=>{zr(e,t.toJson())}))},Er.addAnnotMarkedState=function(e,{docId:t,pageId:n,annotId:r,stateName:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.addMarkedState(i))).then((e=>e.pdfPage.update().then((()=>e)))).then((t=>{zr(e,t.toJson())}))},Er.removeAllStateAnnots=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{const t=e.removeAllStateAnnots();return!!t&&e.pdfPage.update().then((e=>t))})).then((t=>zr(e,t)))},Er.setStateName=function(e,{docId:t,pageId:n,stateAnnotId:r,stateName:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{t.setStateName(i),zr(e,!0)}))},Er.setNoteOpenStatus=function(e,{docId:t,pageId:n,annotId:r,isOpen:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{const n=t.setOpenStatus(i);zr(e,n)}))},Er.setActionDataByIndex=function(e,{docId:t,pageId:n,annotId:r,data:i,actionIndex:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{const t=e.action.setActionDataByIndex(i,o);return e.updateModifyTime(),t})).then((t=>{zr(e,t.toJson())}))},Er.setCalloutLinePoints=function(e,{docId:t,pageId:n,annotId:r,calloutLinePoints:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setCalloutLinePoints(i))).then((()=>{zr(e)}))},Er.updateCalloutFigure=function(e,{docId:t,pageId:n,annotId:r,outerRect:i,innerRect:o,calloutLinePoints:a}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.updateCalloutFigure(i,o,a))).then((()=>{zr(e)}))},Er.updateRectFigure=function(e,{docId:t,pageId:n,annotId:r,outerRect:i,innerRect:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>!!e.updateRectFigure&&e.updateRectFigure(i,o))).then((t=>{zr(e,t)}))},Er.setSubject=function(e,{docId:t,pageId:n,annotId:r,subject:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setSubject(i))).then((t=>{zr(e,t)}))},Er.setTitle=function(e,{docId:t,pageId:n,annotId:r,title:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setTitle(i))).then((t=>{zr(e,t)}))},Er.setCreateDateTime=function(e,{docId:t,pageId:n,annotId:r,date:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setCreateDateTime(i))).then((t=>{zr(e,t)}))},Er.setModifiedDateTime=function(e,{docId:t,pageId:n,annotId:r,date:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setModifiedDateTime(i))).then((t=>{zr(e,t)}))},Er.setUniqueId=function(e,{docId:t,pageId:n,annotId:r,newId:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setUniqueId(i,!0))).then((t=>{zr(e,t)}))},Er.setDefaultAp=function(e,{docId:t,pageId:n,annotId:r,defaultAppearance:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setDefaultAp(i))).then((t=>{zr(e,t)}))},Er.setAlignment=function(e,{docId:t,pageId:n,annotId:r,value:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>(e.setAlignment(i),!0))).then((t=>{zr(e,t)}))},Er.exportToStardardXml=function(e,{docId:t,fileName:n,callbackId:r}){return Zr(t).then((e=>($n(e.engine,4),e.exportToStardardXml(n,(e=>{Kr(r,e)}))))).then((t=>{zr(e,t)}))},Er.exportToFDF=function(e,{docId:t,fileType:n,dataType:r,pageAnnots:i}){return Zr(t).then((e=>e.exportToFDF(n,r,i))).then((t=>{zr(e,t)}))},Er.exportToImage=function(e,{docId:t,imageSetting:n,fileName:r,pageRange:i,callbackId:o}){return Zr(t).then((e=>($n(e.engine,4),e.exportToImage(n,r,i,(e=>{Kr(o,e)}))))).then((t=>{zr(e,t)}))},Er.exportToTxt=function(e,{docId:t,taskName:n,pageRange:r,callbackId:i}){return Zr(t).then((e=>($n(e.engine,4),e.exportToTxt(n,r,(e=>{Kr(i,e)}))))).then((t=>{zr(e,t)}))},Er.exportImageObjectToImage=function(e,{docId:t,graphicsObject:n,imageSetting:r,fileName:i,callbackId:o}){return Zr(t).then((e=>($n(e.engine,4),e.exportImageObjectToImage(n,r,i,(e=>{Kr(o,e)}))))).then((t=>{zr(e,t)}))},Er.cancelExport=function(e,{docId:t}){return Zr(t).then((e=>e.cancelExport())).then((t=>{zr(e,t)}))},Er.setAnnotFlag=function(e,{docId:t,pageId:n,annotId:r,flag:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setAnnotFlag(i))).then((t=>{zr(e,!0)}))},Er.addAnnot=function(e,{docId:t,pageId:n,annot:r}){return Xr(t,n).then((e=>e.addAnnot(r))).then((e=>{let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];r?t[n]=r.toJson():t[n]=null}return t})).then((t=>{zr(e,t)}))},Er.setImage=function(e,{docId:t,pageId:n,annotId:r,buffer:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setImage(i))).then((t=>{zr(e,!0)}))},Er.getAllModuleLicenseRight=function(e){return Dr.then((e=>{const t=e.engine,n=t.ModuleName;Object.keys(n).filter((e=>0===e.indexOf("e_ModuleName")));let r={};return Object.entries(C.f5).forEach((e=>{let n=e[0].toLowerCase(),i=t.Library.HasModuleLicenseRight({value:e[1]});r[n]=i})),r})).then((t=>{zr(e,t)}))},Er.ensureSideModeLoaded=function(e,{moduleType:t}){return Dr.then((n=>n.ensureSideModeLoaded(t).then((t=>zr(e,!0)))))},Er.setDictionaryEntry=function(e,{docId:t,pageId:n,annotId:r,key:i,value:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setDictionaryEntry(i,o))).then((t=>{zr(e,t)}))},Er.getDictionaryEntry=function(e,{docId:t,pageId:n,annotId:r,key:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.getDictionaryEntry(i))).then((t=>{zr(e,t)}))},Er.resetAppearanceStream=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{t.resetAppearanceStream(),zr(e)}))},Er.isLinearized=function(e,{docId:t}){return Zr(t).then((e=>e.isLinearized())).then((t=>{zr(e,t)}))},Er.getLayerNodes=function(e,{docId:t}){return Zr(t).then((e=>e.getLayerNodes())).then((t=>{zr(e,t)}))},Er.setLayerNodeVisiable=function(e,{docId:t,layerId:n,visiable:r}){return Zr(t).then((e=>!!e.pdfLayer&&e.pdfLayer.setLayerNodeVisiable(n,r))).then((t=>{zr(e,t)}))},Er.addAnnotGroup=function(e,{docId:t,pageId:n,annots:r,headerIndex:i}){return Xr(t,n).then((e=>e.addAnnotGroup(r,i))).then((e=>{let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];r?t[n]=r.toJson():t[n]=null}return t})).then((t=>{zr(e,t)}))},Er.getBlankPageIndexes=function(e,{docId:t}){return Zr(t).then((e=>e.getBlankPageIndexes())).then((t=>{zr(e,t)}))},Er.getBookmarks=function(e,{docId:t}){return Zr(t).then((e=>e.getBookmarks())).then((t=>{zr(e,t)}))},Er.getCurFileSymbolId=function(e,{docId:t}){return Zr(t).then((e=>e.getCurFileSymbolId())).then((t=>{zr(e,t)}))},Er.getFadeOutBackground=function(e,{docId:t,imgBuffer:n}){return Zr(t).then((e=>e.getFadeOutBackground(n))).then((t=>{zr(e,t)}))},Er.getConvertToMono=function(e,{docId:t,imgBuffer:n}){return Zr(t).then((e=>e.getConvertToMono(n))).then((t=>{zr(e,t)}))},Er.createRootBookmark=function(e,{docId:t}){return Zr(t).then((e=>e.createRootBookmark())).then((t=>{zr(e,t)}))},Er.insertBookmark=function(e,{docId:t,pbkId:n,title:r,pageIndex:i,top:o,left:a,relationship:s,scale:c}){return Zr(t).then((e=>e.insertBookmark(n,r,i,o,a,s,c))).then((t=>{zr(e,t)}))},Er.setBookmarkProperty=function(e,{docId:t,bkId:n,properties:r}){return Zr(t).then((e=>e.setBookmarkProperty(n,r))).then((t=>{zr(e,t)}))},Er.removeBookmark=function(e,{docId:t,bkId:n}){return Zr(t).then((e=>e.removeBookmark(n))).then((t=>{zr(e,t)}))},Er.getBookmarkDestination=function(e,{docId:t,bkId:n}){return Zr(t).then((e=>{const t=e.rootBookmark.getBookmarkById(n);if(t)return t.getDestination()})).then((t=>{zr(e,t)}))},Er.setBookmarkDestination=function(e,{docId:t,bkId:n,gotoAction:r}){return Zr(t).then((e=>{const t=e.rootBookmark.getBookmarkById(n);if(t)return t.setDestination(r)})).then((t=>{zr(e,t)}))},Er.getBookmarkAction=function(e,{docId:t,bkId:n}){return Zr(t).then((e=>{const t=e.rootBookmark.getBookmarkById(n);if(t)return t.getAction()})).then((t=>{zr(e,t)}))},Er.setBookmarkAction=function(e,{docId:t,bkId:n,action:r}){return Zr(t).then((e=>{const t=e.rootBookmark.getBookmarkById(n);if(t)return t.setAction(r)})).then((t=>{zr(e,t)}))},Er.moveBookmarkAction=function(e,{docId:t,bkId:n,moveInfo:r}){return Zr(t).then((e=>{const t=e.rootBookmark.getBookmarkById(n);if(t)return t.moveAction(r)})).then((t=>{zr(e,t)}))},Er.removeBookmarkAction=function(e,{docId:t,bkId:n,action:r}){return Zr(t).then((e=>{const t=e.rootBookmark.getBookmarkById(n);if(t)return t.removeAction(r)})).then((t=>{zr(e,t)}))},Er.getTextRectsAtRect=function(e,{docId:t,pageId:n,rect:r}){return Xr(t,n).then((e=>e.getTextRectsAtRect(r))).then((t=>{zr(e,t)}))},Er.getTextContinuousRectsAtRect=function(e,{docId:t,pageId:n,rect:r}){return Xr(t,n).then((e=>e.getTextContinuousRectsAtRect(r))).then((t=>{zr(e,t)}))},Er.getTextContinuousRectsAtPoints=function(e,{docId:t,pageId:n,point1:r,point2:i,tolerance:o,start:a,end:s,isTextIndex:c}){return Xr(t,n).then((e=>e.getTextContinuousRectsAtPoints(r,i,o,a,s,c))).then((t=>{zr(e,t)}))},Er.getTextContinuousCharsAtRect=function(e,{docId:t,pageId:n,rect:r,allInRect:i}){return Xr(t,n).then((e=>e.getTextContinuousCharsAtRect(r,i))).then((t=>{zr(e,t)}))},Er.getDoubleClickTextRectAtPoint=function(e,{docId:t,pageId:n,doubleClickPoint:r,tolerance:i}){return Xr(t,n).then((e=>e.getDoubleClickTextRectAtPoint(r,i))).then((t=>{zr(e,t)}))},Er.getTextSearch=function(e,{docId:n,pageId:r,pattern:i,flags:o}){return Xr(n,r).then((e=>e.getTextSearch(i,o))).then((({textSearch:n,textPage:r,strPattern:i})=>{let o=(0,t.Ki)("page_text_search");Ir[o]={textSearch:n,textPage:r,strPattern:i},zr(e,o)}))},Er.getAnnotTextSearch=function(e,{docId:n,pageId:r,annotId:i,pattern:o,flags:a}){return Xr(n,r).then((e=>e.getAnnotTextSearch(i,o,a))).then((({textSearch:n,strPattern:r})=>{let i=(0,t.Ki)("annot_text_search");Ir[i]={textSearch:n,strPattern:r},zr(e,i)}))},Er.textSearchFindNext=function(e,{id:t}){let n=Ir[t];return n?(n=n.textSearch,n.FindNext()?void zr(e,si(n)):zr(e,null)):Hr(e,null,[],"No text search found!!")},Er.textSearchFindPrev=function(e,{id:t}){let n=Ir[t];return n?(n=n.textSearch,n.FindPrev()?void zr(e,si(n)):zr(e,null)):Hr(e,null,[],"No text search found!!")},Er.textSearchDestroy=function(e,{id:t}){try{let e=Ir[t];e.strPattern.delete(),e.textSearch.delete(),e.textPage.delete(),delete Ir[t]}catch(e){}finally{zr(e)}},Er.registerSecurityCallback=function(e,{type:t,options:n}){return Dr.then((e=>e.registerSecurityCallback(t,n))).then((t=>{zr(e,t)}))},Er.registerCustomWebPluginSecurityCallback=function(e,{fileName:t,filter:n,pluginSecurityObj:r}){return Dr.then((e=>e.registerCustomWebPluginSecurityCallback(t,n,r))).then((t=>{zr(e,t)}))},Er.unRegisterSecurityHandler=function(e,{pluginId:t,filter:n}){return Dr.then((e=>e.unRegisterSecurityHandler(t,n))).then((t=>{zr(e,t)}))},Er.customProtectDoc=function(e,{docId:t,filter:n}){return Zr(t).then((e=>e.customProtectDoc(n))).then((t=>{zr(e,t)}))},Er.setDocOpenAction=function(e,{docId:t,type:n,params:r}){return Zr(t).then((e=>e.setOpenAction(n,r))).then((t=>{zr(e,t)}))},Er.setDocActionData=function(e,{docId:t,data:n,index:r}){return Zr(t).then((e=>e.action.setActionDataByIndex(n,r))).then((t=>{zr(e,t.toJson())}))},Er.moveCaretRectByCharIndex=function(e,{docId:t,pageId:n,annotId:r,charIndex:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.moveRectByCharIndex(i))).then((t=>{zr(e,!0)}))},Er.setAnnotIntent=function(e,{docId:t,pageId:n,annotId:r,intent:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setIntent(i))).then((t=>{zr(e,t)}))},Er.setInkList=function(e,{docId:t,pageId:n,annotId:r,inkList:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setInkList(i))).then((t=>{zr(e,t)}))},Er.setUserName=function(e,{name:t}){return Dr.then((e=>e.setUserName(t))).then((()=>{zr(e)}))},Er.getUserName=function(e){return Dr.then((e=>e.getUserName())).then((t=>zr(e,t)))},Er.flatten=function(e,{docId:t,pageId:n,option:r}){return Xr(t,n).then((e=>e.flatten(r))).then((t=>{t?zr(e,t):Hr(e)}))},Er.setDynamicInfoFormula=function(e,{seperator:t,timeFormat:n}){Ze().setDynamicInfoFormula(t,n),zr(e)},Er.getDynamicInfoFormula=function(e){zr(e,Ze().getDynamicInfoFormula())},Er.setDigitalTimeFormat=function(e,{timeFormat:t}){Ze().setDigitalTimeFormat(t),zr(e)},Er.setDigitalInfo=function(e,{identityInfo:t}){Ze().setDigitalInfo(t),zr(e)},Er.updatePageInfo=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.toJson())).then((t=>{zr(e,t)}))},Er.setPageRotation=function(e,{docId:t,pageId:n,rotation:r}){return Xr(t,n).then((e=>e.setRotation(r))).then((t=>{zr(e,t)}))},Er.getSecurityType=function(e,{docId:t}){return Zr(t).then((e=>e.getSecurityType())).then((t=>{zr(e,t)}))},Er.setCertificateAndPermission=function(e,{docId:t,infos:n,cipher:r,isEncryptMetadata:i}){return Zr(t).then((e=>e.setCertificateAndPermission(n,r,i))).then((t=>{zr(e,t)}))},Er.setPasswordAndPermission=function(e,{docId:t,userPassword:n,ownerPassword:r,permission:i,cipher:o,isEncryptMetadata:a}){return Zr(t).then((e=>e.setPasswordAndPermission(n,r,i,o,a))).then((t=>{zr(e,t)}))},Er.removeSecurity=function(e,{docId:t}){return Zr(t).then((e=>e.removeSecurity())).then((t=>{zr(e,t)}))},Er.checkPassword=function(e,{docId:t,password:n}){return Zr(t).then((e=>e.checkPassword(n))).then((t=>{zr(e,t)}))},Er.getPermission=function(e,{docId:t}){return Zr(t).then((e=>e.getPermission())).then((t=>{zr(e,t)}))},Er.getStdCipherOptions=function(e,{docId:t}){return Zr(t).then((e=>e.getStdCipherOptions())).then((t=>{zr(e,t)}))},Er.addWatermark=function(e,{docId:t,pageId:n,data:r}){return Xr(t,n).then((e=>e.addWatermark(r))).then((t=>{zr(e,t)}))},Er.getUserPassword=function(e,{docId:t,password:n}){return Zr(t).then((e=>e.getUserPassword(n))).then((t=>{zr(e,t)}))},Er.getPasswordType=function(e,{docId:t}){return Zr(t).then((e=>e.getPasswordType())).then((t=>{zr(e,t)}))},Er.setPasswordType=function(e,{docId:t,type:n}){return Zr(t).then((e=>e.setPasswordType(n))).then((t=>{zr(e,t)}))},Er.movePageTo=function(e,{docId:t,pageId:n,destIndex:r}){return Zr(t).then((e=>e.movePageTo(n,r))).then((t=>{zr(e,t)}))},Er.insertPage=function(e,{docId:t,pageIndex:n,width:r,height:i}){return Zr(t).then((e=>e.insertPage(n,r,i))).then((t=>{zr(e,t)}))},Er.removePage=function(e,{docId:t,pageIndex:n}){let r;return Zr(t).then((e=>{try{r=e.pageIndexMap[n].id}catch(e){}return e.removePage(n)})).then((n=>{n&&Rr.clearObjectFromCache(t,r),zr(e,n)}))},Er.markRedactAnnot=function(e,{docId:t,pageId:n,rects:r,annot:i}){return Xr(t,n).then((e=>e.markRedactAnnot(r,i))).then((e=>{let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];r?t[n]=r.toJson():t[n]=null}return t})).then((t=>{zr(e,t)}))},Er.applyRedaction=function(e,{docId:t}){return Zr(t).then((e=>e.applyRedaction())).then((t=>{zr(e,t)}))},Er.redactApply=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.apply())).then((t=>{zr(e,t)}))},Er.setActionDestination=function(e,{docId:t,objNum:n,destination:r}){return Zr(t).then((i=>{return"number"==typeof r.pageIndex?qr(t,r.pageIndex).then((t=>{if(!t.isVirtual)return o();zr(e,null)})):o();function o(){return i.getIndirectObject(n).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.setDestination(r),i})))).then((t=>{zr(e,t.toJson())}))}}))},Er.setActionFieldNames=function(e,{docId:t,objNum:n,fieldNames:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.setFieldNames(r),i})))).then((t=>{zr(e,t.toJson())}))},Er.setActionHideState=function(e,{docId:t,objNum:n,isHide:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.setHideState(r),i})))).then((t=>{zr(e,t.toJson())}))},Er.setActionScript=function(e,{docId:t,objNum:n,script:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.setScript(r),i})))).then((t=>{zr(e,t.toJson())}))},Er.setActionOCGState=function(e,{docId:t,objNum:n,layerIds:r}){},Er.setActionURI=function(e,{docId:t,objNum:n,uri:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.setURI(r),i})))).then((t=>{zr(e,t.toJson())}))},Er.setActionFlags=function(e,{docId:t,objNum:n,flags:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.setFlags(r),i})))).then((t=>{zr(e,t.toJson())}))},Er.insertSubAction=function(e,{docId:t,objNum:n,index:r,type:i}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,o=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return o.insertSubAction(r,i),o})))).then((t=>{zr(e,t.toJson())}))},Er.setSubAction=function(e,{docId:t,objNum:n,index:r,type:i}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,o=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return o.setSubAction(r,i),o})))).then((t=>{zr(e,t.toJson())}))},Er.removeAllSubActions=function(e,{docId:t,objNum:n}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,r=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return r.removeAllSubActions(),r})))).then((t=>{zr(e,t.toJson())}))},Er.removeSubAction=function(e,{docId:t,objNum:n,index:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.removeSubAction(r),i})))).then((t=>{zr(e,t.toJson())}))},Er.setActionData=function(e,{docId:t,objNum:n,data:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc,i=t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t);return i.setActionData(r),i})))).then((t=>{zr(e,t.toJson())}))},Er.moveAction=function(e,{docId:t,pageId:n,objNum:r,moveInfo:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{const n=t.moveAction(i);zr(e,n)}))},Er.getActionFileStream=function(e,{docId:t,objNum:n,writeStream:r}){return Zr(t).then((e=>e.getIndirectObject(n))).then((e=>Dr.then((function(t){let n=e.pdfDoc;return t.actionManager.get(t.actionManager.getActionByDict(n,e.getDict()),n,t).getFileSpec().getStream((function(e,t,n){Kr(r,{arrayBuffer:e,offset:t,size:n},[e])}))})))).then((t=>{zr(e,t)}))};const ci=e=>{let t=new Error(`request error: ${e.statusText}`);return t.error=e.status,t};function li(e,t,n,r){let i=new XMLHttpRequest;if(i.open(e.type||"GET",e.url||e.url,!1,e.user,e.password),i.responseType="arraybuffer",e.headers){let t=e.headers;for(let e in t)i.setRequestHeader(e,t[e])}if(i.setRequestHeader("Range","bytes="+t+"-"+Math.min(t+n-1,r-1)),i.send(e.data),!(i.status>=200&&i.status<300||304===i.status))throw new Error("request error: "+i.status);return new Blob([i.response])}function ui(e,t,n){setTimeout((()=>{try{const r=e.next();if(r.done)return void n(r.value);Jr(t,r.value),ui(e,t,n)}catch(e){Jr(t,-1),n(e.status)}}))}function di(e,{docId:t}){Zr(t).then((e=>e.getPDFDictInfo())).then((t=>zr(e,t)))}function hi(e,{docId:t,pageId:n,objects:r}){Xr(t,n).then((e=>e.addAnnotObjects(r))).then((t=>zr(e,t.map((e=>e.toJson())))))}Er.getPDFDocIdByHttpRangeRequest=function(e,{size:n,range:r={}}){let i,o,a;if(n)o=Promise.resolve(n),i=Promise.resolve({});else{let e=(0,t.dD)();o=e.promise;let n=(0,t.dD)();i=n.promise;const s=()=>{let i=new XMLHttpRequest;if(i.open(r.type||"GET",r.url||r.url,!0,r.user,r.password),i.responseType="arraybuffer",r.headers){let e=r.headers;for(let t in e)i.setRequestHeader(t,e[t])}void 0===r.firstRequestStatus&&i.setRequestHeader("Range","bytes=0-1"),i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300||304===i.status){try{let e;r.extendOptions&&(e=i.getResponseHeader(r.extendOptions))?n.resolve(JSON.parse(atob(e))):n.resolve({})}catch(e){n.resolve({})}let o=i.getAllResponseHeaders();if(o){let n=o.trim().split(/[\r\n]+/),r={};n.forEach((function(e){let t=e.split(": "),n=t.shift(),i=t.join(": ");r[n]=i}));let s,c=r["content-range"]||r["Content-Range"];c&&-1!==(s=c.lastIndexOf("/"))?e.resolve(+c.slice(s+1)):i.response instanceof ArrayBuffer?(a=i.response,e.resolve(a.byteLength)):(t.mA.getLogger("[JR-Worker]").error("The response header which names 'Content-Range' cannot be obtained. Please confirm whether the HTTP server response is correct. If it is a cross-domain request, please check whether the value of 'Access-Control-Expose-Headers' contains 'Content-Range'"),e.reject(ci(i)))}else e.reject(ci(i))}else 0===i.status&&void 0===r.firstRequestStatus?(r.firstRequestStatus=i.status,s()):e.reject(ci(i))},i.send(r.data)};s()}return Promise.all([o,Dr,i]).then((([e,t,n])=>{let i=e;if(n.isHttp=!0,a){if(a instanceof ArrayBuffer)return t.getPDFDoc({buffer:a});let e=ai(a);return e.size<20971520?t.getPDFDoc({buffer:e.read(0,e.size)}):t.getPDFDoc({size:i,getBuffer:function(t,n){return e.read(t,n)},initOpenOptions:n,destroyCallback:function(){e.destroy()},docId:r.docId})}return t.getPDFDoc({size:e,getBuffer:function(e,t){return function(e,t,n,r){let i=e.url,o=e.id||i,a=Nr[o]=Nr[o]||{buffers:[]},s=+(e.chunkSize||131072),c=Math.floor(t/s),l=Math.floor((t+n)/s),u=a.buffers;for(let t=c,n=l;t<=n;t++)u[t]||(u[t]=li(e,t*s,s,r));if(c===l){let e=u[c],r=t-c*s;return(new FileReaderSync).readAsArrayBuffer(e.slice(r,r+n))}{let e=u[c],r=t-c*s,i=[e.slice(r)];for(let e=c+1,t=l-1;e<=t;e++)i.push(u[e]);return e=u[l],i.push(e.slice(0,(t+n)%s)),(new FileReaderSync).readAsArrayBuffer(new Blob(i))}}(r,e,t,i)},initOpenOptions:n,docId:r.docId})})).then((e=>(a?e.setOriginalStream(a):e.setOriginalStream(r),kr[e.id]=r.id||r.url,e.id))).then((t=>{zr(e,t)}))},Er.setPopupOpenStatus=function(e,{docId:t,pageId:n,annotId:r,status:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setOpenStatus(i))).then((t=>{zr(e,t)}))},Er.removePageAllAnnot=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.removeAllAnnot())).then((()=>{zr(e)}))},Er.getAnnotWoff=function(e,{docId:t,pageId:n,id:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.getWoff())).then((t=>{zr(e,t)}))},Er.drmEncrypt=function(e,{docId:t,options:n}){return Zr(t).then((function(e){return e.drmEncrypt(n)})).then((function(t){return t?zr(e):Hr(e,{error:-1})}))},Er.getTemplates=function(e,{docId:t}){return Zr(t).then((function(e){return e.getTemplates()})).then((function(t){return zr(e,t)}))},Er.hideTemplate=function(e,{docId:t,templateObj:n,isHidden:r}){return Zr(t).then((function(e){return e.hideTemplate(n,r)})).then((function(t){return zr(e,t)}))},Er.spawnPage=function(e,{docId:t,templateObj:n,nPage:r,bRename:i,bOverlay:o}){return Zr(t).then((e=>e.spawnPage(t,n,r,i,o))).then((t=>zr(e,t)))},Er.removeTemplate=function(e,{docId:t,name:n}){return Zr(t).then((e=>e.removeTemplate(n))).then((t=>zr(e,t)))},Er.getFontBufferByName=function(e,{docId:t,fontName:n}){return Zr(t).then((e=>e.getFontBufferByName(n))).then((t=>zr(e,t)))},Er.getPageSizes=function(e,{docId:t,index:n,count:r}){return Zr(t).then((e=>e.getPageSizes(n,r))).then((t=>zr(e,t)))},Er.setMeasureRatio=function(e,{docId:t,pageId:n,annotId:r,ratioInfo:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setMeasureRatio(i)})).then((()=>{zr(e)}))},Er.setMeasureUnit=function(e,{docId:t,pageId:n,annotId:r,unit:i,measureType:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setMeasureUnit(i,o))).then((()=>{zr(e)}))},Er.setMeasureConversionFactor=function(e,{docId:t,pageId:n,annotId:r,factor:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>{e.setMeasureConversionFactor(i)})).then((()=>{zr(e)}))},Er.startImportPages=function(e,{docId:t,destIndex:n,file:r,password:i,flags:o,layerName:a,startIndex:s,endIndex:c}){return Zr(t).then((e=>{let t=ti(r),l=ni(r);return e.startImportPages(n,{size:t,getBuffer:function(e,t){return l(e,t)}},i,o,a,s,c)})).then((t=>zr(e,t)))},Er.importPagesFromPDFDocs=function(e,{docId:t,destIndex:n,srcDocs:r,layerName:i}){return Zr(t).then((e=>Promise.all(r.map((({srcDocId:e,srcPages:t})=>Zr(e).then((e=>({srcDoc:e,srcPages:t})))))).then((t=>e.importPagesFromPDFDocs(n,t,i))))).then((t=>zr(e,t)))},Er.exportPagesToPDFDocs=function(e,{docId:t,srcPages:n,destDocs:r,layerName:i,bookmarkTitle:o}){return Zr(t).then((e=>Promise.all(r.map((({destDocId:e,destIndex:t})=>Zr(e).then((e=>({destDoc:e,destIndex:t})))))).then((t=>e.exportPagesToPDFDocs(n,t,i,o))))).then((t=>zr(e,t.map((({doc:e,name:t})=>({docId:e?e.id:null,name:t}))))))},Er.extractPages=function(e,{docId:t,pageRange:n,writeStream:r,file:i,password:o}){return Zr(t).then((e=>{let t;if(i){let e=ti(i),n=ni(i);t={size:e,getBuffer:function(e,t){return n(e,t)}}}return e.extractPages(n,{writeStream:function(e,t,n){Kr(r,{arrayBuffer:e,offset:t,size:n},[e])}},t,o)})).then((n=>(Mr.push(t,r),zr(e,n))))},Er.copyPages=function(e,{docId:t,pageRange:n,destIndex:r}){return Zr(t).then((e=>e.copyPages(n,r))).then((t=>zr(e,t)))},Er.saveCopyPagesData=function(e,{docId:t,pageRange:n}){return Zr(t).then((e=>e.saveCopyPagesData(n))).then((t=>{zr(e,t)}))},Er.pastePages=function(e,{docId:t,destIndex:n}){return Zr(t).then((e=>e.pastePages(n))).then((t=>{zr(e,t)})).catch((t=>Hr(e,t)))},Er.embedAllPageThumbnail=function(e,{docId:t}){return Zr(t).then((t=>{ui(t.embedAllPageThumbnail(),"embeddingProgress",zr.bind(null,e))}))},Er.removeEmbeddedPageThumbnail=function(e,{docId:t}){return Zr(t).then((t=>{ui(t.removeEmbeddedPageThumbnail(),"removingProgress",zr.bind(null,e))}))},Er.cancelEmbedAllPageThumbnail=function(e,{docId:t}){return Zr(t).then((e=>e.cancelEmbedAllPageThumbnail())).then((t=>{zr(e,t)}))},Er.cancelRemoveEmbeddedPageThumbnail=function(e,{docId:t}){return Zr(t).then((e=>e.cancelRemoveEmbeddedPageThumbnail())).then((t=>{zr(e,t)}))},Er.getAllBoxes=function(e,{docId:t,index:n}){return Zr(t).then((e=>e.getAllBoxes(n))).then((t=>zr(e,t)))},Er.setAllBoxesByIndexes=function(e,{docId:t,indexes:n,width:r,height:i,xOffset:o,yOffset:a,boxes:s,isMoveWhite:c}){return Zr(t).then((e=>e.setAllBoxesByIndexes(n,r,i,o,a,s,c))).then((t=>zr(e,t)))},Er.getPageFormat=function(e,{docId:t,type:n,previewWidth:r,previewHeight:i,fileName:o="",newDocId:a="",localFormat:s}){return Zr(t).then((async e=>{let t;return a.length>1&&(t=await Zr(a),t=t.doc),e.getPageFormat(n,r,i,o,t,s)})).then((t=>zr(e,t)))},Er.addPageFormat=function(e,{docId:t,type:n,data:r,isUpdate:i}){return Zr(t).then((async e=>{if(r&&r.sourceDoc&&r.sourceDoc.docId&&"currentDoc"!==r.sourceDoc.docId){const e=await Zr(r.sourceDoc.docId);r.sourceDoc.newDoc=e.doc}if(r&&2===r.sourceType)if(r.file){let e=ti(r.file),t=ni(r.file);r.file={size:e,getBuffer:function(e,n){return t(e,n)}},r.doc=null}else if(r.docId){const e=await Zr(r.docId);r.doc=e,r.file=null}return e.addPageFormat(n,r,i)})).then((t=>zr(e,t)))},Er.getPageFormatThumb=function(e,{docId:t,type:n,pageIndex:r,data:i,isUpdate:o,bitmapWidth:a,bitmapHeight:s,rotate:c}){return Zr(t).then((async e=>{if(i&&2===i.sourceType)if(i.file){let e=ti(i.file),t=ni(i.file);i.file={size:e,getBuffer:function(e,n){return t(e,n)}},i.doc=null}else if(i.docId){const e=await Zr(i.docId);i.doc=e,i.file=null}return e.getPageFormatThumb(n,r,i,o,a,s,c)})).then((t=>zr(e,t)))},Er.removeAllPageFormat=function(e,{docId:t,type:n}){return Zr(t).then((e=>e.removeAllPageFormat(n))).then((t=>zr(e,t)))},Er.extractPrintPages=function(e,{docId:t,data:n}){return Zr(t).then((async e=>{if("selectedPDF"===n.rangeType||"allPDF"===n.rangeType){let t=[];"allPDF"===n.rangeType?t=await e.pdfPortfolio.getFolioNodePDFDoc():"selectedPDF"===n.rangeType&&(t=n.selectedIds);const r=[];for(let e=0;e<t.length;e++){const n=await Zr(t[e]);r.push(n)}n.docs=r}return e.extractPrintPages(n)})).then((t=>zr(e,t)))},Er.encryptLicense=function(e,t){return Dr.then((function(n){return t=n.encryptLicense(t),zr(e,t)}))},Er.getHeaderFooter=function(e,t){return Zr(t).then((e=>e.getHeaderFooter())).then((t=>zr(e,t)))},Er.addHeaderFooter=function(e,{docId:t,headerFooter:n}){return Zr(t).then((e=>e.addHeaderFooter(n))).then((t=>zr(e,t)),(t=>Hr(e,t,[],t)))},Er.updateHeaderFooter=function(e,{docId:t,headerFooter:n}){return Zr(t).then((e=>e.updateHeaderFooter(n))).then((t=>zr(e,t)),(t=>Hr(e,t,[],t)))},Er.removeHeaderFooter=function(e,t){return Zr(t).then((e=>e.removeHeaderFooter())).then((t=>zr(e,t)))},Er.setFontMap=function(e,t){return Dr.then((function(n){return n.setFontMap(t),zr(e)}),(function(){return Hr(e)}))},Er.addFontMap=function(e,t){return Dr.then((function(n){return n.addFontMap(t),zr(e)}),(function(){return Hr(e)}))},Er.setWatermarkFontMap=function(e,t){return Dr.then((function(n){return n.setWatermarkFontMap(t),zr(e)}))},Er.getCharBBox=function(e,{fontId:t,unicode:n}){return Dr.then((e=>e.getCharBBox(t,n))).then((t=>zr(e,t)))},Er.getCharWidthByFontID=function(e,{fontId:t,unicode:n}){return Dr.then((e=>e.getCharWidthByFontID(t,n))).then((t=>zr(e,t)))},Er.getFontToneByFontID=function(e,{fontId:t}){return Dr.then((e=>e.getFontToneByFontID(t))).then((t=>zr(e,t)))},Er.paste=function(e,{docId:t,pageId:n,srcPageId:r,type:i,objectId:o,position:a}){switch(i){case"annot":return Promise.all([Xr(t,n),Xr(t,r)]).then((([e,t])=>{let n=t._getAnnotIndexById(o),r=t.page.GetAnnot(n);return e.pasteAnnot(r,a)})).then((e=>{let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];r?t[n]=r.toJson():t[n]=null}return t})).then((t=>zr(e,t)));case"graphicObject":return Promise.all([Xr(t,n),Xr(t,r)]).then((([n,r])=>Er.pasteGraphicObject(e,t,n,r,o,a))).then((e=>{}))}},Er.getAnnotsRawData=function(e,{docId:t,rawAnnots:n}){return Zr(t).then((e=>e.getAnnotsRawData(n))).then((t=>zr(e,t)))},Er.attachFile=function(e,{docId:t,blob:n}){return Zr(t).then((e=>e.attachFile(n))).then((t=>zr(e,t)))},Er.signDoc=function(e,{docId:t,signInfo:n,ap:r}){Zr(t).then((e=>e.sign(n,r))).then((t=>{if(n.native)return zr(e,t,[t]);zr(e,t,[t.buffer])}))},Er.signDocForESignCN=function(e,{docId:t,signInfo:n}){Zr(t).then((e=>e.signForESignCN(n))).then((t=>zr(e,t,[t.buffer])))},Er.isESignCNSignature=function(e,{docId:t,fieldId:n,pageIndex:r}){Zr(t).then((e=>e.isESignCNSignature(n,r))).then((t=>zr(e,t)))},Er.addPagingSealSignature=function(e,{docId:t,pagingSigConfig:n}){Zr(t).then((e=>e.addPagingSealSignature(n))).then((t=>zr(e,t)))},Er.updatePagingSealSignature=function(e,{docId:t,pagingSigConfig:n,pagingSigObjNum:r}){Zr(t).then((e=>e.updatePagingSealSignature(n,r))).then((t=>zr(e,t)))},Er.getAllPagingSealSignatures=function(e,{docId:t,pagingSigObjNum:n}){Zr(t).then((e=>e.getAllPagingSealSignatures(n))).then((t=>zr(e,t)))},Er.getAllPagingSigsInfo=function(e,{docId:t,pagingSigObjNum:n}){Zr(t).then((e=>e.getAllPagingSigsInfo(n))).then((t=>zr(e,t)))},Er.removePagingSealSignature=function(e,{docId:t,pagingSigObjNum:n}){Zr(t).then((e=>e.removePagingSealSignature(n))).then((t=>zr(e,t)))},Er.getFontsInfo=function(e,{docId:t}){Zr(t).then((e=>e.getFontsInfo())).then((t=>zr(e,t)))},Er.getDocAdditionalActions=function(e,{docId:t}){Zr(t).then((e=>e.getAdditionalActions())).then((t=>zr(e,t)))},Er.calcPageContentBBox=function(e,{docId:t,pageIndex:n,mode:r}){qr(t,n).then((e=>e.calcContentBBox(r))).then((t=>{zr(e,t)}))},Er.getPageBox=function(e,{docId:t,pageIndex:n,boxType:r}){qr(t,n).then((t=>zr(e,t.getBox(r))))},Er.setPageBox=function(e,{docId:t,pageIndex:n,boxType:r,rect:i}){qr(t,n).then((t=>zr(e,t.setBox(r,i))))},Er.setPageSize=function(e,{docId:t,pageIndex:n,width:r,height:i}){qr(t,n).then((t=>zr(e,t.setSize(r,i))))},Er.getPageAction=function(e,{docId:t,pageId:n,trigger:r}){return Xr(t,n).then((e=>e.getAction(r))).then((t=>{zr(e,t)}))},Er.removePageAction=function(e,{docId:t,pageId:n,trigger:r,action:i}){return Xr(t,n).then((e=>e.removeAction(r,i))).then((t=>{zr(e,t)}))},Er.movePageAction=function(e,{docId:t,pageId:n,moveInfo:r}){return Xr(t,n).then((e=>e.moveAction(r))).then((t=>{zr(e,t)}))},Er.setPageAction=function(e,{docId:t,pageId:n,trigger:r,action:i}){Xr(t,n).then((e=>e.setAction(r,i))).then((()=>{zr(e,i)}))},Er.syncDataCache=function(e,{docId:t,pageIdMap:n}){Zr(t).then((e=>e.syncDataCache(n))).then((()=>zr(e)))},Er.moveAnnotsToPage=function(e,{docId:t,srcPageId:n,dstPageId:r,annotInfos:i}){return Zr(t).then((e=>e.moveAnnotsToPage(n,r,i))).then((e=>e.map((e=>e&&e.toJson())))).then((t=>{zr(e,t)}))},Er.getOriginalStream=function(e,{docId:t}){Zr(t).then((e=>e.getOriginalStream())).then((t=>zr(e,t,[t])))},Er.setDocColors=function(e,{docId:t,colors:n}){Zr(t).then((t=>(t.setColors(n),zr(e))))},Er.setPageDisplayPreferences=function(e,{docId:t,pageDisplayPreferences:n}){Zr(t).then((t=>(t.setPageDisplayPreferences(n),zr(e))))},Er.getWidgetMkOption=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{const n=t.getWidgetMkOption();zr(e,n)}))},Er.setWidgetIconCaptionRelation=function(e,{docId:t,pageId:n,annotId:r,relation:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{t.setWidgetIconCaptionRelation(i),zr(e)}))},Er.setWidgetHighlighting=function(e,{docId:t,pageId:n,annotId:r,mode:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{t.setWidgetHighlighting(i),zr(e)}))},Er.setWidgetMkCaption=function(e,{docId:t,pageId:n,annotId:r,position:i,caption:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{const n=t.setWidgetMkCaption(i,o);zr(e,n)}))},Er.setWidgetMkIcon=function(e,{docId:t,pageId:n,annotId:r,position:i,buffer:o}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{const n=t.setWidgetMkIcon(i,o);zr(e,n)}))},Er.getWidgetIconFitOption=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{const n=t.getWidgetIconFitOption();zr(e,n)}))},Er.setWidgetIconFitOption=function(e,{docId:t,pageId:n,annotId:r,option:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{const n=t.setWidgetIconFitOption(i);zr(e,n)}))},Er.setTabOrder=function(e,{docId:t,pageIndex:n,type:r}){Zr(t).then((e=>e.setTabOrder(n,r))).then((t=>zr(e,t)))},Er.getTabOrder=function(e,{docId:t,pageIndex:n}){Zr(t).then((e=>e.getTabOrder(n))).then((t=>zr(e,t)))},Er.setStructureOrder=function(e,{docId:t,pageIndex:n,idList:r}){Zr(t).then((e=>e.setStructureOrder(n,r))).then((()=>zr(e)))},Er.getAnnotIdArrayByOrder=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getAnnotIdArrayByOrder())).then((t=>zr(e,t)))},Er.renderTemplatesByObjNum=function(e,{docId:t,objNum:n}){return Zr(t).then((t=>{zr(e,t.renderTemplatesByObjNum(n))}))},Er.getNameTree=function(e,{docId:t,type:n}){return Zr(t).then((t=>{zr(e,t.getNameTree(n))}))},Er.addNameTreeObj=function(e,{docId:t,type:n,name:r,objNum:i}){return Zr(t).then((t=>{zr(e,t.addNameTreeObj(n,r,i))}))},Er.removeNameTreeObj=function(e,{docId:t,type:n,name:r}){return Zr(t).then((t=>{zr(e,t.removeNameTreeObj(n,r))}))},Er.replaceNameTreeObj=function(e,{docId:t,type:n,name:r,objNum:i}){return Zr(t).then((t=>{zr(e,t.replaceNameTreeObj(n,r,i))}))},Er.renameNameTreeObj=function(e,{docId:t,type:n,oldName:r,newName:i}){return Zr(t).then((t=>{zr(e,t.renameNameTreeObj(n,r,i))}))},Er.getPageIndexByObjNum=function(e,{docId:t,objNum:n}){return Zr(t).then((t=>{zr(e,t.getPageIndexByObjNum(n))}))},Er.nameTreeTemplatesToPages=function(e,{docId:t,name:n}){return Zr(t).then((t=>{zr(e,t.nameTreeTemplatesToPages(n))}))},Er.nameTreePagesToTemplates=function(e,{docId:t,name:n}){return Zr(t).then((t=>{zr(e,t.nameTreePagesToTemplates(n))}))},Er.showNameTreePageAtTheEnd=function(e,{docId:t}){return Zr(t).then((e=>e.showNameTreePageAtTheEnd())).then((t=>{zr(e,t)}))},Er.hideNameTreePage=function(e,{docId:t,pageIndex:n}){return Zr(t).then((t=>{zr(e,t.hideNameTreePage(n))}))},Er.addFileSpec=function(e,{docId:t,fileName:n,fileBuffer:r,modifiedDateTime:i}){return Zr(t).then((t=>{zr(e,t.addFileSpec(n,r,i))}))},Er.setFileSpecDesc=function(e,{docId:t,desc:n,objNum:r}){return Zr(t).then((t=>{zr(e,t.setFileSpecDesc(n,r))}))},Er.getFileSpecStream=function(e,{docId:t,fileSpecObjNum:n,writeStreamCall:r}){return Zr(t).then((e=>e.getFileSpecStream(n,((e,t,n)=>{Kr(r,{arrayBuffer:e,offset:t,size:n},[e])})))).then((t=>{zr(e,t)}))},Er.addEmbeddedFileByAttachments=function(e,{docId:t,name:n,objNum:r}){return Zr(t).then((t=>{zr(e,t.attachments.addEmbeddedFile(n,r))}))},Er.setEmbeddedFileByAttachments=function(e,{docId:t,name:n,objNum:r}){return Zr(t).then((t=>{zr(e,t.attachments.setEmbeddedFile(n,r))}))},Er.removeEmbeddedFileByAttachments=function(e,{docId:t,name:n}){return Zr(t).then((t=>{zr(e,t.attachments.removeEmbeddedFile(n))}))},Er.getPageDictionary=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getPageDictionary())).then((t=>zr(e,t)))},Er.getSuggestedFormDesignerRect=function(e,{docId:t,pageId:n,point:r}){return Xr(t,n).then((e=>e.getSuggestedFormDesignerRect(r))).then((t=>zr(e,t)))},Er.clearDesignerAssitCache=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e&&e.clearDesignerAssitCache())).then((t=>zr(e)))},Er.getPDFDictInfo=di,Er.startFormDesignerAssit=function(e,{docId:t}){Zr(t).then((e=>e.startFormDesignerAssit())).then((t=>zr(e)))},Er.stopFormDesignerAssit=function(e,{docId:t}){Zr(t).then((e=>e.stopFormDesignerAssit())).then((t=>zr(e)))},Er.getPDFDictInfo=di,Er.getPageLabels=function(e,{docId:t,indexes:n}){Zr(t).then((e=>e.getPageLabels(n))).then((t=>zr(e,t)))},Er.hasKey=function(e,{docId:t,id:n,key:r}){Zr(t).then((e=>e.hasKey(n,r))).then((t=>zr(e,t)))},Er.setAt=function(e,{docId:t,id:n,key:r,value:i}){Zr(t).then((e=>e.setAt(n,r,i))).then((t=>zr(e,t)))},Er.getAt=function(e,{docId:t,id:n,key:r}){Zr(t).then((e=>e.getAt(n,r))).then((t=>zr(e,t)))},Er.setJPXDownSample=function(e,t){return Dr.then((function(n){return n.setJPXDownSample(t),zr(e)}),(function(){return Hr(e)}))},Er.autoRecognitionForm=function(e,{docId:t}){Zr(t).then((e=>e.autoRecognitionForm())).then((t=>zr(e,t)))},Er.isStaticXFA=function(e,{docId:t}){return Zr(t).then((e=>e.isStaticXFA())).then((t=>zr(e,t)))},Er.isXFA=(e,{docId:t})=>Zr(t).then((e=>e.isXFA())).then((t=>{zr(e,t)})),Er.removeXFA=function(e,{docId:t}){return Zr(t).then((e=>e.removeXFA())).then((t=>zr(e,t)))},Er.createWebLinks=function(e,{docId:t,pageId:n,paramPages:r}){return Xr(t,n).then((e=>e.createWebLinks(r))).then((t=>zr(e,t)))},Er.removeWebLinks=function(e,{docId:t,pageId:n,paramPages:r}){return Xr(t,n).then((e=>e.removeWebLinks(r))).then((t=>{zr(e,t)}))},Er.linkHasPA=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{zr(e,t.hasPA())}))},Er.linkResetAByPA=function(e,{docId:t,pageId:n,annotId:r}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((t=>{zr(e,t.resetAByPA())}))},Er.getDestinationsArray=function(e,{docId:t}){return Zr(t).then((e=>e.getDestinationsArray())).then((t=>{zr(e,t)}))},Er.deleteDestination=function(e,{docId:t,pageId:n,name:r}){return Xr(t,n).then((e=>e.deleteDestination(r))).then((t=>{zr(e,t)}))},Er.renameDestination=function(e,{docId:t,pageId:n,oldName:r,newName:i}){return Xr(t,n).then((t=>{const n=t.renameDestination(r,i);zr(e,n)}))},Er.createDestination=function(e,{docId:t,pageId:n,title:r,pageNum:i}){return Xr(t,n).then((t=>{const n=t.createDestination(r,i);zr(e,n)}))},Er.resetDestination=function(e,{docId:t,pageId:n,title:r,pageNum:i}){return Xr(t,n).then((e=>e.resetDestination(r,i))).then((t=>{zr(e,t)}))},Er.moveBookmark=function(e,{docId:t,targetBookmarkId:n,destBookmarkId:r,position:i}){return Zr(t).then((e=>e.moveBookmark(n,r,i))).then((t=>zr(e,t)))},Er.combineFormsToCSV=function(e,{filesArray:n,writeStreamCall:r}){return Dr.then((e=>{const i=e.engine;let o=0,a=(0,t.dD)(),s=new i.FormFileInfoArray;n.forEach((function({file:e,name:t}){let n=ai(e),r=i.ReaderCallback.implement({Release:function(){},GetSize:()=>n.size,ReadBlock:(e,t,r)=>{let o=new Uint8Array(((e,t)=>n.read(e,t))(t,r));return i.HEAPU8.set(o,e),!0}}),o=new i.FormFileInfo(r,(0,G.Dp)(i,""),(0,G.Dp)(i,t));s.Add(o)}));let c=i.StreamCallback.implement({Release:()=>{c.delete()},Flush:()=>(a.resolve(o),!0),IsEOF:()=>!1,GetPosition:()=>o,GetSize:()=>o,WriteBlock:(e,t,n)=>{o+=n;let a,s=i.HEAPU8.buffer;return a=s.slice?s.slice(e,e+n):new Uint8Array(s,e,n).buffer,function(e,t,n){Kr(r,{arrayBuffer:e,offset:t,size:n},[e])}(a,t,n),!0},ReadBlock:(e,t,n)=>!0});return i.FormCombination.CombineFormsToCSV(s,c,!1),s.delete(),a.promise})).then((t=>{zr(e,t)}))},Er.reversePages=function(e,{docId:t,pageRanges:n}){return Zr(t).then((e=>e.reversePages(n))).then((t=>zr(e,t)))},Er.movePagesTo=function(e,{docId:t,pageRange:n,destIndex:r}){return Zr(t).then((e=>e.movePagesTo(n,r))).then((t=>{zr(e,t)}))},Er.removePages=function(e,{docId:t,pageRange:n}){let r;return Zr(t).then((e=>{try{const t=function(e){return JSON.parse(JSON.stringify(e)).reduce(((e,t)=>{if(2===t.length){let e=[];for(let n=t[0];n<t[1];n++)e.push(n);t=e}return e.concat(t)}),[])}(n).sort(((e,t)=>t-e));r=t.map((t=>e.pageIndexMap[t]&&e.pageIndexMap[t].id))}catch(e){}return e.removePages(n)})).then((n=>{try{r&&n&&r.forEach((e=>{Rr.clearObjectFromCache(t,e)}))}catch(e){}zr(e,n)}))},Er.insertBlankPages=function(e,{docId:t,pageRange:n,width:r,height:i}){return Zr(t).then((e=>e.insertBlankPages(n,r,i))).then((t=>{zr(e,t)}))},Er.insertBlankPages2=function(e,{docId:t,pageRange:n,width:r,height:i}){return Zr(t).then((e=>e.insertBlankPages2(n,r,i))).then((t=>{zr(e,t)}))},Er.rotatePages=function(e,{docId:t,pageRange:n,rotation:r}){return Zr(t).then((e=>e.rotatePages(n,r))).then((t=>{zr(e,t)}))},Er.getPageIndexByLabelText=function(e,{docId:t,text:n}){return Zr(t).then((e=>function(e,t){const n=e.doc,r=new e.engine.PageLabels(n),i=n.GetPageCount();for(let e=0;e<i;e++)if(r.GetPageLabelTitle(e).toString()===t)return e;return-1}(e,n))).then((t=>{zr(e,t)}))},Er.getCurrentPageLabelInfo=function(e,{docId:t,pageIndex:n}){return Zr(t).then((e=>function(e,t){const n=new e.engine.PageLabels(e.doc),r=n.GetPageLabelPrefix(t),i=n.GetPageLabelTitle(t);for(;!n.HasPageLabel(t)&&t>0;)t--;const o=n.GetPageLabelStyle(t),a=n.GetPageLabelStart(t);return{hasLabel:n.HasPageLabel(t),style:Zn(e,o),firstNumber:a,prefix:r.toString(),title:i.toString()}}(e,n))).then((t=>{zr(e,t)}))},Er.checkDocIsUseLogicPage=function(e,{docId:t}){return Zr(t).then((e=>function(e){const t=e.engine,n=e.doc,r=new t.PageLabels(n);if(!r.HasPageLabel(0))return!1;const i=n.GetPageCount();for(let e=0;e<i;e++)if(r.HasPageLabel(e)&&(r.GetPageLabelStyle(e)!==t.PageLabelsStyle.e_DecimalNums||""!==r.GetPageLabelPrefix(e).toString()))return!0;return!1}(e))).then((t=>{zr(e,t)}))},Er.formatPageNumbers=function(e,{docId:t,isExtendNumbering:n,pageRange:r,numberingInfo:i}){return Zr(t).then((e=>qn(e,n,r,i))).then((t=>{zr(e,t)}))},Er.updatePageLabelsByAction=function(t,{docId:n,action:r,args:i}){return Zr(n).then((t=>{var n;return(n=Xn)[r].apply(n,[t].concat(pr(e.Z,i)))})).then((e=>{zr(t,e)}))},Er.getPortfolioTreeNode=function(e,{docId:t}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.getTreeNode())).then((t=>zr(e,t)))},Er.getPortfolioInitialNodePath=function(e,{docId:t}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.getInitialNodePath())).then((t=>zr(e,t)))},Er.sendSortFolioParam=function(e,{docId:t,target:n,order:r}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.sendSortFolioParam(n,r))).then((t=>zr(e,t)))},Er.recordPDFFileByPortFolioNode=function(e,{docId:t,handle:n}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.recordPDFFileByPortFolioNode(n))).then((t=>zr(e,t)))},Er.getFolioNodePDFDoc=function(e,{docId:t}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.getFolioNodePDFDoc())).then((t=>zr(e,t)))},Er.getPortfolioFileStream=function(e,{docId:t,nodeHandle:n,writeStream:r}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.getFileStream(n,{writeStream:function(e,t,n){Kr(r,{arrayBuffer:e,offset:t,size:n},[e])}}))).then((t=>{zr(e,t)}))},Er.getPortfolioStream=function(e,{docId:t,nodeHandles:n}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.getStream(n))).then((t=>{zr(e,t)}))},Er.getPortfolioSubNodes=function(e,{docId:t,nodeHandle:n}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.getPortfolioSubNodes(n))).then((t=>{zr(e,t)}))},Er.changePortfolioSubNodesOrder=function(e,{docId:t,nodeHandle:n,sourceIndexes:r,targetIndex:i}){return Zr(t).then((e=>{e.pdfPortfolio&&e.pdfPortfolio.changeSubNodesOrder(n,r,i)})).then((()=>{zr(e)}))},Er.portfolioMoveSubNodeToSubFolderNode=function(e,{docId:t,nodeHandle:n,sourceHandles:r,targetHandle:i}){return Zr(t).then((e=>{e.pdfPortfolio&&e.pdfPortfolio.moveSubNodeToSubFolderNode(n,r,i)})).then((()=>{zr(e)}))},Er.portfolioHasSameNameSubNode=function(e,{docId:t,name:n,type:r,targetHandle:i}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.hasSameNameSubNode(n,r,i))).then((t=>{zr(e,t)}))},Er.getPortfolioInfo=function(e,{docId:t}){return Zr(t).then((t=>{const n=t.pdfPortfolio?t.pdfPortfolio.getInfo():{};zr(e,n)}))},Er.setPortfolioInfo=function(e,{docId:t,info:n}){return Zr(t).then((t=>{t.pdfPortfolio&&t.pdfPortfolio.setInfo(n),zr(e)}))},Er.portfolioAddFiles=function(e,{docId:t,files:n,targetIndex:r,folderNodeHandle:i}){return Zr(t).then((t=>{t.pdfPortfolio&&t.pdfPortfolio.addFiles(n,r,i),zr(e)}))},Er.portfolioCreateFolder=function(e,{docId:t,name:n,folderNodeHandle:r}){return Zr(t).then((t=>{const i=t.pdfPortfolio?t.pdfPortfolio.createFolder(n,r):{};zr(e,i)}))},Er.portfolioRemoveSubNodes=function(e,{docId:t,folderNodeHandle:n,subNodeHandles:r}){return Zr(t).then((t=>{t.pdfPortfolio&&t.pdfPortfolio.removeSubNodes(n,r),zr(e)}))},Er.portfolioRegenerateTOC=function(e,{docId:t,title:n}){return Zr(t).then((e=>e.pdfPortfolio&&e.pdfPortfolio.regenerateTOC(n))).then((t=>{zr(e,t)}))},Er.getSnappedPoint=function(e,{docId:t,pageId:n,point:r,mode:i}){return Xr(t,n).then((e=>e.getSnappedPoint(r,i))).then((t=>{zr(e,t)}))},Er.getPageTextRectCount=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getTextRectCount())).then((t=>(zr(e,t),t)))},Er.getPageTextByRectIndex=function(e,{docId:t,pageId:n,rectIndex:r}){return Xr(t,n).then((e=>e.getTextByRectIndex(r))).then((t=>(zr(e,t),t)))},Er.isCPDF=function(e,{docId:t}){return Zr(t).then((t=>zr(e,t.isCPDF())))},Er.getDocURI=function(e,{docId:t}){return Zr(t).then((t=>zr(e,t.getDocURI())))},Er.convertToCPDF=function(e,{docId:t,cPDFFileName:n,cPDFEndPoint:r,cPDFUserToken:i,cPDFUserIDFromToken:o}){return Zr(t).then((t=>t.convertToCPDF(n,r,i,o).then((()=>zr(e)))))},Er.removeCDocId=function(e,{docId:t,cPDFFileName:n,cPDFEndPoint:r,cPDFUserToken:i,cPDFUserIDFromToken:o}){return console.log(e),Zr(t).then((t=>t.removeCDocId(n,r,i,o).then((()=>zr(e)))))},Er.removeLayerNode=function(e,{docId:t,layerId:n}){return Zr(t).then((e=>!!e.pdfLayer&&e.pdfLayer.removeLayerNode(n,e))).then((t=>zr(e,t)))},Er.getLayersByPage=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.pdfDoc.pdfLayer.getLayersByPage(e))).then((t=>zr(e,t)))},Er.updateLayerInfo=function(e,{docId:t,layerInfo:n}){return Zr(t).then((t=>{const r=n.id;if(!r&&0!==r)return zr(e,!1);for(const e in n){const i=n[e];switch(e){case"name":t.pdfLayer.setLayerName(r,i);break;case"intent":t.pdfLayer.setLayerIntent(r,i,n.isSingle);break;case"state":t.pdfLayer.setLayerDefaultState(r,i);break;case"isLocked":t.pdfLayer.setLayerLocked(r,i);break;case"viewUsage":t.pdfLayer.setLayerViewUsage(r,i);break;case"printUsage":t.pdfLayer.setLayerPrintUsage(r,i);break;case"exportUsage":t.pdfLayer.setLayerExportUsage(r,i)}}return zr(e,!0)}))},Er.flattenLayers=function(e,{docId:t}){return Zr(t).then((e=>!!e.pdfLayer&&e.pdfLayer.flattenLayers(e))).then((t=>zr(e,t)))},Er.mergeLayers=function(e,{docId:t,layerIds:n,mergeTo:r}){return Zr(t).then((e=>!!e.pdfLayer&&e.pdfLayer.mergeLayers(e,n,r))).then((t=>zr(e,t)))},Er.getLayerRelatedAnnots=function(e,{docId:t,layerId:n}){return Zr(t).then((e=>{if(e.pdfLayer){return e.pdfLayer.getLayerNodeById(n).getRelatedAnnots().map((e=>e.GetDict().GetObjNum()))}return!1})).then((t=>zr(e,t)))},Er.layerMoveTo=function(e,{docId:t,layerId:n,parentLayerId:r,index:i}){return Zr(t).then((e=>!!e.pdfLayer&&e.pdfLayer.moveTo(n,r,i))).then((t=>zr(e,t)))},Er.getInfos=function(e,{docId:t}){return Zr(t).then((t=>{zr(e,t.getInfos())}))},Er.hasDocIsWrapped=function(e,{docId:t}){return Zr(t).then((t=>{zr(e,t.doc.IsWrapper())}))},Er.removeMetadata=function(e,{id:t,key:n}){return Zr(t).then((t=>zr(e,t.removeMetadata(n))))},Er.addAnnotObjects=hi,Er.normalizePage=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.normalize())).then((t=>(zr(e,t),t)))},Er.addAnnotObjects=hi,Er.getViewerPreference=function(e,{docId:t}){return Zr(t).then((t=>zr(e,t.getViewerPreference())))},Er.setViewPreference=function(e,{docId:t,key:n,value:r}){return Zr(t).then((t=>zr(e,t.setViewPreference(n,r))))},Er.getEmbeddedFontData=function(e,{docId:t}){return Zr(t).then((t=>zr(e,t.getEmbeddedFontData())))},Er.computeAuditSpace=function(e,{docId:t}){return Zr(t).then((e=>e.computeAuditSpace())).then((t=>zr(e,t)))},Er.optimizer=function(e,{docId:t,option:n,portfolioNodeHandle:r}){return Zr(t).then((e=>e.optimizer(n,r))).then((t=>zr(e,t)))},Er.optimizeScannedPDF=function(e,{docId:t,option:n,callback:r}){return Zr(t).then((e=>e.optimizeScannedPDF(n,(e=>{Kr(r,e)})))).then((t=>zr(e,t)))},Er.startReplacePages=function(e,{docId:t,startIndex:n,count:r,srcPdfDocId:i,srcPageindexRange:o}){return Zr(t).then((t=>Zr(i).then((i=>zr(e,t.startReplacePages(n,r,i,o))))))},Er.importAsLayer=function(e,{docId:t,args:n}){return Zr(t).then((t=>Zr(n.sourcePdfDocId).then((e=>(n.sourcePdfDoc=e.doc,t.importAsLayer(n)))).then((t=>zr(e,t)))))},Er.previewImportLayer=function(e,{docId:t,args:n}){return Zr(t).then((t=>n.sourcePdfDocId?Zr(n.sourcePdfDocId).then((r=>(n.sourcePdfDoc=r.doc,zr(e,t.previewImportLayer(n))))):zr(e,t.previewImportLayer(n))))},Er.reloadLayer=function(e,{docId:t}){return Zr(t).then((t=>{zr(e,t.reloadLayer())}))},Er.getViewportRect=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getViewportRect())).then((t=>(zr(e,t),t)))},Er.getMeasureScaleRatio=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getMeasureScaleRatio())).then((t=>(zr(e,t),t)))},Er.exportMeasureData=function(e,{docId:t,columnNames:n}){return Zr(t).then((e=>e.exportMeasureData(n))).then((t=>zr(e,t)))},Er.setMeasureScaleRatio=function(e,{docId:t,pageId:n,storeInPage:r,measureInfo:i}){return Xr(t,n).then((e=>e.setMeasureRatio(r,i))).then((t=>(zr(e,t),t)))},Er.searchDoc=function(e,{docId:t,type:n,words:r,flag:i,isForRedact:o}){return Zr(t).then((e=>e.searchDoc(n,r,i,o))).then((t=>zr(e,t)))},Er.generateDocHash=function(e,{docId:t,buffer:n}){return Zr(t).then((e=>e.generateDocHash(n))).then((t=>zr(e,t)))},Er.getSignIdForEvidence=function(e,{docId:t}){return Zr(t).then((e=>e.getSignIdForEvidence())).then((t=>zr(e,t)))},Er.assignSignerForESignCN=function(e,{docId:t,data:n}){return Zr(t).then((e=>e.assignSignerForESignCN(n))).then((t=>zr(e,t)))},Er.setESignCNFlowSignMode=function(e,{docId:t,type:n}){return Zr(t).then((e=>e.setESignCNFlowSignMode(n))).then((t=>zr(e,t)))},Er.getESignCNFlowSignMode=function(e,{docId:t}){return Zr(t).then((e=>e.getESignCNFlowSignMode())).then((t=>zr(e,t)))},Er.isESignCNFile=function(e,{docId:t}){return Zr(t).then((e=>e.isESignCNFile())).then((t=>zr(e,t)))},Er.getESignCNMode=function(e,{docId:t,fieldName:n}){return Zr(t).then((e=>{let t=e.loadForm().getField(n);return e.getESignCNMode(t.engineField)})).then((t=>zr(e,t)))},Er.addAuditTrail=function(e,{docId:t}){return Zr(t).then((e=>e.addAuditTrail())).then((t=>zr(e,t)))},Er.getDocAuditTrail=function(e,{docId:t,buffer:n,flowSignAnnots:r}){return Zr(t).then((e=>e.getDocAuditTrail(n,r))).then((t=>zr(e,t)))},Er.updatePropAuthDictForESignCN=function(e,{docId:t,fieldName:n,willingnessInfo:r}){return Zr(t).then((e=>e.updatePropAuthDictForESignCN({fieldName:n,willingnessInfo:r}))).then((t=>zr(e,t)))},Er.getAssignInfoForESignCN=function(e,{docId:t}){return Zr(t).then((e=>e.getAssignInfoForESignCN())).then((t=>zr(e,t)))},Er.getOrderOfSignFlowFile=function(e,{docId:t}){return Zr(t).then((e=>e.getOrderOfSignFlowFile())).then((t=>zr(e,t)))},Er.checkFieldWhetherFill=function(e,{docId:t,emailValue:n}){return Zr(t).then((e=>e.checkFieldWhetherFill(n))).then((t=>zr(e,t)))},Er.setSignatureAP=function(e,{docId:t,pageIndex:n,annotId:r,inkSignBuffer:i,pagingSigObjNum:o}){return Zr(t).then((e=>e.setSignatureAP({pageIndex:n,annotId:r,inkSignBuffer:i,pagingSigObjNum:o}))).then((t=>zr(e,t)))},Er.getFlowSignInfo=function(e,{docId:t}){return Zr(t).then((e=>e.getFlowSignInfo())).then((t=>zr(e,t)))},Er.convertToTextMarkup=function(e,{docId:t,findResults:n}){return Zr(t).then((e=>e.convertToTextMarkup(n))).then((t=>zr(e,t)))},Er.redactSearch=function(e,{docId:t,findResults:n,start:r,count:i,overlayTexts:o,opts:a}){return Zr(t).then((e=>e.redactSearch(n,r,i,o,a))).then((t=>zr(e,t)))},Er.updateBeadRect=function(e,{docId:t,threadObjNum:n,beadObjNum:r,rect:i}){return Zr(t).then((e=>e.article.getThreadInfo(n).getBeadInfo(r).update({rect:i}))).then((t=>zr(e,t)))},Er.insertThread=function(e,{docId:t,threadInfo:n}){return Zr(t).then((e=>e.article.insertThread(n))).then((t=>zr(e,t)))},Er.updateThread=function(e,{docId:t,threadInfo:n}){return Zr(t).then((e=>e.article.getThreadInfo(n.objNum).update(n))).then((t=>zr(e,t)))},Er.removeThread=function(e,{docId:t,objNum:n}){return Zr(t).then((e=>{const t=e.article.removeThread(n);return t&&e.getArticle(!0),t})).then((t=>zr(e,t)))},Er.insertBead=function(e,{docId:t,pageIndex:n,threadObjNum:r,pdfBeadRect:i,beadIndex:o}){return Zr(t).then((e=>e.article.getThreadInfo(r).insertBead(n,i,o))).then((t=>zr(e,t)))},Er.removeBead=function(e,{docId:t,threadObjNum:n,beadObjNum:r}){return Zr(t).then((e=>e.article.getThreadInfo(n).removeBead(r))).then((t=>zr(e,t)))},Er.mergeThread=function(e,{docId:t,threadObjNum:n,mergeToThreadObjNum:r}){return Zr(t).then((e=>{const t=e.article,i=t.getThreadInfo(n),o=t.getThreadInfo(r);return i.children.reverse().forEach((e=>{const{pageIndex:t,rect:n}=e.toJson();o.insertBead(t,n,0)})),o.toJson()})).then((t=>zr(e,t)))},Er.setRenderConfigLineWeight=function(e,{docId:t,lineWeight:n}){return Zr(t).then((t=>(t.setRenderConfigLineWeight(n),zr(e))))},Er.isScannedDoc=function(e,{docId:t}){return Zr(t).then((e=>e.isScannedDoc())).then((t=>zr(e,t)))},Er.getCompareFileFilterNums=function(e,{docId:t}){return Zr(t).then((t=>{const n=t.getCompareFileFilterNums();return zr(e,n)}))},Er.removePDFAID=function(e,{docId:t}){return Zr(t).then((t=>(t.removePDFAID(),zr(e))))},Er.setPageTransition=function(e,{docId:t,transName:n,direction:r,speed:i,range:o}){return Zr(t).then((t=>zr(e,t.setPageTransition(n,r,i,o))))},Er.getPageTransitionByIndex=function(e,{docId:t,pageIndex:n}){return Zr(t).then((t=>zr(e,t.getPageTransitionByIndex(n))))},Er.getPageTransition=function(e,{docId:t,pageId:n}){return Xr(t,n).then((t=>zr(e,t.getPageTransition(n))))},Er.isScannedPage=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.isScannedPage())).then((t=>zr(e,t)))},Er.getPureTexts=function(e,{docId:t,pageId:n,lr:r}){return Xr(t,n).then((t=>{t.getPureTexts(r).then((t=>{zr(e,t)}))}))},Er.getLRContentForChatWithDoc=function(e,{docId:t,options:n}){return Zr(t).then((async t=>{const r=await function(e,t){return fr(this,void 0,void 0,(function*(){const n=yield e.getPageCount(),r=[],i=(null==t?void 0:t.start)||0,o=(null==t?void 0:t.end)||n;for(let t=i;t<o;t++)r.push(gr(e,t));return yield Promise.all(r)}))}(t,n);return zr(e,r)}))},Er.hiddenDataSanitizeDocument=function(e,{docId:t}){return Zr(t).then((t=>async function(e){const t=e.doc;return await t.Sanitize()}(t).then((t=>zr(e,t)))))},Er.hiddenDataRemoveHiddenInfo=function(e,{docId:t,options:n}){return Zr(t).then((t=>async function(e,t){const n=e.doc,r=new e.engine.RemoveInfo;for(const e of er)r[e]=!!t[e];return await n.RemoveHiddenInfo(r)}(t,n).then((t=>zr(e,t)))))},Er.handleGroupMarkup=function(e,{docId:t,pageId:n,annotIds:r,isGroup:i}){return Xr(t,n).then((e=>e.handleGroupMarkup(r,i))).then((t=>zr(e,t)))},Er.setRedactAppearance=function(e,{docId:t,pageId:n,annotId:r,option:i}){return Xr(t,n).then((e=>e.getAnnotById(r))).then((e=>e.setRedactAppearance(i))).then((t=>{zr(e,t)}))},Er.getText=function(e,{docId:t,pageRange:n,taskId:r,taskProgress:i}){return Zr(t).then((e=>e.getText(n,r,{taskProgress:function(e){Kr(i,e,[])}}))).then((t=>{zr(e,t)}))},Er.cancelTaskProgress=function(e,{docId:t,taskId:n}){return Zr(t).then((e=>e.cancelTaskProgress(n))).then((t=>{zr(e,t)}))},Er.getPageTexts=function(e,{docId:t,pageId:n,settings:r,minWidth:i,eol:o}){return Xr(t,n).then((t=>{const n=t.getPageTexts(r,i,o);return zr(e,n)}))},Er.cacheFontConfig=function(e,t){Dr.then((function(e){return e.cacheFontConfig(t)})).then((function(){zr(e)}))},Er.getFxcoreFontList=function(e,t){Dr.then((function(e){return e.getFxcoreFontList(t)})).then((function(t){zr(e,t)}))},Er.getFATLAndEUTLList=function(e,{urls:t,isUpdate:n=!1}){Gr&&!n?Cr.then((t=>{zr(e,t)})):(Gr=!1,Dr.then((function(e){return e.getFATLAndEUTLList(t)})).then((function(t){Tr.resolve(t),Gr=!0,zr(e,t)})))},Er.getTextInRect=function(e,{docId:t,pageId:n,rect:r,type:i}){return Xr(t,n).then((e=>e.getTextInRect(r,i))).then((t=>zr(e,t)))},Er.getAnnotRects=function(e,{docId:t,pageId:n}){return Xr(t,n).then((e=>e.getAnnots())).then((e=>e.map((e=>e.getRectJson())))).then((t=>{zr(e,t)}))},Er.transformPage=function(e,{docId:t,pageId:n,options:r}){return Xr(t,n).then((t=>{const n=t.transform(r.scaleX,r.scaleY,r.translateX,r.translateY);zr(e,n)}))},Er.clearAllDesignerAssistCache=function(e,{docId:t}){return Zr(t).then((t=>{t.clearAllDesignerAssistCache(),zr(e)}))},Er.removeAllEmbeddedFiles=function(e,{docId:t}){return Zr(t).then((t=>{const n=t.attachments.removeAllEmbeddedFiles();zr(e,n)}))},Er.getEmbeddedFileNames=function(e,{docId:t}){return Zr(t).then((t=>{const n=t.attachments.getEmbeddedFileNames();zr(e,n)}))},Er.hasFixedPageFields=function(e,{docId:t,pageIndex:n}){return Zr(t).then((t=>{const r=!0==!!t.fixPages[n];zr(e,r)}))},Er.getLastSaveFlags=function(e,{docId:t}){return Zr(t).then((e=>e.getLastSaveFlags())).then((t=>{zr(e,t)}))},Er.drawTextString=function(e,{docId:t,font:n}){return Zr(t).then((e=>e.drawTextString(n))).then((t=>zr(e,t)))},Er.clearPageRenderCache=function(e,{docId:t,pageId:n}){Xr(t,n).then((e=>{e&&e.clearRenderCache()})),zr(e)},Er.addAnnots=function(e,{docId:t,annotJsonArray:n,progress:r}){return Zr(t).then((t=>t.addAnnots(n,(function(e){Kr(r,e)})).then((t=>{zr(e,t)}))))};[["getRichText",["docId","pageId","annotId"]],["setRichText",["docId","pageId","annotId","datas"]],["addRichText",["docId","pageId","annotId","datas"]],["insertRichText",["docId","pageId","annotId","datas"]],["removeRichText",["docId","pageId","annotId","indexes"]],["enableCaption",["docId","pageId","annotId","enable"]],["setCaptionColor",["docId","pageId","annotId","captionColor"]],["getDictValue",["docId","pageId","annotId","key"]],["setDictValue",["docId","pageId","annotId","key","value"]],["updatePathPoint",["docId","pageId","annotId","index","point"]]].forEach((t=>{const[n,r,i]=t;Er[n]=((t,n,r)=>(i,...o)=>{const[,,,...a]=n,s=o[0];return Xr(s.docId,s.pageId).then((e=>e.getAnnotById(s.annotId))).then((n=>{const r=a?a.map((e=>s[e])):[];return n[t].apply(n,pr(e.Z,r))})).then((e=>{zr(i,r?[e.buffer]:e)}))})(n,r,i)})),[["getLastSaveFlags",["docId"]],["getFontCount",["docId"]],["getFont",["docId","index"]],["signForESignUS",["docId","signInfo","fieldList"],!0],["addEmbeddedFile",["docId","key","fileSpec"]],["setEmbeddedFile",["docId","key","fileSpec"]],["getEmbeddedFile",["docId","key"]],["hasAnnots",["docId","pageIndex"]],["getAllPageAnnotCount",["docId"]],["getAllAnnotsData",["docId"]],["destroyPage",["docId","pageId"]],["getVersionID",["docId"]],["getRootLayerNodeChildrenCount",["docId"]]].forEach((t=>{const[n,r,i]=t;Er[n]=((t,n,r)=>(i,...o)=>{const[,...a]=n,s=o[0];return Zr(s.docId).then((n=>{const r=a?a.map((e=>s[e])):[];return n[t].apply(n,pr(e.Z,r))})).then((e=>{zr(i,e,r?[e.buffer]:e)}))})(n,r,i)})),[["getTextByIndex",["docId","pageId","start","end"]],["emitPageBatchProcessor",["docId","pageId","options"]],["getTextRects",["docId","pageId","rects"]],["clearCacheObejcts",["docId","pageId"]],["getTextIndexAtPoint",["docId","pageId","point","tolerance"]],["getTextRectsByIndexes",["docId","pageId","startIndex","endIndex"]]].forEach((t=>{const[n,r,i]=t;Er[n]=((t,n,r)=>(i,...o)=>{const[,,...a]=n,s=o[0];return Xr(s.docId,s.pageId).then((n=>{const r=a?a.map((e=>s[e])):[];return n[t].apply(n,pr(e.Z,r))})).then((e=>{zr(i,r?[e.buffer]:e)}))})(n,r,i)}))}(),__webpack_exports__}()}));